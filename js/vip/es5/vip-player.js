!(function (i) {
  var a = {};
  function __webpack_require__(o) {
    if (a[o]) return a[o].exports;
    var p = (a[o] = { i: o, l: !1, exports: {} });
    return (
      i[o].call(p.exports, p, p.exports, __webpack_require__),
      (p.l = !0),
      p.exports
    );
  }
  (__webpack_require__.m = i),
    (__webpack_require__.c = a),
    (__webpack_require__.d = function (i, a, o) {
      __webpack_require__.o(i, a) ||
        Object.defineProperty(i, a, { enumerable: !0, get: o });
    }),
    (__webpack_require__.r = function (i) {
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(i, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(i, '__esModule', { value: !0 });
    }),
    (__webpack_require__.t = function (i, a) {
      if ((1 & a && (i = __webpack_require__(i)), 8 & a)) return i;
      if (4 & a && 'object' == typeof i && i && i.__esModule) return i;
      var o = Object.create(null);
      if (
        (__webpack_require__.r(o),
        Object.defineProperty(o, 'default', { enumerable: !0, value: i }),
        2 & a && 'string' != typeof i)
      )
        for (var p in i)
          __webpack_require__.d(
            o,
            p,
            function (a) {
              return i[a];
            }.bind(null, p)
          );
      return o;
    }),
    (__webpack_require__.n = function (i) {
      var a =
        i && i.__esModule
          ? function getDefault() {
              return i['default'];
            }
          : function getModuleExports() {
              return i;
            };
      return __webpack_require__.d(a, 'a', a), a;
    }),
    (__webpack_require__.o = function (i, a) {
      return Object.prototype.hasOwnProperty.call(i, a);
    }),
    (__webpack_require__.p = '/assets/'),
    __webpack_require__((__webpack_require__.s = 241));
})([
  function (i, a, o) {
    var p = o(2),
      m = o(61).f,
      _ = o(50),
      w = o(46),
      x = o(146),
      I = o(180),
      D = o(103);
    i.exports = function (i, a) {
      var o,
        j,
        K,
        q,
        $,
        Z = i.target,
        be = i.global,
        Se = i.stat;
      if ((o = be ? p : Se ? p[Z] || x(Z, {}) : (p[Z] || {}).prototype))
        for (j in a) {
          if (
            ((q = a[j]),
            (K = i.noTargetGet ? ($ = m(o, j)) && $.value : o[j]),
            !D(be ? j : Z + (Se ? '.' : '#') + j, i.forced) && K !== undefined)
          ) {
            if (typeof q == typeof K) continue;
            I(q, K);
          }
          (i.sham || (K && K.sham)) && _(q, 'sham', !0), w(o, j, q, i);
        }
    };
  },
  function (i, a) {
    i.exports = function (i) {
      try {
        return !!i();
      } catch (a) {
        return !0;
      }
    };
  },
  function (i, a, o) {
    (function (a) {
      var check = function (i) {
        return i && i.Math == Math && i;
      };
      i.exports =
        check('object' == typeof globalThis && globalThis) ||
        check('object' == typeof window && window) ||
        check('object' == typeof self && self) ||
        check('object' == typeof a && a) ||
        Function('return this')();
    }.call(this, o(176)));
  },
  function (i, a, o) {
    var p = o(156),
      m = o(46),
      _ = o(248);
    p || m(Object.prototype, 'toString', _, { unsafe: !0 });
  },
  function (i, a) {
    i.exports = function _interopRequireDefault(i) {
      return i && i.__esModule ? i : { default: i };
    };
  },
  function (i, a, o) {
    var p = o(2),
      m = o(148),
      _ = o(14),
      w = o(100),
      x = o(152),
      I = o(184),
      D = m('wks'),
      j = p.Symbol,
      K = I ? j : (j && j.withoutSetter) || w;
    i.exports = function (i) {
      return (
        _(D, i) || (x && _(j, i) ? (D[i] = j[i]) : (D[i] = K('Symbol.' + i))),
        D[i]
      );
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(53),
      m = o(123),
      _ = o(108),
      w = o(51),
      x = o(154),
      I = 'Array Iterator',
      D = w.set,
      j = w.getterFor(I);
    (i.exports = x(
      Array,
      'Array',
      function (i, a) {
        D(this, { type: I, target: p(i), index: 0, kind: a });
      },
      function () {
        var i = j(this),
          a = i.target,
          o = i.kind,
          p = i.index++;
        return !a || p >= a.length
          ? ((i.target = undefined), { value: undefined, done: !0 })
          : 'keys' == o
          ? { value: p, done: !1 }
          : 'values' == o
          ? { value: a[p], done: !1 }
          : { value: [p, a[p]], done: !1 };
      },
      'values'
    )),
      (_.Arguments = _.Array),
      m('keys'),
      m('values'),
      m('entries');
  },
  function (i, a, o) {
    'use strict';
    var p,
      m = o(155),
      _ = o(9),
      w = o(2),
      x = o(8),
      I = o(14),
      D = o(110),
      j = o(50),
      K = o(46),
      q = o(16).f,
      $ = o(124),
      Z = o(109),
      be = o(5),
      Se = o(100),
      _e = w.Int8Array,
      we = _e && _e.prototype,
      xe = w.Uint8ClampedArray,
      et = xe && xe.prototype,
      tt = _e && $(_e),
      rt = we && $(we),
      nt = Object.prototype,
      it = nt.isPrototypeOf,
      at = be('toStringTag'),
      ot = Se('TYPED_ARRAY_TAG'),
      st = m && !!Z && 'Opera' !== D(w.opera),
      ut = !1,
      lt = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8,
      },
      isTypedArray = function (i) {
        return x(i) && I(lt, D(i));
      };
    for (p in lt) w[p] || (st = !1);
    if (
      (!st || 'function' != typeof tt || tt === Function.prototype) &&
      ((tt = function TypedArray() {
        throw TypeError('Incorrect invocation');
      }),
      st)
    )
      for (p in lt) w[p] && Z(w[p], tt);
    if ((!st || !rt || rt === nt) && ((rt = tt.prototype), st))
      for (p in lt) w[p] && Z(w[p].prototype, rt);
    if ((st && $(et) !== rt && Z(et, rt), _ && !I(rt, at)))
      for (p in ((ut = !0),
      q(rt, at, {
        get: function () {
          return x(this) ? this[ot] : undefined;
        },
      }),
      lt))
        w[p] && j(w[p], ot, p);
    i.exports = {
      NATIVE_ARRAY_BUFFER_VIEWS: st,
      TYPED_ARRAY_TAG: ut && ot,
      aTypedArray: function (i) {
        if (isTypedArray(i)) return i;
        throw TypeError('Target is not a typed array');
      },
      aTypedArrayConstructor: function (i) {
        if (Z) {
          if (it.call(tt, i)) return i;
        } else
          for (var a in lt)
            if (I(lt, p)) {
              var o = w[a];
              if (o && (i === o || it.call(o, i))) return i;
            }
        throw TypeError('Target is not a typed array constructor');
      },
      exportTypedArrayMethod: function (i, a, o) {
        if (_) {
          if (o)
            for (var p in lt) {
              var m = w[p];
              m && I(m.prototype, i) && delete m.prototype[i];
            }
          (rt[i] && !o) || K(rt, i, o ? a : (st && we[i]) || a);
        }
      },
      exportTypedArrayStaticMethod: function (i, a, o) {
        var p, m;
        if (_) {
          if (Z) {
            if (o) for (p in lt) (m = w[p]) && I(m, i) && delete m[i];
            if (tt[i] && !o) return;
            try {
              return K(tt, i, o ? a : (st && _e[i]) || a);
            } catch (x) {}
          }
          for (p in lt) !(m = w[p]) || (m[i] && !o) || K(m, i, a);
        }
      },
      isView: function isView(i) {
        var a = D(i);
        return 'DataView' === a || I(lt, a);
      },
      isTypedArray: isTypedArray,
      TypedArray: tt,
      TypedArrayPrototype: rt,
    };
  },
  function (i, a) {
    i.exports = function (i) {
      return 'object' == typeof i ? null !== i : 'function' == typeof i;
    };
  },
  function (i, a, o) {
    var p = o(1);
    i.exports = !p(function () {
      return (
        7 !=
        Object.defineProperty({}, 1, {
          get: function () {
            return 7;
          },
        })[1]
      );
    });
  },
  function (i, a, o) {
    var p = o(56),
      m = Math.min;
    i.exports = function (i) {
      return i > 0 ? m(p(i), 9007199254740991) : 0;
    };
  },
  function (i, a, o) {
    var p = o(8);
    i.exports = function (i) {
      if (!p(i)) throw TypeError(String(i) + ' is not an object');
      return i;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(1),
      _ = o(125),
      w = o(11),
      x = o(83),
      I = o(10),
      D = o(71),
      j = _.ArrayBuffer,
      K = _.DataView,
      q = j.prototype.slice;
    p(
      {
        target: 'ArrayBuffer',
        proto: !0,
        unsafe: !0,
        forced: m(function () {
          return !new j(2).slice(1, undefined).byteLength;
        }),
      },
      {
        slice: function slice(i, a) {
          if (q !== undefined && a === undefined) return q.call(w(this), i);
          for (
            var o = w(this).byteLength,
              p = x(i, o),
              m = x(a === undefined ? o : a, o),
              _ = new (D(this, j))(I(m - p)),
              $ = new K(this),
              Z = new K(_),
              be = 0;
            p < m;

          )
            Z.setUint8(be++, $.getUint8(p++));
          return _;
        },
      }
    );
  },
  function (i, a) {
    i.exports = function _classCallCheck(i, a) {
      if (!(i instanceof a))
        throw new TypeError('Cannot call a class as a function');
    };
  },
  function (i, a) {
    var o = {}.hasOwnProperty;
    i.exports = function (i, a) {
      return o.call(i, a);
    };
  },
  function (i, a) {
    function _defineProperties(i, a) {
      for (var o = 0; o < a.length; o++) {
        var p = a[o];
        (p.enumerable = p.enumerable || !1),
          (p.configurable = !0),
          'value' in p && (p.writable = !0),
          Object.defineProperty(i, p.key, p);
      }
    }
    i.exports = function _createClass(i, a, o) {
      return (
        a && _defineProperties(i.prototype, a), o && _defineProperties(i, o), i
      );
    };
  },
  function (i, a, o) {
    var p = o(9),
      m = o(177),
      _ = o(11),
      w = o(87),
      x = Object.defineProperty;
    a.f = p
      ? x
      : function defineProperty(i, a, o) {
          if ((_(i), (a = w(a, !0)), _(o), m))
            try {
              return x(i, a, o);
            } catch (p) {}
          if ('get' in o || 'set' in o)
            throw TypeError('Accessors not supported');
          return 'value' in o && (i[a] = o.value), i;
        };
  },
  function (i, a, o) {
    o(111)('Uint8', function (i) {
      return function Uint8Array(a, o, p) {
        return i(this, a, o, p);
      };
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(252),
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('copyWithin', function copyWithin(i, a) {
      return m.call(
        _(this),
        i,
        a,
        arguments.length > 2 ? arguments[2] : undefined
      );
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).every,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('every', function every(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(191),
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('fill', function fill(i) {
      return m.apply(_(this), arguments);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).filter,
      _ = o(71),
      w = p.aTypedArray,
      x = p.aTypedArrayConstructor;
    (0, p.exportTypedArrayMethod)('filter', function filter(i) {
      for (
        var a = m(w(this), i, arguments.length > 1 ? arguments[1] : undefined),
          o = _(this, this.constructor),
          p = 0,
          I = a.length,
          D = new (x(o))(I);
        I > p;

      )
        D[p] = a[p++];
      return D;
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).find,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('find', function find(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).findIndex,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('findIndex', function findIndex(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).forEach,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('forEach', function forEach(i) {
      m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(102).includes,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('includes', function includes(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(102).indexOf,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('indexOf', function indexOf(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(2),
      m = o(7),
      _ = o(6),
      w = o(5)('iterator'),
      x = p.Uint8Array,
      I = _.values,
      D = _.keys,
      j = _.entries,
      K = m.aTypedArray,
      q = m.exportTypedArrayMethod,
      $ = x && x.prototype[w],
      Z = !!$ && ('values' == $.name || $.name == undefined),
      be = function values() {
        return I.call(K(this));
      };
    q('entries', function entries() {
      return j.call(K(this));
    }),
      q('keys', function keys() {
        return D.call(K(this));
      }),
      q('values', be, !Z),
      q(w, be, !Z);
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = p.aTypedArray,
      _ = p.exportTypedArrayMethod,
      w = [].join;
    _('join', function join(i) {
      return w.apply(m(this), arguments);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(193),
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('lastIndexOf', function lastIndexOf(i) {
      return m.apply(_(this), arguments);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).map,
      _ = o(71),
      w = p.aTypedArray,
      x = p.aTypedArrayConstructor;
    (0, p.exportTypedArrayMethod)('map', function map(i) {
      return m(
        w(this),
        i,
        arguments.length > 1 ? arguments[1] : undefined,
        function (i, a) {
          return new (x(_(i, i.constructor)))(a);
        }
      );
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(159).left,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('reduce', function reduce(i) {
      return m(
        _(this),
        i,
        arguments.length,
        arguments.length > 1 ? arguments[1] : undefined
      );
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(159).right,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('reduceRight', function reduceRight(i) {
      return m(
        _(this),
        i,
        arguments.length,
        arguments.length > 1 ? arguments[1] : undefined
      );
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = p.aTypedArray,
      _ = p.exportTypedArrayMethod,
      w = Math.floor;
    _('reverse', function reverse() {
      for (var i, a = this, o = m(a).length, p = w(o / 2), _ = 0; _ < p; )
        (i = a[_]), (a[_++] = a[--o]), (a[o] = i);
      return a;
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(10),
      _ = o(192),
      w = o(47),
      x = o(1),
      I = p.aTypedArray;
    (0, p.exportTypedArrayMethod)(
      'set',
      function set(i) {
        I(this);
        var a = _(arguments.length > 1 ? arguments[1] : undefined, 1),
          o = this.length,
          p = w(i),
          x = m(p.length),
          D = 0;
        if (x + a > o) throw RangeError('Wrong length');
        for (; D < x; ) this[a + D] = p[D++];
      },
      x(function () {
        new Int8Array(1).set({});
      })
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(71),
      _ = o(1),
      w = p.aTypedArray,
      x = p.aTypedArrayConstructor,
      I = p.exportTypedArrayMethod,
      D = [].slice;
    I(
      'slice',
      function slice(i, a) {
        for (
          var o = D.call(w(this), i, a),
            p = m(this, this.constructor),
            _ = 0,
            I = o.length,
            j = new (x(p))(I);
          I > _;

        )
          j[_] = o[_++];
        return j;
      },
      _(function () {
        new Int8Array(1).slice();
      })
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(42).some,
      _ = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('some', function some(i) {
      return m(_(this), i, arguments.length > 1 ? arguments[1] : undefined);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = p.aTypedArray,
      _ = p.exportTypedArrayMethod,
      w = [].sort;
    _('sort', function sort(i) {
      return w.call(m(this), i);
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(7),
      m = o(10),
      _ = o(83),
      w = o(71),
      x = p.aTypedArray;
    (0, p.exportTypedArrayMethod)('subarray', function subarray(i, a) {
      var o = x(this),
        p = o.length,
        I = _(i, p);
      return new (w(o, o.constructor))(
        o.buffer,
        o.byteOffset + I * o.BYTES_PER_ELEMENT,
        m((a === undefined ? p : _(a, p)) - I)
      );
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(2),
      m = o(7),
      _ = o(1),
      w = p.Int8Array,
      x = m.aTypedArray,
      I = m.exportTypedArrayMethod,
      D = [].toLocaleString,
      j = [].slice,
      K =
        !!w &&
        _(function () {
          D.call(new w(1));
        });
    I(
      'toLocaleString',
      function toLocaleString() {
        return D.apply(K ? j.call(x(this)) : x(this), arguments);
      },
      _(function () {
        return [1, 2].toLocaleString() != new w([1, 2]).toLocaleString();
      }) ||
        !_(function () {
          w.prototype.toLocaleString.call([1, 2]);
        })
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(7).exportTypedArrayMethod,
      m = o(1),
      _ = o(2).Uint8Array,
      w = (_ && _.prototype) || {},
      x = [].toString,
      I = [].join;
    m(function () {
      x.call({});
    }) &&
      (x = function toString() {
        return I.call(this);
      });
    var D = w.toString != x;
    p('toString', x, D);
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(1),
      _ = o(104),
      w = o(8),
      x = o(47),
      I = o(10),
      D = o(105),
      j = o(151),
      K = o(106),
      q = o(5),
      $ = o(153),
      Z = q('isConcatSpreadable'),
      be = 9007199254740991,
      Se = 'Maximum allowed index exceeded',
      _e =
        $ >= 51 ||
        !m(function () {
          var i = [];
          return (i[Z] = !1), i.concat()[0] !== i;
        }),
      we = K('concat'),
      isConcatSpreadable = function (i) {
        if (!w(i)) return !1;
        var a = i[Z];
        return a !== undefined ? !!a : _(i);
      };
    p(
      { target: 'Array', proto: !0, forced: !_e || !we },
      {
        concat: function concat(i) {
          var a,
            o,
            p,
            m,
            _,
            w = x(this),
            K = j(w, 0),
            q = 0;
          for (a = -1, p = arguments.length; a < p; a++)
            if (isConcatSpreadable((_ = -1 === a ? w : arguments[a]))) {
              if (q + (m = I(_.length)) > be) throw TypeError(Se);
              for (o = 0; o < m; o++, q++) o in _ && D(K, q, _[o]);
            } else {
              if (q >= be) throw TypeError(Se);
              D(K, q++, _);
            }
          return (K.length = q), K;
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(84),
      m = o(99),
      _ = o(47),
      w = o(10),
      x = o(151),
      I = [].push,
      createMethod = function (i) {
        var a = 1 == i,
          o = 2 == i,
          D = 3 == i,
          j = 4 == i,
          K = 6 == i,
          q = 5 == i || K;
        return function ($, Z, be, Se) {
          for (
            var _e,
              we,
              xe = _($),
              et = m(xe),
              tt = p(Z, be, 3),
              rt = w(et.length),
              nt = 0,
              it = Se || x,
              at = a ? it($, rt) : o ? it($, 0) : undefined;
            rt > nt;
            nt++
          )
            if ((q || nt in et) && ((we = tt((_e = et[nt]), nt, xe)), i))
              if (a) at[nt] = we;
              else if (we)
                switch (i) {
                  case 3:
                    return !0;
                  case 5:
                    return _e;
                  case 6:
                    return nt;
                  case 2:
                    I.call(at, _e);
                }
              else if (j) return !1;
          return K ? -1 : D || j ? j : at;
        };
      };
    i.exports = {
      forEach: createMethod(0),
      map: createMethod(1),
      filter: createMethod(2),
      some: createMethod(3),
      every: createMethod(4),
      find: createMethod(5),
      findIndex: createMethod(6),
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(46),
      m = o(11),
      _ = o(1),
      w = o(126),
      x = 'toString',
      I = RegExp.prototype,
      D = I.toString,
      j = _(function () {
        return '/a/b' != D.call({ source: 'a', flags: 'b' });
      }),
      K = D.name != x;
    (j || K) &&
      p(
        RegExp.prototype,
        x,
        function toString() {
          var i = m(this),
            a = String(i.source),
            o = i.flags;
          return (
            '/' +
            a +
            '/' +
            String(
              o === undefined && i instanceof RegExp && !('flags' in I)
                ? w.call(i)
                : o
            )
          );
        },
        { unsafe: !0 }
      );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(8),
      _ = o(104),
      w = o(83),
      x = o(10),
      I = o(53),
      D = o(105),
      j = o(5),
      K = o(106),
      q = o(52),
      $ = K('slice'),
      Z = q('slice', { ACCESSORS: !0, 0: 0, 1: 2 }),
      be = j('species'),
      Se = [].slice,
      _e = Math.max;
    p(
      { target: 'Array', proto: !0, forced: !$ || !Z },
      {
        slice: function slice(i, a) {
          var o,
            p,
            j,
            K = I(this),
            q = x(K.length),
            $ = w(i, q),
            Z = w(a === undefined ? q : a, q);
          if (
            _(K) &&
            ('function' != typeof (o = K.constructor) ||
            (o !== Array && !_(o.prototype))
              ? m(o) && null === (o = o[be]) && (o = undefined)
              : (o = undefined),
            o === Array || o === undefined)
          )
            return Se.call(K, $, Z);
          for (
            p = new (o === undefined ? Array : o)(_e(Z - $, 0)), j = 0;
            $ < Z;
            $++, j++
          )
            $ in K && D(p, j, K[$]);
          return (p.length = j), p;
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(194);
    p({ target: 'Array', proto: !0, forced: [].forEach != m }, { forEach: m });
  },
  function (i, a, o) {
    var p = o(2),
      m = o(50),
      _ = o(14),
      w = o(146),
      x = o(147),
      I = o(51),
      D = I.get,
      j = I.enforce,
      K = String(String).split('String');
    (i.exports = function (i, a, o, x) {
      var I = !!x && !!x.unsafe,
        D = !!x && !!x.enumerable,
        q = !!x && !!x.noTargetGet;
      'function' == typeof o &&
        ('string' != typeof a || _(o, 'name') || m(o, 'name', a),
        (j(o).source = K.join('string' == typeof a ? a : ''))),
        i !== p
          ? (I ? !q && i[a] && (D = !0) : delete i[a],
            D ? (i[a] = o) : m(i, a, o))
          : D
          ? (i[a] = o)
          : w(a, o);
    })(Function.prototype, 'toString', function toString() {
      return ('function' == typeof this && D(this).source) || x(this);
    });
  },
  function (i, a, o) {
    var p = o(54);
    i.exports = function (i) {
      return Object(p(i));
    };
  },
  function (i, a, o) {
    var p = o(2),
      m = o(195),
      _ = o(194),
      w = o(50);
    for (var x in m) {
      var I = p[x],
        D = I && I.prototype;
      if (D && D.forEach !== _)
        try {
          w(D, 'forEach', _);
        } catch (j) {
          D.forEach = _;
        }
    }
  },
  function (i, a, o) {
    var p = o(0),
      m = o(47),
      _ = o(107);
    p(
      {
        target: 'Object',
        stat: !0,
        forced: o(1)(function () {
          _(1);
        }),
      },
      {
        keys: function keys(i) {
          return _(m(i));
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(9),
      m = o(16),
      _ = o(81);
    i.exports = p
      ? function (i, a, o) {
          return m.f(i, a, _(1, o));
        }
      : function (i, a, o) {
          return (i[a] = o), i;
        };
  },
  function (i, a, o) {
    var p,
      m,
      _,
      w = o(179),
      x = o(2),
      I = o(8),
      D = o(50),
      j = o(14),
      K = o(122),
      q = o(101),
      $ = x.WeakMap;
    if (w) {
      var Z = new $(),
        be = Z.get,
        Se = Z.has,
        _e = Z.set;
      (p = function (i, a) {
        return _e.call(Z, i, a), a;
      }),
        (m = function (i) {
          return be.call(Z, i) || {};
        }),
        (_ = function (i) {
          return Se.call(Z, i);
        });
    } else {
      var we = K('state');
      (q[we] = !0),
        (p = function (i, a) {
          return D(i, we, a), a;
        }),
        (m = function (i) {
          return j(i, we) ? i[we] : {};
        }),
        (_ = function (i) {
          return j(i, we);
        });
    }
    i.exports = {
      set: p,
      get: m,
      has: _,
      enforce: function (i) {
        return _(i) ? m(i) : p(i, {});
      },
      getterFor: function (i) {
        return function (a) {
          var o;
          if (!I(a) || (o = m(a)).type !== i)
            throw TypeError('Incompatible receiver, ' + i + ' required');
          return o;
        };
      },
    };
  },
  function (i, a, o) {
    var p = o(9),
      m = o(1),
      _ = o(14),
      w = Object.defineProperty,
      x = {},
      thrower = function (i) {
        throw i;
      };
    i.exports = function (i, a) {
      if (_(x, i)) return x[i];
      a || (a = {});
      var o = [][i],
        I = !!_(a, 'ACCESSORS') && a.ACCESSORS,
        D = _(a, 0) ? a[0] : thrower,
        j = _(a, 1) ? a[1] : undefined;
      return (x[i] =
        !!o &&
        !m(function () {
          if (I && !p) return !0;
          var i = { length: -1 };
          I ? w(i, 1, { enumerable: !0, get: thrower }) : (i[1] = 1),
            o.call(i, D, j);
        }));
    };
  },
  function (i, a, o) {
    var p = o(99),
      m = o(54);
    i.exports = function (i) {
      return p(m(i));
    };
  },
  function (i, a) {
    i.exports = function (i) {
      if (i == undefined) throw TypeError("Can't call method on " + i);
      return i;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).map,
      _ = o(106),
      w = o(52),
      x = _('map'),
      I = w('map');
    p(
      { target: 'Array', proto: !0, forced: !x || !I },
      {
        map: function map(i) {
          return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    );
  },
  function (i, a) {
    var o = Math.ceil,
      p = Math.floor;
    i.exports = function (i) {
      return isNaN((i = +i)) ? 0 : (i > 0 ? p : o)(i);
    };
  },
  function (i, a, o) {
    var p = o(0),
      m = o(125);
    p({ global: !0, forced: !o(155) }, { DataView: m.DataView });
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(129);
    p({ target: 'RegExp', proto: !0, forced: /./.exec !== m }, { exec: m });
  },
  function (i, a) {
    var o = {}.toString;
    i.exports = function (i) {
      return o.call(i).slice(8, -1);
    };
  },
  function (i, a, o) {
    var p = o(16).f,
      m = o(14),
      _ = o(5)('toStringTag');
    i.exports = function (i, a, o) {
      i &&
        !m((i = o ? i : i.prototype), _) &&
        p(i, _, { configurable: !0, value: a });
    };
  },
  function (i, a, o) {
    var p = o(9),
      m = o(121),
      _ = o(81),
      w = o(53),
      x = o(87),
      I = o(14),
      D = o(177),
      j = Object.getOwnPropertyDescriptor;
    a.f = p
      ? j
      : function getOwnPropertyDescriptor(i, a) {
          if (((i = w(i)), (a = x(a, !0)), D))
            try {
              return j(i, a);
            } catch (o) {}
          if (I(i, a)) return _(!m.f.call(i, a), i[a]);
        };
  },
  function (i, a, o) {
    var p = o(182),
      m = o(2),
      aFunction = function (i) {
        return 'function' == typeof i ? i : undefined;
      };
    i.exports = function (i, a) {
      return arguments.length < 2
        ? aFunction(p[i]) || aFunction(m[i])
        : (p[i] && p[i][a]) || (m[i] && m[i][a]);
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(159).left,
      _ = o(73),
      w = o(52),
      x = _('reduce'),
      I = w('reduce', { 1: 0 });
    p(
      { target: 'Array', proto: !0, forced: !x || !I },
      {
        reduce: function reduce(i) {
          return m(
            this,
            i,
            arguments.length,
            arguments.length > 1 ? arguments[1] : undefined
          );
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(130),
      m = o(11),
      _ = o(47),
      w = o(10),
      x = o(56),
      I = o(54),
      D = o(160),
      j = o(131),
      K = Math.max,
      q = Math.min,
      $ = Math.floor,
      Z = /\$([$&'`]|\d\d?|<[^>]*>)/g,
      be = /\$([$&'`]|\d\d?)/g;
    p('replace', 2, function (i, a, o, p) {
      var Se = p.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,
        _e = p.REPLACE_KEEPS_$0,
        we = Se ? '$' : '$0';
      return [
        function replace(o, p) {
          var m = I(this),
            _ = o == undefined ? undefined : o[i];
          return _ !== undefined ? _.call(o, m, p) : a.call(String(m), o, p);
        },
        function (i, p) {
          if ((!Se && _e) || ('string' == typeof p && -1 === p.indexOf(we))) {
            var _ = o(a, i, this, p);
            if (_.done) return _.value;
          }
          var I = m(i),
            $ = String(this),
            Z = 'function' == typeof p;
          Z || (p = String(p));
          var be = I.global;
          if (be) {
            var xe = I.unicode;
            I.lastIndex = 0;
          }
          for (var et = []; ; ) {
            var tt = j(I, $);
            if (null === tt) break;
            if ((et.push(tt), !be)) break;
            '' === String(tt[0]) && (I.lastIndex = D($, w(I.lastIndex), xe));
          }
          for (var rt, nt = '', it = 0, at = 0; at < et.length; at++) {
            tt = et[at];
            for (
              var ot = String(tt[0]),
                st = K(q(x(tt.index), $.length), 0),
                ut = [],
                lt = 1;
              lt < tt.length;
              lt++
            )
              ut.push((rt = tt[lt]) === undefined ? rt : String(rt));
            var ct = tt.groups;
            if (Z) {
              var dt = [ot].concat(ut, st, $);
              ct !== undefined && dt.push(ct);
              var ft = String(p.apply(undefined, dt));
            } else ft = getSubstitution(ot, $, st, ut, ct, p);
            st >= it && ((nt += $.slice(it, st) + ft), (it = st + ot.length));
          }
          return nt + $.slice(it);
        },
      ];
      function getSubstitution(i, o, p, m, w, x) {
        var I = p + i.length,
          D = m.length,
          j = be;
        return (
          w !== undefined && ((w = _(w)), (j = Z)),
          a.call(x, j, function (a, _) {
            var x;
            switch (_.charAt(0)) {
              case '$':
                return '$';
              case '&':
                return i;
              case '`':
                return o.slice(0, p);
              case "'":
                return o.slice(I);
              case '<':
                x = w[_.slice(1, -1)];
                break;
              default:
                var j = +_;
                if (0 === j) return a;
                if (j > D) {
                  var K = $(j / 10);
                  return 0 === K
                    ? a
                    : K <= D
                    ? m[K - 1] === undefined
                      ? _.charAt(1)
                      : m[K - 1] + _.charAt(1)
                    : a;
                }
                x = m[j - 1];
            }
            return x === undefined ? '' : x;
          })
        );
      }
    });
  },
  function (i, a, o) {
    'use strict';
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var p = {
      error: console.error,
      warn: console.warn,
      log: console.log,
      debug: function () {},
      v2: function v2() {},
      deprecated: function deprecated(i) {
        throw (console.warn(i), new Error(i));
      },
    };
    a['default'] = p;
  },
  function (i, a, o) {
    'use strict';
    var p = o(161).charAt,
      m = o(51),
      _ = o(154),
      w = 'String Iterator',
      x = m.set,
      I = m.getterFor(w);
    _(
      String,
      'String',
      function (i) {
        x(this, { type: w, string: String(i), index: 0 });
      },
      function next() {
        var i,
          a = I(this),
          o = a.string,
          m = a.index;
        return m >= o.length
          ? { value: undefined, done: !0 }
          : ((i = p(o, m)), (a.index += i.length), { value: i, done: !1 });
      }
    );
  },
  function (i, a) {
    function _getPrototypeOf(a) {
      return (
        (i.exports = _getPrototypeOf =
          Object.setPrototypeOf
            ? Object.getPrototypeOf
            : function _getPrototypeOf(i) {
                return i.__proto__ || Object.getPrototypeOf(i);
              }),
        _getPrototypeOf(a)
      );
    }
    i.exports = _getPrototypeOf;
  },
  function (i, a) {
    i.exports = !1;
  },
  function (i, a, o) {
    var p,
      m = o(11),
      _ = o(186),
      w = o(149),
      x = o(101),
      I = o(187),
      D = o(145),
      j = o(122),
      K = j('IE_PROTO'),
      EmptyConstructor = function () {},
      scriptTag = function (i) {
        return '<script>' + i + '</' + 'script>';
      },
      NullProtoObject = function () {
        try {
          p = document.domain && new ActiveXObject('htmlfile');
        } catch (m) {}
        var i, a;
        NullProtoObject = p
          ? (function (i) {
              i.write(scriptTag('')), i.close();
              var a = i.parentWindow.Object;
              return (i = null), a;
            })(p)
          : (((a = D('iframe')).style.display = 'none'),
            I.appendChild(a),
            (a.src = String('javascript:')),
            (i = a.contentWindow.document).open(),
            i.write(scriptTag('document.F=Object')),
            i.close(),
            i.F);
        for (var o = w.length; o--; ) delete NullProtoObject.prototype[w[o]];
        return NullProtoObject();
      };
    (x[K] = !0),
      (i.exports =
        Object.create ||
        function create(i, a) {
          var o;
          return (
            null !== i
              ? ((EmptyConstructor.prototype = m(i)),
                (o = new EmptyConstructor()),
                (EmptyConstructor.prototype = null),
                (o[K] = i))
              : (o = NullProtoObject()),
            a === undefined ? o : _(o, a)
          );
        });
  },
  function (i, a) {
    i.exports = function (i, a, o) {
      if (!(i instanceof a))
        throw TypeError('Incorrect ' + (o ? o + ' ' : '') + 'invocation');
      return i;
    };
  },
  function (i, a, o) {
    var p = o(11),
      m = o(72),
      _ = o(5)('species');
    i.exports = function (i, a) {
      var o,
        w = p(i).constructor;
      return w === undefined || (o = p(w)[_]) == undefined ? a : m(o);
    };
  },
  function (i, a) {
    i.exports = function (i) {
      if ('function' != typeof i)
        throw TypeError(String(i) + ' is not a function');
      return i;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(1);
    i.exports = function (i, a) {
      var o = [][i];
      return (
        !!o &&
        p(function () {
          o.call(
            null,
            a ||
              function () {
                throw 1;
              },
            1
          );
        })
      );
    };
  },
  function (i, a, o) {
    'use strict';
    o(41), o(85), o(44), o(90);
    var p = function Stream() {
      this.init = function () {
        var i = {};
        (this.on = function (a, o) {
          i[a] || (i[a] = []), (i[a] = i[a].concat(o));
        }),
          (this.off = function (a, o) {
            var p;
            return (
              !!i[a] &&
              ((p = i[a].indexOf(o)),
              (i[a] = i[a].slice()),
              i[a].splice(p, 1),
              p > -1)
            );
          }),
          (this.trigger = function (a) {
            var o, p, m, _;
            if ((o = i[a]))
              if (2 === arguments.length)
                for (m = o.length, p = 0; p < m; ++p)
                  o[p].call(this, arguments[1]);
              else {
                for (
                  _ = [], p = arguments.length, p = 1;
                  p < arguments.length;
                  ++p
                )
                  _.push(arguments[p]);
                for (m = o.length, p = 0; p < m; ++p) o[p].apply(this, _);
              }
          }),
          (this.dispose = function () {
            i = {};
          });
      };
    };
    (p.prototype.pipe = function (i) {
      return (
        this.on('data', function (a) {
          i.push(a);
        }),
        this.on('done', function (a) {
          i.flush(a);
        }),
        this.on('partialdone', function (a) {
          i.partialFlush(a);
        }),
        this.on('endedtimeline', function (a) {
          i.endTimeline(a);
        }),
        this.on('reset', function (a) {
          i.reset(a);
        }),
        i
      );
    }),
      (p.prototype.push = function (i) {
        this.trigger('data', i);
      }),
      (p.prototype.flush = function (i) {
        this.trigger('done', i);
      }),
      (p.prototype.partialFlush = function (i) {
        this.trigger('partialdone', i);
      }),
      (p.prototype.endTimeline = function (i) {
        this.trigger('endedtimeline', i);
      }),
      (p.prototype.reset = function (i) {
        this.trigger('reset', i);
      }),
      (i.exports = p);
  },
  function (i, a, o) {
    var p = o(9),
      m = o(16).f,
      _ = Function.prototype,
      w = _.toString,
      x = /^\s*function ([^ (]*)/,
      I = 'name';
    p &&
      !(I in _) &&
      m(_, I, {
        configurable: !0,
        get: function () {
          try {
            return w.call(this).match(x)[1];
          } catch (i) {
            return '';
          }
        },
      });
  },
  function (i, a, o) {
    var p = o(2),
      m = o(195),
      _ = o(6),
      w = o(50),
      x = o(5),
      I = x('iterator'),
      D = x('toStringTag'),
      j = _.values;
    for (var K in m) {
      var q = p[K],
        $ = q && q.prototype;
      if ($) {
        if ($[I] !== j)
          try {
            w($, I, j);
          } catch (be) {
            $[I] = j;
          }
        if (($[D] || w($, D, K), m[K]))
          for (var Z in _)
            if ($[Z] !== _[Z])
              try {
                w($, Z, _[Z]);
              } catch (be) {
                $[Z] = _[Z];
              }
      }
    }
  },
  function (i, a, o) {
    'use strict';
    var p,
      m,
      _,
      w,
      x = o(0),
      I = o(68),
      D = o(2),
      j = o(62),
      K = o(214),
      q = o(46),
      $ = o(88),
      Z = o(60),
      be = o(113),
      Se = o(8),
      _e = o(72),
      we = o(70),
      xe = o(59),
      et = o(147),
      tt = o(138),
      rt = o(127),
      nt = o(71),
      it = o(215).set,
      at = o(283),
      ot = o(217),
      st = o(284),
      ut = o(218),
      lt = o(285),
      ct = o(51),
      dt = o(103),
      ft = o(5),
      ht = o(153),
      pt = ft('species'),
      gt = 'Promise',
      mt = ct.get,
      vt = ct.set,
      yt = ct.getterFor(gt),
      bt = K,
      Tt = D.TypeError,
      St = D.document,
      Et = D.process,
      _t = j('fetch'),
      wt = ut.f,
      At = wt,
      kt = 'process' == xe(Et),
      xt = !!(St && St.createEvent && D.dispatchEvent),
      Pt = 'unhandledrejection',
      Rt = dt(gt, function () {
        if (!(et(bt) !== String(bt))) {
          if (66 === ht) return !0;
          if (!kt && 'function' != typeof PromiseRejectionEvent) return !0;
        }
        if (I && !bt.prototype['finally']) return !0;
        if (ht >= 51 && /native code/.test(bt)) return !1;
        var i = bt.resolve(1),
          FakePromise = function (i) {
            i(
              function () {},
              function () {}
            );
          };
        return (
          ((i.constructor = {})[pt] = FakePromise),
          !(i.then(function () {}) instanceof FakePromise)
        );
      }),
      Ct =
        Rt ||
        !rt(function (i) {
          bt.all(i)['catch'](function () {});
        }),
      isThenable = function (i) {
        var a;
        return !(!Se(i) || 'function' != typeof (a = i.then)) && a;
      },
      notify = function (i, a, o) {
        if (!a.notified) {
          a.notified = !0;
          var p = a.reactions;
          at(function () {
            for (var m = a.value, _ = 1 == a.state, w = 0; p.length > w; ) {
              var x,
                I,
                D,
                j = p[w++],
                K = _ ? j.ok : j.fail,
                q = j.resolve,
                $ = j.reject,
                Z = j.domain;
              try {
                K
                  ? (_ ||
                      (2 === a.rejection && onHandleUnhandled(i, a),
                      (a.rejection = 1)),
                    !0 === K
                      ? (x = m)
                      : (Z && Z.enter(), (x = K(m)), Z && (Z.exit(), (D = !0))),
                    x === j.promise
                      ? $(Tt('Promise-chain cycle'))
                      : (I = isThenable(x))
                      ? I.call(x, q, $)
                      : q(x))
                  : $(m);
              } catch (be) {
                Z && !D && Z.exit(), $(be);
              }
            }
            (a.reactions = []),
              (a.notified = !1),
              o && !a.rejection && onUnhandled(i, a);
          });
        }
      },
      dispatchEvent = function (i, a, o) {
        var p, m;
        xt
          ? (((p = St.createEvent('Event')).promise = a),
            (p.reason = o),
            p.initEvent(i, !1, !0),
            D.dispatchEvent(p))
          : (p = { promise: a, reason: o }),
          (m = D['on' + i])
            ? m(p)
            : i === Pt && st('Unhandled promise rejection', o);
      },
      onUnhandled = function (i, a) {
        it.call(D, function () {
          var o,
            p = a.value;
          if (
            isUnhandled(a) &&
            ((o = lt(function () {
              kt
                ? Et.emit('unhandledRejection', p, i)
                : dispatchEvent(Pt, i, p);
            })),
            (a.rejection = kt || isUnhandled(a) ? 2 : 1),
            o.error)
          )
            throw o.value;
        });
      },
      isUnhandled = function (i) {
        return 1 !== i.rejection && !i.parent;
      },
      onHandleUnhandled = function (i, a) {
        it.call(D, function () {
          kt
            ? Et.emit('rejectionHandled', i)
            : dispatchEvent('rejectionhandled', i, a.value);
        });
      },
      bind = function (i, a, o, p) {
        return function (m) {
          i(a, o, m, p);
        };
      },
      internalReject = function (i, a, o, p) {
        a.done ||
          ((a.done = !0),
          p && (a = p),
          (a.value = o),
          (a.state = 2),
          notify(i, a, !0));
      },
      internalResolve = function (i, a, o, p) {
        if (!a.done) {
          (a.done = !0), p && (a = p);
          try {
            if (i === o) throw Tt("Promise can't be resolved itself");
            var m = isThenable(o);
            m
              ? at(function () {
                  var p = { done: !1 };
                  try {
                    m.call(
                      o,
                      bind(internalResolve, i, p, a),
                      bind(internalReject, i, p, a)
                    );
                  } catch (_) {
                    internalReject(i, p, _, a);
                  }
                })
              : ((a.value = o), (a.state = 1), notify(i, a, !1));
          } catch (_) {
            internalReject(i, { done: !1 }, _, a);
          }
        }
      };
    Rt &&
      ((bt = function Promise(i) {
        we(this, bt, gt), _e(i), p.call(this);
        var a = mt(this);
        try {
          i(bind(internalResolve, this, a), bind(internalReject, this, a));
        } catch (o) {
          internalReject(this, a, o);
        }
      }),
      ((p = function Promise(i) {
        vt(this, {
          type: gt,
          done: !1,
          notified: !1,
          parent: !1,
          reactions: [],
          rejection: !1,
          state: 0,
          value: undefined,
        });
      }).prototype = $(bt.prototype, {
        then: function then(i, a) {
          var o = yt(this),
            p = wt(nt(this, bt));
          return (
            (p.ok = 'function' != typeof i || i),
            (p.fail = 'function' == typeof a && a),
            (p.domain = kt ? Et.domain : undefined),
            (o.parent = !0),
            o.reactions.push(p),
            0 != o.state && notify(this, o, !1),
            p.promise
          );
        },
        catch: function (i) {
          return this.then(undefined, i);
        },
      })),
      (m = function () {
        var i = new p(),
          a = mt(i);
        (this.promise = i),
          (this.resolve = bind(internalResolve, i, a)),
          (this.reject = bind(internalReject, i, a));
      }),
      (ut.f = wt =
        function (i) {
          return i === bt || i === _ ? new m(i) : At(i);
        }),
      I ||
        'function' != typeof K ||
        ((w = K.prototype.then),
        q(
          K.prototype,
          'then',
          function then(i, a) {
            var o = this;
            return new bt(function (i, a) {
              w.call(o, i, a);
            }).then(i, a);
          },
          { unsafe: !0 }
        ),
        'function' == typeof _t &&
          x(
            { global: !0, enumerable: !0, forced: !0 },
            {
              fetch: function fetch(i) {
                return ot(bt, _t.apply(D, arguments));
              },
            }
          ))),
      x({ global: !0, wrap: !0, forced: Rt }, { Promise: bt }),
      Z(bt, gt, !1, !0),
      be(gt),
      (_ = j(gt)),
      x(
        { target: gt, stat: !0, forced: Rt },
        {
          reject: function reject(i) {
            var a = wt(this);
            return a.reject.call(undefined, i), a.promise;
          },
        }
      ),
      x(
        { target: gt, stat: !0, forced: I || Rt },
        {
          resolve: function resolve(i) {
            return ot(I && this === _ ? bt : this, i);
          },
        }
      ),
      x(
        { target: gt, stat: !0, forced: Ct },
        {
          all: function all(i) {
            var a = this,
              o = wt(a),
              p = o.resolve,
              m = o.reject,
              _ = lt(function () {
                var o = _e(a.resolve),
                  _ = [],
                  w = 0,
                  x = 1;
                tt(i, function (i) {
                  var I = w++,
                    D = !1;
                  _.push(undefined),
                    x++,
                    o.call(a, i).then(function (i) {
                      D || ((D = !0), (_[I] = i), --x || p(_));
                    }, m);
                }),
                  --x || p(_);
              });
            return _.error && m(_.value), o.promise;
          },
          race: function race(i) {
            var a = this,
              o = wt(a),
              p = o.reject,
              m = lt(function () {
                var m = _e(a.resolve);
                tt(i, function (i) {
                  m.call(a, i).then(o.resolve, p);
                });
              });
            return m.error && p(m.value), o.promise;
          },
        }
      );
  },
  function (i, a, o) {
    var p = o(0),
      m = o(62),
      _ = o(72),
      w = o(11),
      x = o(8),
      I = o(69),
      D = o(290),
      j = o(1),
      K = m('Reflect', 'construct'),
      q = j(function () {
        function F() {}
        return !(K(function () {}, [], F) instanceof F);
      }),
      $ = !j(function () {
        K(function () {});
      }),
      Z = q || $;
    p(
      { target: 'Reflect', stat: !0, forced: Z, sham: Z },
      {
        construct: function construct(i, a) {
          _(i), w(a);
          var o = arguments.length < 3 ? i : _(arguments[2]);
          if ($ && !q) return K(i, a, o);
          if (i == o) {
            switch (a.length) {
              case 0:
                return new i();
              case 1:
                return new i(a[0]);
              case 2:
                return new i(a[0], a[1]);
              case 3:
                return new i(a[0], a[1], a[2]);
              case 4:
                return new i(a[0], a[1], a[2], a[3]);
            }
            var p = [null];
            return p.push.apply(p, a), new (D.apply(i, p))();
          }
          var m = o.prototype,
            j = I(x(m) ? m : Object.prototype),
            Z = Function.apply.call(i, j, a);
          return x(Z) ? Z : j;
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(168);
    i.exports = function _inherits(i, a) {
      if ('function' != typeof a && null !== a)
        throw new TypeError(
          'Super expression must either be null or a function'
        );
      (i.prototype = Object.create(a && a.prototype, {
        constructor: { value: i, writable: !0, configurable: !0 },
      })),
        a && p(i, a);
    };
  },
  function (i, a, o) {
    var p = o(94),
      m = o(142);
    i.exports = function _possibleConstructorReturn(i, a) {
      return !a || ('object' !== p(a) && 'function' != typeof a) ? m(i) : a;
    };
  },
  function (i, a) {
    i.exports = function (i, a) {
      return {
        enumerable: !(1 & i),
        configurable: !(2 & i),
        writable: !(4 & i),
        value: a,
      };
    };
  },
  function (i, a, o) {
    var p = o(183),
      m = o(149).concat('length', 'prototype');
    a.f =
      Object.getOwnPropertyNames ||
      function getOwnPropertyNames(i) {
        return p(i, m);
      };
  },
  function (i, a, o) {
    var p = o(56),
      m = Math.max,
      _ = Math.min;
    i.exports = function (i, a) {
      var o = p(i);
      return o < 0 ? m(o + a, 0) : _(o, a);
    };
  },
  function (i, a, o) {
    var p = o(72);
    i.exports = function (i, a, o) {
      if ((p(i), a === undefined)) return i;
      switch (o) {
        case 0:
          return function () {
            return i.call(a);
          };
        case 1:
          return function (o) {
            return i.call(a, o);
          };
        case 2:
          return function (o, p) {
            return i.call(a, o, p);
          };
        case 3:
          return function (o, p, m) {
            return i.call(a, o, p, m);
          };
      }
      return function () {
        return i.apply(a, arguments);
      };
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(102).indexOf,
      _ = o(73),
      w = o(52),
      x = [].indexOf,
      I = !!x && 1 / [1].indexOf(1, -0) < 0,
      D = _('indexOf'),
      j = w('indexOf', { ACCESSORS: !0, 1: 0 });
    p(
      { target: 'Array', proto: !0, forced: I || !D || !j },
      {
        indexOf: function indexOf(i) {
          return I
            ? x.apply(this, arguments) || 0
            : m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(72),
      _ = o(47),
      w = o(1),
      x = o(73),
      I = [],
      D = I.sort,
      j = w(function () {
        I.sort(undefined);
      }),
      K = w(function () {
        I.sort(null);
      }),
      q = x('sort');
    p(
      { target: 'Array', proto: !0, forced: j || !K || !q },
      {
        sort: function sort(i) {
          return i === undefined ? D.call(_(this)) : D.call(_(this), m(i));
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(8);
    i.exports = function (i, a) {
      if (!p(i)) return i;
      var o, m;
      if (a && 'function' == typeof (o = i.toString) && !p((m = o.call(i))))
        return m;
      if ('function' == typeof (o = i.valueOf) && !p((m = o.call(i)))) return m;
      if (!a && 'function' == typeof (o = i.toString) && !p((m = o.call(i))))
        return m;
      throw TypeError("Can't convert object to primitive value");
    };
  },
  function (i, a, o) {
    var p = o(46);
    i.exports = function (i, a, o) {
      for (var m in a) p(i, m, a[m], o);
      return i;
    };
  },
  function (i, a, o) {
    var p = o(9),
      m = o(16),
      _ = o(126),
      w = o(157).UNSUPPORTED_Y;
    p &&
      ('g' != /./g.flags || w) &&
      m.f(RegExp.prototype, 'flags', { configurable: !0, get: _ });
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(83),
      _ = o(56),
      w = o(10),
      x = o(47),
      I = o(151),
      D = o(105),
      j = o(106),
      K = o(52),
      q = j('splice'),
      $ = K('splice', { ACCESSORS: !0, 0: 0, 1: 2 }),
      Z = Math.max,
      be = Math.min,
      Se = 9007199254740991,
      _e = 'Maximum allowed length exceeded';
    p(
      { target: 'Array', proto: !0, forced: !q || !$ },
      {
        splice: function splice(i, a) {
          var o,
            p,
            j,
            K,
            q,
            $,
            we = x(this),
            xe = w(we.length),
            et = m(i, xe),
            tt = arguments.length;
          if (
            (0 === tt
              ? (o = p = 0)
              : 1 === tt
              ? ((o = 0), (p = xe - et))
              : ((o = tt - 2), (p = be(Z(_(a), 0), xe - et))),
            xe + o - p > Se)
          )
            throw TypeError(_e);
          for (j = I(we, p), K = 0; K < p; K++)
            (q = et + K) in we && D(j, K, we[q]);
          if (((j.length = p), o < p)) {
            for (K = et; K < xe - p; K++)
              ($ = K + o), (q = K + p) in we ? (we[$] = we[q]) : delete we[$];
            for (K = xe; K > xe - p + o; K--) delete we[K - 1];
          } else if (o > p)
            for (K = xe - p; K > et; K--)
              ($ = K + o - 1),
                (q = K + p - 1) in we ? (we[$] = we[q]) : delete we[$];
          for (K = 0; K < o; K++) we[K + et] = arguments[K + 2];
          return (we.length = xe - p + o), j;
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).filter,
      _ = o(106),
      w = o(52),
      x = _('filter'),
      I = w('filter');
    p(
      { target: 'Array', proto: !0, forced: !x || !I },
      {
        filter: function filter(i) {
          return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(99),
      _ = o(53),
      w = o(73),
      x = [].join,
      I = m != Object,
      D = w('join', ',');
    p(
      { target: 'Array', proto: !0, forced: I || !D },
      {
        join: function join(i) {
          return x.call(_(this), i === undefined ? ',' : i);
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(133).trim;
    p(
      { target: 'String', proto: !0, forced: o(260)('trim') },
      {
        trim: function trim() {
          return m(this);
        },
      }
    );
  },
  function (i, a) {
    function _typeof(a) {
      return (
        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
          ? (i.exports = _typeof =
              function _typeof(i) {
                return typeof i;
              })
          : (i.exports = _typeof =
              function _typeof(i) {
                return i &&
                  'function' == typeof Symbol &&
                  i.constructor === Symbol &&
                  i !== Symbol.prototype
                  ? 'symbol'
                  : typeof i;
              }),
        _typeof(a)
      );
    }
    i.exports = _typeof;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(45),
      o(49),
      o(48),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function FakeEvent(i, a) {
          var o = this;
          (0, m['default'])(this, FakeEvent);
          var p = a || {};
          Object.keys(p).forEach(function (i) {
            o[i] = p[i];
          }),
            (this.bubbles = !1),
            (this.cancelable = !1),
            (this.defaultPrevented = !1),
            (this.timeStamp =
              window.performance && window.performance.now
                ? window.performance.now()
                : Date.now()),
            (this.type = i),
            (this.isTrusted = !1),
            (this.currentTarget = null),
            (this.target = null),
            (this.stopped = !1);
        }
        return (
          (0, _['default'])(FakeEvent, [
            {
              key: 'preventDefault',
              value: function preventDefault() {
                this.cancelable && (this.defaultPrevented = !0);
              },
            },
            {
              key: 'stopImmediatePropagation',
              value: function stopImmediatePropagation() {
                this.stopped = !0;
              },
            },
            { key: 'stopPropagation', value: function stopPropagation() {} },
          ]),
          FakeEvent
        );
      })();
    a['default'] = w;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(273)),
      x = p(o(65)),
      I = p(o(274)),
      D = p(o(95)),
      j = (function () {
        function FakeEventTarget() {
          (0, m['default'])(this, FakeEventTarget),
            (this.listeners_ = new I['default']()),
            (this.dispatchTarget = this);
        }
        return (
          (0, _['default'])(FakeEventTarget, [
            {
              key: 'addEventListener',
              value: function addEventListener(i, a) {
                this.listeners_.push(i, a);
              },
            },
            {
              key: 'removeEventListener',
              value: function removeEventListener(i, a) {
                this.listeners_.remove(i, a);
              },
            },
            {
              key: 'dispatchEvent',
              value: function dispatchEvent(i) {
                (0, w['default'])(
                  i instanceof D['default'],
                  'FakeEventTarget can only dispatch FakeEvents!'
                );
                for (
                  var a = this.listeners_.get(i.type) || [], o = 0;
                  o < a.length;
                  o += 1
                ) {
                  (i.target = this.dispatchTarget),
                    (i.currentTarget = this.dispatchTarget);
                  var p = a[o];
                  try {
                    p.handleEvent ? p.handleEvent(i) : p.call(this, i);
                  } catch (m) {
                    x['default'].error(
                      'Uncaught exception in event handler',
                      m,
                      m ? m.message : null,
                      m ? m.stack : null
                    );
                  }
                  if (i.stopped) break;
                }
                return i.defaultPrevented;
              },
            },
          ]),
          FakeEventTarget
        );
      })();
    a['default'] = j;
  },
  function (i, a, o) {
    var p = (function (i) {
      'use strict';
      var a,
        o = Object.prototype,
        p = o.hasOwnProperty,
        m = 'function' == typeof Symbol ? Symbol : {},
        _ = m.iterator || '@@iterator',
        w = m.asyncIterator || '@@asyncIterator',
        x = m.toStringTag || '@@toStringTag';
      function define(i, a, o) {
        return (
          Object.defineProperty(i, a, {
            value: o,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          }),
          i[a]
        );
      }
      try {
        define({}, '');
      } catch (_e) {
        define = function (i, a, o) {
          return (i[a] = o);
        };
      }
      function wrap(i, a, o, p) {
        var m = a && a.prototype instanceof Generator ? a : Generator,
          _ = Object.create(m.prototype),
          w = new Context(p || []);
        return (
          (_._invoke = (function makeInvokeMethod(i, a, o) {
            var p = I;
            return function invoke(m, _) {
              if (p === j) throw new Error('Generator is already running');
              if (p === K) {
                if ('throw' === m) throw _;
                return doneResult();
              }
              for (o.method = m, o.arg = _; ; ) {
                var w = o.delegate;
                if (w) {
                  var x = maybeInvokeDelegate(w, o);
                  if (x) {
                    if (x === q) continue;
                    return x;
                  }
                }
                if ('next' === o.method) o.sent = o._sent = o.arg;
                else if ('throw' === o.method) {
                  if (p === I) throw ((p = K), o.arg);
                  o.dispatchException(o.arg);
                } else 'return' === o.method && o.abrupt('return', o.arg);
                p = j;
                var $ = tryCatch(i, a, o);
                if ('normal' === $.type) {
                  if (((p = o.done ? K : D), $.arg === q)) continue;
                  return { value: $.arg, done: o.done };
                }
                'throw' === $.type &&
                  ((p = K), (o.method = 'throw'), (o.arg = $.arg));
              }
            };
          })(i, o, w)),
          _
        );
      }
      function tryCatch(i, a, o) {
        try {
          return { type: 'normal', arg: i.call(a, o) };
        } catch (_e) {
          return { type: 'throw', arg: _e };
        }
      }
      i.wrap = wrap;
      var I = 'suspendedStart',
        D = 'suspendedYield',
        j = 'executing',
        K = 'completed',
        q = {};
      function Generator() {}
      function GeneratorFunction() {}
      function GeneratorFunctionPrototype() {}
      var $ = {};
      $[_] = function () {
        return this;
      };
      var Z = Object.getPrototypeOf,
        be = Z && Z(Z(values([])));
      be && be !== o && p.call(be, _) && ($ = be);
      var Se =
        (GeneratorFunctionPrototype.prototype =
        Generator.prototype =
          Object.create($));
      function defineIteratorMethods(i) {
        ['next', 'throw', 'return'].forEach(function (a) {
          define(i, a, function (i) {
            return this._invoke(a, i);
          });
        });
      }
      function AsyncIterator(i, a) {
        var o;
        this._invoke = function enqueue(m, _) {
          function callInvokeWithMethodAndArg() {
            return new a(function (o, w) {
              !(function invoke(o, m, _, w) {
                var x = tryCatch(i[o], i, m);
                if ('throw' !== x.type) {
                  var I = x.arg,
                    D = I.value;
                  return D && 'object' == typeof D && p.call(D, '__await')
                    ? a.resolve(D.__await).then(
                        function (i) {
                          invoke('next', i, _, w);
                        },
                        function (i) {
                          invoke('throw', i, _, w);
                        }
                      )
                    : a.resolve(D).then(
                        function (i) {
                          (I.value = i), _(I);
                        },
                        function (i) {
                          return invoke('throw', i, _, w);
                        }
                      );
                }
                w(x.arg);
              })(m, _, o, w);
            });
          }
          return (o = o
            ? o.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg)
            : callInvokeWithMethodAndArg());
        };
      }
      function maybeInvokeDelegate(i, o) {
        var p = i.iterator[o.method];
        if (p === a) {
          if (((o.delegate = null), 'throw' === o.method)) {
            if (
              i.iterator['return'] &&
              ((o.method = 'return'),
              (o.arg = a),
              maybeInvokeDelegate(i, o),
              'throw' === o.method)
            )
              return q;
            (o.method = 'throw'),
              (o.arg = new TypeError(
                "The iterator does not provide a 'throw' method"
              ));
          }
          return q;
        }
        var m = tryCatch(p, i.iterator, o.arg);
        if ('throw' === m.type)
          return (o.method = 'throw'), (o.arg = m.arg), (o.delegate = null), q;
        var _ = m.arg;
        return _
          ? _.done
            ? ((o[i.resultName] = _.value),
              (o.next = i.nextLoc),
              'return' !== o.method && ((o.method = 'next'), (o.arg = a)),
              (o.delegate = null),
              q)
            : _
          : ((o.method = 'throw'),
            (o.arg = new TypeError('iterator result is not an object')),
            (o.delegate = null),
            q);
      }
      function pushTryEntry(i) {
        var a = { tryLoc: i[0] };
        1 in i && (a.catchLoc = i[1]),
          2 in i && ((a.finallyLoc = i[2]), (a.afterLoc = i[3])),
          this.tryEntries.push(a);
      }
      function resetTryEntry(i) {
        var a = i.completion || {};
        (a.type = 'normal'), delete a.arg, (i.completion = a);
      }
      function Context(i) {
        (this.tryEntries = [{ tryLoc: 'root' }]),
          i.forEach(pushTryEntry, this),
          this.reset(!0);
      }
      function values(i) {
        if (i) {
          var o = i[_];
          if (o) return o.call(i);
          if ('function' == typeof i.next) return i;
          if (!isNaN(i.length)) {
            var m = -1,
              w = function next() {
                for (; ++m < i.length; )
                  if (p.call(i, m))
                    return (next.value = i[m]), (next.done = !1), next;
                return (next.value = a), (next.done = !0), next;
              };
            return (w.next = w);
          }
        }
        return { next: doneResult };
      }
      function doneResult() {
        return { value: a, done: !0 };
      }
      return (
        (GeneratorFunction.prototype = Se.constructor =
          GeneratorFunctionPrototype),
        (GeneratorFunctionPrototype.constructor = GeneratorFunction),
        (GeneratorFunction.displayName = define(
          GeneratorFunctionPrototype,
          x,
          'GeneratorFunction'
        )),
        (i.isGeneratorFunction = function (i) {
          var a = 'function' == typeof i && i.constructor;
          return (
            !!a &&
            (a === GeneratorFunction ||
              'GeneratorFunction' === (a.displayName || a.name))
          );
        }),
        (i.mark = function (i) {
          return (
            Object.setPrototypeOf
              ? Object.setPrototypeOf(i, GeneratorFunctionPrototype)
              : ((i.__proto__ = GeneratorFunctionPrototype),
                define(i, x, 'GeneratorFunction')),
            (i.prototype = Object.create(Se)),
            i
          );
        }),
        (i.awrap = function (i) {
          return { __await: i };
        }),
        defineIteratorMethods(AsyncIterator.prototype),
        (AsyncIterator.prototype[w] = function () {
          return this;
        }),
        (i.AsyncIterator = AsyncIterator),
        (i.async = function (a, o, p, m, _) {
          void 0 === _ && (_ = Promise);
          var w = new AsyncIterator(wrap(a, o, p, m), _);
          return i.isGeneratorFunction(o)
            ? w
            : w.next().then(function (i) {
                return i.done ? i.value : w.next();
              });
        }),
        defineIteratorMethods(Se),
        define(Se, x, 'Generator'),
        (Se[_] = function () {
          return this;
        }),
        (Se.toString = function () {
          return '[object Generator]';
        }),
        (i.keys = function (i) {
          var a = [];
          for (var o in i) a.push(o);
          return (
            a.reverse(),
            function next() {
              for (; a.length; ) {
                var o = a.pop();
                if (o in i) return (next.value = o), (next.done = !1), next;
              }
              return (next.done = !0), next;
            }
          );
        }),
        (i.values = values),
        (Context.prototype = {
          constructor: Context,
          reset: function (i) {
            if (
              ((this.prev = 0),
              (this.next = 0),
              (this.sent = this._sent = a),
              (this.done = !1),
              (this.delegate = null),
              (this.method = 'next'),
              (this.arg = a),
              this.tryEntries.forEach(resetTryEntry),
              !i)
            )
              for (var o in this)
                't' === o.charAt(0) &&
                  p.call(this, o) &&
                  !isNaN(+o.slice(1)) &&
                  (this[o] = a);
          },
          stop: function () {
            this.done = !0;
            var i = this.tryEntries[0].completion;
            if ('throw' === i.type) throw i.arg;
            return this.rval;
          },
          dispatchException: function (i) {
            if (this.done) throw i;
            var o = this;
            function handle(p, m) {
              return (
                (w.type = 'throw'),
                (w.arg = i),
                (o.next = p),
                m && ((o.method = 'next'), (o.arg = a)),
                !!m
              );
            }
            for (var m = this.tryEntries.length - 1; m >= 0; --m) {
              var _ = this.tryEntries[m],
                w = _.completion;
              if ('root' === _.tryLoc) return handle('end');
              if (_.tryLoc <= this.prev) {
                var x = p.call(_, 'catchLoc'),
                  I = p.call(_, 'finallyLoc');
                if (x && I) {
                  if (this.prev < _.catchLoc) return handle(_.catchLoc, !0);
                  if (this.prev < _.finallyLoc) return handle(_.finallyLoc);
                } else if (x) {
                  if (this.prev < _.catchLoc) return handle(_.catchLoc, !0);
                } else {
                  if (!I)
                    throw new Error('try statement without catch or finally');
                  if (this.prev < _.finallyLoc) return handle(_.finallyLoc);
                }
              }
            }
          },
          abrupt: function (i, a) {
            for (var o = this.tryEntries.length - 1; o >= 0; --o) {
              var m = this.tryEntries[o];
              if (
                m.tryLoc <= this.prev &&
                p.call(m, 'finallyLoc') &&
                this.prev < m.finallyLoc
              ) {
                var _ = m;
                break;
              }
            }
            _ &&
              ('break' === i || 'continue' === i) &&
              _.tryLoc <= a &&
              a <= _.finallyLoc &&
              (_ = null);
            var w = _ ? _.completion : {};
            return (
              (w.type = i),
              (w.arg = a),
              _
                ? ((this.method = 'next'), (this.next = _.finallyLoc), q)
                : this.complete(w)
            );
          },
          complete: function (i, a) {
            if ('throw' === i.type) throw i.arg;
            return (
              'break' === i.type || 'continue' === i.type
                ? (this.next = i.arg)
                : 'return' === i.type
                ? ((this.rval = this.arg = i.arg),
                  (this.method = 'return'),
                  (this.next = 'end'))
                : 'normal' === i.type && a && (this.next = a),
              q
            );
          },
          finish: function (i) {
            for (var a = this.tryEntries.length - 1; a >= 0; --a) {
              var o = this.tryEntries[a];
              if (o.finallyLoc === i)
                return (
                  this.complete(o.completion, o.afterLoc), resetTryEntry(o), q
                );
            }
          },
          catch: function (i) {
            for (var a = this.tryEntries.length - 1; a >= 0; --a) {
              var o = this.tryEntries[a];
              if (o.tryLoc === i) {
                var p = o.completion;
                if ('throw' === p.type) {
                  var m = p.arg;
                  resetTryEntry(o);
                }
                return m;
              }
            }
            throw new Error('illegal catch attempt');
          },
          delegateYield: function (i, o, p) {
            return (
              (this.delegate = {
                iterator: values(i),
                resultName: o,
                nextLoc: p,
              }),
              'next' === this.method && (this.arg = a),
              q
            );
          },
        }),
        i
      );
    })(i.exports);
    try {
      regeneratorRuntime = p;
    } catch (m) {
      Function('r', 'regeneratorRuntime = r')(p);
    }
  },
  function (i, a, o) {
    'use strict';
    var p = o(9),
      m = o(2),
      _ = o(103),
      w = o(46),
      x = o(14),
      I = o(59),
      D = o(128),
      j = o(87),
      K = o(1),
      q = o(69),
      $ = o(82).f,
      Z = o(61).f,
      be = o(16).f,
      Se = o(133).trim,
      _e = 'Number',
      we = m.Number,
      xe = we.prototype,
      et = I(q(xe)) == _e,
      toNumber = function (i) {
        var a,
          o,
          p,
          m,
          _,
          w,
          x,
          I,
          D = j(i, !1);
        if ('string' == typeof D && D.length > 2)
          if (43 === (a = (D = Se(D)).charCodeAt(0)) || 45 === a) {
            if (88 === (o = D.charCodeAt(2)) || 120 === o) return NaN;
          } else if (48 === a) {
            switch (D.charCodeAt(1)) {
              case 66:
              case 98:
                (p = 2), (m = 49);
                break;
              case 79:
              case 111:
                (p = 8), (m = 55);
                break;
              default:
                return +D;
            }
            for (w = (_ = D.slice(2)).length, x = 0; x < w; x++)
              if ((I = _.charCodeAt(x)) < 48 || I > m) return NaN;
            return parseInt(_, p);
          }
        return +D;
      };
    if (_(_e, !we(' 0o1') || !we('0b1') || we('+0x1'))) {
      for (
        var tt,
          rt = function Number(i) {
            var a = arguments.length < 1 ? 0 : i,
              o = this;
            return o instanceof rt &&
              (et
                ? K(function () {
                    xe.valueOf.call(o);
                  })
                : I(o) != _e)
              ? D(new we(toNumber(a)), o, rt)
              : toNumber(a);
          },
          nt = p
            ? $(we)
            : 'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'.split(
                ','
              ),
          it = 0;
        nt.length > it;
        it++
      )
        x(we, (tt = nt[it])) && !x(rt, tt) && be(rt, tt, Z(we, tt));
      (rt.prototype = xe), (xe.constructor = rt), w(m, _e, rt);
    }
  },
  function (i, a, o) {
    var p = o(1),
      m = o(59),
      _ = ''.split;
    i.exports = p(function () {
      return !Object('z').propertyIsEnumerable(0);
    })
      ? function (i) {
          return 'String' == m(i) ? _.call(i, '') : Object(i);
        }
      : Object;
  },
  function (i, a) {
    var o = 0,
      p = Math.random();
    i.exports = function (i) {
      return (
        'Symbol(' +
        String(i === undefined ? '' : i) +
        ')_' +
        (++o + p).toString(36)
      );
    };
  },
  function (i, a) {
    i.exports = {};
  },
  function (i, a, o) {
    var p = o(53),
      m = o(10),
      _ = o(83),
      createMethod = function (i) {
        return function (a, o, w) {
          var x,
            I = p(a),
            D = m(I.length),
            j = _(w, D);
          if (i && o != o) {
            for (; D > j; ) if ((x = I[j++]) != x) return !0;
          } else
            for (; D > j; j++)
              if ((i || j in I) && I[j] === o) return i || j || 0;
          return !i && -1;
        };
      };
    i.exports = { includes: createMethod(!0), indexOf: createMethod(!1) };
  },
  function (i, a, o) {
    var p = o(1),
      m = /#|\.prototype\./,
      isForced = function (i, a) {
        var o = w[_(i)];
        return o == I || (o != x && ('function' == typeof a ? p(a) : !!a));
      },
      _ = (isForced.normalize = function (i) {
        return String(i).replace(m, '.').toLowerCase();
      }),
      w = (isForced.data = {}),
      x = (isForced.NATIVE = 'N'),
      I = (isForced.POLYFILL = 'P');
    i.exports = isForced;
  },
  function (i, a, o) {
    var p = o(59);
    i.exports =
      Array.isArray ||
      function isArray(i) {
        return 'Array' == p(i);
      };
  },
  function (i, a, o) {
    'use strict';
    var p = o(87),
      m = o(16),
      _ = o(81);
    i.exports = function (i, a, o) {
      var w = p(a);
      w in i ? m.f(i, w, _(0, o)) : (i[w] = o);
    };
  },
  function (i, a, o) {
    var p = o(1),
      m = o(5),
      _ = o(153),
      w = m('species');
    i.exports = function (i) {
      return (
        _ >= 51 ||
        !p(function () {
          var a = [];
          return (
            ((a.constructor = {})[w] = function () {
              return { foo: 1 };
            }),
            1 !== a[i](Boolean).foo
          );
        })
      );
    };
  },
  function (i, a, o) {
    var p = o(183),
      m = o(149);
    i.exports =
      Object.keys ||
      function keys(i) {
        return p(i, m);
      };
  },
  function (i, a) {
    i.exports = {};
  },
  function (i, a, o) {
    var p = o(11),
      m = o(246);
    i.exports =
      Object.setPrototypeOf ||
      ('__proto__' in {}
        ? (function () {
            var i,
              a = !1,
              o = {};
            try {
              (i = Object.getOwnPropertyDescriptor(
                Object.prototype,
                '__proto__'
              ).set).call(o, []),
                (a = o instanceof Array);
            } catch (_) {}
            return function setPrototypeOf(o, _) {
              return p(o), m(_), a ? i.call(o, _) : (o.__proto__ = _), o;
            };
          })()
        : undefined);
  },
  function (i, a, o) {
    var p = o(156),
      m = o(59),
      _ = o(5)('toStringTag'),
      w =
        'Arguments' ==
        m(
          (function () {
            return arguments;
          })()
        );
    i.exports = p
      ? m
      : function (i) {
          var a, o, p;
          return i === undefined
            ? 'Undefined'
            : null === i
            ? 'Null'
            : 'string' ==
              typeof (o = (function (i, a) {
                try {
                  return i[a];
                } catch (o) {}
              })((a = Object(i)), _))
            ? o
            : w
            ? m(a)
            : 'Object' == (p = m(a)) && 'function' == typeof a.callee
            ? 'Arguments'
            : p;
        };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(2),
      _ = o(9),
      w = o(249),
      x = o(7),
      I = o(125),
      D = o(70),
      j = o(81),
      K = o(50),
      q = o(10),
      $ = o(190),
      Z = o(192),
      be = o(87),
      Se = o(14),
      _e = o(110),
      we = o(8),
      xe = o(69),
      et = o(109),
      tt = o(82).f,
      rt = o(251),
      nt = o(42).forEach,
      it = o(113),
      at = o(16),
      ot = o(61),
      st = o(51),
      ut = o(128),
      lt = st.get,
      ct = st.set,
      dt = at.f,
      ft = ot.f,
      ht = Math.round,
      pt = m.RangeError,
      gt = I.ArrayBuffer,
      mt = I.DataView,
      vt = x.NATIVE_ARRAY_BUFFER_VIEWS,
      yt = x.TYPED_ARRAY_TAG,
      bt = x.TypedArray,
      Tt = x.TypedArrayPrototype,
      St = x.aTypedArrayConstructor,
      Et = x.isTypedArray,
      _t = 'BYTES_PER_ELEMENT',
      wt = 'Wrong length',
      fromList = function (i, a) {
        for (var o = 0, p = a.length, m = new (St(i))(p); p > o; )
          m[o] = a[o++];
        return m;
      },
      addGetter = function (i, a) {
        dt(i, a, {
          get: function () {
            return lt(this)[a];
          },
        });
      },
      isArrayBuffer = function (i) {
        var a;
        return (
          i instanceof gt ||
          'ArrayBuffer' == (a = _e(i)) ||
          'SharedArrayBuffer' == a
        );
      },
      isTypedArrayIndex = function (i, a) {
        return (
          Et(i) && 'symbol' != typeof a && a in i && String(+a) == String(a)
        );
      },
      At = function getOwnPropertyDescriptor(i, a) {
        return isTypedArrayIndex(i, (a = be(a, !0))) ? j(2, i[a]) : ft(i, a);
      },
      kt = function defineProperty(i, a, o) {
        return !(
          isTypedArrayIndex(i, (a = be(a, !0))) &&
          we(o) &&
          Se(o, 'value')
        ) ||
          Se(o, 'get') ||
          Se(o, 'set') ||
          o.configurable ||
          (Se(o, 'writable') && !o.writable) ||
          (Se(o, 'enumerable') && !o.enumerable)
          ? dt(i, a, o)
          : ((i[a] = o.value), i);
      };
    _
      ? (vt ||
          ((ot.f = At),
          (at.f = kt),
          addGetter(Tt, 'buffer'),
          addGetter(Tt, 'byteOffset'),
          addGetter(Tt, 'byteLength'),
          addGetter(Tt, 'length')),
        p(
          { target: 'Object', stat: !0, forced: !vt },
          { getOwnPropertyDescriptor: At, defineProperty: kt }
        ),
        (i.exports = function (i, a, o) {
          var _ = i.match(/\d+$/)[0] / 8,
            x = i + (o ? 'Clamped' : '') + 'Array',
            I = 'get' + i,
            j = 'set' + i,
            be = m[x],
            Se = be,
            _e = Se && Se.prototype,
            at = {},
            addElement = function (i, a) {
              dt(i, a, {
                get: function () {
                  return (function (i, a) {
                    var o = lt(i);
                    return o.view[I](a * _ + o.byteOffset, !0);
                  })(this, a);
                },
                set: function (i) {
                  return (function (i, a, p) {
                    var m = lt(i);
                    o && (p = (p = ht(p)) < 0 ? 0 : p > 255 ? 255 : 255 & p),
                      m.view[j](a * _ + m.byteOffset, p, !0);
                  })(this, a, i);
                },
                enumerable: !0,
              });
            };
          vt
            ? w &&
              ((Se = a(function (i, a, o, p) {
                return (
                  D(i, Se, x),
                  ut(
                    we(a)
                      ? isArrayBuffer(a)
                        ? p !== undefined
                          ? new be(a, Z(o, _), p)
                          : o !== undefined
                          ? new be(a, Z(o, _))
                          : new be(a)
                        : Et(a)
                        ? fromList(Se, a)
                        : rt.call(Se, a)
                      : new be($(a)),
                    i,
                    Se
                  )
                );
              })),
              et && et(Se, bt),
              nt(tt(be), function (i) {
                i in Se || K(Se, i, be[i]);
              }),
              (Se.prototype = _e))
            : ((Se = a(function (i, a, o, p) {
                D(i, Se, x);
                var m,
                  w,
                  I,
                  j = 0,
                  K = 0;
                if (we(a)) {
                  if (!isArrayBuffer(a))
                    return Et(a) ? fromList(Se, a) : rt.call(Se, a);
                  (m = a), (K = Z(o, _));
                  var be = a.byteLength;
                  if (p === undefined) {
                    if (be % _) throw pt(wt);
                    if ((w = be - K) < 0) throw pt(wt);
                  } else if ((w = q(p) * _) + K > be) throw pt(wt);
                  I = w / _;
                } else (I = $(a)), (m = new gt((w = I * _)));
                for (
                  ct(i, {
                    buffer: m,
                    byteOffset: K,
                    byteLength: w,
                    length: I,
                    view: new mt(m),
                  });
                  j < I;

                )
                  addElement(i, j++);
              })),
              et && et(Se, bt),
              (_e = Se.prototype = xe(Tt))),
            _e.constructor !== Se && K(_e, 'constructor', Se),
            yt && K(_e, yt, x),
            (at[x] = Se),
            p({ global: !0, forced: Se != be, sham: !vt }, at),
            _t in Se || K(Se, _t, _),
            _t in _e || K(_e, _t, _),
            it(x);
        }))
      : (i.exports = function () {});
  },
  function (i, a, o) {
    var p = o(110),
      m = o(108),
      _ = o(5)('iterator');
    i.exports = function (i) {
      if (i != undefined) return i[_] || i['@@iterator'] || m[p(i)];
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(62),
      m = o(16),
      _ = o(5),
      w = o(9),
      x = _('species');
    i.exports = function (i) {
      var a = p(i),
        o = m.f;
      w &&
        a &&
        !a[x] &&
        o(a, x, {
          configurable: !0,
          get: function () {
            return this;
          },
        });
    };
  },
  function (i, a, o) {
    'use strict';
    var p,
      m,
      _,
      w,
      x,
      I,
      D,
      j = 9e4;
    (p = function secondsToVideoTs(i) {
      return i * j;
    }),
      (m = function secondsToAudioTs(i, a) {
        return i * a;
      }),
      (_ = function videoTsToSeconds(i) {
        return i / j;
      }),
      (w = function audioTsToSeconds(i, a) {
        return i / a;
      }),
      (x = function audioTsToVideoTs(i, a) {
        return p(w(i, a));
      }),
      (I = function videoTsToAudioTs(i, a) {
        return m(_(i), a);
      }),
      (D = function metadataTsToSeconds(i, a, o) {
        return _(o ? i : i - a);
      }),
      (i.exports = {
        ONE_SECOND_IN_TS: j,
        secondsToVideoTs: p,
        secondsToAudioTs: m,
        videoTsToSeconds: _,
        audioTsToSeconds: w,
        audioTsToVideoTs: x,
        videoTsToAudioTs: I,
        metadataTsToSeconds: D,
      });
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(2),
      _ = o(62),
      w = o(68),
      x = o(9),
      I = o(152),
      D = o(184),
      j = o(1),
      K = o(14),
      q = o(104),
      $ = o(8),
      Z = o(11),
      be = o(47),
      Se = o(53),
      _e = o(87),
      we = o(81),
      xe = o(69),
      et = o(107),
      tt = o(82),
      rt = o(265),
      nt = o(150),
      it = o(61),
      at = o(16),
      ot = o(121),
      st = o(50),
      ut = o(46),
      lt = o(148),
      ct = o(122),
      dt = o(101),
      ft = o(100),
      ht = o(5),
      pt = o(205),
      gt = o(163),
      mt = o(60),
      vt = o(51),
      yt = o(42).forEach,
      bt = ct('hidden'),
      Tt = 'Symbol',
      St = ht('toPrimitive'),
      Et = vt.set,
      _t = vt.getterFor(Tt),
      wt = Object.prototype,
      At = m.Symbol,
      kt = _('JSON', 'stringify'),
      xt = it.f,
      Pt = at.f,
      Rt = rt.f,
      Ct = ot.f,
      It = lt('symbols'),
      Dt = lt('op-symbols'),
      Ot = lt('string-to-symbol-registry'),
      Lt = lt('symbol-to-string-registry'),
      Mt = lt('wks'),
      Nt = m.QObject,
      Ft = !Nt || !Nt.prototype || !Nt.prototype.findChild,
      Ut =
        x &&
        j(function () {
          return (
            7 !=
            xe(
              Pt({}, 'a', {
                get: function () {
                  return Pt(this, 'a', { value: 7 }).a;
                },
              })
            ).a
          );
        })
          ? function (i, a, o) {
              var p = xt(wt, a);
              p && delete wt[a], Pt(i, a, o), p && i !== wt && Pt(wt, a, p);
            }
          : Pt,
      wrap = function (i, a) {
        var o = (It[i] = xe(At.prototype));
        return (
          Et(o, { type: Tt, tag: i, description: a }),
          x || (o.description = a),
          o
        );
      },
      Bt = D
        ? function (i) {
            return 'symbol' == typeof i;
          }
        : function (i) {
            return Object(i) instanceof At;
          },
      jt = function defineProperty(i, a, o) {
        i === wt && jt(Dt, a, o), Z(i);
        var p = _e(a, !0);
        return (
          Z(o),
          K(It, p)
            ? (o.enumerable
                ? (K(i, bt) && i[bt][p] && (i[bt][p] = !1),
                  (o = xe(o, { enumerable: we(0, !1) })))
                : (K(i, bt) || Pt(i, bt, we(1, {})), (i[bt][p] = !0)),
              Ut(i, p, o))
            : Pt(i, p, o)
        );
      },
      Gt = function defineProperties(i, a) {
        Z(i);
        var o = Se(a),
          p = et(o).concat(Kt(o));
        return (
          yt(p, function (a) {
            (x && !Ht.call(o, a)) || jt(i, a, o[a]);
          }),
          i
        );
      },
      Ht = function propertyIsEnumerable(i) {
        var a = _e(i, !0),
          o = Ct.call(this, a);
        return (
          !(this === wt && K(It, a) && !K(Dt, a)) &&
          (!(o || !K(this, a) || !K(It, a) || (K(this, bt) && this[bt][a])) ||
            o)
        );
      },
      Vt = function getOwnPropertyDescriptor(i, a) {
        var o = Se(i),
          p = _e(a, !0);
        if (o !== wt || !K(It, p) || K(Dt, p)) {
          var m = xt(o, p);
          return (
            !m || !K(It, p) || (K(o, bt) && o[bt][p]) || (m.enumerable = !0), m
          );
        }
      },
      Wt = function getOwnPropertyNames(i) {
        var a = Rt(Se(i)),
          o = [];
        return (
          yt(a, function (i) {
            K(It, i) || K(dt, i) || o.push(i);
          }),
          o
        );
      },
      Kt = function getOwnPropertySymbols(i) {
        var a = i === wt,
          o = Rt(a ? Dt : Se(i)),
          p = [];
        return (
          yt(o, function (i) {
            !K(It, i) || (a && !K(wt, i)) || p.push(It[i]);
          }),
          p
        );
      };
    (I ||
      (ut(
        (At = function Symbol() {
          if (this instanceof At)
            throw TypeError('Symbol is not a constructor');
          var i =
              arguments.length && arguments[0] !== undefined
                ? String(arguments[0])
                : undefined,
            a = ft(i),
            setter = function (i) {
              this === wt && setter.call(Dt, i),
                K(this, bt) && K(this[bt], a) && (this[bt][a] = !1),
                Ut(this, a, we(1, i));
            };
          return (
            x && Ft && Ut(wt, a, { configurable: !0, set: setter }), wrap(a, i)
          );
        }).prototype,
        'toString',
        function toString() {
          return _t(this).tag;
        }
      ),
      ut(At, 'withoutSetter', function (i) {
        return wrap(ft(i), i);
      }),
      (ot.f = Ht),
      (at.f = jt),
      (it.f = Vt),
      (tt.f = rt.f = Wt),
      (nt.f = Kt),
      (pt.f = function (i) {
        return wrap(ht(i), i);
      }),
      x &&
        (Pt(At.prototype, 'description', {
          configurable: !0,
          get: function description() {
            return _t(this).description;
          },
        }),
        w || ut(wt, 'propertyIsEnumerable', Ht, { unsafe: !0 }))),
    p({ global: !0, wrap: !0, forced: !I, sham: !I }, { Symbol: At }),
    yt(et(Mt), function (i) {
      gt(i);
    }),
    p(
      { target: Tt, stat: !0, forced: !I },
      {
        for: function (i) {
          var a = String(i);
          if (K(Ot, a)) return Ot[a];
          var o = At(a);
          return (Ot[a] = o), (Lt[o] = a), o;
        },
        keyFor: function keyFor(i) {
          if (!Bt(i)) throw TypeError(i + ' is not a symbol');
          if (K(Lt, i)) return Lt[i];
        },
        useSetter: function () {
          Ft = !0;
        },
        useSimple: function () {
          Ft = !1;
        },
      }
    ),
    p(
      { target: 'Object', stat: !0, forced: !I, sham: !x },
      {
        create: function create(i, a) {
          return a === undefined ? xe(i) : Gt(xe(i), a);
        },
        defineProperty: jt,
        defineProperties: Gt,
        getOwnPropertyDescriptor: Vt,
      }
    ),
    p(
      { target: 'Object', stat: !0, forced: !I },
      { getOwnPropertyNames: Wt, getOwnPropertySymbols: Kt }
    ),
    p(
      {
        target: 'Object',
        stat: !0,
        forced: j(function () {
          nt.f(1);
        }),
      },
      {
        getOwnPropertySymbols: function getOwnPropertySymbols(i) {
          return nt.f(be(i));
        },
      }
    ),
    kt) &&
      p(
        {
          target: 'JSON',
          stat: !0,
          forced:
            !I ||
            j(function () {
              var i = At();
              return (
                '[null]' != kt([i]) ||
                '{}' != kt({ a: i }) ||
                '{}' != kt(Object(i))
              );
            }),
        },
        {
          stringify: function stringify(i, a, o) {
            for (var p, m = [i], _ = 1; arguments.length > _; )
              m.push(arguments[_++]);
            if (((p = a), ($(a) || i !== undefined) && !Bt(i)))
              return (
                q(a) ||
                  (a = function (i, a) {
                    if (
                      ('function' == typeof p && (a = p.call(this, i, a)),
                      !Bt(a))
                    )
                      return a;
                  }),
                (m[1] = a),
                kt.apply(null, m)
              );
          },
        }
      );
    At.prototype[St] || st(At.prototype, St, At.prototype.valueOf),
      mt(At, Tt),
      (dt[bt] = !0);
  },
  function (i, a, o) {
    var p = o(279),
      m = o(280),
      _ = o(213),
      w = o(281);
    i.exports = function _slicedToArray(i, a) {
      return p(i) || m(i, a) || _(i, a) || w();
    };
  },
  function (i, a, o) {
    i.exports = o(97);
  },
  function (i, a) {
    function asyncGeneratorStep(i, a, o, p, m, _, w) {
      try {
        var x = i[_](w),
          I = x.value;
      } catch (D) {
        return void o(D);
      }
      x.done ? a(I) : Promise.resolve(I).then(p, m);
    }
    i.exports = function _asyncToGenerator(i) {
      return function () {
        var a = this,
          o = arguments;
        return new Promise(function (p, m) {
          var _ = i.apply(a, o);
          function _next(i) {
            asyncGeneratorStep(_, p, m, _next, _throw, 'next', i);
          }
          function _throw(i) {
            asyncGeneratorStep(_, p, m, _next, _throw, 'throw', i);
          }
          _next(undefined);
        });
      };
    };
  },
  function (i, a, o) {
    var p = o(101),
      m = o(8),
      _ = o(14),
      w = o(16).f,
      x = o(100),
      I = o(224),
      D = x('meta'),
      j = 0,
      K =
        Object.isExtensible ||
        function () {
          return !0;
        },
      setMetadata = function (i) {
        w(i, D, { value: { objectID: 'O' + ++j, weakData: {} } });
      },
      q = (i.exports = {
        REQUIRED: !1,
        fastKey: function (i, a) {
          if (!m(i))
            return 'symbol' == typeof i
              ? i
              : ('string' == typeof i ? 'S' : 'P') + i;
          if (!_(i, D)) {
            if (!K(i)) return 'F';
            if (!a) return 'E';
            setMetadata(i);
          }
          return i[D].objectID;
        },
        getWeakData: function (i, a) {
          if (!_(i, D)) {
            if (!K(i)) return !0;
            if (!a) return !1;
            setMetadata(i);
          }
          return i[D].weakData;
        },
        onFreeze: function (i) {
          return I && q.REQUIRED && K(i) && !_(i, D) && setMetadata(i), i;
        },
      });
    p[D] = !0;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(75),
      o(49),
      o(3),
      o(78),
      o(43),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a.veygaToVipError = veygaToVipError),
      (a['default'] =
        a.VeygoPlayerError =
        a.VeygoPlayerErrorCode =
        a.VeygoPlayerErrorCategory =
        a.VeygoPlayerErrorSeverity =
          void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(79)),
      x = p(o(80)),
      I = p(o(67)),
      D = p(o(292));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, I['default'])(i);
        if (a) {
          var m = (0, I['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, x['default'])(this, o);
      };
    }
    var j = { RECOVERABLE: 1, CRITICAL: 2 };
    a.VeygoPlayerErrorSeverity = j;
    var K = {
      NETWORK: 1,
      TEXT: 2,
      MEDIA: 3,
      MANIFEST: 4,
      STREAMING: 5,
      DRM: 6,
      PLAYER: 7,
      CAST: 8,
      STORAGE: 9,
    };
    a.VeygoPlayerErrorCategory = K;
    var q = {
      UNSUPPORTED_SCHEME: 1e3,
      BAD_HTTP_STATUS: 1001,
      HTTP_ERROR: 1002,
      TIMEOUT: 1003,
      MALFORMED_DATA_URI: 1004,
      UNKNOWN_DATA_URI_ENCODING: 1005,
      REQUEST_FILTER_ERROR: 1006,
      RESPONSE_FILTER_ERROR: 1007,
      MALFORMED_TEST_URI: 1008,
      UNEXPECTED_TEST_REQUEST: 1009,
      SOURCE_NOT_SET: 1010,
      BAD_STATE: 1011,
      BAD_ARGUMENT: 1012,
      INVALID_TEXT_HEADER: 2e3,
      INVALID_TEXT_CUE: 2001,
      UNABLE_TO_DETECT_ENCODING: 2003,
      BAD_ENCODING: 2004,
      INVALID_XML: 2005,
      INVALID_MP4_TTML: 2007,
      INVALID_MP4_VTT: 2008,
      UNABLE_TO_EXTRACT_CUE_START_TIME: 2009,
      BUFFER_READ_OUT_OF_BOUNDS: 3e3,
      JS_INTEGER_OVERFLOW: 3001,
      EBML_OVERFLOW: 3002,
      EBML_BAD_FLOATING_POINT_SIZE: 3003,
      MP4_SIDX_WRONG_BOX_TYPE: 3004,
      MP4_SIDX_INVALID_TIMESCALE: 3005,
      MP4_SIDX_TYPE_NOT_SUPPORTED: 3006,
      WEBM_CUES_ELEMENT_MISSING: 3007,
      WEBM_EBML_HEADER_ELEMENT_MISSING: 3008,
      WEBM_SEGMENT_ELEMENT_MISSING: 3009,
      WEBM_INFO_ELEMENT_MISSING: 3010,
      WEBM_DURATION_ELEMENT_MISSING: 3011,
      WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING: 3012,
      WEBM_CUE_TIME_ELEMENT_MISSING: 3013,
      MEDIA_SOURCE_OPERATION_FAILED: 3014,
      MEDIA_SOURCE_OPERATION_THREW: 3015,
      VIDEO_ERROR: 3016,
      QUOTA_EXCEEDED_ERROR: 3017,
      TRANSMUXING_FAILED: 3018,
      UNABLE_TO_GUESS_MANIFEST_TYPE: 4e3,
      DASH_INVALID_XML: 4001,
      DASH_NO_SEGMENT_INFO: 4002,
      DASH_EMPTY_ADAPTATION_SET: 4003,
      DASH_EMPTY_PERIOD: 4004,
      DASH_WEBM_MISSING_INIT: 4005,
      DASH_UNSUPPORTED_CONTAINER: 4006,
      DASH_PSSH_BAD_ENCODING: 4007,
      DASH_NO_COMMON_KEY_SYSTEM: 4008,
      DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED: 4009,
      DASH_CONFLICTING_KEY_IDS: 4010,
      UNPLAYABLE_PERIOD: 4011,
      RESTRICTIONS_CANNOT_BE_MET: 4012,
      INTERNAL_ERROR_KEY_STATUS: 4013,
      NO_PERIODS: 4014,
      HLS_PLAYLIST_HEADER_MISSING: 4015,
      INVALID_HLS_TAG: 4016,
      HLS_INVALID_PLAYLIST_HIERARCHY: 4017,
      DASH_DUPLICATE_REPRESENTATION_ID: 4018,
      HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND: 4020,
      HLS_COULD_NOT_GUESS_MIME_TYPE: 4021,
      HLS_MASTER_PLAYLIST_NOT_PROVIDED: 4022,
      HLS_REQUIRED_ATTRIBUTE_MISSING: 4023,
      HLS_REQUIRED_TAG_MISSING: 4024,
      HLS_COULD_NOT_GUESS_CODECS: 4025,
      HLS_KEYFORMATS_NOT_SUPPORTED: 4026,
      DASH_UNSUPPORTED_XLINK_ACTUATE: 4027,
      DASH_XLINK_DEPTH_LIMIT: 4028,
      HLS_COULD_NOT_PARSE_SEGMENT_START_TIME: 4030,
      CONTENT_UNSUPPORTED_BY_BROWSER: 4032,
      CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM: 4033,
      INVALID_STREAMS_CHOSEN: 5005,
      NO_RECOGNIZED_KEY_SYSTEMS: 6e3,
      REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE: 6001,
      FAILED_TO_CREATE_CDM: 6002,
      FAILED_TO_ATTACH_TO_VIDEO: 6003,
      INVALID_SERVER_CERTIFICATE: 6004,
      FAILED_TO_CREATE_SESSION: 6005,
      FAILED_TO_GENERATE_LICENSE_REQUEST: 6006,
      LICENSE_REQUEST_FAILED: 6007,
      LICENSE_RESPONSE_REJECTED: 6008,
      ENCRYPTED_CONTENT_WITHOUT_DRM_INFO: 6010,
      NO_LICENSE_SERVER_GIVEN: 6012,
      OFFLINE_SESSION_REMOVED: 6013,
      EXPIRED: 6014,
      LOAD_INTERRUPTED: 7e3,
      OPERATION_ABORTED: 7001,
      NO_VIDEO_ELEMENT: 7002,
      VIP_SDK_NOT_ACTIVE: 7003,
      CAST_API_UNAVAILABLE: 8e3,
      NO_CAST_RECEIVERS: 8001,
      ALREADY_CASTING: 8002,
      UNEXPECTED_CAST_ERROR: 8003,
      CAST_CANCELED_BY_USER: 8004,
      CAST_CONNECTION_TIMED_OUT: 8005,
      CAST_RECEIVER_APP_UNAVAILABLE: 8006,
      STORAGE_NOT_SUPPORTED: 9e3,
      INDEXED_DB_ERROR: 9001,
      DEPRECATED_OPERATION_ABORTED: 9002,
      REQUESTED_ITEM_NOT_FOUND: 9003,
      MALFORMED_OFFLINE_URI: 9004,
      CANNOT_STORE_LIVE_OFFLINE: 9005,
      STORE_ALREADY_IN_PROGRESS: 9006,
      NO_INIT_DATA_FOR_OFFLINE: 9007,
      LOCAL_PLAYER_INSTANCE_REQUIRED: 9008,
      NEW_KEY_OPERATION_NOT_SUPPORTED: 9011,
      KEY_NOT_FOUND: 9012,
      MISSING_STORAGE_CELL: 9013,
    };
    function veygaToVipError(i) {
      var a,
        o,
        p = i.category,
        m = i.message;
      if (p === K.NETWORK)
        (p = 'network'), a === q.BAD_HTTP_STATUS && (a = 'bad_http_status');
      else if (p === K.MANIFEST)
        (p = 'set_source'),
          a === q.UNABLE_TO_GUESS_MANIFEST_TYPE
            ? (a = 'unsupported_manifest')
            : a === q.HLS_COULD_NOT_PARSE_SEGMENT_START_TIME &&
              (a = 'unsupported_hls_stream');
      else if (p === K.DRM)
        (p = 'drm'),
          a === q.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE
            ? (a = 'unsupported')
            : a === q.LICENSE_REQUEST_FAILED && (a = undefined);
      else if (p !== undefined)
        for (var _ = K, w = Object.keys(_), x = 0; x < w.length; x += 1) {
          var I = w[x];
          if (_[I] === p) {
            p = I.toLowerCase();
            break;
          }
        }
      if (a === undefined)
        for (var D = q, $ = Object.keys(D), Z = 0; Z < $.length; Z += 1) {
          var be = $[Z];
          if (D[be] === i.code) {
            a = be.toLowerCase();
            break;
          }
        }
      for (var Se = j, _e = Object.keys(Se), we = 0; we < _e.length; we += 1) {
        var xe = _e[we];
        if (Se[xe] === i.severity) {
          o = xe.toLowerCase();
          break;
        }
      }
      return { severity: o, category: p, code: a, message: m };
    }
    a.VeygoPlayerErrorCode = q;
    var $ = (function (i) {
      (0, w['default'])(VeygoPlayerError, i);
      var a = _createSuper(VeygoPlayerError);
      function VeygoPlayerError(i, o, p) {
        var _;
        (0, m['default'])(this, VeygoPlayerError);
        var w = veygaToVipError({ severity: i, category: o, code: p });
        ((_ = a.call(this, ''.concat(w.category, ':').concat(w.code))).name =
          'VeygoPlayerError'),
          (_.severity = w.severity),
          (_.category = w.category),
          (_.code = w.code);
        for (
          var x = arguments.length, I = new Array(x > 3 ? x - 3 : 0), D = 3;
          D < x;
          D++
        )
          I[D - 3] = arguments[D];
        return (_.data = I), (_.handled = !1), _;
      }
      return (
        (0, _['default'])(VeygoPlayerError, [
          {
            key: 'toString',
            value: function toString() {
              return 'VeygoPlayerError '.concat(
                JSON.stringify(
                  {
                    severity: this.severity,
                    category: this.category,
                    code: this.code,
                    data: this.data,
                  },
                  null,
                  ''
                )
              );
            },
          },
        ]),
        VeygoPlayerError
      );
    })((0, D['default'])(Error));
    (a.VeygoPlayerError = $), ($.Severity = j), ($.Category = K), ($.Code = q);
    var Z = $;
    a['default'] = Z;
  },
  function (i, a, o) {
    'use strict';
    var p = {}.propertyIsEnumerable,
      m = Object.getOwnPropertyDescriptor,
      _ = m && !p.call({ 1: 2 }, 1);
    a.f = _
      ? function propertyIsEnumerable(i) {
          var a = m(this, i);
          return !!a && a.enumerable;
        }
      : p;
  },
  function (i, a, o) {
    var p = o(148),
      m = o(100),
      _ = p('keys');
    i.exports = function (i) {
      return _[i] || (_[i] = m(i));
    };
  },
  function (i, a, o) {
    var p = o(5),
      m = o(69),
      _ = o(16),
      w = p('unscopables'),
      x = Array.prototype;
    x[w] == undefined && _.f(x, w, { configurable: !0, value: m(null) }),
      (i.exports = function (i) {
        x[w][i] = !0;
      });
  },
  function (i, a, o) {
    var p = o(14),
      m = o(47),
      _ = o(122),
      w = o(245),
      x = _('IE_PROTO'),
      I = Object.prototype;
    i.exports = w
      ? Object.getPrototypeOf
      : function (i) {
          return (
            (i = m(i)),
            p(i, x)
              ? i[x]
              : 'function' == typeof i.constructor && i instanceof i.constructor
              ? i.constructor.prototype
              : i instanceof Object
              ? I
              : null
          );
        };
  },
  function (i, a, o) {
    'use strict';
    var p = o(2),
      m = o(9),
      _ = o(155),
      w = o(50),
      x = o(88),
      I = o(1),
      D = o(70),
      j = o(56),
      K = o(10),
      q = o(190),
      $ = o(247),
      Z = o(124),
      be = o(109),
      Se = o(82).f,
      _e = o(16).f,
      we = o(191),
      xe = o(60),
      et = o(51),
      tt = et.get,
      rt = et.set,
      nt = 'ArrayBuffer',
      it = 'DataView',
      at = 'Wrong index',
      ot = p.ArrayBuffer,
      st = ot,
      ut = p.DataView,
      lt = ut && ut.prototype,
      ct = Object.prototype,
      dt = p.RangeError,
      ft = $.pack,
      ht = $.unpack,
      packInt8 = function (i) {
        return [255 & i];
      },
      packInt16 = function (i) {
        return [255 & i, (i >> 8) & 255];
      },
      packInt32 = function (i) {
        return [255 & i, (i >> 8) & 255, (i >> 16) & 255, (i >> 24) & 255];
      },
      unpackInt32 = function (i) {
        return (i[3] << 24) | (i[2] << 16) | (i[1] << 8) | i[0];
      },
      packFloat32 = function (i) {
        return ft(i, 23, 4);
      },
      packFloat64 = function (i) {
        return ft(i, 52, 8);
      },
      addGetter = function (i, a) {
        _e(i.prototype, a, {
          get: function () {
            return tt(this)[a];
          },
        });
      },
      get = function (i, a, o, p) {
        var m = q(o),
          _ = tt(i);
        if (m + a > _.byteLength) throw dt(at);
        var w = tt(_.buffer).bytes,
          x = m + _.byteOffset,
          I = w.slice(x, x + a);
        return p ? I : I.reverse();
      },
      set = function (i, a, o, p, m, _) {
        var w = q(o),
          x = tt(i);
        if (w + a > x.byteLength) throw dt(at);
        for (
          var I = tt(x.buffer).bytes, D = w + x.byteOffset, j = p(+m), K = 0;
          K < a;
          K++
        )
          I[D + K] = j[_ ? K : a - K - 1];
      };
    if (_) {
      if (
        !I(function () {
          ot(1);
        }) ||
        !I(function () {
          new ot(-1);
        }) ||
        I(function () {
          return new ot(), new ot(1.5), new ot(NaN), ot.name != nt;
        })
      ) {
        for (
          var pt,
            gt = ((st = function ArrayBuffer(i) {
              return D(this, st), new ot(q(i));
            }).prototype = ot.prototype),
            mt = Se(ot),
            vt = 0;
          mt.length > vt;

        )
          (pt = mt[vt++]) in st || w(st, pt, ot[pt]);
        gt.constructor = st;
      }
      be && Z(lt) !== ct && be(lt, ct);
      var yt = new ut(new st(2)),
        bt = lt.setInt8;
      yt.setInt8(0, 2147483648),
        yt.setInt8(1, 2147483649),
        (!yt.getInt8(0) && yt.getInt8(1)) ||
          x(
            lt,
            {
              setInt8: function setInt8(i, a) {
                bt.call(this, i, (a << 24) >> 24);
              },
              setUint8: function setUint8(i, a) {
                bt.call(this, i, (a << 24) >> 24);
              },
            },
            { unsafe: !0 }
          );
    } else
      (st = function ArrayBuffer(i) {
        D(this, st, nt);
        var a = q(i);
        rt(this, { bytes: we.call(new Array(a), 0), byteLength: a }),
          m || (this.byteLength = a);
      }),
        (ut = function DataView(i, a, o) {
          D(this, ut, it), D(i, st, it);
          var p = tt(i).byteLength,
            _ = j(a);
          if (_ < 0 || _ > p) throw dt('Wrong offset');
          if (_ + (o = o === undefined ? p - _ : K(o)) > p)
            throw dt('Wrong length');
          rt(this, { buffer: i, byteLength: o, byteOffset: _ }),
            m ||
              ((this.buffer = i), (this.byteLength = o), (this.byteOffset = _));
        }),
        m &&
          (addGetter(st, 'byteLength'),
          addGetter(ut, 'buffer'),
          addGetter(ut, 'byteLength'),
          addGetter(ut, 'byteOffset')),
        x(ut.prototype, {
          getInt8: function getInt8(i) {
            return (get(this, 1, i)[0] << 24) >> 24;
          },
          getUint8: function getUint8(i) {
            return get(this, 1, i)[0];
          },
          getInt16: function getInt16(i) {
            var a = get(
              this,
              2,
              i,
              arguments.length > 1 ? arguments[1] : undefined
            );
            return (((a[1] << 8) | a[0]) << 16) >> 16;
          },
          getUint16: function getUint16(i) {
            var a = get(
              this,
              2,
              i,
              arguments.length > 1 ? arguments[1] : undefined
            );
            return (a[1] << 8) | a[0];
          },
          getInt32: function getInt32(i) {
            return unpackInt32(
              get(this, 4, i, arguments.length > 1 ? arguments[1] : undefined)
            );
          },
          getUint32: function getUint32(i) {
            return (
              unpackInt32(
                get(this, 4, i, arguments.length > 1 ? arguments[1] : undefined)
              ) >>> 0
            );
          },
          getFloat32: function getFloat32(i) {
            return ht(
              get(this, 4, i, arguments.length > 1 ? arguments[1] : undefined),
              23
            );
          },
          getFloat64: function getFloat64(i) {
            return ht(
              get(this, 8, i, arguments.length > 1 ? arguments[1] : undefined),
              52
            );
          },
          setInt8: function setInt8(i, a) {
            set(this, 1, i, packInt8, a);
          },
          setUint8: function setUint8(i, a) {
            set(this, 1, i, packInt8, a);
          },
          setInt16: function setInt16(i, a) {
            set(
              this,
              2,
              i,
              packInt16,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
          setUint16: function setUint16(i, a) {
            set(
              this,
              2,
              i,
              packInt16,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
          setInt32: function setInt32(i, a) {
            set(
              this,
              4,
              i,
              packInt32,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
          setUint32: function setUint32(i, a) {
            set(
              this,
              4,
              i,
              packInt32,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
          setFloat32: function setFloat32(i, a) {
            set(
              this,
              4,
              i,
              packFloat32,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
          setFloat64: function setFloat64(i, a) {
            set(
              this,
              8,
              i,
              packFloat64,
              a,
              arguments.length > 2 ? arguments[2] : undefined
            );
          },
        });
    xe(st, nt), xe(ut, it), (i.exports = { ArrayBuffer: st, DataView: ut });
  },
  function (i, a, o) {
    'use strict';
    var p = o(11);
    i.exports = function () {
      var i = p(this),
        a = '';
      return (
        i.global && (a += 'g'),
        i.ignoreCase && (a += 'i'),
        i.multiline && (a += 'm'),
        i.dotAll && (a += 's'),
        i.unicode && (a += 'u'),
        i.sticky && (a += 'y'),
        a
      );
    };
  },
  function (i, a, o) {
    var p = o(5)('iterator'),
      m = !1;
    try {
      var _ = 0,
        w = {
          next: function () {
            return { done: !!_++ };
          },
          return: function () {
            m = !0;
          },
        };
      (w[p] = function () {
        return this;
      }),
        Array.from(w, function () {
          throw 2;
        });
    } catch (x) {}
    i.exports = function (i, a) {
      if (!a && !m) return !1;
      var o = !1;
      try {
        var _ = {};
        (_[p] = function () {
          return {
            next: function () {
              return { done: (o = !0) };
            },
          };
        }),
          i(_);
      } catch (x) {}
      return o;
    };
  },
  function (i, a, o) {
    var p = o(8),
      m = o(109);
    i.exports = function (i, a, o) {
      var _, w;
      return (
        m &&
          'function' == typeof (_ = a.constructor) &&
          _ !== o &&
          p((w = _.prototype)) &&
          w !== o.prototype &&
          m(i, w),
        i
      );
    };
  },
  function (i, a, o) {
    'use strict';
    var p,
      m,
      _ = o(126),
      w = o(157),
      x = RegExp.prototype.exec,
      I = String.prototype.replace,
      D = x,
      j =
        ((p = /a/),
        (m = /b*/g),
        x.call(p, 'a'),
        x.call(m, 'a'),
        0 !== p.lastIndex || 0 !== m.lastIndex),
      K = w.UNSUPPORTED_Y || w.BROKEN_CARET,
      q = /()??/.exec('')[1] !== undefined;
    (j || q || K) &&
      (D = function exec(i) {
        var a,
          o,
          p,
          m,
          w = this,
          D = K && w.sticky,
          $ = _.call(w),
          Z = w.source,
          be = 0,
          Se = i;
        return (
          D &&
            (-1 === ($ = $.replace('y', '')).indexOf('g') && ($ += 'g'),
            (Se = String(i).slice(w.lastIndex)),
            w.lastIndex > 0 &&
              (!w.multiline || (w.multiline && '\n' !== i[w.lastIndex - 1])) &&
              ((Z = '(?: ' + Z + ')'), (Se = ' ' + Se), be++),
            (o = new RegExp('^(?:' + Z + ')', $))),
          q && (o = new RegExp('^' + Z + '$(?!\\s)', $)),
          j && (a = w.lastIndex),
          (p = x.call(D ? o : w, Se)),
          D
            ? p
              ? ((p.input = p.input.slice(be)),
                (p[0] = p[0].slice(be)),
                (p.index = w.lastIndex),
                (w.lastIndex += p[0].length))
              : (w.lastIndex = 0)
            : j && p && (w.lastIndex = w.global ? p.index + p[0].length : a),
          q &&
            p &&
            p.length > 1 &&
            I.call(p[0], o, function () {
              for (m = 1; m < arguments.length - 2; m++)
                arguments[m] === undefined && (p[m] = undefined);
            }),
          p
        );
      }),
      (i.exports = D);
  },
  function (i, a, o) {
    'use strict';
    o(58);
    var p = o(46),
      m = o(1),
      _ = o(5),
      w = o(129),
      x = o(50),
      I = _('species'),
      D = !m(function () {
        var i = /./;
        return (
          (i.exec = function () {
            var i = [];
            return (i.groups = { a: '7' }), i;
          }),
          '7' !== ''.replace(i, '$<a>')
        );
      }),
      j = '$0' === 'a'.replace(/./, '$0'),
      K = _('replace'),
      q = !!/./[K] && '' === /./[K]('a', '$0'),
      $ = !m(function () {
        var i = /(?:)/,
          a = i.exec;
        i.exec = function () {
          return a.apply(this, arguments);
        };
        var o = 'ab'.split(i);
        return 2 !== o.length || 'a' !== o[0] || 'b' !== o[1];
      });
    i.exports = function (i, a, o, K) {
      var Z = _(i),
        be = !m(function () {
          var a = {};
          return (
            (a[Z] = function () {
              return 7;
            }),
            7 != ''[i](a)
          );
        }),
        Se =
          be &&
          !m(function () {
            var a = !1,
              o = /a/;
            return (
              'split' === i &&
                (((o = {}).constructor = {}),
                (o.constructor[I] = function () {
                  return o;
                }),
                (o.flags = ''),
                (o[Z] = /./[Z])),
              (o.exec = function () {
                return (a = !0), null;
              }),
              o[Z](''),
              !a
            );
          });
      if (
        !be ||
        !Se ||
        ('replace' === i && (!D || !j || q)) ||
        ('split' === i && !$)
      ) {
        var _e = /./[Z],
          we = o(
            Z,
            ''[i],
            function (i, a, o, p, m) {
              return a.exec === w
                ? be && !m
                  ? { done: !0, value: _e.call(a, o, p) }
                  : { done: !0, value: i.call(o, a, p) }
                : { done: !1 };
            },
            {
              REPLACE_KEEPS_$0: j,
              REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: q,
            }
          ),
          xe = we[0],
          et = we[1];
        p(String.prototype, i, xe),
          p(
            RegExp.prototype,
            Z,
            2 == a
              ? function (i, a) {
                  return et.call(i, this, a);
                }
              : function (i) {
                  return et.call(i, this);
                }
          );
      }
      K && x(RegExp.prototype[Z], 'sham', !0);
    };
  },
  function (i, a, o) {
    var p = o(59),
      m = o(129);
    i.exports = function (i, a) {
      var o = i.exec;
      if ('function' == typeof o) {
        var _ = o.call(i, a);
        if ('object' != typeof _)
          throw TypeError(
            'RegExp exec method returned something other than an Object or null'
          );
        return _;
      }
      if ('RegExp' !== p(i))
        throw TypeError('RegExp#exec called on incompatible receiver');
      return m.call(i, a);
    };
  },
  function (i, a, o) {
    'use strict';
    o(44), o(3), o(43);
    i.exports = {
      toUnsigned: function toUnsigned(i) {
        return i >>> 0;
      },
      toHexString: function toHexString(i) {
        return ('00' + i.toString(16)).slice(-2);
      },
    };
  },
  function (i, a, o) {
    var p = o(54),
      m = '[' + o(134) + ']',
      _ = RegExp('^' + m + m + '*'),
      w = RegExp(m + m + '*$'),
      createMethod = function (i) {
        return function (a) {
          var o = String(p(a));
          return (
            1 & i && (o = o.replace(_, '')), 2 & i && (o = o.replace(w, '')), o
          );
        };
      };
    i.exports = {
      start: createMethod(1),
      end: createMethod(2),
      trim: createMethod(3),
    };
  },
  function (i, a) {
    i.exports = '\t\n\x0B\f\r \u2028\u2029\ufeff';
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(261);
    p(
      { target: 'String', proto: !0, forced: o(262)('italics') },
      {
        italics: function italics() {
          return m(this, 'i', '', '');
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(9),
      _ = o(2),
      w = o(14),
      x = o(8),
      I = o(16).f,
      D = o(180),
      j = _.Symbol;
    if (
      m &&
      'function' == typeof j &&
      (!('description' in j.prototype) || j().description !== undefined)
    ) {
      var K = {},
        q = function Symbol() {
          var i =
              arguments.length < 1 || arguments[0] === undefined
                ? undefined
                : String(arguments[0]),
            a = this instanceof q ? new j(i) : i === undefined ? j() : j(i);
          return '' === i && (K[a] = !0), a;
        };
      D(q, j);
      var $ = (q.prototype = j.prototype);
      $.constructor = q;
      var Z = $.toString,
        be = 'Symbol(test)' == String(j('test')),
        Se = /^Symbol\((.*)\)[^)]+$/;
      I($, 'description', {
        configurable: !0,
        get: function description() {
          var i = x(this) ? this.valueOf() : this,
            a = Z.call(i);
          if (w(K, i)) return '';
          var o = be ? a.slice(7, -1) : a.replace(Se, '$1');
          return '' === o ? undefined : o;
        },
      }),
        p({ global: !0, forced: !0 }, { Symbol: q });
    }
  },
  function (i, a, o) {
    var p = o(0),
      m = o(211).entries;
    p(
      { target: 'Object', stat: !0 },
      {
        entries: function entries(i) {
          return m(i);
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(11),
      m = o(158),
      _ = o(10),
      w = o(84),
      x = o(112),
      I = o(210),
      Result = function (i, a) {
        (this.stopped = i), (this.result = a);
      };
    (i.exports = function (i, a, o, D, j) {
      var K,
        q,
        $,
        Z,
        be,
        Se,
        _e,
        we = w(a, o, D ? 2 : 1);
      if (j) K = i;
      else {
        if ('function' != typeof (q = x(i)))
          throw TypeError('Target is not iterable');
        if (m(q)) {
          for ($ = 0, Z = _(i.length); Z > $; $++)
            if (
              (be = D ? we(p((_e = i[$]))[0], _e[1]) : we(i[$])) &&
              be instanceof Result
            )
              return be;
          return new Result(!1);
        }
        K = q.call(i);
      }
      for (Se = K.next; !(_e = Se.call(K)).done; )
        if (
          'object' == typeof (be = I(K, we, _e.value, D)) &&
          be &&
          be instanceof Result
        )
          return be;
      return new Result(!1);
    }).stop = function (i) {
      return new Result(!0, i);
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(2),
      _ = o(125),
      w = o(113),
      x = 'ArrayBuffer',
      I = _.ArrayBuffer;
    p({ global: !0, forced: m.ArrayBuffer !== I }, { ArrayBuffer: I }), w(x);
  },
  function (i, a) {
    function _extends() {
      return (
        (i.exports = _extends =
          Object.assign ||
          function (i) {
            for (var a = 1; a < arguments.length; a++) {
              var o = arguments[a];
              for (var p in o)
                Object.prototype.hasOwnProperty.call(o, p) && (i[p] = o[p]);
            }
            return i;
          }),
        _extends.apply(this, arguments)
      );
    }
    i.exports = _extends;
  },
  function (i, a, o) {
    o(0)(
      { target: 'Number', stat: !0 },
      {
        isNaN: function isNaN(i) {
          return i != i;
        },
      }
    );
  },
  function (i, a) {
    i.exports = function _assertThisInitialized(i) {
      if (void 0 === i)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return i;
    };
  },
  function (i, a, o) {
    'use strict';
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var p = {
      HTML5: 0,
      VEYGOD: 1,
      HLSJS: 2,
      VEYGA: 3,
      YOUTUBE: 4,
      UNKNOWN: 10,
    };
    a['default'] = p;
  },
  function (i, a, o) {
    'use strict';
    o(66);
    var p,
      m = o(0),
      _ = o(9),
      w = o(232),
      x = o(2),
      I = o(186),
      D = o(46),
      j = o(70),
      K = o(14),
      q = o(298),
      $ = o(209),
      Z = o(161).codeAt,
      be = o(299),
      Se = o(60),
      _e = o(300),
      we = o(51),
      xe = x.URL,
      et = _e.URLSearchParams,
      tt = _e.getState,
      rt = we.set,
      nt = we.getterFor('URL'),
      it = Math.floor,
      at = Math.pow,
      ot = 'Invalid scheme',
      st = 'Invalid host',
      ut = 'Invalid port',
      lt = /[A-Za-z]/,
      ct = /[\d+-.A-Za-z]/,
      dt = /\d/,
      ft = /^(0x|0X)/,
      ht = /^[0-7]+$/,
      pt = /^\d+$/,
      gt = /^[\dA-Fa-f]+$/,
      mt = /[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,
      vt = /[\u0000\u0009\u000A\u000D #/:?@[\\]]/,
      yt = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,
      bt = /[\u0009\u000A\u000D]/g,
      parseHost = function (i, a) {
        var o, p, m;
        if ('[' == a.charAt(0)) {
          if (']' != a.charAt(a.length - 1)) return st;
          if (!(o = parseIPv6(a.slice(1, -1)))) return st;
          i.host = o;
        } else if (isSpecial(i)) {
          if (((a = be(a)), mt.test(a))) return st;
          if (null === (o = parseIPv4(a))) return st;
          i.host = o;
        } else {
          if (vt.test(a)) return st;
          for (o = '', p = $(a), m = 0; m < p.length; m++)
            o += percentEncode(p[m], Tt);
          i.host = o;
        }
      },
      parseIPv4 = function (i) {
        var a,
          o,
          p,
          m,
          _,
          w,
          x,
          I = i.split('.');
        if ((I.length && '' == I[I.length - 1] && I.pop(), (a = I.length) > 4))
          return i;
        for (o = [], p = 0; p < a; p++) {
          if ('' == (m = I[p])) return i;
          if (
            ((_ = 10),
            m.length > 1 &&
              '0' == m.charAt(0) &&
              ((_ = ft.test(m) ? 16 : 8), (m = m.slice(8 == _ ? 1 : 2))),
            '' === m)
          )
            w = 0;
          else {
            if (!(10 == _ ? pt : 8 == _ ? ht : gt).test(m)) return i;
            w = parseInt(m, _);
          }
          o.push(w);
        }
        for (p = 0; p < a; p++)
          if (((w = o[p]), p == a - 1)) {
            if (w >= at(256, 5 - a)) return null;
          } else if (w > 255) return null;
        for (x = o.pop(), p = 0; p < o.length; p++) x += o[p] * at(256, 3 - p);
        return x;
      },
      parseIPv6 = function (i) {
        var a,
          o,
          p,
          m,
          _,
          w,
          x,
          I = [0, 0, 0, 0, 0, 0, 0, 0],
          D = 0,
          j = null,
          K = 0,
          char = function () {
            return i.charAt(K);
          };
        if (':' == char()) {
          if (':' != i.charAt(1)) return;
          (K += 2), (j = ++D);
        }
        for (; char(); ) {
          if (8 == D) return;
          if (':' != char()) {
            for (a = o = 0; o < 4 && gt.test(char()); )
              (a = 16 * a + parseInt(char(), 16)), K++, o++;
            if ('.' == char()) {
              if (0 == o) return;
              if (((K -= o), D > 6)) return;
              for (p = 0; char(); ) {
                if (((m = null), p > 0)) {
                  if (!('.' == char() && p < 4)) return;
                  K++;
                }
                if (!dt.test(char())) return;
                for (; dt.test(char()); ) {
                  if (((_ = parseInt(char(), 10)), null === m)) m = _;
                  else {
                    if (0 == m) return;
                    m = 10 * m + _;
                  }
                  if (m > 255) return;
                  K++;
                }
                (I[D] = 256 * I[D] + m), (2 != ++p && 4 != p) || D++;
              }
              if (4 != p) return;
              break;
            }
            if (':' == char()) {
              if ((K++, !char())) return;
            } else if (char()) return;
            I[D++] = a;
          } else {
            if (null !== j) return;
            K++, (j = ++D);
          }
        }
        if (null !== j)
          for (w = D - j, D = 7; 0 != D && w > 0; )
            (x = I[D]), (I[D--] = I[j + w - 1]), (I[j + --w] = x);
        else if (8 != D) return;
        return I;
      },
      serializeHost = function (i) {
        var a, o, p, m;
        if ('number' == typeof i) {
          for (a = [], o = 0; o < 4; o++) a.unshift(i % 256), (i = it(i / 256));
          return a.join('.');
        }
        if ('object' == typeof i) {
          for (
            a = '',
              p = (function (i) {
                for (var a = null, o = 1, p = null, m = 0, _ = 0; _ < 8; _++)
                  0 !== i[_]
                    ? (m > o && ((a = p), (o = m)), (p = null), (m = 0))
                    : (null === p && (p = _), ++m);
                return m > o && ((a = p), (o = m)), a;
              })(i),
              o = 0;
            o < 8;
            o++
          )
            (m && 0 === i[o]) ||
              (m && (m = !1),
              p === o
                ? ((a += o ? ':' : '::'), (m = !0))
                : ((a += i[o].toString(16)), o < 7 && (a += ':')));
          return '[' + a + ']';
        }
        return i;
      },
      Tt = {},
      St = q({}, Tt, { ' ': 1, '"': 1, '<': 1, '>': 1, '`': 1 }),
      Et = q({}, St, { '#': 1, '?': 1, '{': 1, '}': 1 }),
      _t = q({}, Et, {
        '/': 1,
        ':': 1,
        ';': 1,
        '=': 1,
        '@': 1,
        '[': 1,
        '\\': 1,
        ']': 1,
        '^': 1,
        '|': 1,
      }),
      percentEncode = function (i, a) {
        var o = Z(i, 0);
        return o > 32 && o < 127 && !K(a, i) ? i : encodeURIComponent(i);
      },
      wt = { ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443 },
      isSpecial = function (i) {
        return K(wt, i.scheme);
      },
      includesCredentials = function (i) {
        return '' != i.username || '' != i.password;
      },
      cannotHaveUsernamePasswordPort = function (i) {
        return !i.host || i.cannotBeABaseURL || 'file' == i.scheme;
      },
      isWindowsDriveLetter = function (i, a) {
        var o;
        return (
          2 == i.length &&
          lt.test(i.charAt(0)) &&
          (':' == (o = i.charAt(1)) || (!a && '|' == o))
        );
      },
      startsWithWindowsDriveLetter = function (i) {
        var a;
        return (
          i.length > 1 &&
          isWindowsDriveLetter(i.slice(0, 2)) &&
          (2 == i.length ||
            '/' === (a = i.charAt(2)) ||
            '\\' === a ||
            '?' === a ||
            '#' === a)
        );
      },
      shortenURLsPath = function (i) {
        var a = i.path,
          o = a.length;
        !o ||
          ('file' == i.scheme && 1 == o && isWindowsDriveLetter(a[0], !0)) ||
          a.pop();
      },
      isSingleDot = function (i) {
        return '.' === i || '%2e' === i.toLowerCase();
      },
      At = {},
      kt = {},
      xt = {},
      Pt = {},
      Rt = {},
      Ct = {},
      It = {},
      Dt = {},
      Ot = {},
      Lt = {},
      Mt = {},
      Nt = {},
      Ft = {},
      Ut = {},
      Bt = {},
      jt = {},
      Gt = {},
      Ht = {},
      Vt = {},
      Wt = {},
      Kt = {},
      parseURL = function (i, a, o, m) {
        var _,
          w,
          x,
          I,
          D,
          j = o || At,
          q = 0,
          Z = '',
          be = !1,
          Se = !1,
          _e = !1;
        for (
          o ||
            ((i.scheme = ''),
            (i.username = ''),
            (i.password = ''),
            (i.host = null),
            (i.port = null),
            (i.path = []),
            (i.query = null),
            (i.fragment = null),
            (i.cannotBeABaseURL = !1),
            (a = a.replace(yt, ''))),
            a = a.replace(bt, ''),
            _ = $(a);
          q <= _.length;

        ) {
          switch (((w = _[q]), j)) {
            case At:
              if (!w || !lt.test(w)) {
                if (o) return ot;
                j = xt;
                continue;
              }
              (Z += w.toLowerCase()), (j = kt);
              break;
            case kt:
              if (w && (ct.test(w) || '+' == w || '-' == w || '.' == w))
                Z += w.toLowerCase();
              else {
                if (':' != w) {
                  if (o) return ot;
                  (Z = ''), (j = xt), (q = 0);
                  continue;
                }
                if (
                  o &&
                  (isSpecial(i) != K(wt, Z) ||
                    ('file' == Z &&
                      (includesCredentials(i) || null !== i.port)) ||
                    ('file' == i.scheme && !i.host))
                )
                  return;
                if (((i.scheme = Z), o))
                  return void (
                    isSpecial(i) &&
                    wt[i.scheme] == i.port &&
                    (i.port = null)
                  );
                (Z = ''),
                  'file' == i.scheme
                    ? (j = Ut)
                    : isSpecial(i) && m && m.scheme == i.scheme
                    ? (j = Pt)
                    : isSpecial(i)
                    ? (j = Dt)
                    : '/' == _[q + 1]
                    ? ((j = Rt), q++)
                    : ((i.cannotBeABaseURL = !0), i.path.push(''), (j = Vt));
              }
              break;
            case xt:
              if (!m || (m.cannotBeABaseURL && '#' != w)) return ot;
              if (m.cannotBeABaseURL && '#' == w) {
                (i.scheme = m.scheme),
                  (i.path = m.path.slice()),
                  (i.query = m.query),
                  (i.fragment = ''),
                  (i.cannotBeABaseURL = !0),
                  (j = Kt);
                break;
              }
              j = 'file' == m.scheme ? Ut : Ct;
              continue;
            case Pt:
              if ('/' != w || '/' != _[q + 1]) {
                j = Ct;
                continue;
              }
              (j = Ot), q++;
              break;
            case Rt:
              if ('/' == w) {
                j = Lt;
                break;
              }
              j = Ht;
              continue;
            case Ct:
              if (((i.scheme = m.scheme), w == p))
                (i.username = m.username),
                  (i.password = m.password),
                  (i.host = m.host),
                  (i.port = m.port),
                  (i.path = m.path.slice()),
                  (i.query = m.query);
              else if ('/' == w || ('\\' == w && isSpecial(i))) j = It;
              else if ('?' == w)
                (i.username = m.username),
                  (i.password = m.password),
                  (i.host = m.host),
                  (i.port = m.port),
                  (i.path = m.path.slice()),
                  (i.query = ''),
                  (j = Wt);
              else {
                if ('#' != w) {
                  (i.username = m.username),
                    (i.password = m.password),
                    (i.host = m.host),
                    (i.port = m.port),
                    (i.path = m.path.slice()),
                    i.path.pop(),
                    (j = Ht);
                  continue;
                }
                (i.username = m.username),
                  (i.password = m.password),
                  (i.host = m.host),
                  (i.port = m.port),
                  (i.path = m.path.slice()),
                  (i.query = m.query),
                  (i.fragment = ''),
                  (j = Kt);
              }
              break;
            case It:
              if (!isSpecial(i) || ('/' != w && '\\' != w)) {
                if ('/' != w) {
                  (i.username = m.username),
                    (i.password = m.password),
                    (i.host = m.host),
                    (i.port = m.port),
                    (j = Ht);
                  continue;
                }
                j = Lt;
              } else j = Ot;
              break;
            case Dt:
              if (((j = Ot), '/' != w || '/' != Z.charAt(q + 1))) continue;
              q++;
              break;
            case Ot:
              if ('/' != w && '\\' != w) {
                j = Lt;
                continue;
              }
              break;
            case Lt:
              if ('@' == w) {
                be && (Z = '%40' + Z), (be = !0), (x = $(Z));
                for (var we = 0; we < x.length; we++) {
                  var xe = x[we];
                  if (':' != xe || _e) {
                    var et = percentEncode(xe, _t);
                    _e ? (i.password += et) : (i.username += et);
                  } else _e = !0;
                }
                Z = '';
              } else if (
                w == p ||
                '/' == w ||
                '?' == w ||
                '#' == w ||
                ('\\' == w && isSpecial(i))
              ) {
                if (be && '' == Z) return 'Invalid authority';
                (q -= $(Z).length + 1), (Z = ''), (j = Mt);
              } else Z += w;
              break;
            case Mt:
            case Nt:
              if (o && 'file' == i.scheme) {
                j = jt;
                continue;
              }
              if (':' != w || Se) {
                if (
                  w == p ||
                  '/' == w ||
                  '?' == w ||
                  '#' == w ||
                  ('\\' == w && isSpecial(i))
                ) {
                  if (isSpecial(i) && '' == Z) return st;
                  if (
                    o &&
                    '' == Z &&
                    (includesCredentials(i) || null !== i.port)
                  )
                    return;
                  if ((I = parseHost(i, Z))) return I;
                  if (((Z = ''), (j = Gt), o)) return;
                  continue;
                }
                '[' == w ? (Se = !0) : ']' == w && (Se = !1), (Z += w);
              } else {
                if ('' == Z) return st;
                if ((I = parseHost(i, Z))) return I;
                if (((Z = ''), (j = Ft), o == Nt)) return;
              }
              break;
            case Ft:
              if (!dt.test(w)) {
                if (
                  w == p ||
                  '/' == w ||
                  '?' == w ||
                  '#' == w ||
                  ('\\' == w && isSpecial(i)) ||
                  o
                ) {
                  if ('' != Z) {
                    var tt = parseInt(Z, 10);
                    if (tt > 65535) return ut;
                    (i.port = isSpecial(i) && tt === wt[i.scheme] ? null : tt),
                      (Z = '');
                  }
                  if (o) return;
                  j = Gt;
                  continue;
                }
                return ut;
              }
              Z += w;
              break;
            case Ut:
              if (((i.scheme = 'file'), '/' == w || '\\' == w)) j = Bt;
              else {
                if (!m || 'file' != m.scheme) {
                  j = Ht;
                  continue;
                }
                if (w == p)
                  (i.host = m.host),
                    (i.path = m.path.slice()),
                    (i.query = m.query);
                else if ('?' == w)
                  (i.host = m.host),
                    (i.path = m.path.slice()),
                    (i.query = ''),
                    (j = Wt);
                else {
                  if ('#' != w) {
                    startsWithWindowsDriveLetter(_.slice(q).join('')) ||
                      ((i.host = m.host),
                      (i.path = m.path.slice()),
                      shortenURLsPath(i)),
                      (j = Ht);
                    continue;
                  }
                  (i.host = m.host),
                    (i.path = m.path.slice()),
                    (i.query = m.query),
                    (i.fragment = ''),
                    (j = Kt);
                }
              }
              break;
            case Bt:
              if ('/' == w || '\\' == w) {
                j = jt;
                break;
              }
              m &&
                'file' == m.scheme &&
                !startsWithWindowsDriveLetter(_.slice(q).join('')) &&
                (isWindowsDriveLetter(m.path[0], !0)
                  ? i.path.push(m.path[0])
                  : (i.host = m.host)),
                (j = Ht);
              continue;
            case jt:
              if (w == p || '/' == w || '\\' == w || '?' == w || '#' == w) {
                if (!o && isWindowsDriveLetter(Z)) j = Ht;
                else if ('' == Z) {
                  if (((i.host = ''), o)) return;
                  j = Gt;
                } else {
                  if ((I = parseHost(i, Z))) return I;
                  if (('localhost' == i.host && (i.host = ''), o)) return;
                  (Z = ''), (j = Gt);
                }
                continue;
              }
              Z += w;
              break;
            case Gt:
              if (isSpecial(i)) {
                if (((j = Ht), '/' != w && '\\' != w)) continue;
              } else if (o || '?' != w)
                if (o || '#' != w) {
                  if (w != p && ((j = Ht), '/' != w)) continue;
                } else (i.fragment = ''), (j = Kt);
              else (i.query = ''), (j = Wt);
              break;
            case Ht:
              if (
                w == p ||
                '/' == w ||
                ('\\' == w && isSpecial(i)) ||
                (!o && ('?' == w || '#' == w))
              ) {
                if (
                  ('..' === (D = (D = Z).toLowerCase()) ||
                  '%2e.' === D ||
                  '.%2e' === D ||
                  '%2e%2e' === D
                    ? (shortenURLsPath(i),
                      '/' == w ||
                        ('\\' == w && isSpecial(i)) ||
                        i.path.push(''))
                    : isSingleDot(Z)
                    ? '/' == w || ('\\' == w && isSpecial(i)) || i.path.push('')
                    : ('file' == i.scheme &&
                        !i.path.length &&
                        isWindowsDriveLetter(Z) &&
                        (i.host && (i.host = ''), (Z = Z.charAt(0) + ':')),
                      i.path.push(Z)),
                  (Z = ''),
                  'file' == i.scheme && (w == p || '?' == w || '#' == w))
                )
                  for (; i.path.length > 1 && '' === i.path[0]; )
                    i.path.shift();
                '?' == w
                  ? ((i.query = ''), (j = Wt))
                  : '#' == w && ((i.fragment = ''), (j = Kt));
              } else Z += percentEncode(w, Et);
              break;
            case Vt:
              '?' == w
                ? ((i.query = ''), (j = Wt))
                : '#' == w
                ? ((i.fragment = ''), (j = Kt))
                : w != p && (i.path[0] += percentEncode(w, Tt));
              break;
            case Wt:
              o || '#' != w
                ? w != p &&
                  ("'" == w && isSpecial(i)
                    ? (i.query += '%27')
                    : (i.query += '#' == w ? '%23' : percentEncode(w, Tt)))
                : ((i.fragment = ''), (j = Kt));
              break;
            case Kt:
              w != p && (i.fragment += percentEncode(w, St));
          }
          q++;
        }
      },
      zt = function URL(i) {
        var a,
          o,
          p = j(this, zt, 'URL'),
          m = arguments.length > 1 ? arguments[1] : undefined,
          w = String(i),
          x = rt(p, { type: 'URL' });
        if (m !== undefined)
          if (m instanceof zt) a = nt(m);
          else if ((o = parseURL((a = {}), String(m)))) throw TypeError(o);
        if ((o = parseURL(x, w, null, a))) throw TypeError(o);
        var I = (x.searchParams = new et()),
          D = tt(I);
        D.updateSearchParams(x.query),
          (D.updateURL = function () {
            x.query = String(I) || null;
          }),
          _ ||
            ((p.href = serializeURL.call(p)),
            (p.origin = getOrigin.call(p)),
            (p.protocol = getProtocol.call(p)),
            (p.username = getUsername.call(p)),
            (p.password = getPassword.call(p)),
            (p.host = getHost.call(p)),
            (p.hostname = getHostname.call(p)),
            (p.port = getPort.call(p)),
            (p.pathname = getPathname.call(p)),
            (p.search = getSearch.call(p)),
            (p.searchParams = getSearchParams.call(p)),
            (p.hash = getHash.call(p)));
      },
      qt = zt.prototype,
      serializeURL = function () {
        var i = nt(this),
          a = i.scheme,
          o = i.username,
          p = i.password,
          m = i.host,
          _ = i.port,
          w = i.path,
          x = i.query,
          I = i.fragment,
          D = a + ':';
        return (
          null !== m
            ? ((D += '//'),
              includesCredentials(i) && (D += o + (p ? ':' + p : '') + '@'),
              (D += serializeHost(m)),
              null !== _ && (D += ':' + _))
            : 'file' == a && (D += '//'),
          (D += i.cannotBeABaseURL ? w[0] : w.length ? '/' + w.join('/') : ''),
          null !== x && (D += '?' + x),
          null !== I && (D += '#' + I),
          D
        );
      },
      getOrigin = function () {
        var i = nt(this),
          a = i.scheme,
          o = i.port;
        if ('blob' == a)
          try {
            return new URL(a.path[0]).origin;
          } catch (p) {
            return 'null';
          }
        return 'file' != a && isSpecial(i)
          ? a + '://' + serializeHost(i.host) + (null !== o ? ':' + o : '')
          : 'null';
      },
      getProtocol = function () {
        return nt(this).scheme + ':';
      },
      getUsername = function () {
        return nt(this).username;
      },
      getPassword = function () {
        return nt(this).password;
      },
      getHost = function () {
        var i = nt(this),
          a = i.host,
          o = i.port;
        return null === a
          ? ''
          : null === o
          ? serializeHost(a)
          : serializeHost(a) + ':' + o;
      },
      getHostname = function () {
        var i = nt(this).host;
        return null === i ? '' : serializeHost(i);
      },
      getPort = function () {
        var i = nt(this).port;
        return null === i ? '' : String(i);
      },
      getPathname = function () {
        var i = nt(this),
          a = i.path;
        return i.cannotBeABaseURL ? a[0] : a.length ? '/' + a.join('/') : '';
      },
      getSearch = function () {
        var i = nt(this).query;
        return i ? '?' + i : '';
      },
      getSearchParams = function () {
        return nt(this).searchParams;
      },
      getHash = function () {
        var i = nt(this).fragment;
        return i ? '#' + i : '';
      },
      accessorDescriptor = function (i, a) {
        return { get: i, set: a, configurable: !0, enumerable: !0 };
      };
    if (
      (_ &&
        I(qt, {
          href: accessorDescriptor(serializeURL, function (i) {
            var a = nt(this),
              o = String(i),
              p = parseURL(a, o);
            if (p) throw TypeError(p);
            tt(a.searchParams).updateSearchParams(a.query);
          }),
          origin: accessorDescriptor(getOrigin),
          protocol: accessorDescriptor(getProtocol, function (i) {
            var a = nt(this);
            parseURL(a, String(i) + ':', At);
          }),
          username: accessorDescriptor(getUsername, function (i) {
            var a = nt(this),
              o = $(String(i));
            if (!cannotHaveUsernamePasswordPort(a)) {
              a.username = '';
              for (var p = 0; p < o.length; p++)
                a.username += percentEncode(o[p], _t);
            }
          }),
          password: accessorDescriptor(getPassword, function (i) {
            var a = nt(this),
              o = $(String(i));
            if (!cannotHaveUsernamePasswordPort(a)) {
              a.password = '';
              for (var p = 0; p < o.length; p++)
                a.password += percentEncode(o[p], _t);
            }
          }),
          host: accessorDescriptor(getHost, function (i) {
            var a = nt(this);
            a.cannotBeABaseURL || parseURL(a, String(i), Mt);
          }),
          hostname: accessorDescriptor(getHostname, function (i) {
            var a = nt(this);
            a.cannotBeABaseURL || parseURL(a, String(i), Nt);
          }),
          port: accessorDescriptor(getPort, function (i) {
            var a = nt(this);
            cannotHaveUsernamePasswordPort(a) ||
              ('' == (i = String(i)) ? (a.port = null) : parseURL(a, i, Ft));
          }),
          pathname: accessorDescriptor(getPathname, function (i) {
            var a = nt(this);
            a.cannotBeABaseURL || ((a.path = []), parseURL(a, i + '', Gt));
          }),
          search: accessorDescriptor(getSearch, function (i) {
            var a = nt(this);
            '' == (i = String(i))
              ? (a.query = null)
              : ('?' == i.charAt(0) && (i = i.slice(1)),
                (a.query = ''),
                parseURL(a, i, Wt)),
              tt(a.searchParams).updateSearchParams(a.query);
          }),
          searchParams: accessorDescriptor(getSearchParams),
          hash: accessorDescriptor(getHash, function (i) {
            var a = nt(this);
            '' != (i = String(i))
              ? ('#' == i.charAt(0) && (i = i.slice(1)),
                (a.fragment = ''),
                parseURL(a, i, Kt))
              : (a.fragment = null);
          }),
        }),
      D(
        qt,
        'toJSON',
        function toJSON() {
          return serializeURL.call(this);
        },
        { enumerable: !0 }
      ),
      D(
        qt,
        'toString',
        function toString() {
          return serializeURL.call(this);
        },
        { enumerable: !0 }
      ),
      xe)
    ) {
      var Yt = xe.createObjectURL,
        Xt = xe.revokeObjectURL;
      Yt &&
        D(zt, 'createObjectURL', function createObjectURL(i) {
          return Yt.apply(xe, arguments);
        }),
        Xt &&
          D(zt, 'revokeObjectURL', function revokeObjectURL(i) {
            return Xt.apply(xe, arguments);
          });
    }
    Se(zt, 'URL'), m({ global: !0, forced: !w, sham: !_ }, { URL: zt });
  },
  function (i, a, o) {
    var p = o(2),
      m = o(8),
      _ = p.document,
      w = m(_) && m(_.createElement);
    i.exports = function (i) {
      return w ? _.createElement(i) : {};
    };
  },
  function (i, a, o) {
    var p = o(2),
      m = o(50);
    i.exports = function (i, a) {
      try {
        m(p, i, a);
      } catch (o) {
        p[i] = a;
      }
      return a;
    };
  },
  function (i, a, o) {
    var p = o(178),
      m = Function.toString;
    'function' != typeof p.inspectSource &&
      (p.inspectSource = function (i) {
        return m.call(i);
      }),
      (i.exports = p.inspectSource);
  },
  function (i, a, o) {
    var p = o(68),
      m = o(178);
    (i.exports = function (i, a) {
      return m[i] || (m[i] = a !== undefined ? a : {});
    })('versions', []).push({
      version: '3.6.5',
      mode: p ? 'pure' : 'global',
      copyright: ' 2020 Denis Pushkarev (zloirock.ru)',
    });
  },
  function (i, a) {
    i.exports = [
      'constructor',
      'hasOwnProperty',
      'isPrototypeOf',
      'propertyIsEnumerable',
      'toLocaleString',
      'toString',
      'valueOf',
    ];
  },
  function (i, a) {
    a.f = Object.getOwnPropertySymbols;
  },
  function (i, a, o) {
    var p = o(8),
      m = o(104),
      _ = o(5)('species');
    i.exports = function (i, a) {
      var o;
      return (
        m(i) &&
          ('function' != typeof (o = i.constructor) ||
          (o !== Array && !m(o.prototype))
            ? p(o) && null === (o = o[_]) && (o = undefined)
            : (o = undefined)),
        new (o === undefined ? Array : o)(0 === a ? 0 : a)
      );
    };
  },
  function (i, a, o) {
    var p = o(1);
    i.exports =
      !!Object.getOwnPropertySymbols &&
      !p(function () {
        return !String(Symbol());
      });
  },
  function (i, a, o) {
    var p,
      m,
      _ = o(2),
      w = o(185),
      x = _.process,
      I = x && x.versions,
      D = I && I.v8;
    D
      ? (m = (p = D.split('.'))[0] + p[1])
      : w &&
        (!(p = w.match(/Edge\/(\d+)/)) || p[1] >= 74) &&
        (p = w.match(/Chrome\/(\d+)/)) &&
        (m = p[1]),
      (i.exports = m && +m);
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(188),
      _ = o(124),
      w = o(109),
      x = o(60),
      I = o(50),
      D = o(46),
      j = o(5),
      K = o(68),
      q = o(108),
      $ = o(189),
      Z = $.IteratorPrototype,
      be = $.BUGGY_SAFARI_ITERATORS,
      Se = j('iterator'),
      _e = 'keys',
      we = 'values',
      xe = 'entries',
      returnThis = function () {
        return this;
      };
    i.exports = function (i, a, o, j, $, et, tt) {
      m(o, a, j);
      var rt,
        nt,
        it,
        getIterationMethod = function (i) {
          if (i === $ && lt) return lt;
          if (!be && i in st) return st[i];
          switch (i) {
            case _e:
              return function keys() {
                return new o(this, i);
              };
            case we:
              return function values() {
                return new o(this, i);
              };
            case xe:
              return function entries() {
                return new o(this, i);
              };
          }
          return function () {
            return new o(this);
          };
        },
        at = a + ' Iterator',
        ot = !1,
        st = i.prototype,
        ut = st[Se] || st['@@iterator'] || ($ && st[$]),
        lt = (!be && ut) || getIterationMethod($),
        ct = ('Array' == a && st.entries) || ut;
      if (
        (ct &&
          ((rt = _(ct.call(new i()))),
          Z !== Object.prototype &&
            rt.next &&
            (K ||
              _(rt) === Z ||
              (w
                ? w(rt, Z)
                : 'function' != typeof rt[Se] && I(rt, Se, returnThis)),
            x(rt, at, !0, !0),
            K && (q[at] = returnThis))),
        $ == we &&
          ut &&
          ut.name !== we &&
          ((ot = !0),
          (lt = function values() {
            return ut.call(this);
          })),
        (K && !tt) || st[Se] === lt || I(st, Se, lt),
        (q[a] = lt),
        $)
      )
        if (
          ((nt = {
            values: getIterationMethod(we),
            keys: et ? lt : getIterationMethod(_e),
            entries: getIterationMethod(xe),
          }),
          tt)
        )
          for (it in nt) (be || ot || !(it in st)) && D(st, it, nt[it]);
        else p({ target: a, proto: !0, forced: be || ot }, nt);
      return nt;
    };
  },
  function (i, a) {
    i.exports =
      'undefined' != typeof ArrayBuffer && 'undefined' != typeof DataView;
  },
  function (i, a, o) {
    var p = {};
    (p[o(5)('toStringTag')] = 'z'), (i.exports = '[object z]' === String(p));
  },
  function (i, a, o) {
    'use strict';
    var p = o(1);
    function RE(i, a) {
      return RegExp(i, a);
    }
    (a.UNSUPPORTED_Y = p(function () {
      var i = RE('a', 'y');
      return (i.lastIndex = 2), null != i.exec('abcd');
    })),
      (a.BROKEN_CARET = p(function () {
        var i = RE('^r', 'gy');
        return (i.lastIndex = 2), null != i.exec('str');
      }));
  },
  function (i, a, o) {
    var p = o(5),
      m = o(108),
      _ = p('iterator'),
      w = Array.prototype;
    i.exports = function (i) {
      return i !== undefined && (m.Array === i || w[_] === i);
    };
  },
  function (i, a, o) {
    var p = o(72),
      m = o(47),
      _ = o(99),
      w = o(10),
      createMethod = function (i) {
        return function (a, o, x, I) {
          p(o);
          var D = m(a),
            j = _(D),
            K = w(D.length),
            q = i ? K - 1 : 0,
            $ = i ? -1 : 1;
          if (x < 2)
            for (;;) {
              if (q in j) {
                (I = j[q]), (q += $);
                break;
              }
              if (((q += $), i ? q < 0 : K <= q))
                throw TypeError('Reduce of empty array with no initial value');
            }
          for (; i ? q >= 0 : K > q; q += $) q in j && (I = o(I, j[q], q, D));
          return I;
        };
      };
    i.exports = { left: createMethod(!1), right: createMethod(!0) };
  },
  function (i, a, o) {
    'use strict';
    var p = o(161).charAt;
    i.exports = function (i, a, o) {
      return a + (o ? p(i, a).length : 1);
    };
  },
  function (i, a, o) {
    var p = o(56),
      m = o(54),
      createMethod = function (i) {
        return function (a, o) {
          var _,
            w,
            x = String(m(a)),
            I = p(o),
            D = x.length;
          return I < 0 || I >= D
            ? i
              ? ''
              : undefined
            : (_ = x.charCodeAt(I)) < 55296 ||
              _ > 56319 ||
              I + 1 === D ||
              (w = x.charCodeAt(I + 1)) < 56320 ||
              w > 57343
            ? i
              ? x.charAt(I)
              : _
            : i
            ? x.slice(I, I + 2)
            : w - 56320 + ((_ - 55296) << 10) + 65536;
        };
      };
    i.exports = { codeAt: createMethod(!1), charAt: createMethod(!0) };
  },
  function (i, a, o) {
    'use strict';
    o(45),
      o(6),
      o(55),
      o(63),
      o(44),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40),
      o(48);
    var p,
      m,
      _,
      w,
      x = o(74),
      I = o(175),
      D = o(255),
      j = o(256),
      K = o(258),
      q = o(259),
      $ = o(114),
      Z = o(266),
      be = o(267).H264Stream,
      Se = o(269),
      _e = o(206).isLikelyAacData,
      we = o(114).ONE_SECOND_IN_TS,
      xe = o(270),
      et = o(271),
      tt = function arrayEquals(i, a) {
        var o;
        if (i.length !== a.length) return !1;
        for (o = 0; o < i.length; o++) if (i[o] !== a[o]) return !1;
        return !0;
      },
      rt = function generateSegmentTimingInfo(i, a, o, p, m, _) {
        return {
          start: { dts: i, pts: i + (o - a) },
          end: { dts: i + (p - a), pts: i + (m - o) },
          prependedContentDuration: _,
          baseMediaDecodeTime: i,
        };
      };
    ((m = function AudioSegmentStream(i, a) {
      var o = [],
        p = 0,
        _ = 0,
        w = 0,
        x = Infinity;
      (a = a || {}),
        m.prototype.init.call(this),
        (this.push = function (a) {
          K.collectDtsInfo(i, a),
            i &&
              xe.forEach(function (o) {
                i[o] = a[o];
              }),
            o.push(a);
        }),
        (this.setEarliestDts = function (i) {
          _ = i;
        }),
        (this.setVideoBaseMediaDecodeTime = function (i) {
          x = i;
        }),
        (this.setAudioAppendStart = function (i) {
          w = i;
        }),
        (this.flush = function () {
          var m, D, q, Z, be, Se, _e;
          0 !== o.length
            ? ((m = j.trimAdtsFramesByEarliestDts(o, i, _)),
              (i.baseMediaDecodeTime = K.calculateTrackBaseMediaDecodeTime(
                i,
                a.keepOriginalTimestamps
              )),
              (_e = j.prefixWithSilence(i, m, w, x)),
              (i.samples = j.generateSampleTable(m)),
              (q = I.mdat(j.concatenateFrameData(m))),
              (o = []),
              (D = I.moof(p, [i])),
              (Z = new Uint8Array(D.byteLength + q.byteLength)),
              p++,
              Z.set(D),
              Z.set(q, D.byteLength),
              K.clearDtsInfo(i),
              (be = Math.ceil((1024 * we) / i.samplerate)),
              m.length &&
                ((Se = m.length * be),
                this.trigger(
                  'segmentTimingInfo',
                  rt(
                    $.audioTsToVideoTs(i.baseMediaDecodeTime, i.samplerate),
                    m[0].dts,
                    m[0].pts,
                    m[0].dts + Se,
                    m[0].pts + Se,
                    _e || 0
                  )
                ),
                this.trigger('timingInfo', {
                  start: m[0].pts,
                  end: m[0].pts + Se,
                })),
              this.trigger('data', { track: i, boxes: Z }),
              this.trigger('done', 'AudioSegmentStream'))
            : this.trigger('done', 'AudioSegmentStream');
        }),
        (this.reset = function () {
          K.clearDtsInfo(i), (o = []), this.trigger('reset');
        });
    }).prototype = new x()),
      ((p = function VideoSegmentStream(i, a) {
        var o,
          m,
          _ = 0,
          w = [],
          x = [];
        (a = a || {}),
          p.prototype.init.call(this),
          delete i.minPTS,
          (this.gopCache_ = []),
          (this.push = function (a) {
            K.collectDtsInfo(i, a),
              'seq_parameter_set_rbsp' !== a.nalUnitType ||
                o ||
                ((o = a.config),
                (i.sps = [a.data]),
                et.forEach(function (a) {
                  i[a] = o[a];
                }, this)),
              'pic_parameter_set_rbsp' !== a.nalUnitType ||
                m ||
                ((m = a.data), (i.pps = [a.data])),
              w.push(a);
          }),
          (this.flush = function () {
            for (
              var o, p, m, j, q, $, Z, be, Se = 0;
              w.length && 'access_unit_delimiter_rbsp' !== w[0].nalUnitType;

            )
              w.shift();
            if (0 === w.length)
              return (
                this.resetStream_(),
                void this.trigger('done', 'VideoSegmentStream')
              );
            if (
              ((o = D.groupNalsIntoFrames(w)),
              (m = D.groupFramesIntoGops(o))[0][0].keyFrame ||
                ((p = this.getGopForFusion_(w[0], i))
                  ? ((Se = p.duration),
                    m.unshift(p),
                    (m.byteLength += p.byteLength),
                    (m.nalCount += p.nalCount),
                    (m.pts = p.pts),
                    (m.dts = p.dts),
                    (m.duration += p.duration))
                  : (m = D.extendFirstKeyFrame(m))),
              x.length)
            ) {
              var _e;
              if (
                !(_e = a.alignGopsAtEnd
                  ? this.alignGopsAtEnd_(m)
                  : this.alignGopsAtStart_(m))
              )
                return (
                  this.gopCache_.unshift({
                    gop: m.pop(),
                    pps: i.pps,
                    sps: i.sps,
                  }),
                  (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
                  (w = []),
                  this.resetStream_(),
                  void this.trigger('done', 'VideoSegmentStream')
                );
              K.clearDtsInfo(i), (m = _e);
            }
            K.collectDtsInfo(i, m),
              (i.samples = D.generateSampleTable(m)),
              (q = I.mdat(D.concatenateNalData(m))),
              (i.baseMediaDecodeTime = K.calculateTrackBaseMediaDecodeTime(
                i,
                a.keepOriginalTimestamps
              )),
              this.trigger(
                'processedGopsInfo',
                m.map(function (i) {
                  return { pts: i.pts, dts: i.dts, byteLength: i.byteLength };
                })
              ),
              (Z = m[0]),
              (be = m[m.length - 1]),
              this.trigger(
                'segmentTimingInfo',
                rt(
                  i.baseMediaDecodeTime,
                  Z.dts,
                  Z.pts,
                  be.dts + be.duration,
                  be.pts + be.duration,
                  Se
                )
              ),
              this.trigger('timingInfo', {
                start: m[0].pts,
                end: m[m.length - 1].pts + m[m.length - 1].duration,
              }),
              this.gopCache_.unshift({ gop: m.pop(), pps: i.pps, sps: i.sps }),
              (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
              (w = []),
              this.trigger('baseMediaDecodeTime', i.baseMediaDecodeTime),
              this.trigger('timelineStartInfo', i.timelineStartInfo),
              (j = I.moof(_, [i])),
              ($ = new Uint8Array(j.byteLength + q.byteLength)),
              _++,
              $.set(j),
              $.set(q, j.byteLength),
              this.trigger('data', { track: i, boxes: $ }),
              this.resetStream_(),
              this.trigger('done', 'VideoSegmentStream');
          }),
          (this.reset = function () {
            this.resetStream_(),
              (w = []),
              (this.gopCache_.length = 0),
              (x.length = 0),
              this.trigger('reset');
          }),
          (this.resetStream_ = function () {
            K.clearDtsInfo(i), (o = undefined), (m = undefined);
          }),
          (this.getGopForFusion_ = function (a) {
            var o,
              p,
              m,
              _,
              w,
              x = Infinity;
            for (w = 0; w < this.gopCache_.length; w++)
              (m = (_ = this.gopCache_[w]).gop),
                i.pps &&
                  tt(i.pps[0], _.pps[0]) &&
                  i.sps &&
                  tt(i.sps[0], _.sps[0]) &&
                  (m.dts < i.timelineStartInfo.dts ||
                    ((o = a.dts - m.dts - m.duration) >= -1e4 &&
                      o <= 45e3 &&
                      (!p || x > o) &&
                      ((p = _), (x = o))));
            return p ? p.gop : null;
          }),
          (this.alignGopsAtStart_ = function (i) {
            var a, o, p, m, _, w, I, D;
            for (
              _ = i.byteLength, w = i.nalCount, I = i.duration, a = o = 0;
              a < x.length &&
              o < i.length &&
              ((p = x[a]), (m = i[o]), p.pts !== m.pts);

            )
              m.pts > p.pts
                ? a++
                : (o++,
                  (_ -= m.byteLength),
                  (w -= m.nalCount),
                  (I -= m.duration));
            return 0 === o
              ? i
              : o === i.length
              ? null
              : (((D = i.slice(o)).byteLength = _),
                (D.duration = I),
                (D.nalCount = w),
                (D.pts = D[0].pts),
                (D.dts = D[0].dts),
                D);
          }),
          (this.alignGopsAtEnd_ = function (i) {
            var a, o, p, m, _, w, I;
            for (
              a = x.length - 1, o = i.length - 1, _ = null, w = !1;
              a >= 0 && o >= 0;

            ) {
              if (((p = x[a]), (m = i[o]), p.pts === m.pts)) {
                w = !0;
                break;
              }
              p.pts > m.pts ? a-- : (a === x.length - 1 && (_ = o), o--);
            }
            if (!w && null === _) return null;
            if (0 === (I = w ? o : _)) return i;
            var D = i.slice(I),
              j = D.reduce(
                function (i, a) {
                  return (
                    (i.byteLength += a.byteLength),
                    (i.duration += a.duration),
                    (i.nalCount += a.nalCount),
                    i
                  );
                },
                { byteLength: 0, duration: 0, nalCount: 0 }
              );
            return (
              (D.byteLength = j.byteLength),
              (D.duration = j.duration),
              (D.nalCount = j.nalCount),
              (D.pts = D[0].pts),
              (D.dts = D[0].dts),
              D
            );
          }),
          (this.alignGopsWith = function (i) {
            x = i;
          });
      }).prototype = new x()),
      ((w = function CoalesceStream(i, a) {
        (this.numberOfTracks = 0),
          (this.metadataStream = a),
          'undefined' != typeof (i = i || {}).remux
            ? (this.remuxTracks = !!i.remux)
            : (this.remuxTracks = !0),
          'boolean' == typeof i.keepOriginalTimestamps
            ? (this.keepOriginalTimestamps = i.keepOriginalTimestamps)
            : (this.keepOriginalTimestamps = !1),
          (this.pendingTracks = []),
          (this.videoTrack = null),
          (this.pendingBoxes = []),
          (this.pendingCaptions = []),
          (this.pendingMetadata = []),
          (this.pendingBytes = 0),
          (this.emittedTracks = 0),
          w.prototype.init.call(this),
          (this.push = function (i) {
            return i.text
              ? this.pendingCaptions.push(i)
              : i.frames
              ? this.pendingMetadata.push(i)
              : (this.pendingTracks.push(i.track),
                (this.pendingBytes += i.boxes.byteLength),
                'video' === i.track.type &&
                  ((this.videoTrack = i.track),
                  this.pendingBoxes.push(i.boxes)),
                void (
                  'audio' === i.track.type &&
                  ((this.audioTrack = i.track),
                  this.pendingBoxes.unshift(i.boxes))
                ));
          });
      }).prototype = new x()),
      (w.prototype.flush = function (i) {
        var a,
          o,
          p,
          m,
          _ = 0,
          w = { captions: [], captionStreams: {}, metadata: [], info: {} },
          x = 0;
        if (this.pendingTracks.length < this.numberOfTracks) {
          if ('VideoSegmentStream' !== i && 'AudioSegmentStream' !== i) return;
          if (this.remuxTracks) return;
          if (0 === this.pendingTracks.length)
            return (
              this.emittedTracks++,
              void (
                this.emittedTracks >= this.numberOfTracks &&
                (this.trigger('done'), (this.emittedTracks = 0))
              )
            );
        }
        if (
          (this.videoTrack
            ? ((x = this.videoTrack.timelineStartInfo.pts),
              et.forEach(function (i) {
                w.info[i] = this.videoTrack[i];
              }, this))
            : this.audioTrack &&
              ((x = this.audioTrack.timelineStartInfo.pts),
              xe.forEach(function (i) {
                w.info[i] = this.audioTrack[i];
              }, this)),
          this.videoTrack || this.audioTrack)
        ) {
          for (
            1 === this.pendingTracks.length
              ? (w.type = this.pendingTracks[0].type)
              : (w.type = 'combined'),
              this.emittedTracks += this.pendingTracks.length,
              p = I.initSegment(this.pendingTracks),
              w.initSegment = new Uint8Array(p.byteLength),
              w.initSegment.set(p),
              w.data = new Uint8Array(this.pendingBytes),
              m = 0;
            m < this.pendingBoxes.length;
            m++
          )
            w.data.set(this.pendingBoxes[m], _),
              (_ += this.pendingBoxes[m].byteLength);
          for (m = 0; m < this.pendingCaptions.length; m++)
            ((a = this.pendingCaptions[m]).startTime = $.metadataTsToSeconds(
              a.startPts,
              x,
              this.keepOriginalTimestamps
            )),
              (a.endTime = $.metadataTsToSeconds(
                a.endPts,
                x,
                this.keepOriginalTimestamps
              )),
              (w.captionStreams[a.stream] = !0),
              w.captions.push(a);
          for (m = 0; m < this.pendingMetadata.length; m++)
            ((o = this.pendingMetadata[m]).cueTime = $.metadataTsToSeconds(
              o.pts,
              x,
              this.keepOriginalTimestamps
            )),
              w.metadata.push(o);
          for (
            w.metadata.dispatchType = this.metadataStream.dispatchType,
              this.pendingTracks.length = 0,
              this.videoTrack = null,
              this.pendingBoxes.length = 0,
              this.pendingCaptions.length = 0,
              this.pendingBytes = 0,
              this.pendingMetadata.length = 0,
              this.trigger('data', w),
              m = 0;
            m < w.captions.length;
            m++
          )
            (a = w.captions[m]), this.trigger('caption', a);
          for (m = 0; m < w.metadata.length; m++)
            (o = w.metadata[m]), this.trigger('id3Frame', o);
        }
        this.emittedTracks >= this.numberOfTracks &&
          (this.trigger('done'), (this.emittedTracks = 0));
      }),
      (w.prototype.setRemux = function (i) {
        this.remuxTracks = i;
      }),
      ((_ = function Transmuxer(i) {
        var a,
          o,
          x = this,
          I = !0;
        _.prototype.init.call(this),
          (i = i || {}),
          (this.baseMediaDecodeTime = i.baseMediaDecodeTime || 0),
          (this.transmuxPipeline_ = {}),
          (this.setupAacPipeline = function () {
            var p = {};
            (this.transmuxPipeline_ = p),
              (p.type = 'aac'),
              (p.metadataStream = new q.MetadataStream()),
              (p.aacStream = new Se()),
              (p.audioTimestampRolloverStream = new q.TimestampRolloverStream(
                'audio'
              )),
              (p.timedMetadataTimestampRolloverStream =
                new q.TimestampRolloverStream('timed-metadata')),
              (p.adtsStream = new Z()),
              (p.coalesceStream = new w(i, p.metadataStream)),
              (p.headOfPipeline = p.aacStream),
              p.aacStream
                .pipe(p.audioTimestampRolloverStream)
                .pipe(p.adtsStream),
              p.aacStream
                .pipe(p.timedMetadataTimestampRolloverStream)
                .pipe(p.metadataStream)
                .pipe(p.coalesceStream),
              p.metadataStream.on('timestamp', function (i) {
                p.aacStream.setTimestamp(i.timeStamp);
              }),
              p.aacStream.on('data', function (_) {
                ('timed-metadata' !== _.type && 'audio' !== _.type) ||
                  p.audioSegmentStream ||
                  ((o = o || {
                    timelineStartInfo: {
                      baseMediaDecodeTime: x.baseMediaDecodeTime,
                    },
                    codec: 'adts',
                    type: 'audio',
                  }),
                  p.coalesceStream.numberOfTracks++,
                  (p.audioSegmentStream = new m(o, i)),
                  p.audioSegmentStream.on(
                    'timingInfo',
                    x.trigger.bind(x, 'audioTimingInfo')
                  ),
                  p.adtsStream
                    .pipe(p.audioSegmentStream)
                    .pipe(p.coalesceStream),
                  x.trigger('trackinfo', { hasAudio: !!o, hasVideo: !!a }));
              }),
              p.coalesceStream.on('data', this.trigger.bind(this, 'data')),
              p.coalesceStream.on('done', this.trigger.bind(this, 'done'));
          }),
          (this.setupTsPipeline = function () {
            var _ = {};
            (this.transmuxPipeline_ = _),
              (_.type = 'ts'),
              (_.metadataStream = new q.MetadataStream()),
              (_.packetStream = new q.TransportPacketStream()),
              (_.parseStream = new q.TransportParseStream()),
              (_.elementaryStream = new q.ElementaryStream()),
              (_.timestampRolloverStream = new q.TimestampRolloverStream()),
              (_.adtsStream = new Z()),
              (_.h264Stream = new be()),
              (_.captionStream = new q.CaptionStream(i)),
              (_.coalesceStream = new w(i, _.metadataStream)),
              (_.headOfPipeline = _.packetStream),
              _.packetStream
                .pipe(_.parseStream)
                .pipe(_.elementaryStream)
                .pipe(_.timestampRolloverStream),
              _.timestampRolloverStream.pipe(_.h264Stream),
              _.timestampRolloverStream.pipe(_.adtsStream),
              _.timestampRolloverStream
                .pipe(_.metadataStream)
                .pipe(_.coalesceStream),
              _.h264Stream.pipe(_.captionStream).pipe(_.coalesceStream),
              _.elementaryStream.on('data', function (w) {
                var I;
                if ('metadata' === w.type) {
                  for (I = w.tracks.length; I--; )
                    a || 'video' !== w.tracks[I].type
                      ? o ||
                        'audio' !== w.tracks[I].type ||
                        ((o =
                          w.tracks[I]).timelineStartInfo.baseMediaDecodeTime =
                          x.baseMediaDecodeTime)
                      : ((a =
                          w.tracks[I]).timelineStartInfo.baseMediaDecodeTime =
                          x.baseMediaDecodeTime);
                  a &&
                    !_.videoSegmentStream &&
                    (_.coalesceStream.numberOfTracks++,
                    (_.videoSegmentStream = new p(a, i)),
                    _.videoSegmentStream.on('timelineStartInfo', function (a) {
                      o &&
                        !i.keepOriginalTimestamps &&
                        ((o.timelineStartInfo = a),
                        _.audioSegmentStream.setEarliestDts(
                          a.dts - x.baseMediaDecodeTime
                        ));
                    }),
                    _.videoSegmentStream.on(
                      'processedGopsInfo',
                      x.trigger.bind(x, 'gopInfo')
                    ),
                    _.videoSegmentStream.on(
                      'segmentTimingInfo',
                      x.trigger.bind(x, 'videoSegmentTimingInfo')
                    ),
                    _.videoSegmentStream.on(
                      'baseMediaDecodeTime',
                      function (i) {
                        o &&
                          _.audioSegmentStream.setVideoBaseMediaDecodeTime(i);
                      }
                    ),
                    _.videoSegmentStream.on(
                      'timingInfo',
                      x.trigger.bind(x, 'videoTimingInfo')
                    ),
                    _.h264Stream
                      .pipe(_.videoSegmentStream)
                      .pipe(_.coalesceStream)),
                    o &&
                      !_.audioSegmentStream &&
                      (_.coalesceStream.numberOfTracks++,
                      (_.audioSegmentStream = new m(o, i)),
                      _.audioSegmentStream.on(
                        'timingInfo',
                        x.trigger.bind(x, 'audioTimingInfo')
                      ),
                      _.audioSegmentStream.on(
                        'segmentTimingInfo',
                        x.trigger.bind(x, 'audioSegmentTimingInfo')
                      ),
                      _.adtsStream
                        .pipe(_.audioSegmentStream)
                        .pipe(_.coalesceStream)),
                    x.trigger('trackinfo', { hasAudio: !!o, hasVideo: !!a });
                }
              }),
              _.coalesceStream.on('data', this.trigger.bind(this, 'data')),
              _.coalesceStream.on('id3Frame', function (i) {
                (i.dispatchType = _.metadataStream.dispatchType),
                  x.trigger('id3Frame', i);
              }),
              _.coalesceStream.on(
                'caption',
                this.trigger.bind(this, 'caption')
              ),
              _.coalesceStream.on('done', this.trigger.bind(this, 'done'));
          }),
          (this.setBaseMediaDecodeTime = function (p) {
            var m = this.transmuxPipeline_;
            i.keepOriginalTimestamps || (this.baseMediaDecodeTime = p),
              o &&
                ((o.timelineStartInfo.dts = undefined),
                (o.timelineStartInfo.pts = undefined),
                K.clearDtsInfo(o),
                m.audioTimestampRolloverStream &&
                  m.audioTimestampRolloverStream.discontinuity()),
              a &&
                (m.videoSegmentStream && (m.videoSegmentStream.gopCache_ = []),
                (a.timelineStartInfo.dts = undefined),
                (a.timelineStartInfo.pts = undefined),
                K.clearDtsInfo(a),
                m.captionStream.reset()),
              m.timestampRolloverStream &&
                m.timestampRolloverStream.discontinuity();
          }),
          (this.setAudioAppendStart = function (i) {
            o &&
              this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(i);
          }),
          (this.setRemux = function (a) {
            var o = this.transmuxPipeline_;
            (i.remux = a),
              o && o.coalesceStream && o.coalesceStream.setRemux(a);
          }),
          (this.alignGopsWith = function (i) {
            a &&
              this.transmuxPipeline_.videoSegmentStream &&
              this.transmuxPipeline_.videoSegmentStream.alignGopsWith(i);
          }),
          (this.push = function (i) {
            if (I) {
              var a = _e(i);
              a && 'aac' !== this.transmuxPipeline_.type
                ? this.setupAacPipeline()
                : a ||
                  'ts' === this.transmuxPipeline_.type ||
                  this.setupTsPipeline(),
                (I = !1);
            }
            this.transmuxPipeline_.headOfPipeline.push(i);
          }),
          (this.flush = function () {
            (I = !0), this.transmuxPipeline_.headOfPipeline.flush();
          }),
          (this.endTimeline = function () {
            this.transmuxPipeline_.headOfPipeline.endTimeline();
          }),
          (this.reset = function () {
            this.transmuxPipeline_.headOfPipeline &&
              this.transmuxPipeline_.headOfPipeline.reset();
          }),
          (this.resetCaptions = function () {
            this.transmuxPipeline_.captionStream &&
              this.transmuxPipeline_.captionStream.reset();
          });
      }).prototype = new x()),
      (i.exports = {
        Transmuxer: _,
        VideoSegmentStream: p,
        AudioSegmentStream: m,
        AUDIO_PROPERTIES: xe,
        VIDEO_PROPERTIES: et,
        generateSegmentTimingInfo: rt,
      });
  },
  function (i, a, o) {
    var p = o(182),
      m = o(14),
      _ = o(205),
      w = o(16).f;
    i.exports = function (i) {
      var a = p.Symbol || (p.Symbol = {});
      m(a, i) || w(a, i, { value: _.f(i) });
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(6),
      o(63),
      o(44),
      o(139),
      o(12),
      o(57),
      o(49),
      o(3),
      o(77),
      o(58),
      o(43),
      o(64),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(65)),
      x = (function () {
        function Utils() {
          (0, m['default'])(this, Utils);
        }
        return (
          (0, _['default'])(Utils, null, [
            {
              key: '_textEncode',
              value: function _textEncode(i) {
                if (window.TextEncoder)
                  return new TextEncoder('utf-8').encode(i);
                for (
                  var a = unescape(encodeURIComponent(i)),
                    o = new Uint8Array(a.length),
                    p = 0;
                  p < a.length;
                  p += 1
                )
                  o[p] = a.charCodeAt(p);
                return o;
              },
            },
            {
              key: 'getHash',
              value: function getHash(i) {
                var a =
                  arguments.length > 1 && arguments[1] !== undefined
                    ? arguments[1]
                    : 'SHA-256';
                if (!crypto.subtle)
                  return (
                    w['default'].warn(
                      'unsecure context detected (non localhost clear HTTP ?)'
                    ),
                    Promise.resolve(i)
                  );
                var o = Utils._textEncode(i);
                return crypto.subtle.digest(a, o).then(function (i) {
                  for (
                    var a = '', o = new DataView(i), p = 0;
                    p < i.byteLength;
                    p += 4
                  )
                    a += '00000000'
                      .concat(o.getUint32(p).toString(16))
                      .slice(-8);
                  return a;
                });
              },
            },
            {
              key: '_apiToCamel',
              value: function _apiToCamel(i) {
                return i.replace(/(_\w)/g, function (i) {
                  return i[1].toUpperCase();
                });
              },
            },
            {
              key: 'objectApiToCamel',
              value: function objectApiToCamel(i) {
                var a = Utils._apiToCamel;
                return Object.keys(i).reduce(function (o, p) {
                  return (o[a(p)] = i[p]), o;
                }, {});
              },
            },
            {
              key: 'toUTF8Array',
              value: function toUTF8Array(i) {
                for (var a = [], o = 0; o < i.length; o += 1) {
                  var p = i.charCodeAt(o);
                  p < 128
                    ? a.push(p)
                    : p < 2048
                    ? a.push(192 | (p >> 6), 128 | (63 & p))
                    : p < 55296 || p >= 57344
                    ? a.push(
                        224 | (p >> 12),
                        128 | ((p >> 6) & 63),
                        128 | (63 & p)
                      )
                    : ((o += 1),
                      (p =
                        65536 +
                        (((1023 & p) << 10) | (1023 & i.charCodeAt(o)))),
                      a.push(
                        240 | (p >> 18),
                        128 | ((p >> 12) & 63),
                        128 | ((p >> 6) & 63),
                        128 | (63 & p)
                      ));
                }
                return a;
              },
            },
            {
              key: 'byteArray2ArrayBuffer',
              value: function byteArray2ArrayBuffer(i) {
                for (
                  var a = new ArrayBuffer(i.length),
                    o = new Uint8Array(a),
                    p = 0,
                    m = i.length;
                  p < m;
                  p += 1
                )
                  o[p] = i[p];
                return a;
              },
            },
            {
              key: 'uuid',
              value: function uuid() {
                var i = Date.now();
                return (
                  'undefined' != typeof performance &&
                    'function' == typeof performance.now &&
                    (i += performance.now()),
                  'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
                    /[xy]/g,
                    function (a) {
                      var o = (i + 16 * Math.random()) % 16 | 0;
                      return (
                        (i = Math.floor(i / 16)),
                        ('x' === a ? o : (3 & o) | 8).toString(16)
                      );
                    }
                  )
                );
              },
            },
          ]),
          Utils
        );
      })();
    a['default'] = x;
  },
  function (i, a, o) {
    'use strict';
    var p = o(166),
      m = o(225);
    i.exports = p(
      'Map',
      function (i) {
        return function Map() {
          return i(this, arguments.length ? arguments[0] : undefined);
        };
      },
      m
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(2),
      _ = o(103),
      w = o(46),
      x = o(119),
      I = o(138),
      D = o(70),
      j = o(8),
      K = o(1),
      q = o(127),
      $ = o(60),
      Z = o(128);
    i.exports = function (i, a, o) {
      var be = -1 !== i.indexOf('Map'),
        Se = -1 !== i.indexOf('Weak'),
        _e = be ? 'set' : 'add',
        we = m[i],
        xe = we && we.prototype,
        et = we,
        tt = {},
        fixMethod = function (i) {
          var a = xe[i];
          w(
            xe,
            i,
            'add' == i
              ? function add(i) {
                  return a.call(this, 0 === i ? 0 : i), this;
                }
              : 'delete' == i
              ? function (i) {
                  return !(Se && !j(i)) && a.call(this, 0 === i ? 0 : i);
                }
              : 'get' == i
              ? function get(i) {
                  return Se && !j(i)
                    ? undefined
                    : a.call(this, 0 === i ? 0 : i);
                }
              : 'has' == i
              ? function has(i) {
                  return !(Se && !j(i)) && a.call(this, 0 === i ? 0 : i);
                }
              : function set(i, o) {
                  return a.call(this, 0 === i ? 0 : i, o), this;
                }
          );
        };
      if (
        _(
          i,
          'function' != typeof we ||
            !(
              Se ||
              (xe.forEach &&
                !K(function () {
                  new we().entries().next();
                }))
            )
        )
      )
        (et = o.getConstructor(a, i, be, _e)), (x.REQUIRED = !0);
      else if (_(i, !0)) {
        var rt = new et(),
          nt = rt[_e](Se ? {} : -0, 1) != rt,
          it = K(function () {
            rt.has(1);
          }),
          at = q(function (i) {
            new we(i);
          }),
          ot =
            !Se &&
            K(function () {
              for (var i = new we(), a = 5; a--; ) i[_e](a, a);
              return !i.has(-0);
            });
        at ||
          (((et = a(function (a, o) {
            D(a, et, i);
            var p = Z(new we(), a, et);
            return o != undefined && I(o, p[_e], p, be), p;
          })).prototype = xe),
          (xe.constructor = et)),
          (it || ot) &&
            (fixMethod('delete'), fixMethod('has'), be && fixMethod('get')),
          (ot || nt) && fixMethod(_e),
          Se && xe.clear && delete xe.clear;
      }
      return (
        (tt[i] = et),
        p({ global: !0, forced: et != we }, tt),
        $(et, i),
        Se || o.setStrong(et, i, be),
        et
      );
    };
  },
  function (i, a, o) {
    var p = o(8),
      m = o(59),
      _ = o(5)('match');
    i.exports = function (i) {
      var a;
      return p(i) && ((a = i[_]) !== undefined ? !!a : 'RegExp' == m(i));
    };
  },
  function (i, a) {
    function _setPrototypeOf(a, o) {
      return (
        (i.exports = _setPrototypeOf =
          Object.setPrototypeOf ||
          function _setPrototypeOf(i, a) {
            return (i.__proto__ = a), i;
          }),
        _setPrototypeOf(a, o)
      );
    }
    i.exports = _setPrototypeOf;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(91),
      o(45),
      o(86),
      o(49),
      o(3),
      o(78),
      o(43),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(79)),
      x = p(o(80)),
      I = p(o(67)),
      D = p(o(221)),
      j = p(o(220));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, I['default'])(i);
        if (a) {
          var m = (0, I['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, x['default'])(this, o);
      };
    }
    var K = (function (i) {
      (0, w['default'])(PlayerContent, i);
      var a = _createSuper(PlayerContent);
      function PlayerContent() {
        return (0, m['default'])(this, PlayerContent), a.apply(this, arguments);
      }
      return (
        (0, _['default'])(
          PlayerContent,
          [
            {
              key: 'setMedium',
              value: function setMedium(i, a, o) {
                var p = this;
                return D['default'].probeDrmSupport().then(function (m) {
                  var _ = PlayerContent._chooseSource(i.sources || [], m),
                    w = o['stream.url_parameters']
                      ? '?'.concat(o['stream.url_parameters'])
                      : '',
                    x = new j['default'](
                      i.reference,
                      ''.concat(_.url).concat(w),
                      null,
                      null,
                      null,
                      _.type,
                      i.type
                    );
                  return (
                    _.drm &&
                      _.drm.widevine &&
                      ((x['widevine.license_server'] =
                        _.drm.widevine.license_server),
                      (x['widevine.license_url_parameter'] =
                        o['license.url_parameters'])),
                    _.drm &&
                      _.drm.fairplay &&
                      ((x['fairplay.license_server'] =
                        _.drm.fairplay.license_server),
                      (x['fairplay.license_url_parameter'] =
                        o['license.url_parameters']),
                      (x['fairplay.certificate_uri'] =
                        _.drm.fairplay.certificate_url)),
                    [
                      'veygo.license_server',
                      'veygo.license_token',
                      'veygo.device',
                      'veygo.user_name',
                      'veygo.user_token',
                    ].forEach(function (i) {
                      a[i] && (x[i] = a[i]);
                    }),
                    p.setSource(x, o)
                  );
                });
              },
            },
          ],
          [
            {
              key: '_chooseSource',
              value: function _chooseSource(i, a) {
                var o = function sortDashLast(i, a) {
                    return (i.type === 'dash' - a.type) === 'dash';
                  },
                  p = i
                    .filter(function (i) {
                      return null == i.drm || 0 === Object.keys(i.drm).length;
                    })
                    .sort(o)
                    .pop();
                return (
                  p ||
                  (a.widevine &&
                    (p = i
                      .filter(function (i) {
                        return i.drm && i.drm.widevine !== undefined;
                      })
                      .sort(o)
                      .pop()),
                  p ||
                    (a.playready &&
                      (p = i
                        .filter(function (i) {
                          return i.drm && i.drm.playready !== undefined;
                        })
                        .sort(o)
                        .pop()),
                    p || i[0]))
                );
              },
            },
          ]
        ),
        PlayerContent
      );
    })(D['default']);
    a['default'] = K;
  },
  function (i, a, o) {
    'use strict';
    var p = o(130),
      m = o(167),
      _ = o(11),
      w = o(54),
      x = o(71),
      I = o(160),
      D = o(10),
      j = o(131),
      K = o(129),
      q = o(1),
      $ = [].push,
      Z = Math.min,
      be = 4294967295,
      Se = !q(function () {
        return !RegExp(be, 'y');
      });
    p(
      'split',
      2,
      function (i, a, o) {
        var p;
        return (
          (p =
            'c' == 'abbc'.split(/(b)*/)[1] ||
            4 != 'test'.split(/(?:)/, -1).length ||
            2 != 'ab'.split(/(?:ab)*/).length ||
            4 != '.'.split(/(.?)(.?)/).length ||
            '.'.split(/()()/).length > 1 ||
            ''.split(/.?/).length
              ? function (i, o) {
                  var p = String(w(this)),
                    _ = o === undefined ? be : o >>> 0;
                  if (0 === _) return [];
                  if (i === undefined) return [p];
                  if (!m(i)) return a.call(p, i, _);
                  for (
                    var x,
                      I,
                      D,
                      j = [],
                      q =
                        (i.ignoreCase ? 'i' : '') +
                        (i.multiline ? 'm' : '') +
                        (i.unicode ? 'u' : '') +
                        (i.sticky ? 'y' : ''),
                      Z = 0,
                      Se = new RegExp(i.source, q + 'g');
                    (x = K.call(Se, p)) &&
                    !(
                      (I = Se.lastIndex) > Z &&
                      (j.push(p.slice(Z, x.index)),
                      x.length > 1 &&
                        x.index < p.length &&
                        $.apply(j, x.slice(1)),
                      (D = x[0].length),
                      (Z = I),
                      j.length >= _)
                    );

                  )
                    Se.lastIndex === x.index && Se.lastIndex++;
                  return (
                    Z === p.length
                      ? (!D && Se.test('')) || j.push('')
                      : j.push(p.slice(Z)),
                    j.length > _ ? j.slice(0, _) : j
                  );
                }
              : '0'.split(undefined, 0).length
              ? function (i, o) {
                  return i === undefined && 0 === o ? [] : a.call(this, i, o);
                }
              : a),
          [
            function split(a, o) {
              var m = w(this),
                _ = a == undefined ? undefined : a[i];
              return _ !== undefined
                ? _.call(a, m, o)
                : p.call(String(m), a, o);
            },
            function (i, m) {
              var w = o(p, i, this, m, p !== a);
              if (w.done) return w.value;
              var K = _(i),
                q = String(this),
                $ = x(K, RegExp),
                _e = K.unicode,
                we =
                  (K.ignoreCase ? 'i' : '') +
                  (K.multiline ? 'm' : '') +
                  (K.unicode ? 'u' : '') +
                  (Se ? 'y' : 'g'),
                xe = new $(Se ? K : '^(?:' + K.source + ')', we),
                et = m === undefined ? be : m >>> 0;
              if (0 === et) return [];
              if (0 === q.length) return null === j(xe, q) ? [q] : [];
              for (var tt = 0, rt = 0, nt = []; rt < q.length; ) {
                xe.lastIndex = Se ? rt : 0;
                var it,
                  at = j(xe, Se ? q : q.slice(rt));
                if (
                  null === at ||
                  (it = Z(D(xe.lastIndex + (Se ? 0 : rt)), q.length)) === tt
                )
                  rt = I(q, rt, _e);
                else {
                  if ((nt.push(q.slice(tt, rt)), nt.length === et)) return nt;
                  for (var ot = 1; ot <= at.length - 1; ot++)
                    if ((nt.push(at[ot]), nt.length === et)) return nt;
                  rt = tt = it;
                }
              }
              return nt.push(q.slice(tt)), nt;
            },
          ]
        );
      },
      !Se
    );
  },
  function (i, a, o) {
    'use strict';
    (function (i) {
      var p = o(4);
      o(115),
        o(136),
        o(207),
        o(41),
        o(235),
        o(91),
        o(222),
        o(305),
        o(45),
        o(208),
        o(223),
        o(85),
        o(6),
        o(92),
        o(236),
        o(55),
        o(63),
        o(44),
        o(237),
        o(86),
        o(90),
        o(139),
        o(12),
        o(57),
        o(75),
        o(165),
        o(98),
        o(306),
        o(49),
        o(307),
        o(3),
        o(172),
        o(173),
        o(77),
        o(310),
        o(238),
        o(58),
        o(89),
        o(43),
        o(311),
        o(226),
        o(66),
        o(174),
        o(64),
        o(170),
        o(312),
        o(93),
        o(17),
        o(231),
        o(18),
        o(19),
        o(20),
        o(21),
        o(22),
        o(23),
        o(24),
        o(25),
        o(26),
        o(27),
        o(28),
        o(29),
        o(30),
        o(31),
        o(32),
        o(33),
        o(34),
        o(35),
        o(36),
        o(37),
        o(38),
        o(39),
        o(40),
        o(313),
        o(48),
        o(76),
        o(144);
      var m = p(o(94));
      !(function () {
        var o = 'undefined' != typeof window ? window : i,
          p = {};
        for (var _ in (function (i, a) {
          var o,
            p =
              'function' == typeof Object.defineProperties
                ? Object.defineProperty
                : function (i, a, o) {
                    i != Array.prototype &&
                      i != Object.prototype &&
                      (i[a] = o.value);
                  },
            w =
              void 0 !== i && i === this
                ? this
                : void 0 !== a && null != a
                ? a
                : this;
          function ca() {
            (ca = function ca() {}), w.Symbol || (w.Symbol = I);
          }
          var x,
            I =
              ((x = 0),
              function (i) {
                return 'jscomp_symbol_' + (i || '') + x++;
              });
          function fa() {
            ca();
            var i = w.Symbol.iterator;
            i || (i = w.Symbol.iterator = w.Symbol('iterator')),
              'function' != typeof Array.prototype[i] &&
                p(Array.prototype, i, {
                  configurable: !0,
                  writable: !0,
                  value: function value() {
                    return ia(this);
                  },
                }),
              (fa = function fa() {});
          }
          function ia(i) {
            var a = 0;
            return ja(function () {
              return a < i.length ? { done: !1, value: i[a++] } : { done: !0 };
            });
          }
          function ja(i) {
            return (
              fa(),
              ((i = { next: i })[w.Symbol.iterator] = function () {
                return this;
              }),
              i
            );
          }
          function r(i) {
            fa(), ca(), fa();
            var a = i[Symbol.iterator];
            return a ? a.call(i) : ia(i);
          }
          function ka(i, a) {
            if (a) {
              for (var o = w, m = i.split('.'), _ = 0; _ < m.length - 1; _++) {
                var x = m[_];
                x in o || (o[x] = {}), (o = o[x]);
              }
              (x = a((_ = o[(m = m[m.length - 1])]))) != _ &&
                null != x &&
                p(o, m, { configurable: !0, writable: !0, value: x });
            }
          }
          function t(i) {
            return (function la(i) {
              function c(a) {
                return i.next(a);
              }
              function d(a) {
                return i['throw'](a);
              }
              return new Promise(function (a, o) {
                !(function g(i) {
                  i.done
                    ? a(i.value)
                    : Promise.resolve(i.value).then(c, d).then(g, o);
                })(i.next());
              });
            })(i());
          }
          function ma() {
            (this.g = !1),
              (this.c = null),
              (this.u = void 0),
              (this.j = 1),
              (this.b = this.f = 0),
              (this.i = this.a = null);
          }
          function oa(i) {
            if (i.g) throw new TypeError('Generator is already running');
            i.g = !0;
          }
          function pa(i, a) {
            (i.a = { Jc: a, Xc: !0 }), (i.j = i.f || i.b);
          }
          function u(i, a, o) {
            return (i.j = o), { value: a };
          }
          function qa(i, a, o) {
            (i.f = a), null != o && (i.b = o);
          }
          function ra(i, a) {
            (i.f = 0), (i.b = a || 0);
          }
          function sa(i, a) {
            (i.j = a), (i.f = 0);
          }
          function ta(i) {
            i.f = 0;
            var a = i.a.Jc;
            return (i.a = null), a;
          }
          function ua(i) {
            (i.i = [i.a]), (i.f = 0), (i.b = 0);
          }
          function va(i, a) {
            var o = i.i.splice(0)[0];
            (o = i.a = i.a || o)
              ? o.Xc
                ? (i.j = i.f || i.b)
                : null != o.A && i.b < o.A
                ? ((i.j = o.A), (i.a = null))
                : (i.j = i.b)
              : (i.j = a);
          }
          function wa(i) {
            (this.a = new ma()), (this.b = i);
          }
          function ya(i, a, o, p) {
            try {
              var m = a.call(i.a.c, o);
              if (!(m instanceof Object))
                throw new TypeError(
                  'Iterator result ' + m + ' is not an object'
                );
              if (!m.done) return (i.a.g = !1), m;
              var _ = m.value;
            } catch (w) {
              return (i.a.c = null), pa(i.a, w), za(i);
            }
            return (i.a.c = null), p.call(i.a, _), za(i);
          }
          function za(i) {
            for (; i.a.j; )
              try {
                var a = i.b(i.a);
                if (a) return (i.a.g = !1), { value: a.value, done: !1 };
              } catch (o) {
                (i.a.u = void 0), pa(i.a, o);
              }
            if (((i.a.g = !1), i.a.a)) {
              if (((a = i.a.a), (i.a.a = null), a.Xc)) throw a.Jc;
              return { value: a['return'], done: !0 };
            }
            return { value: void 0, done: !0 };
          }
          function Aa(i) {
            (this.next = function (a) {
              return (
                oa(i.a),
                i.a.c
                  ? (a = ya(i, i.a.c.next, a, i.a.h))
                  : (i.a.h(a), (a = za(i))),
                a
              );
            }),
              (this['throw'] = function (a) {
                return (
                  oa(i.a),
                  i.a.c
                    ? (a = ya(i, i.a.c['throw'], a, i.a.h))
                    : (pa(i.a, a), (a = za(i))),
                  a
                );
              }),
              (this['return'] = function (a) {
                return (function xa(i, a) {
                  oa(i.a);
                  var o = i.a.c;
                  return o
                    ? ya(
                        i,
                        'return' in o
                          ? o['return']
                          : function (i) {
                              return { value: i, done: !0 };
                            },
                        a,
                        i.a['return']
                      )
                    : (i.a['return'](a), za(i));
                })(i, a);
              }),
              fa(),
              (this[Symbol.iterator] = function () {
                return this;
              });
          }
          function v(i, a) {
            return (Aa.prototype = i.prototype), new Aa(new wa(a));
          }
          function Ba(i, a) {
            return Object.prototype.hasOwnProperty.call(i, a);
          }
          function Ca(i, a, o) {
            i instanceof String && (i = String(i));
            for (var p = i.length, m = 0; m < p; m++) {
              var _ = i[m];
              if (a.call(o, _, m, i)) return { Tc: m, ud: _ };
            }
            return { Tc: -1, ud: void 0 };
          }
          function Ea(i, a, o) {
            if (null == i)
              throw new TypeError(
                "The 'this' value for String.prototype." +
                  o +
                  ' must not be null or undefined'
              );
            if (a instanceof RegExp)
              throw new TypeError(
                'First argument to String.prototype.' +
                  o +
                  ' must not be a regular expression'
              );
            return i + '';
          }
          ka('Promise', function (i) {
            function c(i) {
              (this.b = 0), (this.g = void 0), (this.a = []);
              var a = this.c();
              try {
                i(a.resolve, a.reject);
              } catch (o) {
                a.reject(o);
              }
            }
            function d() {
              this.a = null;
            }
            function e(i) {
              return i instanceof c
                ? i
                : new c(function (a) {
                    a(i);
                  });
            }
            if (i) return i;
            (d.prototype.b = function (i) {
              null == this.a && ((this.a = []), this.f()), this.a.push(i);
            }),
              (d.prototype.f = function () {
                var i = this;
                this.c(function () {
                  i.h();
                });
              });
            var a = w.setTimeout;
            (d.prototype.c = function (i) {
              a(i, 0);
            }),
              (d.prototype.h = function () {
                for (; this.a && this.a.length; ) {
                  var i = this.a;
                  this.a = [];
                  for (var a = 0; a < i.length; ++a) {
                    var o = i[a];
                    i[a] = null;
                    try {
                      o();
                    } catch (p) {
                      this.g(p);
                    }
                  }
                }
                this.a = null;
              }),
              (d.prototype.g = function (i) {
                this.c(function () {
                  throw i;
                });
              }),
              (c.prototype.c = function () {
                function b(o) {
                  return function (p) {
                    a || ((a = !0), o.call(i, p));
                  };
                }
                var i = this,
                  a = !1;
                return { resolve: b(this.o), reject: b(this.f) };
              }),
              (c.prototype.o = function (i) {
                if (i === this)
                  this.f(new TypeError('A Promise cannot resolve to itself'));
                else if (i instanceof c) this.s(i);
                else {
                  e: switch ((0, m['default'])(i)) {
                    case 'object':
                      var a = null != i;
                      break e;
                    case 'function':
                      a = !0;
                      break e;
                    default:
                      a = !1;
                  }
                  a ? this.m(i) : this.h(i);
                }
              }),
              (c.prototype.m = function (i) {
                var a = void 0;
                try {
                  a = i.then;
                } catch (o) {
                  return void this.f(o);
                }
                'function' == typeof a ? this.w(a, i) : this.h(i);
              }),
              (c.prototype.f = function (i) {
                this.i(2, i);
              }),
              (c.prototype.h = function (i) {
                this.i(1, i);
              }),
              (c.prototype.i = function (i, a) {
                if (0 != this.b)
                  throw Error(
                    'Cannot settle(' +
                      i +
                      ', ' +
                      a +
                      '): Promise already settled in state' +
                      this.b
                  );
                (this.b = i), (this.g = a), this.l();
              }),
              (c.prototype.l = function () {
                if (null != this.a) {
                  for (var i = 0; i < this.a.length; ++i) o.b(this.a[i]);
                  this.a = null;
                }
              });
            var o = new d();
            return (
              (c.prototype.s = function (i) {
                var a = this.c();
                i.Ab(a.resolve, a.reject);
              }),
              (c.prototype.w = function (i, a) {
                var o = this.c();
                try {
                  i.call(a, o.resolve, o.reject);
                } catch (p) {
                  o.reject(p);
                }
              }),
              (c.prototype.then = function (i, a) {
                function e(i, a) {
                  return 'function' == typeof i
                    ? function (a) {
                        try {
                          o(i(a));
                        } catch (m) {
                          p(m);
                        }
                      }
                    : a;
                }
                var o,
                  p,
                  m = new c(function (i, a) {
                    (o = i), (p = a);
                  });
                return this.Ab(e(i, o), e(a, p)), m;
              }),
              (c.prototype['catch'] = function (i) {
                return this.then(void 0, i);
              }),
              (c.prototype.Ab = function (i, a) {
                function d() {
                  switch (p.b) {
                    case 1:
                      i(p.g);
                      break;
                    case 2:
                      a(p.g);
                      break;
                    default:
                      throw Error('Unexpected state: ' + p.b);
                  }
                }
                var p = this;
                null == this.a ? o.b(d) : this.a.push(d);
              }),
              (c.resolve = e),
              (c.reject = function (i) {
                return new c(function (a, o) {
                  o(i);
                });
              }),
              (c.race = function (i) {
                return new c(function (a, o) {
                  for (var p = r(i), m = p.next(); !m.done; m = p.next())
                    e(m.value).Ab(a, o);
                });
              }),
              (c.all = function (i) {
                var a = r(i),
                  o = a.next();
                return o.done
                  ? e([])
                  : new c(function (i, p) {
                      function g(a) {
                        return function (o) {
                          (m[a] = o), 0 == --_ && i(m);
                        };
                      }
                      var m = [],
                        _ = 0;
                      do {
                        m.push(void 0),
                          _++,
                          e(o.value).Ab(g(m.length - 1), p),
                          (o = a.next());
                      } while (!o.done);
                    });
              }),
              c
            );
          }),
            ka('Promise.prototype.finally', function (i) {
              return (
                i ||
                function (i) {
                  return this.then(
                    function (a) {
                      return Promise.resolve(i()).then(function () {
                        return a;
                      });
                    },
                    function (a) {
                      return Promise.resolve(i()).then(function () {
                        throw a;
                      });
                    }
                  );
                }
              );
            }),
            (ma.prototype.h = function (i) {
              this.u = i;
            }),
            (ma.prototype['return'] = function (i) {
              (this.a = { return: i }), (this.j = this.b);
            }),
            (ma.prototype.A = function (i) {
              this.j = i;
            }),
            ka('WeakMap', function (i) {
              function c(i) {
                if (((this.a = (o += Math.random() + 1).toString()), i)) {
                  ca(), fa(), (i = r(i));
                  for (var a; !(a = i.next()).done; )
                    (a = a.value), this.set(a[0], a[1]);
                }
              }
              function d(i) {
                Ba(i, a) || p(i, a, { value: {} });
              }
              function e(i) {
                var a = Object[i];
                a &&
                  (Object[i] = function (i) {
                    return d(i), a(i);
                  });
              }
              if (
                (function () {
                  if (!i || !Object.seal) return !1;
                  try {
                    var a = Object.seal({}),
                      o = Object.seal({}),
                      p = new i([
                        [a, 2],
                        [o, 3],
                      ]);
                    return (
                      2 == p.get(a) &&
                      3 == p.get(o) &&
                      (p['delete'](a), p.set(o, 4), !p.has(a) && 4 == p.get(o))
                    );
                  } catch (m) {
                    return !1;
                  }
                })()
              )
                return i;
              var a = '$jscomp_hidden_' + Math.random();
              e('freeze'), e('preventExtensions'), e('seal');
              var o = 0;
              return (
                (c.prototype.set = function (i, o) {
                  if ((d(i), !Ba(i, a))) throw Error('WeakMap key fail: ' + i);
                  return (i[a][this.a] = o), this;
                }),
                (c.prototype.get = function (i) {
                  return Ba(i, a) ? i[a][this.a] : void 0;
                }),
                (c.prototype.has = function (i) {
                  return Ba(i, a) && Ba(i[a], this.a);
                }),
                (c.prototype['delete'] = function (i) {
                  return (
                    !(!Ba(i, a) || !Ba(i[a], this.a)) && delete i[a][this.a]
                  );
                }),
                c
              );
            }),
            ka('Map', function (i) {
              function c() {
                var i = {};
                return (i.ta = i.next = i.head = i);
              }
              function d(i, a) {
                var o = i.a;
                return ja(function () {
                  if (o) {
                    for (; o.head != i.a; ) o = o.ta;
                    for (; o.next != o.head; )
                      return (o = o.next), { done: !1, value: a(o) };
                    o = null;
                  }
                  return { done: !0, value: void 0 };
                });
              }
              function e(i, p) {
                var _ = p && (0, m['default'])(p);
                'object' == _ || 'function' == _
                  ? a.has(p)
                    ? (_ = a.get(p))
                    : ((_ = '' + ++o), a.set(p, _))
                  : (_ = 'p_' + p);
                var w = i.b[_];
                if (w && Ba(i.b, _))
                  for (var x = 0; x < w.length; x++) {
                    var I = w[x];
                    if ((p != p && I.key != I.key) || p === I.key)
                      return { id: _, list: w, index: x, S: I };
                  }
                return { id: _, list: w, index: -1, S: void 0 };
              }
              function f(i) {
                if (((this.b = {}), (this.a = c()), (this.size = 0), i)) {
                  i = r(i);
                  for (var a; !(a = i.next()).done; )
                    (a = a.value), this.set(a[0], a[1]);
                }
              }
              if (
                (function () {
                  if (
                    !i ||
                    'function' != typeof i ||
                    !i.prototype.entries ||
                    'function' != typeof Object.seal
                  )
                    return !1;
                  try {
                    var a = Object.seal({ x: 4 }),
                      o = new i(r([[a, 's']]));
                    if (
                      's' != o.get(a) ||
                      1 != o.size ||
                      o.get({ x: 4 }) ||
                      o.set({ x: 4 }, 't') != o ||
                      2 != o.size
                    )
                      return !1;
                    var p = o.entries(),
                      m = p.next();
                    return (
                      !m.done &&
                      m.value[0] == a &&
                      's' == m.value[1] &&
                      !(
                        (m = p.next()).done ||
                        4 != m.value[0].x ||
                        't' != m.value[1] ||
                        !p.next().done
                      )
                    );
                  } catch (_) {
                    return !1;
                  }
                })()
              )
                return i;
              ca(), fa();
              var a = new WeakMap();
              (f.prototype.set = function (i, a) {
                var o = e(this, i);
                return (
                  o.list || (o.list = this.b[o.id] = []),
                  o.S
                    ? (o.S.value = a)
                    : ((o.S = {
                        next: this.a,
                        ta: this.a.ta,
                        head: this.a,
                        key: i,
                        value: a,
                      }),
                      o.list.push(o.S),
                      (this.a.ta.next = o.S),
                      (this.a.ta = o.S),
                      this.size++),
                  this
                );
              }),
                (f.prototype['delete'] = function (i) {
                  return (
                    !(!(i = e(this, i)).S || !i.list) &&
                    (i.list.splice(i.index, 1),
                    i.list.length || delete this.b[i.id],
                    (i.S.ta.next = i.S.next),
                    (i.S.next.ta = i.S.ta),
                    (i.S.head = null),
                    this.size--,
                    !0)
                  );
                }),
                (f.prototype.clear = function () {
                  (this.b = {}), (this.a = this.a.ta = c()), (this.size = 0);
                }),
                (f.prototype.has = function (i) {
                  return !!e(this, i).S;
                }),
                (f.prototype.get = function (i) {
                  return (i = e(this, i).S) && i.value;
                }),
                (f.prototype.entries = function () {
                  return d(this, function (i) {
                    return [i.key, i.value];
                  });
                }),
                (f.prototype.keys = function () {
                  return d(this, function (i) {
                    return i.key;
                  });
                }),
                (f.prototype.values = function () {
                  return d(this, function (i) {
                    return i.value;
                  });
                }),
                (f.prototype.forEach = function (i, a) {
                  for (var o, p = this.entries(); !(o = p.next()).done; )
                    (o = o.value), i.call(a, o[1], o[0], this);
                }),
                (f.prototype[Symbol.iterator] = f.prototype.entries);
              var o = 0;
              return f;
            }),
            ka('Set', function (i) {
              function c(i) {
                if (((this.a = new Map()), i)) {
                  i = r(i);
                  for (var a; !(a = i.next()).done; ) this.add(a.value);
                }
                this.size = this.a.size;
              }
              return (function () {
                if (
                  !i ||
                  'function' != typeof i ||
                  !i.prototype.entries ||
                  'function' != typeof Object.seal
                )
                  return !1;
                try {
                  var a = Object.seal({ x: 4 }),
                    o = new i(r([a]));
                  if (
                    !o.has(a) ||
                    1 != o.size ||
                    o.add(a) != o ||
                    1 != o.size ||
                    o.add({ x: 4 }) != o ||
                    2 != o.size
                  )
                    return !1;
                  var p = o.entries(),
                    m = p.next();
                  return (
                    !m.done &&
                    m.value[0] == a &&
                    m.value[1] == a &&
                    !(m = p.next()).done &&
                    m.value[0] != a &&
                    4 == m.value[0].x &&
                    m.value[1] == m.value[0] &&
                    p.next().done
                  );
                } catch (_) {
                  return !1;
                }
              })()
                ? i
                : (ca(),
                  fa(),
                  (c.prototype.add = function (i) {
                    return this.a.set(i, i), (this.size = this.a.size), this;
                  }),
                  (c.prototype['delete'] = function (i) {
                    return (
                      (i = this.a['delete'](i)), (this.size = this.a.size), i
                    );
                  }),
                  (c.prototype.clear = function () {
                    this.a.clear(), (this.size = 0);
                  }),
                  (c.prototype.has = function (i) {
                    return this.a.has(i);
                  }),
                  (c.prototype.entries = function () {
                    return this.a.entries();
                  }),
                  (c.prototype.values = function () {
                    return this.a.values();
                  }),
                  (c.prototype.keys = c.prototype.values),
                  (c.prototype[Symbol.iterator] = c.prototype.values),
                  (c.prototype.forEach = function (i, a) {
                    var o = this;
                    this.a.forEach(function (p) {
                      return i.call(a, p, p, o);
                    });
                  }),
                  c);
            }),
            ka('Array.prototype.findIndex', function (i) {
              return (
                i ||
                function (i, a) {
                  return Ca(this, i, a).Tc;
                }
              );
            }),
            ka('Array.prototype.keys', function (i) {
              return (
                i ||
                function () {
                  return (function Da(i, a) {
                    fa(), i instanceof String && (i += '');
                    var o = 0,
                      p = {
                        next: function next() {
                          if (o < i.length) {
                            var m = o++;
                            return { value: a(m, i[m]), done: !1 };
                          }
                          return (
                            (p.next = function () {
                              return { done: !0, value: void 0 };
                            }),
                            p.next()
                          );
                        },
                      };
                    return (
                      (p[Symbol.iterator] = function () {
                        return p;
                      }),
                      p
                    );
                  })(this, function (i) {
                    return i;
                  });
                }
              );
            }),
            ka('Object.is', function (i) {
              return (
                i ||
                function (i, a) {
                  return i === a ? 0 !== i || 1 / i == 1 / a : i != i && a != a;
                }
              );
            }),
            ka('Array.prototype.includes', function (i) {
              return (
                i ||
                function (i, a) {
                  var o = this;
                  o instanceof String && (o = String(o));
                  var p = o.length,
                    m = a || 0;
                  for (0 > m && (m = Math.max(m + p, 0)); m < p; m++) {
                    var _ = o[m];
                    if (_ === i || Object.is(_, i)) return !0;
                  }
                  return !1;
                }
              );
            }),
            ka('String.prototype.includes', function (i) {
              return (
                i ||
                function (i, a) {
                  return -1 !== Ea(this, i, 'includes').indexOf(i, a || 0);
                }
              );
            }),
            ka('Array.from', function (i) {
              return (
                i ||
                function (i, a, o) {
                  fa(),
                    (a =
                      null != a
                        ? a
                        : function (i) {
                            return i;
                          });
                  var p = [],
                    m = i[Symbol.iterator];
                  if ('function' == typeof m)
                    for (i = m.call(i); !(m = i.next()).done; )
                      p.push(a.call(o, m.value));
                  else {
                    m = i.length;
                    for (var _ = 0; _ < m; _++) p.push(a.call(o, i[_]));
                  }
                  return p;
                }
              );
            }),
            ka('Array.prototype.find', function (i) {
              return (
                i ||
                function (i, a) {
                  return Ca(this, i, a).ud;
                }
              );
            }),
            ka('String.prototype.startsWith', function (i) {
              return (
                i ||
                function (i, a) {
                  for (
                    var o = Ea(this, i, 'startsWith'),
                      p = o.length,
                      m = i.length,
                      _ = Math.max(0, Math.min(0 | a, o.length)),
                      w = 0;
                    w < m && _ < p;

                  )
                    if (o[_++] != i[w++]) return !1;
                  return w >= m;
                }
              );
            });
          var D = this;
          function y(i, a) {
            var o,
              p = i.split('.'),
              m = D;
            p[0] in m || !m.execScript || m.execScript('var ' + p[0]);
            for (; p.length && (o = p.shift()); )
              p.length || void 0 === a
                ? (m = m[o] ? m[o] : (m[o] = {}))
                : (m[o] = a);
          }
          function Ga(i, a) {
            function d() {}
            (d.prototype = a.prototype),
              (i.qf = a.prototype),
              (i.prototype = new d()),
              (i.prototype.constructor = i),
              (i.kf = function (i, o, p) {
                return a.prototype[o].apply(
                  i,
                  Array.prototype.slice.call(arguments, 2)
                );
              });
          }
          function Ha(i) {
            (this.c = Math.exp(Math.log(0.5) / i)), (this.b = this.a = 0);
          }
          function Ia(i, a, o) {
            var p = Math.pow(i.c, a);
            (o = o * (1 - p) + p * i.a), isNaN(o) || ((i.a = o), (i.b += a));
          }
          function Ja(i) {
            return i.a / (1 - Math.pow(i.c, i.b));
          }
          function Ka() {
            (this.b = new Ha(2)), (this.c = new Ha(5)), (this.a = 0);
          }
          function La() {}
          function Ma() {}
          (D.a = !0),
            (Ka.prototype.getBandwidthEstimate = function (i) {
              return 128e3 > this.a ? i : Math.min(Ja(this.b), Ja(this.c));
            }),
            i.console &&
              i.console.log.bind &&
              ((Ma = console.warn.bind(console)),
              (La = console.error.bind(console)));
          var j =
            /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
          function Oa(i) {
            var a;
            i instanceof Oa
              ? (Sa(this, i.ka),
                (this.Na = i.Na),
                (this.pa = i.pa),
                Ta(this, i.ab),
                (this.da = i.da),
                Ua(this, i.a.clone()),
                (this.Ga = i.Ga))
              : i && (a = String(i).match(j))
              ? (Sa(this, a[1] || '', !0),
                (this.Na = Va(a[2] || '')),
                (this.pa = Va(a[3] || '', !0)),
                Ta(this, a[4]),
                (this.da = Va(a[5] || '', !0)),
                Ua(this, a[6] || '', !0),
                (this.Ga = Va(a[7] || '')))
              : (this.a = new Wa(null));
          }
          function Sa(i, a, o) {
            (i.ka = o ? Va(a, !0) : a), i.ka && (i.ka = i.ka.replace(/:$/, ''));
          }
          function Ta(i, a) {
            if (a) {
              if (((a = Number(a)), isNaN(a) || 0 > a))
                throw Error('Bad port number ' + a);
              i.ab = a;
            } else i.ab = null;
          }
          function Ua(i, a, o) {
            a instanceof Wa
              ? (i.a = a)
              : (o || (a = Xa(a, Z)), (i.a = new Wa(a)));
          }
          function Va(i, a) {
            return i ? (a ? decodeURI(i) : decodeURIComponent(i)) : '';
          }
          function Xa(i, a, o) {
            return 'string' == typeof i
              ? ((i = encodeURI(i).replace(a, db)),
                o && (i = i.replace(/%25([0-9a-fA-F]{2})/g, '%$1')),
                i)
              : null;
          }
          function db(i) {
            return (
              '%' +
              (((i = i.charCodeAt(0)) >> 4) & 15).toString(16) +
              (15 & i).toString(16)
            );
          }
          ((o = Oa.prototype).ka = ''),
            (o.Na = ''),
            (o.pa = ''),
            (o.ab = null),
            (o.da = ''),
            (o.Ga = ''),
            (o.toString = function () {
              var i = [],
                a = this.ka;
              if ((a && i.push(Xa(a, K, !0), ':'), (a = this.pa))) {
                i.push('//');
                var o = this.Na;
                o && i.push(Xa(o, K, !0), '@'),
                  i.push(
                    encodeURIComponent(a).replace(/%25([0-9a-fA-F]{2})/g, '%$1')
                  ),
                  null != (a = this.ab) && i.push(':', String(a));
              }
              return (
                (a = this.da) &&
                  (this.pa && '/' != a.charAt(0) && i.push('/'),
                  i.push(Xa(a, '/' == a.charAt(0) ? $ : q, !0))),
                (a = this.a.toString()) && i.push('?', a),
                (a = this.Ga) && i.push('#', Xa(a, be)),
                i.join('')
              );
            }),
            (o.resolve = function (i) {
              var a = this.clone();
              'data' === a.ka && (a = new Oa());
              var o = !!i.ka;
              o ? Sa(a, i.ka) : (o = !!i.Na),
                o ? (a.Na = i.Na) : (o = !!i.pa),
                o ? (a.pa = i.pa) : (o = null != i.ab);
              var p = i.da;
              if (o) Ta(a, i.ab);
              else if ((o = !!i.da)) {
                if ('/' != p.charAt(0))
                  if (this.pa && !this.da) p = '/' + p;
                  else {
                    var m = a.da.lastIndexOf('/');
                    -1 != m && (p = a.da.substr(0, m + 1) + p);
                  }
                if ('..' == p || '.' == p) p = '';
                else if (-1 != p.indexOf('./') || -1 != p.indexOf('/.')) {
                  (m = 0 == p.lastIndexOf('/', 0)), (p = p.split('/'));
                  for (var _ = [], w = 0; w < p.length; ) {
                    var x = p[w++];
                    '.' == x
                      ? m && w == p.length && _.push('')
                      : '..' == x
                      ? ((1 < _.length || (1 == _.length && '' != _[0])) &&
                          _.pop(),
                        m && w == p.length && _.push(''))
                      : (_.push(x), (m = !0));
                  }
                  p = _.join('/');
                }
              }
              return (
                o ? (a.da = p) : (o = '' !== i.a.toString()),
                o ? Ua(a, i.a.clone()) : (o = !!i.Ga),
                o && (a.Ga = i.Ga),
                a
              );
            }),
            (o.clone = function () {
              return new Oa(this);
            });
          var K = /[#\/\?@]/g,
            q = /[#\?:]/g,
            $ = /[#\?]/g,
            Z = /[#\?@]/g,
            be = /#/g;
          function Wa(i) {
            this.a = i || null;
          }
          function z() {
            var i,
              a,
              o = new Promise(function (o, p) {
                (i = o), (a = p);
              });
            return (o.resolve = i), (o.reject = a), o;
          }
          function eb(i, a) {
            var o = {
              maxAttempts: 3,
              baseDelay: 1e3,
              backoffFactor: 2,
              fuzzFactor: 0.5,
              timeout: 1e4,
            };
            (this.i = null == i.maxAttempts ? o.maxAttempts : i.maxAttempts),
              (this.f = null == i.baseDelay ? o.baseDelay : i.baseDelay),
              (this.h = null == i.fuzzFactor ? o.fuzzFactor : i.fuzzFactor),
              (this.g =
                null == i.backoffFactor ? o.backoffFactor : i.backoffFactor),
              (this.a = 0),
              (this.b = this.f),
              (this.c = void 0 !== a && a) && (this.a = 1);
          }
          function gb(a) {
            if (a.a >= a.i) {
              if (!a.c) return Promise.reject();
              (a.a = 1), (a.b = a.f);
            }
            var o = new z();
            return (
              a.a
                ? (i.setTimeout(
                    o.resolve,
                    a.b * (1 + (2 * Math.random() - 1) * a.h)
                  ),
                  (a.b *= a.g))
                : o.resolve(),
              a.a++,
              o
            );
          }
          function A(i, a, o, p) {
            for (var m = [], _ = 3; _ < arguments.length; ++_)
              m[_ - 3] = arguments[_];
            (this.severity = i),
              (this.category = a),
              (this.code = o),
              (this.data = m),
              (this.handled = !1);
          }
          function B(i, a) {
            (this.promise = i), (this.b = a), (this.a = !1);
          }
          function hb(i) {
            return new B(Promise.reject(i), function () {
              return Promise.resolve();
            });
          }
          function ib() {
            var i = Promise.reject(new A(2, 7, 7001));
            return (
              i['catch'](function () {}),
              new B(i, function () {
                return Promise.resolve();
              })
            );
          }
          function jb(i) {
            return new B(Promise.resolve(i), function () {
              return Promise.resolve();
            });
          }
          function kb(i) {
            return new B(i, function () {
              return i['catch'](function () {});
            });
          }
          function lb(i) {
            return new B(
              Promise.all(
                i.map(function (i) {
                  return i.promise;
                })
              ),
              function () {
                return Promise.all(
                  i.map(function (i) {
                    return i.abort();
                  })
                );
              }
            );
          }
          function ob(i, a, o) {
            try {
              var p = i(a);
              return p && p.promise && p.abort
                ? (o.resolve(p.promise),
                  function () {
                    return p.abort();
                  })
                : (o.resolve(p),
                  function () {
                    return Promise.resolve(p)
                      .then(function () {})
                      ['catch'](function () {});
                  });
            } catch (m) {
              return (
                o.reject(m),
                function () {
                  return Promise.resolve();
                }
              );
            }
          }
          function C(a, o) {
            for (var p in (o = void 0 === o ? {} : o)) this[p] = o[p];
            (this.defaultPrevented = this.cancelable = this.bubbles = !1),
              (this.timeStamp =
                i.performance && i.performance.now
                  ? i.performance.now()
                  : Date.now()),
              (this.type = a),
              (this.isTrusted = !1),
              (this.target = this.currentTarget = null),
              (this.a = !1);
          }
          function pb() {
            this.a = {};
          }
          function qb() {
            (this.Rb = new pb()), (this.Bc = this);
          }
          function rb(i) {
            var a = new Set();
            return (function c(i) {
              switch ((0, m['default'])(i)) {
                case 'undefined':
                case 'boolean':
                case 'number':
                case 'string':
                case 'symbol':
                case 'function':
                  return i;
                default:
                  if (!i || (i.buffer && i.buffer.constructor == ArrayBuffer))
                    return i;
                  if (a.has(i)) return null;
                  var o = i.constructor == Array;
                  if (i.constructor != Object && !o) return null;
                  a.add(i);
                  var p,
                    _ = o ? [] : {};
                  for (p in i) _[p] = c(i[p]);
                  return o && (_.length = i.length), _;
              }
            })(i);
          }
          function sb(i, a) {
            return (
              !(
                'number' != typeof i ||
                'number' != typeof a ||
                !isNaN(i) ||
                !isNaN(a)
              ) || i === a
            );
          }
          function tb(i, a) {
            var o = i.indexOf(a);
            -1 < o && i.splice(o, 1);
          }
          function vb(i, a, o) {
            if ((o || (o = sb), i.length != a.length)) return !1;
            a = a.slice();
            for (
              var p = {}, m = (i = r(i)).next();
              !m.done;
              p = { item: p.item }, m = i.next()
            ) {
              if (
                ((p.item = m.value),
                -1 ==
                  (m = a.findIndex(
                    (function (i) {
                      return function (a) {
                        return o(i.item, a);
                      };
                    })(p)
                  )))
              )
                return !1;
              (a[m] = a[a.length - 1]), a.pop();
            }
            return 0 == a.length;
          }
          function wb() {
            this.a = [];
          }
          function xb(i, a) {
            i.a.push(
              a['finally'](function () {
                tb(i.a, a);
              })
            );
          }
          function E(i) {
            qb.call(this),
              (this.f = !1),
              (this.g = new wb()),
              (this.a = new Set()),
              (this.b = new Set()),
              (this.c = i || null);
          }
          ((o = Wa.prototype).ca = null),
            (o.Cb = null),
            (o.add = function (i, a) {
              if (!this.ca && ((this.ca = {}), (this.Cb = 0), this.a))
                for (var o = this.a.split('&'), p = 0; p < o.length; p++) {
                  var m = o[p].indexOf('='),
                    _ = null;
                  if (0 <= m) {
                    var w = o[p].substring(0, m);
                    _ = o[p].substring(m + 1);
                  } else w = o[p];
                  (w = decodeURIComponent(w.replace(/\+/g, ' '))),
                    (_ = _ || ''),
                    this.add(w, decodeURIComponent(_.replace(/\+/g, ' ')));
                }
              return (
                (this.a = null),
                (o = this.ca.hasOwnProperty(i) && this.ca[i]) ||
                  (this.ca[i] = o = []),
                o.push(a),
                this.Cb++,
                this
              );
            }),
            (o.toString = function () {
              if (this.a) return this.a;
              if (!this.ca) return '';
              var i,
                a = [];
              for (i in this.ca)
                for (
                  var o = encodeURIComponent(i), p = this.ca[i], m = 0;
                  m < p.length;
                  m++
                ) {
                  var _ = o;
                  '' !== p[m] && (_ += '=' + encodeURIComponent(p[m])),
                    a.push(_);
                }
              return (this.a = a.join('&'));
            }),
            (o.clone = function () {
              var i = new Wa();
              if (((i.a = this.a), this.ca)) {
                var a,
                  o = {};
                for (a in this.ca) o[a] = this.ca[a].concat();
                (i.ca = o), (i.Cb = this.Cb);
              }
              return i;
            }),
            (z.prototype.resolve = function () {}),
            (z.prototype.reject = function () {}),
            y('veygo.util.Error', A),
            (A.prototype.toString = function () {
              return 'veygo.util.Error ' + JSON.stringify(this, null, '  ');
            }),
            (A.Severity = { RECOVERABLE: 1, CRITICAL: 2 }),
            (A.Category = {
              NETWORK: 1,
              TEXT: 2,
              MEDIA: 3,
              MANIFEST: 4,
              STREAMING: 5,
              DRM: 6,
              PLAYER: 7,
              CAST: 8,
              STORAGE: 9,
            }),
            (A.Code = {
              UNSUPPORTED_SCHEME: 1e3,
              BAD_HTTP_STATUS: 1001,
              HTTP_ERROR: 1002,
              TIMEOUT: 1003,
              MALFORMED_DATA_URI: 1004,
              UNKNOWN_DATA_URI_ENCODING: 1005,
              REQUEST_FILTER_ERROR: 1006,
              RESPONSE_FILTER_ERROR: 1007,
              MALFORMED_TEST_URI: 1008,
              UNEXPECTED_TEST_REQUEST: 1009,
              INVALID_TEXT_HEADER: 2e3,
              INVALID_TEXT_CUE: 2001,
              UNABLE_TO_DETECT_ENCODING: 2003,
              BAD_ENCODING: 2004,
              INVALID_XML: 2005,
              INVALID_MP4_TTML: 2007,
              INVALID_MP4_VTT: 2008,
              UNABLE_TO_EXTRACT_CUE_START_TIME: 2009,
              BUFFER_READ_OUT_OF_BOUNDS: 3e3,
              JS_INTEGER_OVERFLOW: 3001,
              EBML_OVERFLOW: 3002,
              EBML_BAD_FLOATING_POINT_SIZE: 3003,
              MP4_SIDX_WRONG_BOX_TYPE: 3004,
              MP4_SIDX_INVALID_TIMESCALE: 3005,
              MP4_SIDX_TYPE_NOT_SUPPORTED: 3006,
              WEBM_CUES_ELEMENT_MISSING: 3007,
              WEBM_EBML_HEADER_ELEMENT_MISSING: 3008,
              WEBM_SEGMENT_ELEMENT_MISSING: 3009,
              WEBM_INFO_ELEMENT_MISSING: 3010,
              WEBM_DURATION_ELEMENT_MISSING: 3011,
              WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING: 3012,
              WEBM_CUE_TIME_ELEMENT_MISSING: 3013,
              MEDIA_SOURCE_OPERATION_FAILED: 3014,
              MEDIA_SOURCE_OPERATION_THREW: 3015,
              VIDEO_ERROR: 3016,
              QUOTA_EXCEEDED_ERROR: 3017,
              TRANSMUXING_FAILED: 3018,
              UNABLE_TO_GUESS_MANIFEST_TYPE: 4e3,
              DASH_INVALID_XML: 4001,
              DASH_NO_SEGMENT_INFO: 4002,
              DASH_EMPTY_ADAPTATION_SET: 4003,
              DASH_EMPTY_PERIOD: 4004,
              DASH_WEBM_MISSING_INIT: 4005,
              DASH_UNSUPPORTED_CONTAINER: 4006,
              DASH_PSSH_BAD_ENCODING: 4007,
              DASH_NO_COMMON_KEY_SYSTEM: 4008,
              DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED: 4009,
              DASH_CONFLICTING_KEY_IDS: 4010,
              UNPLAYABLE_PERIOD: 4011,
              RESTRICTIONS_CANNOT_BE_MET: 4012,
              NO_PERIODS: 4014,
              HLS_PLAYLIST_HEADER_MISSING: 4015,
              INVALID_HLS_TAG: 4016,
              HLS_INVALID_PLAYLIST_HIERARCHY: 4017,
              DASH_DUPLICATE_REPRESENTATION_ID: 4018,
              HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND: 4020,
              HLS_COULD_NOT_GUESS_MIME_TYPE: 4021,
              HLS_MASTER_PLAYLIST_NOT_PROVIDED: 4022,
              HLS_REQUIRED_ATTRIBUTE_MISSING: 4023,
              HLS_REQUIRED_TAG_MISSING: 4024,
              HLS_COULD_NOT_GUESS_CODECS: 4025,
              HLS_KEYFORMATS_NOT_SUPPORTED: 4026,
              DASH_UNSUPPORTED_XLINK_ACTUATE: 4027,
              DASH_XLINK_DEPTH_LIMIT: 4028,
              HLS_COULD_NOT_PARSE_SEGMENT_START_TIME: 4030,
              CONTENT_UNSUPPORTED_BY_BROWSER: 4032,
              CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM: 4033,
              INVALID_STREAMS_CHOSEN: 5005,
              NO_RECOGNIZED_KEY_SYSTEMS: 6e3,
              REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE: 6001,
              FAILED_TO_CREATE_CDM: 6002,
              FAILED_TO_ATTACH_TO_VIDEO: 6003,
              INVALID_SERVER_CERTIFICATE: 6004,
              FAILED_TO_CREATE_SESSION: 6005,
              FAILED_TO_GENERATE_LICENSE_REQUEST: 6006,
              LICENSE_REQUEST_FAILED: 6007,
              LICENSE_RESPONSE_REJECTED: 6008,
              ENCRYPTED_CONTENT_WITHOUT_DRM_INFO: 6010,
              NO_LICENSE_SERVER_GIVEN: 6012,
              OFFLINE_SESSION_REMOVED: 6013,
              EXPIRED: 6014,
              LOAD_INTERRUPTED: 7e3,
              OPERATION_ABORTED: 7001,
              NO_VIDEO_ELEMENT: 7002,
              CAST_API_UNAVAILABLE: 8e3,
              NO_CAST_RECEIVERS: 8001,
              ALREADY_CASTING: 8002,
              UNEXPECTED_CAST_ERROR: 8003,
              CAST_CANCELED_BY_USER: 8004,
              CAST_CONNECTION_TIMED_OUT: 8005,
              CAST_RECEIVER_APP_UNAVAILABLE: 8006,
              STORAGE_NOT_SUPPORTED: 9e3,
              INDEXED_DB_ERROR: 9001,
              DEPRECATED_OPERATION_ABORTED: 9002,
              REQUESTED_ITEM_NOT_FOUND: 9003,
              MALFORMED_OFFLINE_URI: 9004,
              CANNOT_STORE_LIVE_OFFLINE: 9005,
              STORE_ALREADY_IN_PROGRESS: 9006,
              NO_INIT_DATA_FOR_OFFLINE: 9007,
              LOCAL_PLAYER_INSTANCE_REQUIRED: 9008,
              NEW_KEY_OPERATION_NOT_SUPPORTED: 9011,
              KEY_NOT_FOUND: 9012,
              MISSING_STORAGE_CELL: 9013,
            }),
            y('veygo.util.AbortableOperation', B),
            (B.failed = hb),
            (B.aborted = ib),
            (B.completed = jb),
            (B.notAbortable = kb),
            (B.prototype.abort = function () {
              return (this.a = !0), this.b();
            }),
            (B.prototype.abort = B.prototype.abort),
            (B.all = lb),
            (B.prototype['finally'] = function (i) {
              return (
                this.promise.then(
                  function () {
                    return i(!0);
                  },
                  function () {
                    return i(!1);
                  }
                ),
                this
              );
            }),
            (B.prototype['finally'] = B.prototype['finally']),
            (B.prototype.Z = function (i, a) {
              function d() {
                return p.reject(new A(2, 7, 7001)), o.abort();
              }
              var o = this,
                p = new z();
              return (
                this.promise.then(
                  function (a) {
                    o.a
                      ? p.reject(new A(2, 7, 7001))
                      : i
                      ? (d = ob(i, a, p))
                      : p.resolve(a);
                  },
                  function (i) {
                    a ? (d = ob(a, i, p)) : p.reject(i);
                  }
                ),
                new B(p, function () {
                  return d();
                })
              );
            }),
            (B.prototype.chain = B.prototype.Z),
            (C.prototype.preventDefault = function () {
              this.cancelable && (this.defaultPrevented = !0);
            }),
            (C.prototype.stopImmediatePropagation = function () {
              this.a = !0;
            }),
            (C.prototype.stopPropagation = function () {}),
            ((o = pb.prototype).push = function (i, a) {
              this.a.hasOwnProperty(i) ? this.a[i].push(a) : (this.a[i] = [a]);
            }),
            (o.get = function (i) {
              return (i = this.a[i]) ? i.slice() : null;
            }),
            (o.getAll = function () {
              var i,
                a = [];
              for (i in this.a) a.push.apply(a, this.a[i]);
              return a;
            }),
            (o.remove = function (i, a) {
              var o = this.a[i];
              if (o)
                for (var p = 0; p < o.length; ++p)
                  o[p] == a && (o.splice(p, 1), --p);
            }),
            (o.forEach = function (i) {
              for (var a in this.a) i(a, this.a[a]);
            }),
            (qb.prototype.addEventListener = function (i, a) {
              this.Rb.push(i, a);
            }),
            (qb.prototype.removeEventListener = function (i, a) {
              this.Rb.remove(i, a);
            }),
            (qb.prototype.dispatchEvent = function (i) {
              for (
                var a = this.Rb.get(i.type) || [], o = 0;
                o < a.length;
                ++o
              ) {
                (i.target = this.Bc), (i.currentTarget = this.Bc);
                var p = a[o];
                try {
                  p.handleEvent ? p.handleEvent(i) : p.call(this, i);
                } catch (m) {}
                if (i.a) break;
              }
              return i.defaultPrevented;
            }),
            (wb.prototype.destroy = function () {
              var i = [];
              return (
                this.a.forEach(function (a) {
                  a.promise['catch'](function () {}), i.push(a.abort());
                }),
                (this.a = []),
                Promise.all(i)
              );
            }),
            Ga(E, qb),
            y('veygo.net.NetworkingEngine', E),
            (E.RequestType = {
              MANIFEST: 0,
              SEGMENT: 1,
              LICENSE: 2,
              APP: 3,
              TIMING: 4,
            }),
            (E.PluginPriority = { FALLBACK: 1, PREFERRED: 2, APPLICATION: 3 });
          var Se = {};
          function zb(i, a, o) {
            o = o || 3;
            var p = Se[i];
            (!p || o >= p.priority) && (Se[i] = { priority: o, Fe: a });
          }
          function Ab(i, a) {
            return {
              uris: i,
              method: 'GET',
              body: null,
              headers: {},
              allowCrossSiteCredentials: !1,
              retryParameters: a,
              licenseRequestType: null,
            };
          }
          function Eb() {
            this.a = new pb();
          }
          function F(i, a, o, p) {
            i.a && ((a = new Gb(a, o, p)), i.a.push(o, a));
          }
          function Hb(i, a, o, p) {
            F(
              i,
              a,
              o,
              function (i) {
                this.ua(a, o), p(i);
              }.bind(i)
            );
          }
          function Fb(i) {
            if (i.a) {
              for (var a = i.a.getAll(), o = 0; o < a.length; ++o) a[o].ua();
              i.a.a = {};
            }
          }
          function Gb(i, a, o) {
            (this.target = i),
              (this.type = a),
              (this.a = o),
              this.target.addEventListener(a, o, !1);
          }
          function Kb(i) {
            var a = new Map();
            return (
              Object.keys(i).forEach(function (o) {
                a.set(o, i[o]);
              }),
              a
            );
          }
          function Mb(i) {
            var a = {};
            return (
              i.forEach(function (i, o) {
                a[o] = i;
              }),
              a
            );
          }
          function Nb(i, a) {
            var o = i;
            return a && (o += '; codecs="' + a + '"'), o;
          }
          function Qb(i) {
            var a = (i = i.split('.'))[0];
            return i.pop(), [a, i.join('.')];
          }
          (E.registerScheme = zb),
            (E.unregisterScheme = function (i) {
              delete Se[i];
            }),
            (E.prototype.Ge = function (i) {
              this.a.add(i);
            }),
            (E.prototype.registerRequestFilter = E.prototype.Ge),
            (E.prototype.bf = function (i) {
              this.a['delete'](i);
            }),
            (E.prototype.unregisterRequestFilter = E.prototype.bf),
            (E.prototype.Dd = function () {
              this.a.clear();
            }),
            (E.prototype.clearAllRequestFilters = E.prototype.Dd),
            (E.prototype.He = function (i) {
              this.b.add(i);
            }),
            (E.prototype.registerResponseFilter = E.prototype.He),
            (E.prototype.cf = function (i) {
              this.b['delete'](i);
            }),
            (E.prototype.unregisterResponseFilter = E.prototype.cf),
            (E.prototype.Ed = function () {
              this.b.clear();
            }),
            (E.prototype.clearAllResponseFilters = E.prototype.Ed),
            (E.prototype.destroy = function () {
              return (
                (this.f = !0), this.a.clear(), this.b.clear(), this.g.destroy()
              );
            }),
            (E.prototype.destroy = E.prototype.destroy),
            (E.prototype.request = function (i, a) {
              var o = this;
              if (this.f) return ib();
              (a.method = a.method || 'GET'),
                (a.headers = a.headers || {}),
                (a.retryParameters = a.retryParameters
                  ? rb(a.retryParameters)
                  : {
                      maxAttempts: 3,
                      baseDelay: 1e3,
                      backoffFactor: 2,
                      fuzzFactor: 0.5,
                      timeout: 1e4,
                    }),
                (a.uris = rb(a.uris));
              var p = (function Bb(i, a, o) {
                  for (
                    var p = jb(void 0), m = {}, _ = (i = r(i.a)).next();
                    !_.done;
                    m = { mc: m.mc }, _ = i.next()
                  )
                    (m.mc = _.value),
                      (p = p.Z(
                        (function (i) {
                          return function () {
                            return i.mc(a, o);
                          };
                        })(m)
                      ));
                  return p.Z(void 0, function (i) {
                    if (i && 7001 == i.code) throw i;
                    throw new A(2, 1, 1006, i);
                  });
                })(this, i, a),
                m = p.Z(function () {
                  return (function Cb(i, a, o, p, m, _) {
                    var w = new Oa(o.uris[m]),
                      x = w.ka,
                      I = !1;
                    x ||
                      ((x = (x = location.protocol).slice(0, -1)),
                      Sa(w, x),
                      (o.uris[m] = w.toString()));
                    var D,
                      j = (x = Se[x]) ? x.Fe : null;
                    return j
                      ? kb(gb(p))
                          .Z(function () {
                            return i.f
                              ? ib()
                              : ((D = Date.now()),
                                j(o.uris[m], o, a, function (o, p) {
                                  i.c && 1 == a && (i.c(o, p), (I = !0));
                                }));
                          })
                          .Z(
                            function (i) {
                              return (
                                null == i.timeMs && (i.timeMs = Date.now() - D),
                                { response: i, be: I }
                              );
                            },
                            function (w) {
                              if (w && 7001 == w.code) throw w;
                              if (i.f) return ib();
                              if (w && 1 == w.severity)
                                return (
                                  i.dispatchEvent(
                                    new C('retry', {
                                      error: w instanceof A ? w : null,
                                    })
                                  ),
                                  (m = (m + 1) % o.uris.length),
                                  Cb(i, a, o, p, m, w)
                                );
                              throw w || _;
                            }
                          )
                      : hb(new A(2, 1, 1e3, w));
                  })(o, i, a, new eb(a.retryParameters, !1), 0, null);
                }),
                _ = m.Z(function (a) {
                  return (function Db(i, a, o) {
                    for (
                      var p = jb(void 0), m = (i = r(i.b)).next();
                      !m.done;
                      m = i.next()
                    )
                      p = p.Z(m.value.bind(null, a, o.response));
                    return p.Z(
                      function () {
                        return o;
                      },
                      function (i) {
                        if (i && 7001 == i.code) throw i;
                        var a = 2;
                        throw (
                          (i instanceof A && (a = i.severity),
                          new A(a, 1, 1007, i))
                        );
                      }
                    );
                  })(o, i, a);
                }),
                w = Date.now(),
                x = 0;
              p.promise.then(
                function () {
                  x = Date.now() - w;
                },
                function () {}
              );
              var I = 0;
              return (
                m.promise.then(
                  function () {
                    I = Date.now();
                  },
                  function () {}
                ),
                (p = _.Z(
                  function (a) {
                    var p = Date.now() - I,
                      m = a.response;
                    return (
                      (m.timeMs += x),
                      (m.timeMs += p),
                      a.be ||
                        !o.c ||
                        m.fromCache ||
                        1 != i ||
                        o.c(m.timeMs, m.data.byteLength),
                      m
                    );
                  },
                  function (i) {
                    throw (i && (i.severity = 2), i);
                  }
                )),
                xb(this.g, p),
                p
              );
            }),
            (E.prototype.request = E.prototype.request),
            (Eb.prototype.O = function () {
              Fb(this), (this.a = null);
            }),
            (Eb.prototype.ua = function (i, a) {
              if (this.a)
                for (var o = this.a.get(a) || [], p = 0; p < o.length; ++p) {
                  var m = o[p];
                  m.target == i && (m.ua(), this.a.remove(a, m));
                }
            }),
            (Gb.prototype.ua = function () {
              this.target.removeEventListener(this.type, this.a, !1),
                (this.a = this.target = null);
            });
          var _e = new Map()
            .set('codecs', 'codecs')
            .set('frameRate', 'framerate')
            .set('bandwidth', 'bitrate')
            .set('width', 'width')
            .set('height', 'height')
            .set('channelsCount', 'channels');
          function Rb(i) {
            return (navigator.userAgent || '').includes(i);
          }
          function Sb(i) {
            if (!i) return '';
            239 == (i = new Uint8Array(i))[0] &&
              187 == i[1] &&
              191 == i[2] &&
              (i = i.subarray(3)),
              (i = escape(Tb(i)));
            try {
              return decodeURIComponent(i);
            } catch (a) {
              throw new A(2, 2, 2004);
            }
          }
          function Ub(i, a, o) {
            if (!i) return '';
            if (!o && 0 != i.byteLength % 2) throw new A(2, 2, 2004);
            if (i instanceof ArrayBuffer) var p = i;
            else
              (o = new Uint8Array(i.byteLength)).set(new Uint8Array(i)),
                (p = o.buffer);
            (i = Math.floor(i.byteLength / 2)),
              (o = new Uint16Array(i)),
              (p = new DataView(p));
            for (var m = 0; m < i; m++) o[m] = p.getUint16(2 * m, a);
            return Tb(o);
          }
          function Vb(i) {
            var a = new Uint8Array(i);
            if (239 == a[0] && 187 == a[1] && 191 == a[2]) return Sb(a);
            if (254 == a[0] && 255 == a[1]) return Ub(a.subarray(2), !1);
            if (255 == a[0] && 254 == a[1]) return Ub(a.subarray(2), !0);
            var o = function (i, a) {
              return i.byteLength <= a || (32 <= i[a] && 126 >= i[a]);
            }.bind(null, a);
            if (0 == a[0] && 0 == a[2]) return Ub(i, !1);
            if (0 == a[1] && 0 == a[3]) return Ub(i, !0);
            if (o(0) && o(1) && o(2) && o(3)) return Sb(i);
            throw new A(2, 2, 2003);
          }
          function Wb(i) {
            (i = encodeURIComponent(i)), (i = unescape(i));
            for (var a = new Uint8Array(i.length), o = 0; o < i.length; ++o)
              a[o] = i.charCodeAt(o);
            return a.buffer;
          }
          function Tb(i) {
            for (var a = '', o = 0; o < i.length; o += 16e3)
              a += String.fromCharCode.apply(null, i.subarray(o, o + 16e3));
            return a;
          }
          function H(i) {
            (this.b = i), (this.a = null);
          }
          function Xb(a, o) {
            var p = Tb(a);
            return (
              (o = null == o || o),
              (p = i.btoa(p).replace(/\+/g, '-').replace(/\//g, '_')),
              o ? p : p.replace(/=*$/, '')
            );
          }
          function Yb(a) {
            a = i.atob(a.replace(/-/g, '+').replace(/_/g, '/'));
            for (var o = new Uint8Array(a.length), p = 0; p < a.length; ++p)
              o[p] = a.charCodeAt(p);
            return o;
          }
          function Zb(a) {
            for (
              var o = new Uint8Array(a.length / 2), p = 0;
              p < a.length;
              p += 2
            )
              o[p / 2] = i.parseInt(a.substr(p, 2), 16);
            return o;
          }
          function $b(i) {
            for (var a = '', o = 0; o < i.length; ++o) {
              var p = i[o].toString(16);
              1 == p.length && (p = '0' + p), (a += p);
            }
            return a;
          }
          function ac(i, a) {
            if (!i && !a) return !0;
            if (!i || !a || i.length != a.length) return !1;
            for (var o = 0; o < i.length; ++o) if (i[o] != a[o]) return !1;
            return !0;
          }
          function bc(i) {
            for (var a = [], o = 0; o < arguments.length; ++o)
              a[o] = arguments[o];
            for (var p = (o = 0); p < a.length; ++p) o += a[p].length;
            o = new Uint8Array(o);
            for (var m = (p = 0); m < a.length; ++m)
              o.set(a[m], p), (p += a[m].length);
            return o;
          }
          function cc(i) {
            var a = this;
            (this.w = i),
              (this.s = new Set()),
              (this.m = this.g = null),
              (this.L = !1),
              (this.a = null),
              (this.l = new Eb()),
              (this.b = new Map()),
              (this.o = []),
              (this.i = new z()),
              (this.f = null),
              (this.h = function (o) {
                a.i.reject(o), i.onError(o);
              }),
              (this.oa = new Map()),
              (this.V = new Map()),
              (this.R = new H(function () {
                return (function dc(i) {
                  var a = i.oa,
                    o = i.V;
                  o.clear(),
                    a.forEach(function (i, a) {
                      return o.set(a, i);
                    }),
                    (a = Array.from(o.values())).length &&
                      a.every(function (i) {
                        return 'expired' == i;
                      }) &&
                      i.h(new A(2, 6, 6014)),
                    i.w.ic(Mb(o));
                })(a);
              })),
              (this.c = !1),
              (this.$ = new z()),
              (this.C = !1),
              (this.F = []),
              (this.na = !1),
              (this.P = new H(function () {
                return (function ec(i) {
                  i.b.forEach(function (a, o) {
                    var p = a.hc,
                      m = o.expiration;
                    isNaN(m) && (m = Infinity),
                      m != p &&
                        (i.w.onExpirationUpdated(o.sessionId, m), (a.hc = m));
                  });
                })(a);
              })),
              this.P.start(1, !0),
              this.i['catch'](function () {});
          }
          function ic(a, o) {
            var p = o.some(function (i) {
              return 0 < i.drmInfos.length;
            });
            if (!p) {
              var m = Kb(a.f.servers);
              !(function mc(i, a) {
                var o = [];
                a.forEach(function (i, a) {
                  o.push({
                    keySystem: a,
                    licenseServerUri: i,
                    distinctiveIdentifierRequired: !1,
                    persistentStateRequired: !1,
                    audioRobustness: '',
                    videoRobustness: '',
                    serverCertificate: null,
                    initData: [],
                    keyIds: [],
                  });
                });
                for (var p = r(i), m = p.next(); !m.done; m = p.next())
                  m.value.drmInfos = o;
              })(o, m);
            }
            if (
              (m = (function nc(a) {
                if (0 == (a = Kb(a.f.clearKeys)).size) return null;
                var o = [],
                  p = [];
                a.forEach(function (i, a) {
                  var m = Zb(a),
                    _ = Zb(i);
                  (m = { kty: 'oct', kid: Xb(m, !1), k: Xb(_, !1) }),
                    o.push(m),
                    p.push(m.kid);
                }),
                  (a = JSON.stringify({ keys: o }));
                var m = JSON.stringify({ kids: p });
                return (
                  (m = [
                    { initData: new Uint8Array(Wb(m)), initDataType: 'keyids' },
                  ]),
                  {
                    keySystem: 'org.w3.clearkey',
                    licenseServerUri:
                      'data:application/json;base64,' + i.btoa(a),
                    distinctiveIdentifierRequired: !1,
                    persistentStateRequired: !1,
                    authMethod: '',
                    audioRobustness: '',
                    videoRobustness: '',
                    serverCertificate: null,
                    initData: m,
                    keyIds: [],
                  }
                );
              })(a))
            )
              for (var _ = r(o), w = _.next(); !w.done; w = _.next())
                w.value.drmInfos = [m];
            for (w = (m = r(o)).next(); !w.done; w = m.next())
              for (_ = (w = r(w.value.drmInfos)).next(); !_.done; _ = w.next())
                oc((_ = _.value), Kb(a.f.servers), Kb(a.f.advanced || {})),
                  'hbola' === _.authMethod && (_.hbola = a.f.hbola),
                  (_.licenseRequestExtraHeaders =
                    a.f.licenseRequestExtraHeaders);
            return (m = (function pc(i, a) {
              for (
                var o = new Set(), p = r(a), m = p.next();
                !m.done;
                m = p.next()
              ) {
                var _ = r(m.value.drmInfos);
                for (m = _.next(); !m.done; m = _.next()) o.add(m.value);
              }
              for (p = r(o), m = p.next(); !m.done; m = p.next())
                oc(m.value, Kb(i.f.servers), Kb(i.f.advanced || {}));
              _ = i.C ? 'required' : 'optional';
              var w = i.C ? ['persistent-license'] : ['temporary'];
              for (p = new Map(), o = r(o), m = o.next(); !m.done; m = o.next())
                (m = m.value),
                  p.set(m.keySystem, {
                    audioCapabilities: [],
                    videoCapabilities: [],
                    distinctiveIdentifier: 'optional',
                    persistentState: _,
                    sessionTypes: w,
                    label: m.keySystem,
                    drmInfos: [],
                  });
              for (o = r(a), m = o.next(); !m.done; m = o.next()) {
                (_ = (m = m.value).audio), (w = m.video);
                var x = _ ? Nb(_.mimeType, _.codecs) : '',
                  I = w ? Nb(w.mimeType, w.codecs) : '',
                  D = r(m.drmInfos);
                for (m = D.next(); !m.done; m = D.next()) {
                  m = m.value;
                  var j = p.get(m.keySystem);
                  j.drmInfos.push(m),
                    m.distinctiveIdentifierRequired &&
                      (j.distinctiveIdentifier = 'required'),
                    m.persistentStateRequired &&
                      (j.persistentState = 'required'),
                    _ &&
                      j.audioCapabilities.push({
                        robustness: m.audioRobustness || '',
                        contentType: x,
                      }),
                    w &&
                      j.videoCapabilities.push({
                        robustness: m.videoRobustness || '',
                        contentType: I,
                      });
                }
              }
              return p;
            })(a, o)).size
              ? 1 == m.size && m.has('com.apple.hls-aes-128')
                ? ((a.L = !0),
                  (a.a = m.get('com.apple.hls-aes-128').drmInfos[0]),
                  Promise.resolve())
                : ((m = lc(a, m)), p ? m : m['catch'](function () {}))
              : ((a.L = !0), Promise.resolve());
          }
          function rc(i) {
            return t(function d() {
              var a;
              return v(d, function (o) {
                switch (o.j) {
                  case 1:
                    if (
                      !(
                        i.g &&
                        i.a &&
                        i.a.serverCertificate &&
                        i.a.serverCertificate.length
                      )
                    ) {
                      o.A(0);
                      break;
                    }
                    return (
                      qa(o, 3),
                      u(o, i.g.setServerCertificate(i.a.serverCertificate), 5)
                    );
                  case 5:
                    sa(o, 0);
                    break;
                  case 3:
                    return (
                      (a = ta(o)),
                      o['return'](Promise.reject(new A(2, 6, 6004, a.message)))
                    );
                }
              });
            });
          }
          function sc(i) {
            var a = i.a ? i.a.initData : [];
            return (
              a.forEach(function (a) {
                return wc(i, a.initDataType, a.initData);
              }),
              i.o.forEach(function (a) {
                return vc(i, a);
              }),
              a.length || i.o.length || i.i.resolve(),
              i.i
            );
          }
          function tc(i, a, o) {
            for (
              var p = i.b.values(), m = (p = r(p)).next();
              !m.done;
              m = p.next()
            )
              if (ac(o, m.value.initData)) return;
            wc(i, a, o);
          }
          function xc(i, a) {
            return !!Rb('Edge/') || i.s.has(a);
          }
          function yc(i) {
            return (
              (i = (function Ib(i, a) {
                for (var o = [], p = r(i), m = p.next(); !m.done; m = p.next())
                  o.push(a(m.value));
                return o;
              })((i = i.b.keys()), function (i) {
                return i.sessionId;
              })),
              Array.from(i)
            );
          }
          function lc(i, a) {
            if (1 == a.size && a.has(''))
              return Promise.reject(new A(2, 6, 6e3));
            for (var o = r(a.values()), p = o.next(); !p.done; p = o.next())
              0 == (p = p.value).audioCapabilities.length &&
                delete p.audioCapabilities,
                0 == p.videoCapabilities.length && delete p.videoCapabilities;
            var m = (o = new z());
            return (
              [!0, !1].forEach(
                function (i) {
                  var o = this;
                  a.forEach(function (a, p) {
                    a.drmInfos.some(function (i) {
                      return !!i.licenseServerUri;
                    }) == i &&
                      (m = m.then(
                        function (i) {
                          return (
                            i ||
                            (this.c
                              ? void 0
                              : navigator
                                  .requestMediaKeySystemAccess(p, [a])
                                  ['catch'](function () {}))
                          );
                        }.bind(o)
                      ));
                  });
                }.bind(i)
              ),
              (m = (m = m['catch'](function () {
                return Promise.reject(new A(2, 6, 6001));
              }))
                .then(
                  function (i) {
                    if (this.c) return Promise.reject();
                    this.s.clear();
                    var o = i.getConfiguration(),
                      p = o.videoCapabilities || [],
                      m = r(o.audioCapabilities || []);
                    for (o = m.next(); !o.done; o = m.next())
                      this.s.add(o.value.contentType);
                    for (o = (p = r(p)).next(); !o.done; o = p.next())
                      this.s.add(o.value.contentType);
                    (p = i.keySystem), (m = []);
                    var _ = [],
                      w = [],
                      x = [],
                      I = (o = a.get(i.keySystem)).drmInfos[0].authMethod,
                      D = o.drmInfos[0].hbola,
                      j = o.drmInfos[0].licenseRequestExtraHeaders;
                    return (
                      (function zc(i, a, o, p, m) {
                        i.forEach(function (i) {
                          if (
                            (a.includes(i.licenseServerUri) ||
                              a.push(i.licenseServerUri),
                            i.serverCertificate &&
                              (o.some(function (a) {
                                return ac(a, i.serverCertificate);
                              }) ||
                                o.push(i.serverCertificate)),
                            i.initData &&
                              i.initData.forEach(function (i) {
                                p.some(function (a) {
                                  return (
                                    !(!a.keyId || a.keyId != i.keyId) ||
                                    (a.initDataType == i.initDataType &&
                                      ac(a.initData, i.initData))
                                  );
                                }) || p.push(i);
                              }),
                            i.keyIds)
                          )
                            for (var _ = 0; _ < i.keyIds.length; ++_)
                              m.includes(i.keyIds[_]) || m.push(i.keyIds[_]);
                        });
                      })(o.drmInfos, m, _, w, x),
                      (this.a = {
                        keySystem: p,
                        authMethod: I,
                        licenseServerUri: m[0],
                        hbola: D,
                        licenseRequestExtraHeaders: j,
                        distinctiveIdentifierRequired:
                          'required' == o.distinctiveIdentifier,
                        persistentStateRequired:
                          'required' == o.persistentState,
                        audioRobustness: o.audioCapabilities
                          ? o.audioCapabilities[0].robustness
                          : '',
                        videoRobustness: o.videoCapabilities
                          ? o.videoCapabilities[0].robustness
                          : '',
                        serverCertificate: _[0],
                        initData: w,
                        keyIds: x,
                      }),
                      this.a.licenseServerUri
                        ? i.createMediaKeys()
                        : Promise.reject(new A(2, 6, 6012))
                    );
                  }.bind(i)
                )
                .then(
                  function (i) {
                    if (this.c) return Promise.reject();
                    (this.g = i), (this.L = !0);
                  }.bind(i)
                )
                ['catch'](
                  function (i) {
                    if (!this.c)
                      return (
                        (this.a = null),
                        this.s.clear(),
                        i instanceof A
                          ? Promise.reject(i)
                          : Promise.reject(new A(2, 6, 6002, i.message))
                      );
                  }.bind(i)
                )),
              o.resolve(),
              m
            );
          }
          function vc(i, a) {
            try {
              var o = i.g.createSession('persistent-license');
            } catch (_) {
              var p = new A(2, 6, 6005, _.message);
              return i.h(p), Promise.reject(p);
            }
            F(i.l, o, 'message', i.cd.bind(i)),
              F(i.l, o, 'keystatuseschange', i.$c.bind(i));
            var m = { initData: null, loaded: !1, hc: Infinity, ma: null };
            return (
              i.b.set(o, m),
              o.load(a).then(
                function (i) {
                  return this.c
                    ? Promise.reject()
                    : i
                    ? ((m.loaded = !0), Ac(this) && this.i.resolve(), o)
                    : (this.b['delete'](o), void this.h(new A(2, 6, 6013)));
                }.bind(i),
                function (i) {
                  this.c ||
                    (this.b['delete'](o), this.h(new A(2, 6, 6005, i.message)));
                }.bind(i)
              )
            );
          }
          function wc(i, a, o) {
            try {
              var p = i.C
                ? i.g.createSession('persistent-license')
                : i.g.createSession();
            } catch (m) {
              return void i.h(new A(2, 6, 6005, m.message));
            }
            F(i.l, p, 'message', i.cd.bind(i)),
              F(i.l, p, 'keystatuseschange', i.$c.bind(i)),
              i.b.set(p, { initData: o, loaded: !1, hc: Infinity, ma: null }),
              p.generateRequest(a, o.buffer)['catch'](function (a) {
                if (!i.c) {
                  if (
                    (i.b['delete'](p), a.errorCode && a.errorCode.systemCode)
                  ) {
                    var o = a.errorCode.systemCode;
                    0 > o && (o += Math.pow(2, 32)),
                      (o = '0x' + o.toString(16));
                  }
                  i.h(new A(2, 6, 6006, a.message, a, o));
                }
              });
          }
          function qc(a, o) {
            var p = o.target,
              m = a.b.get(p),
              _ = a.a.licenseServerUri,
              w = a.f.advanced[a.a.keySystem];
            if (
              ('individualization-request' == o.messageType &&
                w &&
                w.individualizationServer &&
                (_ = w.individualizationServer),
              ((_ = Ab([_], a.f.retryParameters)).body = o.message),
              (_.method = 'POST'),
              (_.licenseRequestType = o.messageType),
              'hbola' === a.a.authMethod &&
                (_.headers['dt-custom-data'] = i.btoa(
                  'tokenID=' +
                    a.a.hbola.tokenID +
                    '|keyid=' +
                    a.a.keyIds[0].toUpperCase() +
                    '|operatorID=' +
                    a.a.hbola.operatorID +
                    '|countryID=' +
                    a.a.hbola.countryID
                )),
              a.a.licenseRequestExtraHeaders)
            ) {
              w = Object.keys(a.a.licenseRequestExtraHeaders);
              for (var x = 0; x < w.length; x++) {
                var I = w[x];
                _.headers[I] = a.a.licenseRequestExtraHeaders[I];
              }
            }
            ('com.microsoft.playready' != a.a.keySystem &&
              'com.chromecast.playready' != a.a.keySystem) ||
              (function Cc(i) {
                var a = Ub(i.body, !0, !0);
                if (a.includes('PlayReadyKeyMessage')) {
                  for (
                    var o = (a = new DOMParser().parseFromString(
                        a,
                        'application/xml'
                      )).getElementsByTagName('HttpHeader'),
                      p = 0;
                    p < o.length;
                    ++p
                  )
                    i.headers[o[p].querySelector('name').textContent] =
                      o[p].querySelector('value').textContent;
                  i.body = Yb(a.querySelector('Challenge').textContent).buffer;
                } else i.headers['Content-Type'] = 'text/xml; charset=utf-8';
              })(_),
              a.w.Xa.request(2, _)
                .promise.then(
                  function (a) {
                    if (this.c) return Promise.reject();
                    if (
                      'drmtoday' === this.a.authMethod &&
                      a.headers['content-type'] &&
                      0 ===
                        a.headers['content-type'].indexOf('application/json')
                    ) {
                      var o = String.fromCharCode.apply(
                        null,
                        new Uint8Array(a.data)
                      );
                      o = (function Bc(a) {
                        for (
                          var o = (a = i.atob(a)).length,
                            p = new Uint8Array(o),
                            m = 0;
                          m < o;
                          m++
                        )
                          p[m] = a.charCodeAt(m);
                        return p.buffer;
                      })((o = JSON.parse(o)).license);
                    }
                    return (
                      void 0 === o && (o = a.data),
                      p.update(o).then(
                        function () {
                          var i = this;
                          this.w.onEvent(new C('drmsessionupdate')),
                            m &&
                              (m.ma && m.ma.resolve(),
                              Dc(xe).then(function () {
                                (m.loaded = !0), Ac(i) && i.i.resolve();
                              }));
                        }.bind(this)
                      )
                    );
                  }.bind(a),
                  function (i) {
                    this.c ||
                      ((i = new A(2, 6, 6007, i)),
                      this.h(i),
                      m && m.ma && m.ma.reject(i));
                  }.bind(a)
                )
                ['catch'](
                  function (i) {
                    this.c ||
                      ((i = new A(2, 6, 6008, i.message)),
                      this.h(i),
                      m && m.ma && m.ma.reject(i));
                  }.bind(a)
                );
          }
          function Kc() {
            var i = [
                { contentType: 'video/mp4; codecs="avc1.42E01E"' },
                { contentType: 'video/webm; codecs="vp8"' },
              ],
              a = [
                {
                  videoCapabilities: i,
                  persistentState: 'required',
                  sessionTypes: ['persistent-license'],
                },
                { videoCapabilities: i },
              ],
              o = new Map();
            return (
              (i =
                'org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime'
                  .split(' ')
                  .map(function (i) {
                    return (function b(i) {
                      return t(function h() {
                        var p, m, _;
                        return v(h, function (w) {
                          switch (w.j) {
                            case 1:
                              return (
                                qa(w, 2),
                                u(
                                  w,
                                  navigator.requestMediaKeySystemAccess(i, a),
                                  4
                                )
                              );
                            case 4:
                              return (
                                (p = w.u),
                                (_ =
                                  !!(m = p.getConfiguration().sessionTypes) &&
                                  m.includes('persistent-license')),
                                Rb('Tizen 3') && (_ = !1),
                                o.set(i, { persistentState: _ }),
                                u(w, p.createMediaKeys(), 5)
                              );
                            case 5:
                              sa(w, 0);
                              break;
                            case 2:
                              ta(w), o.set(i, null), (w.j = 0);
                          }
                        });
                      });
                    })(i);
                  })),
              Promise.all(i).then(function () {
                return Mb(o);
              })
            );
          }
          function Lc(i, a) {
            var o = a.audio,
              p = a.video;
            if (
              (o && o.encrypted && !xc(i, Nb(o.mimeType, o.codecs))) ||
              (p && p.encrypted && !xc(i, Nb(p.mimeType, p.codecs)))
            )
              return !1;
            var m = i.keySystem();
            return (
              0 == a.drmInfos.length ||
              a.drmInfos.some(function (i) {
                return i.keySystem == m;
              })
            );
          }
          function Mc(i, a) {
            if (!i.length) return a;
            if (!a.length) return i;
            for (var o = [], p = 0; p < i.length; p++)
              for (var m = 0; m < a.length; m++)
                if (i[p].keySystem == a[m].keySystem) {
                  var _ = i[p];
                  m = a[m];
                  var w = [];
                  w = (w = w.concat(_.initData || [])).concat(m.initData || []);
                  var x = [];
                  (x = (x = x.concat(_.keyIds)).concat(m.keyIds)),
                    o.push({
                      keySystem: _.keySystem,
                      licenseServerUri:
                        _.licenseServerUri || m.licenseServerUri,
                      distinctiveIdentifierRequired:
                        _.distinctiveIdentifierRequired ||
                        m.distinctiveIdentifierRequired,
                      persistentStateRequired:
                        _.persistentStateRequired || m.persistentStateRequired,
                      videoRobustness: _.videoRobustness || m.videoRobustness,
                      audioRobustness: _.audioRobustness || m.audioRobustness,
                      serverCertificate:
                        _.serverCertificate || m.serverCertificate,
                      initData: w,
                      keyIds: x,
                    });
                  break;
                }
            return o;
          }
          function Ac(i) {
            return (function Jb(i, a) {
              for (var o = r(i), p = o.next(); !p.done; p = o.next())
                if (!a(p.value)) return !1;
              return !0;
            })((i = i.b.values()), function (i) {
              return i.loaded;
            });
          }
          function Dc(i) {
            return new Promise(function (a) {
              return setTimeout(a, 1e3 * i);
            });
          }
          function oc(a, o, p) {
            var m = a.keySystem;
            m &&
              ((o = o.get(m)) && (a.licenseServerUri = o),
              a.licenseRequestExtraHeaders ||
                (a.licenseRequestExtraHeaders = {}),
              a.keyIds || (a.keyIds = []),
              (p = p.get(m)) &&
                (a.distinctiveIdentifierRequired ||
                  (a.distinctiveIdentifierRequired =
                    p.distinctiveIdentifierRequired),
                a.persistentStateRequired ||
                  (a.persistentStateRequired = p.persistentStateRequired),
                a.videoRobustness || (a.videoRobustness = p.videoRobustness),
                a.audioRobustness || (a.audioRobustness = p.audioRobustness),
                a.serverCertificate ||
                  (a.serverCertificate = p.serverCertificate),
                (a.authMethod = p.authMethod)),
              i.cast &&
                i.cast.__platform__ &&
                'com.microsoft.playready' == a.keySystem &&
                (a.keySystem = 'com.chromecast.playready'));
          }
          y('veygo.util.StringUtils.fromUTF8', Sb),
            y('veygo.util.StringUtils.fromUTF16', Ub),
            y('veygo.util.StringUtils.fromBytesAutoDetect', Vb),
            y('veygo.util.StringUtils.toUTF8', Wb),
            y('veygo.util.Timer', H),
            (H.prototype.$e = function () {
              null != this.a && (clearTimeout(this.a), (this.a = null)),
                this.b();
            }),
            (H.prototype.tick = H.prototype.$e),
            (H.prototype.start = function (i, a) {
              var o = this,
                p = 1e3 * i;
              null != this.a && (this.c ? clearInterval : clearTimeout)(this.a),
                (this.a = (a ? setInterval : setTimeout)(function () {
                  o.b();
                }, p)),
                (this.c = a);
            }),
            (H.prototype.start = H.prototype.start),
            (H.prototype.stop = function () {
              null != this.a && (this.c ? clearInterval : clearTimeout)(this.a),
                (this.a = null);
            }),
            (H.prototype.stop = H.prototype.stop),
            y('veygo.util.Uint8ArrayUtils.toBase64', Xb),
            y('veygo.util.Uint8ArrayUtils.fromBase64', Yb),
            y('veygo.util.Uint8ArrayUtils.fromHex', Zb),
            y('veygo.util.Uint8ArrayUtils.toHex', $b),
            y('veygo.util.Uint8ArrayUtils.equal', ac),
            y('veygo.util.Uint8ArrayUtils.concat', bc),
            ((o = cc.prototype).destroy = function () {
              var i = this;
              return t(function d() {
                return v(d, function (a) {
                  switch (a.j) {
                    case 1:
                      return i.c
                        ? u(a, i.$, 0)
                        : ((i.c = !0),
                          u(
                            a,
                            (function fc(i) {
                              return t(function d() {
                                var a;
                                return v(d, function (o) {
                                  switch (o.j) {
                                    case 1:
                                      return (
                                        i.l.O(),
                                        (i.l = null),
                                        i.i.reject(),
                                        i.P.stop(),
                                        (i.P = null),
                                        i.R.stop(),
                                        (i.R = null),
                                        (a = Array.from(i.b.keys())),
                                        i.b.clear(),
                                        u(
                                          o,
                                          Promise.all(
                                            a.map(function (i) {
                                              return Promise.resolve().then(
                                                function () {
                                                  return t(function k() {
                                                    return v(k, function (a) {
                                                      switch (a.j) {
                                                        case 1:
                                                          return (
                                                            qa(a, 2),
                                                            u(
                                                              a,
                                                              (function gc(i) {
                                                                return t(
                                                                  function d() {
                                                                    var a, o;
                                                                    return v(
                                                                      d,
                                                                      function (
                                                                        p
                                                                      ) {
                                                                        switch (
                                                                          p.j
                                                                        ) {
                                                                          case 1:
                                                                            return (
                                                                              (a =
                                                                                i
                                                                                  .close()
                                                                                  .then(
                                                                                    function () {
                                                                                      return !0;
                                                                                    }
                                                                                  )),
                                                                              (o =
                                                                                Dc(
                                                                                  we
                                                                                ).then(
                                                                                  function () {
                                                                                    return !1;
                                                                                  }
                                                                                )),
                                                                              u(
                                                                                p,
                                                                                Promise.race(
                                                                                  [
                                                                                    a,
                                                                                    o,
                                                                                  ]
                                                                                ),
                                                                                2
                                                                              )
                                                                            );
                                                                          case 2:
                                                                            p.j = 0;
                                                                        }
                                                                      }
                                                                    );
                                                                  }
                                                                );
                                                              })(i),
                                                              4
                                                            )
                                                          );
                                                        case 4:
                                                          sa(a, 0);
                                                          break;
                                                        case 2:
                                                          ta(a), (a.j = 0);
                                                      }
                                                    });
                                                  });
                                                }
                                              );
                                            })
                                          ),
                                          2
                                        )
                                      );
                                    case 2:
                                      if (!i.m) {
                                        o.A(3);
                                        break;
                                      }
                                      return (
                                        qa(o, 4),
                                        u(o, i.m.setMediaKeys(null), 6)
                                      );
                                    case 6:
                                      sa(o, 5);
                                      break;
                                    case 4:
                                      ta(o);
                                    case 5:
                                      i.m = null;
                                    case 3:
                                      (i.a = null),
                                        i.s.clear(),
                                        (i.g = null),
                                        (i.o = []),
                                        (i.f = null),
                                        (i.h = null),
                                        (i.w = null),
                                        (o.j = 0);
                                  }
                                });
                              });
                            })(i),
                            4
                          ));
                    case 4:
                      i.$.resolve(), a.A(0);
                  }
                });
              });
            }),
            (o.configure = function (i) {
              this.f = i;
            }),
            (o.zb = function (i) {
              var a = this;
              if (!this.g) return Promise.resolve();
              (this.m = i),
                Hb(this.l, this.m, 'play', function () {
                  for (var i = 0; i < a.F.length; i++) qc(a, a.F[i]);
                  (a.na = !0), (a.F = []);
                }),
                (i = (i = this.m.setMediaKeys(this.g))['catch'](function (i) {
                  return Promise.reject(new A(2, 6, 6003, i.message));
                }));
              var o = rc(this);
              return Promise.all([i, o])
                .then(function () {
                  if (a.c) return Promise.reject();
                  sc(a),
                    a.a.initData.length ||
                      a.o.length ||
                      F(a.l, a.m, 'encrypted', function (i) {
                        return tc(
                          a,
                          i.initDataType,
                          new Uint8Array(i.initData)
                        );
                      });
                })
                ['catch'](function (i) {
                  if (!a.c) return Promise.reject(i);
                });
            }),
            (o.keySystem = function () {
              return this.a ? this.a.keySystem : '';
            }),
            (o.Hb = function () {
              for (
                var i = Infinity, a = this.b.keys(), o = (a = r(a)).next();
                !o.done;
                o = a.next()
              )
                (o = o.value),
                  isNaN(o.expiration) || (i = Math.min(i, o.expiration));
              return i;
            }),
            (o.cd = function (i) {
              this.f.delayLicenseRequestUntilPlayed && this.m.paused && !this.na
                ? this.F.push(i)
                : qc(this, i);
            }),
            (o.$c = function (i) {
              i = i.target;
              var a = this.b.get(i),
                o = !1;
              i.keyStatuses.forEach(
                function (i, p) {
                  if ('string' == typeof p) {
                    var m = p;
                    (p = i), (i = m);
                  }
                  if (
                    'com.microsoft.playready' == this.a.keySystem &&
                    16 == p.byteLength &&
                    !Rb('Tizen')
                  ) {
                    var _ = (m = new DataView(p)).getUint32(0, !0),
                      w = m.getUint16(4, !0),
                      x = m.getUint16(6, !0);
                    m.setUint32(0, _, !1),
                      m.setUint16(4, w, !1),
                      m.setUint16(6, x, !1);
                  }
                  'com.microsoft.playready' == this.a.keySystem &&
                    'status-pending' == i &&
                    (i = 'usable'),
                    'status-pending' != i && (a.loaded = !0),
                    'expired' == i && (o = !0),
                    (m = $b(new Uint8Array(p))),
                    this.oa.set(m, i);
                }.bind(this)
              );
              var p = i.expiration - Date.now();
              (0 > p || (o && 1e3 > p)) &&
                a &&
                !a.ma &&
                (this.b['delete'](i), i.close()['catch'](function () {})),
                Ac(this) && (this.i.resolve(), this.R.start(et, !1));
            });
          var we = 1,
            xe = 5,
            et = 0.5;
          function Oc(i) {
            (this.a = new muxjs.mp4.CaptionParser(i)),
              (this.g = []),
              (this.f = {});
          }
          function Pc() {}
          function Qc(i) {
            return !i || (1 == i.length && 1e-6 > i.end(0) - i.start(0))
              ? null
              : i.length
              ? i.end(i.length - 1)
              : null;
          }
          function Rc(i, a, o) {
            return (
              (o = void 0 === o ? 0 : o),
              !(
                !i ||
                !i.length ||
                (1 == i.length && 1e-6 > i.end(0) - i.start(0)) ||
                a > i.end(i.length - 1)
              ) && a + o >= i.start(0)
            );
          }
          function Sc(i, a) {
            if (
              !i ||
              !i.length ||
              (1 == i.length && 1e-6 > i.end(0) - i.start(0))
            )
              return 0;
            for (var o = 0, p = i.length - 1; 0 <= p && i.end(p) > a; --p)
              o += i.end(p) - Math.max(i.start(p), a);
            return o;
          }
          function Tc(i) {
            if (!i) return [];
            for (var a = [], o = 0; o < i.length; o++)
              a.push({ start: i.start(o), end: i.end(o) });
            return a;
          }
          (Oc.prototype.init = function (i) {
            var a = muxjs.mp4.probe;
            (i = new Uint8Array(i)),
              (this.g = a.videoTrackIds(i)),
              (this.f = a.timescale(i)),
              this.a.init();
          }),
            (Oc.prototype.b = function (i, a) {
              var o = new Uint8Array(i);
              (o = this.a.parse(o, this.g, this.f)) &&
                o.captions &&
                a(o.captions),
                this.a.clearParsedCaptions();
            }),
            (Oc.prototype.c = function () {
              this.a.resetCaptionStream();
            }),
            (Pc.prototype.init = function () {}),
            (Pc.prototype.b = function () {}),
            (Pc.prototype.c = function () {});
          var tt = {
            Fd: function Fd(i, a) {
              return i.reduce(
                function (i, a, o) {
                  return a['catch'](i.bind(null, o));
                }.bind(null, a),
                Promise.reject()
              );
            },
            Sb: function Sb(i, a) {
              return i.concat(a);
            },
            nb: function nb() {},
            wa: function wa(i) {
              return null != i;
            },
          };
          function Uc(i, a) {
            if (0 == a.length) return i;
            var o = a.map(function (i) {
              return new Oa(i);
            });
            return i
              .map(function (i) {
                return new Oa(i);
              })
              .map(function (i) {
                return o.map(i.resolve.bind(i));
              })
              .reduce(tt.Sb, [])
              .map(function (i) {
                return i.toString();
              });
          }
          function Vc(i, a, o) {
            return {
              keySystem: i,
              licenseServerUri: '',
              distinctiveIdentifierRequired: !1,
              persistentStateRequired: !1,
              audioRobustness: '',
              videoRobustness: '',
              authMethod: '',
              serverCertificate: null,
              initData: a || [],
              keyIds: [],
              mf: o,
            };
          }
          var rt = { Ac: 'video', wc: 'audio', Da: 'text', gf: 'application' };
          function Yc() {
            (this.a = new muxjs.mp4.Transmuxer({ keepOriginalTimestamps: !0 })),
              (this.b = null),
              (this.g = []),
              (this.c = []),
              (this.f = !1),
              this.a.on('data', this.i.bind(this)),
              this.a.on('done', this.h.bind(this));
          }
          function Zc(a, o) {
            if (!i.muxjs) return !1;
            var p = a.split(';')[0].split('/')[1];
            return (
              void 0 !== (p = nt[p]) &&
              (o
                ? MediaSource.isTypeSupported(p(o, a))
                : MediaSource.isTypeSupported(p('audio', a)) ||
                  MediaSource.isTypeSupported(p('video', a)))
            );
          }
          (Yc.prototype.destroy = function () {
            return this.a.dispose(), (this.a = null), Promise.resolve();
          }),
            (Yc.prototype.i = function (i) {
              this.c = i.captions;
              var a = new Uint8Array(
                i.data.byteLength + i.initSegment.byteLength
              );
              a.set(i.initSegment, 0),
                a.set(i.data, i.initSegment.byteLength),
                this.g.push(a);
            });
          var nt = {
            mp2t: function mp2t(i, a) {
              var o = a.replace('mp2t', 'mp4');
              'audio' == i && (o = o.replace('video', 'audio'));
              var p = /avc1\.(66|77|100)\.(\d+)/.exec(o);
              if (p) {
                var m = 'avc1.',
                  _ = p[1],
                  w = Number(p[2]);
                (m =
                  ('66' == _
                    ? m + '4200'
                    : '77' == _
                    ? m + '4d00'
                    : m + '6400') + (w >> 4).toString(16)),
                  (m += (15 & w).toString(16)),
                  (o = o.replace(p[0], m));
              }
              return o;
            },
            aac: function aac(i, a) {
              var o = a.replace('aac', 'mp4');
              return 'audio' == i && (o = o.replace('video', 'audio')), o;
            },
          };
          function bd(i) {
            (this.g = null),
              (this.c = i),
              (this.f = this.m = 0),
              (this.h = Infinity),
              (this.b = this.a = null),
              (this.l = ''),
              (this.i = new Map());
          }
          Yc.prototype.h = function () {
            var i = { data: bc.apply(null, this.g), captions: this.c };
            this.b.resolve(i), (this.f = !1);
          };
          var it = {};
          function dd(i, a) {
            it[i.toLowerCase()] = a;
          }
          function ed(a) {
            return (
              (a = a.toLowerCase()),
              !!(it[a] || (i.muxjs && 'application/cea-608' == a))
            );
          }
          function fd(i, a) {
            'application/cea-608' != a && (i.g = new it[a.toLowerCase()]());
          }
          function hd(i, a, o, p, m) {
            for (
              var _ = o + ' ' + p, w = new Map(), x = [], I = (a = r(a)).next();
              !I.done;
              I = a.next()
            ) {
              var D = I.value;
              (I = D.stream),
                w.has(I) || w.set(I, new Map()),
                w.get(I).has(_) || w.get(I).set(_, []),
                (D.startTime += m),
                (D.endTime += m),
                D.startTime >= i.f &&
                  D.startTime < i.h &&
                  ((D = new id(D.startTime, D.endTime, D.text)),
                  w.get(I).get(_).push(D),
                  I == i.l && x.push(D));
            }
            for (
              x.length && i.c.append(x), _ = (m = r(w.keys())).next();
              !_.done;
              _ = m.next()
            )
              for (
                _ = _.value,
                  i.i.has(_) || i.i.set(_, new Map()),
                  a = (x = r(w.get(_).keys())).next();
                !a.done;
                a = x.next()
              )
                (a = a.value), (I = w.get(_).get(a)), i.i.get(_).set(a, I);
            (i.a =
              null == i.a ? Math.max(o, i.f) : Math.min(i.a, Math.max(o, i.f))),
              (i.b = Math.max(i.b, Math.min(p, i.h)));
          }
          function jd(a, o, p) {
            (this.f = a),
              (this.l = p),
              (this.b = {}),
              (this.a = null),
              (this.c = {}),
              (this.h = new Eb()),
              (this.s = !1),
              (this.i = {}),
              (this.m = o),
              (a = this.o = new z()),
              (o = new MediaSource()),
              Hb(this.h, o, 'sourceopen', a.resolve),
              (this.f.src = i.URL.createObjectURL(o)),
              (this.w = {}),
              (this.g = o);
          }
          function kd(i) {
            var a = Nb(i.mimeType, i.codecs),
              o = (function Ob(i) {
                var a = [i.mimeType];
                return (
                  _e.forEach(function (o, p) {
                    var m = i[p];
                    m && a.push(o + '="' + m + '"');
                  }),
                  a.join(';')
                );
              })(i);
            return ed(a) || MediaSource.isTypeSupported(o) || Zc(a, i.type);
          }
          function md(i, a) {
            i.a || (i.a = new bd(i.l)), fd(i.a, a);
          }
          function nd(i, a) {
            if ('text' == a) var o = i.a.a;
            else
              o =
                !(o = od(i, a)) ||
                (1 == o.length && 1e-6 > o.end(0) - o.start(0))
                  ? null
                  : 1 == o.length && 0 > o.start(0)
                  ? 0
                  : o.length
                  ? o.start(0)
                  : null;
            return o;
          }
          function pd(i, a) {
            return 'text' == a ? i.a.b : Qc(od(i, a));
          }
          function od(i, a) {
            if (!(a in i.b)) return null;
            try {
              return i.b[a].buffered;
            } catch (o) {
              return null;
            }
          }
          function rd(a, o, p, m, _, w) {
            return 'text' == o
              ? (function gd(i, a, o, p) {
                  return Promise.resolve().then(
                    function () {
                      if (this.g && this.c)
                        if (null == o || null == p)
                          this.g.parseInit(new Uint8Array(a));
                        else {
                          var i = {
                            periodStart: this.m,
                            segmentStart: o,
                            segmentEnd: p,
                          };
                          (i = this.g.parseMedia(new Uint8Array(a), i).filter(
                            function (i) {
                              return (
                                i.startTime >= this.f && i.startTime < this.h
                              );
                            }.bind(this)
                          )),
                            this.c.append(i),
                            null == this.a && (this.a = Math.max(o, this.f)),
                            (this.b = Math.min(p, this.h));
                        }
                    }.bind(i)
                  );
                })(a.a, p, m, _)
              : a.i[o]
              ? (function ad(i, a) {
                  (i.f = !0), (i.b = new z()), (i.g = []), (i.c = []);
                  var o = new Uint8Array(a);
                  return (
                    i.a.push(o),
                    i.a.flush(),
                    i.f && i.b.reject(new A(2, 3, 3018)),
                    i.b
                  );
                })(a.i[o], p).then(
                  function (i) {
                    return (
                      this.a || md(this, 'text/vtt'),
                      i.captions &&
                        hd(
                          this.a,
                          i.captions,
                          m,
                          _,
                          (this.b.video || this.b.audio).timestampOffset
                        ),
                      sd(this, o, this.pd.bind(this, o, i.data.buffer))
                    );
                  }.bind(a)
                )
              : (w && i.muxjs
                  ? (a.a || md(a, 'application/cea-608'),
                    null == m && null == _
                      ? a.m.init(p)
                      : a.m.b(p, function (i) {
                          i.length &&
                            hd(a.a, i, m, _, a.b.video.timestampOffset);
                        }))
                  : 'audio/aac' === a.w[o] && sd(a, o, a.nd.bind(a, o, m || 0)),
                sd(a, o, a.pd.bind(a, o, p)));
          }
          function td(i, a) {
            return 'text' == a
              ? i.a
                ? (i.m.c(), i.a.remove(0, Infinity))
                : Promise.resolve()
              : sd(i, a, i.qd.bind(i, a, 0, i.g.duration));
          }
          function sd(i, a, o) {
            if (i.s) return Promise.reject();
            if (
              ((o = { start: o, p: new z() }),
              i.c[a].push(o),
              1 == i.c[a].length)
            )
              try {
                o.start();
              } catch (p) {
                'QuotaExceededError' == p.name
                  ? o.p.reject(new A(2, 3, 3017, a))
                  : o.p.reject(new A(2, 3, 3015, p)),
                  wd(i, a);
              }
            return o.p;
          }
          function vd(i, a) {
            if (i.s) return Promise.reject();
            var o,
              p = [];
            for (o in i.b) {
              var m = new z(),
                _ = {
                  start: function (i) {
                    i.resolve();
                  }.bind(null, m),
                  p: m,
                };
              i.c[o].push(_), p.push(m), 1 == i.c[o].length && _.start();
            }
            return Promise.all(p).then(
              function () {
                try {
                  a();
                } catch (p) {
                  var i = Promise.reject(new A(2, 3, 3015, p));
                }
                for (var o in this.b) wd(this, o);
                return i;
              }.bind(i),
              function () {
                return Promise.reject();
              }.bind(i)
            );
          }
          function wd(i, a) {
            i.c[a].shift();
            var o = i.c[a][0];
            if (o)
              try {
                o.start();
              } catch (p) {
                o.p.reject(new A(2, 3, 3015, p)), wd(i, a);
              }
          }
          function xd(i, a) {
            (i = J(i)), (a = J(a));
            var o = i.split('-'),
              p = a.split('-');
            return o[0] == p[0] && 1 == o.length && 2 == p.length;
          }
          function J(i) {
            var a = i.split('-');
            return (
              (i = a[0] || ''),
              (a = a[1] || ''),
              (i = i.toLowerCase()),
              (i = at.get(i) || i),
              (a = a.toUpperCase()) ? i + '-' + a : i
            );
          }
          function zd(i) {
            return i.language
              ? J(i.language)
              : i.audio && i.audio.language
              ? J(i.audio.language)
              : i.video && i.video.language
              ? J(i.video.language)
              : 'und';
          }
          function Ad(i, a) {
            for (
              var o = J(i), p = new Set(), m = r(a), _ = m.next();
              !_.done;
              _ = m.next()
            )
              p.add(J(_.value));
            for (_ = (m = r(p)).next(); !_.done; _ = m.next())
              if ((_ = _.value) == o) return _;
            for (_ = (m = r(p)).next(); !_.done; _ = m.next())
              if (xd((_ = _.value), o)) return _;
            for (_ = (m = r(p)).next(); !_.done; _ = m.next()) {
              var w = (_ = _.value),
                x = o;
              if (
                ((w = J(w)),
                (x = J(x)),
                (w = w.split('-')),
                (x = x.split('-')),
                2 == w.length && 2 == x.length && w[0] == x[0])
              )
                return _;
            }
            for (_ = (p = r(p)).next(); !_.done; _ = p.next())
              if (xd(o, (m = _.value))) return m;
            return null;
          }
          y('veygo.text.TextEngine.registerParser', dd),
            y('veygo.text.TextEngine.unregisterParser', function (i) {
              delete it[i.toLowerCase()];
            }),
            (bd.prototype.destroy = function () {
              return (
                (this.c = this.g = null), this.i.clear(), Promise.resolve()
              );
            }),
            (bd.prototype.Zb = function (i) {
              try {
                return this.g.parseMedia(new Uint8Array(i), {
                  periodStart: 0,
                  segmentStart: null,
                  segmentEnd: 0,
                })[0].startTime;
              } catch (a) {
                throw new A(2, 2, 2009, a);
              }
            }),
            (bd.prototype.remove = function (i, a) {
              return Promise.resolve().then(
                function () {
                  !this.c ||
                    !this.c.remove(i, a) ||
                    null == this.a ||
                    a <= this.a ||
                    i >= this.b ||
                    (i <= this.a && a >= this.b
                      ? (this.a = this.b = null)
                      : i <= this.a && a < this.b
                      ? (this.a = a)
                      : i > this.a && a >= this.b && (this.b = i));
                }.bind(this)
              );
            }),
            (bd.prototype.zd = function (i) {
              this.c.append(i);
            }),
            (bd.prototype.appendCues = bd.prototype.zd),
            (bd.prototype.Nb = function (i, a) {
              this.l = i;
              var o = this.i.get(i);
              if (o)
                for (var p = r(o.keys()), m = p.next(); !m.done; m = p.next())
                  (m = o.get(m.value)) &&
                    ((m = m.filter(function (i) {
                      return i.endTime <= a;
                    })),
                    this.c.append(m));
            }),
            (bd.prototype.setSelectedClosedCaptionId = bd.prototype.Nb),
            ((o = jd.prototype).destroy = function () {
              var i = this;
              this.s = !0;
              var a,
                o = [];
              for (a in this.c) {
                var p = this.c[a],
                  m = p[0];
                for (
                  this.c[a] = p.slice(0, 1),
                    m && o.push(m.p['catch'](tt.nb)),
                    m = 1;
                  m < p.length;
                  ++m
                )
                  p[m].p['catch'](tt.nb), p[m].p.reject();
              }
              for (var _ in (this.a && o.push(this.a.destroy()),
              this.l && o.push(this.l.destroy()),
              this.i))
                o.push(this.i[_].destroy());
              return Promise.all(o).then(function () {
                i.h && (i.h.O(), (i.h = null)),
                  i.f && (i.f.removeAttribute('src'), i.f.load(), (i.f = null)),
                  (i.g = null),
                  (i.a = null),
                  (i.l = null),
                  (i.b = {}),
                  (i.i = {}),
                  (i.m = null),
                  (i.c = {});
              });
            }),
            (o.init = function (i, a) {
              var o = this;
              return t(function f() {
                var p;
                return v(f, function (m) {
                  switch (m.j) {
                    case 1:
                      return (p = rt), u(m, o.o, 2);
                    case 2:
                      i.forEach(function (i, m) {
                        var _ = Nb(i.mimeType, i.codecs);
                        if (m == p.Da) md(o, _);
                        else {
                          if (
                            (a || !MediaSource.isTypeSupported(_)) &&
                            Zc(_, m)
                          ) {
                            o.i[m] = new Yc();
                            var w = _.split(';')[0].split('/')[1];
                            _ = void 0 === (w = nt[w]) ? null : w(m, _);
                          }
                          (o.w[m] = _ || ''),
                            (_ = o.g.addSourceBuffer(_ || '')),
                            F(o.h, _, 'error', o.Ye.bind(o, m)),
                            F(o.h, _, 'updateend', o.Za.bind(o, m)),
                            (o.b[m] = _),
                            (o.c[m] = []);
                        }
                      }),
                        (m.j = 0);
                  }
                });
              });
            }),
            (o.Wb = function () {
              var i =
                this.a && null != this.a.a
                  ? [{ start: this.a.a, end: this.a.b }]
                  : [];
              return {
                total: Tc(this.f.buffered),
                audio: Tc(od(this, 'audio')),
                video: Tc(od(this, 'video')),
                text: i,
              };
            }),
            (o.Nb = function (i) {
              var a = pd(this, 'video') || 0;
              this.a.Nb(i, a);
            }),
            (o.remove = function (i, a, o) {
              return 'text' == i
                ? this.a.remove(a, o)
                : sd(this, i, this.qd.bind(this, i, a, o));
            }),
            (o.flush = function (i) {
              return 'text' == i
                ? Promise.resolve()
                : sd(this, i, this.Kd.bind(this, i));
            }),
            (o.endOfStream = function (i) {
              return vd(
                this,
                function () {
                  i ? this.g.endOfStream(i) : this.g.endOfStream();
                }.bind(this)
              );
            }),
            (o.la = function (i) {
              return vd(
                this,
                function () {
                  this.g.duration = i;
                }.bind(this)
              );
            }),
            (o.T = function () {
              return this.g.duration;
            }),
            (o.pd = function (i, a) {
              this.b[i].appendBuffer(a);
            }),
            (o.qd = function (i, a, o) {
              o <= a ? this.Za(i) : this.b[i].remove(a, o);
            }),
            (o.xd = function (i) {
              var a = this.b[i].appendWindowStart,
                o = this.b[i].appendWindowEnd;
              this.b[i].abort(),
                (this.b[i].appendWindowStart = a),
                (this.b[i].appendWindowEnd = o),
                this.Za(i);
            }),
            (o.Kd = function (i) {
              (this.f.currentTime -= 0.001), this.Za(i);
            }),
            (o.nd = function (i, a) {
              0 > a && (a += 0.001),
                (this.b[i].timestampOffset = a),
                this.Za(i);
            }),
            (o.Te = function (i, a, o) {
              (this.b[i].appendWindowStart = 0),
                (this.b[i].appendWindowEnd = o),
                (this.b[i].appendWindowStart = a),
                this.Za(i);
            }),
            (o.Ye = function (i) {
              this.c[i][0].p.reject(
                new A(
                  2,
                  3,
                  3014,
                  this.f.error
                    ? this.f.error.code + ':' + this.f.error.message
                    : '?'
                )
              );
            }),
            (o.Za = function (i) {
              var a = this.c[i][0];
              a && (a.p.resolve(), wd(this, i));
            });
          var at = new Map([
              ['aar', 'aa'],
              ['abk', 'ab'],
              ['afr', 'af'],
              ['aka', 'ak'],
              ['alb', 'sq'],
              ['amh', 'am'],
              ['ara', 'ar'],
              ['arg', 'an'],
              ['arm', 'hy'],
              ['asm', 'as'],
              ['ava', 'av'],
              ['ave', 'ae'],
              ['aym', 'ay'],
              ['aze', 'az'],
              ['bak', 'ba'],
              ['bam', 'bm'],
              ['baq', 'eu'],
              ['bel', 'be'],
              ['ben', 'bn'],
              ['bih', 'bh'],
              ['bis', 'bi'],
              ['bod', 'bo'],
              ['bos', 'bs'],
              ['bre', 'br'],
              ['bul', 'bg'],
              ['bur', 'my'],
              ['cat', 'ca'],
              ['ces', 'cs'],
              ['cha', 'ch'],
              ['che', 'ce'],
              ['chi', 'zh'],
              ['chu', 'cu'],
              ['chv', 'cv'],
              ['cor', 'kw'],
              ['cos', 'co'],
              ['cre', 'cr'],
              ['cym', 'cy'],
              ['cze', 'cs'],
              ['dan', 'da'],
              ['deu', 'de'],
              ['div', 'dv'],
              ['dut', 'nl'],
              ['dzo', 'dz'],
              ['ell', 'el'],
              ['eng', 'en'],
              ['epo', 'eo'],
              ['est', 'et'],
              ['eus', 'eu'],
              ['ewe', 'ee'],
              ['fao', 'fo'],
              ['fas', 'fa'],
              ['fij', 'fj'],
              ['fin', 'fi'],
              ['fra', 'fr'],
              ['fre', 'fr'],
              ['fry', 'fy'],
              ['ful', 'ff'],
              ['geo', 'ka'],
              ['ger', 'de'],
              ['gla', 'gd'],
              ['gle', 'ga'],
              ['glg', 'gl'],
              ['glv', 'gv'],
              ['gre', 'el'],
              ['grn', 'gn'],
              ['guj', 'gu'],
              ['hat', 'ht'],
              ['hau', 'ha'],
              ['heb', 'he'],
              ['her', 'hz'],
              ['hin', 'hi'],
              ['hmo', 'ho'],
              ['hrv', 'hr'],
              ['hun', 'hu'],
              ['hye', 'hy'],
              ['ibo', 'ig'],
              ['ice', 'is'],
              ['ido', 'io'],
              ['iii', 'ii'],
              ['iku', 'iu'],
              ['ile', 'ie'],
              ['ina', 'ia'],
              ['ind', 'id'],
              ['ipk', 'ik'],
              ['isl', 'is'],
              ['ita', 'it'],
              ['jav', 'jv'],
              ['jpn', 'ja'],
              ['kal', 'kl'],
              ['kan', 'kn'],
              ['kas', 'ks'],
              ['kat', 'ka'],
              ['kau', 'kr'],
              ['kaz', 'kk'],
              ['khm', 'km'],
              ['kik', 'ki'],
              ['kin', 'rw'],
              ['kir', 'ky'],
              ['kom', 'kv'],
              ['kon', 'kg'],
              ['kor', 'ko'],
              ['kua', 'kj'],
              ['kur', 'ku'],
              ['lao', 'lo'],
              ['lat', 'la'],
              ['lav', 'lv'],
              ['lim', 'li'],
              ['lin', 'ln'],
              ['lit', 'lt'],
              ['ltz', 'lb'],
              ['lub', 'lu'],
              ['lug', 'lg'],
              ['mac', 'mk'],
              ['mah', 'mh'],
              ['mal', 'ml'],
              ['mao', 'mi'],
              ['mar', 'mr'],
              ['may', 'ms'],
              ['mkd', 'mk'],
              ['mlg', 'mg'],
              ['mlt', 'mt'],
              ['mon', 'mn'],
              ['mri', 'mi'],
              ['msa', 'ms'],
              ['mya', 'my'],
              ['nau', 'na'],
              ['nav', 'nv'],
              ['nbl', 'nr'],
              ['nde', 'nd'],
              ['ndo', 'ng'],
              ['nep', 'ne'],
              ['nld', 'nl'],
              ['nno', 'nn'],
              ['nob', 'nb'],
              ['nor', 'no'],
              ['nya', 'ny'],
              ['oci', 'oc'],
              ['oji', 'oj'],
              ['ori', 'or'],
              ['orm', 'om'],
              ['oss', 'os'],
              ['pan', 'pa'],
              ['per', 'fa'],
              ['pli', 'pi'],
              ['pol', 'pl'],
              ['por', 'pt'],
              ['pus', 'ps'],
              ['que', 'qu'],
              ['roh', 'rm'],
              ['ron', 'ro'],
              ['rum', 'ro'],
              ['run', 'rn'],
              ['rus', 'ru'],
              ['sag', 'sg'],
              ['san', 'sa'],
              ['sin', 'si'],
              ['slk', 'sk'],
              ['slo', 'sk'],
              ['slv', 'sl'],
              ['sme', 'se'],
              ['smo', 'sm'],
              ['sna', 'sn'],
              ['snd', 'sd'],
              ['som', 'so'],
              ['sot', 'st'],
              ['spa', 'es'],
              ['sqi', 'sq'],
              ['srd', 'sc'],
              ['srp', 'sr'],
              ['ssw', 'ss'],
              ['sun', 'su'],
              ['swa', 'sw'],
              ['swe', 'sv'],
              ['tah', 'ty'],
              ['tam', 'ta'],
              ['tat', 'tt'],
              ['tel', 'te'],
              ['tgk', 'tg'],
              ['tgl', 'tl'],
              ['tha', 'th'],
              ['tib', 'bo'],
              ['tir', 'ti'],
              ['ton', 'to'],
              ['tsn', 'tn'],
              ['tso', 'ts'],
              ['tuk', 'tk'],
              ['tur', 'tr'],
              ['twi', 'tw'],
              ['uig', 'ug'],
              ['ukr', 'uk'],
              ['urd', 'ur'],
              ['uzb', 'uz'],
              ['ven', 've'],
              ['vie', 'vi'],
              ['vol', 'vo'],
              ['wel', 'cy'],
              ['wln', 'wa'],
              ['wol', 'wo'],
              ['xho', 'xh'],
              ['yid', 'yi'],
              ['yor', 'yo'],
              ['zha', 'za'],
              ['zho', 'zh'],
              ['zul', 'zu'],
            ]),
            ot = {
              Kb: function Kb(i, a, o) {
                function e(i, a, o) {
                  return i >= a && i <= o;
                }
                var p = i.video;
                return !(
                  (p &&
                    p.width &&
                    p.height &&
                    !(
                      e(p.width, a.minWidth, Math.min(a.maxWidth, o.width)) &&
                      e(
                        p.height,
                        a.minHeight,
                        Math.min(a.maxHeight, o.height)
                      ) &&
                      e(p.width * p.height, a.minPixels, a.maxPixels)
                    )) ||
                  !e(i.bandwidth, a.minBandwidth, a.maxBandwidth)
                );
              },
            };
          function L() {
            (this.h = null),
              (this.f = !1),
              (this.b = new Ka()),
              (this.c = []),
              (this.i = !1),
              (this.a = this.g = null);
          }
          function Bd(i, a) {
            return (
              i &&
                (a = a.filter(function (a) {
                  return ot.Kb(a, i, { width: Infinity, height: Infinity });
                })),
              a.sort(function (i, a) {
                return i.bandwidth - a.bandwidth;
              })
            );
          }
          y('veygo.util.StreamUtils.meetsRestrictions', ot.Kb),
            (ot.Dc = function (i, a, o) {
              var p = !1;
              return (
                i.forEach(function (i) {
                  var m = i.allowedByApplication;
                  (i.allowedByApplication = ot.Kb(i, a, o)),
                    m != i.allowedByApplication && (p = !0);
                }),
                p
              );
            }),
            (ot.filterNewPeriod = function (i, a, o, p) {
              (p.variants = p.variants.filter(function (p) {
                if (
                  i &&
                  i.L &&
                  p.drmInfos.length &&
                  'com.apple.hls-aes-128' !== p.drmInfos[0].keySystem &&
                  !Lc(i, p)
                )
                  return !1;
                var m = p.audio;
                return (
                  (p = p.video),
                  !(
                    (m && !kd(m)) ||
                    (p && !kd(p)) ||
                    (m && a && !ot.Ec(m, a)) ||
                    (p && o && !ot.Ec(p, o))
                  )
                );
              })),
                (p.textStreams = p.textStreams.filter(function (i) {
                  return ed(Nb(i.mimeType, i.codecs));
                }));
            }),
            (ot.Ec = function (i, a) {
              return (
                i.mimeType == a.mimeType &&
                i.codecs.split('.')[0] == a.codecs.split('.')[0]
              );
            }),
            (ot.vc = function (i) {
              var a = i.audio,
                o = i.video,
                p = a ? a.codecs : null,
                m = o ? o.codecs : null,
                _ = [];
              m && _.push(m), p && _.push(p);
              var w = [];
              o && w.push(o.mimeType),
                a && w.push(a.mimeType),
                (w = w[0] || null);
              var x = [];
              a && x.push(a.kind), o && x.push(o.kind), (x = x[0] || null);
              var I = new Set();
              return (
                a &&
                  a.roles.forEach(function (i) {
                    return I.add(i);
                  }),
                o &&
                  o.roles.forEach(function (i) {
                    return I.add(i);
                  }),
                (i = {
                  id: i.id,
                  active: !1,
                  type: 'variant',
                  bandwidth: i.bandwidth,
                  language: i.language,
                  label: null,
                  kind: x,
                  width: null,
                  height: null,
                  frameRate: null,
                  mimeType: w,
                  codecs: _.join(', '),
                  audioCodec: p,
                  videoCodec: m,
                  primary: i.primary,
                  roles: Array.from(I),
                  videoId: null,
                  audioId: null,
                  channelsCount: null,
                  audioBandwidth: null,
                  videoBandwidth: null,
                  originalVideoId: null,
                  originalAudioId: null,
                  originalTextId: null,
                }),
                o &&
                  ((i.videoId = o.id),
                  (i.originalVideoId = o.originalId),
                  (i.width = o.width || null),
                  (i.height = o.height || null),
                  (i.frameRate = o.frameRate || null),
                  (i.videoBandwidth = o.bandwidth || null)),
                a &&
                  ((i.audioId = a.id),
                  (i.originalAudioId = a.originalId),
                  (i.channelsCount = a.channelsCount),
                  (i.audioBandwidth = a.bandwidth || null),
                  (i.label = a.label)),
                i
              );
            }),
            (ot.qc = function (i) {
              return {
                id: i.id,
                active: !1,
                type: 'text',
                bandwidth: 0,
                language: i.language,
                label: i.label,
                kind: i.kind || null,
                width: null,
                height: null,
                frameRate: null,
                mimeType: i.mimeType,
                codecs: i.codecs || null,
                audioCodec: null,
                videoCodec: null,
                primary: i.primary,
                roles: i.roles,
                videoId: null,
                audioId: null,
                channelsCount: null,
                audioBandwidth: null,
                videoBandwidth: null,
                originalVideoId: null,
                originalAudioId: null,
                originalTextId: i.originalId,
              };
            }),
            (ot.Jd = function (i, a) {
              for (var o = 0; o < i.variants.length; o++)
                if (i.variants[o].id == a.id) return i.variants[o];
              return null;
            }),
            (ot.Id = function (i, a) {
              for (var o = 0; o < i.textStreams.length; o++)
                if (i.textStreams[o].id == a.id) return i.textStreams[o];
              return null;
            }),
            (ot.Ua = function (i) {
              return i.allowedByApplication && i.allowedByKeySystem;
            }),
            (ot.Ud = function (i) {
              return i.filter(function (i) {
                return ot.Ua(i);
              });
            }),
            (ot.Mc = function (i, a) {
              var o = i
                  .filter(function (i) {
                    return i.audio && i.audio.channelsCount;
                  })
                  .reduce(function (i, a) {
                    var o = a.audio.channelsCount;
                    return i[o] ? i[o].push(a) : (i[o] = [a]), i;
                  }, {}),
                p = Object.keys(o);
              if (0 == p.length) return i;
              var m = p.filter(function (i) {
                return i <= a;
              });
              return m.length
                ? o[Math.max.apply(null, m)]
                : o[Math.min.apply(null, p)];
            }),
            (ot.Db = function (i, a, o) {
              var p = [],
                m = i.filter(function (i) {
                  return i.primary;
                });
              if ((m.length && (p = m), a)) {
                var _ = Ad(
                  J(a),
                  i.map(function (i) {
                    return i.language;
                  })
                );
                _ &&
                  (p = i.filter(function (i) {
                    return J(i.language) == _;
                  }));
              } else o && 0 === p.length && (p = i);
              if (o) {
                if ((i = ot.Lc(p, o)).length) return i;
              } else if (
                (i = p.filter(function (i) {
                  return 0 == i.roles.length;
                })).length
              )
                return i;
              return (i = p
                .map(function (i) {
                  return i.roles;
                })
                .reduce(tt.Sb, [])).length
                ? ot.Lc(p, i[0])
                : p;
            }),
            (ot.Lc = function (i, a) {
              return i.filter(function (i) {
                return i.roles.includes(a);
              });
            }),
            (ot.Sc = function (i, a, o) {
              for (var p = 0; p < o.length; p++)
                if (o[p].audio == i && o[p].video == a) return o[p];
              return null;
            }),
            (ot.Fb = function (i, a) {
              for (var o = i.periods.length - 1; 0 < o; --o)
                if (a + 0.06666666666666667 >= i.periods[o].startTime) return o;
              return 0;
            }),
            (ot.Hd = function (i, a) {
              for (var o = 0; o < i.periods.length; ++o)
                for (var p = i.periods[o], m = 0; m < p.variants.length; ++m)
                  if (p.variants[m] == a) return o;
              return -1;
            }),
            (ot.de = function (i) {
              return 'audio' == i.type;
            }),
            (ot.he = function (i) {
              return 'video' == i.type;
            }),
            (ot.Qc = function (i) {
              var a = [];
              return (
                i.periods.forEach(function (i) {
                  i.variants.forEach(function (i) {
                    a.push(i);
                  });
                }),
                a
              );
            }),
            (ot.$d = function (i) {
              var a = [];
              return i.audio && a.push(i.audio), i.video && a.push(i.video), a;
            }),
            (ot.nf = function (i) {
              return ot.de(i)
                ? 'type=audio codecs=' +
                    i.codecs +
                    ' bandwidth=' +
                    i.bandwidth +
                    ' channelsCount=' +
                    i.channelsCount
                : ot.he(i)
                ? 'type=video codecs=' +
                  i.codecs +
                  ' bandwidth=' +
                  i.bandwidth +
                  ' frameRate=' +
                  i.frameRate +
                  ' width=' +
                  i.width +
                  ' height=' +
                  i.height
                : 'unexpected stream type';
            }),
            y('veygo.abr.SimpleAbrManager', L),
            (L.prototype.stop = function () {
              (this.h = null), (this.f = !1), (this.c = []), (this.g = null);
            }),
            (L.prototype.stop = L.prototype.stop),
            (L.prototype.init = function (i) {
              this.h = i;
            }),
            (L.prototype.init = L.prototype.init),
            (L.prototype.chooseVariant = function () {
              var i = Bd(this.a.restrictions, this.c),
                a = this.b.getBandwidthEstimate(
                  this.a.defaultBandwidthEstimate
                );
              this.c.length && !i.length && (i = [(i = Bd(null, this.c))[0]]);
              for (var o = i[0] || null, p = 0; p < i.length; ++p) {
                var m = i[p],
                  _ =
                    (i[p + 1] || { bandwidth: Infinity }).bandwidth /
                    this.a.bandwidthUpgradeTarget;
                a >= m.bandwidth / this.a.bandwidthDowngradeTarget &&
                  a <= _ &&
                  (o = m);
              }
              return (this.g = Date.now()), o;
            }),
            (L.prototype.chooseVariant = L.prototype.chooseVariant),
            (L.prototype.enable = function () {
              this.f = !0;
            }),
            (L.prototype.enable = L.prototype.enable),
            (L.prototype.disable = function () {
              this.f = !1;
            }),
            (L.prototype.disable = L.prototype.disable),
            (L.prototype.segmentDownloaded = function (i, a) {
              var o = this.b;
              if (!(16e3 > a)) {
                var p = (8e3 * a) / i,
                  m = i / 1e3;
                (o.a += a), Ia(o.b, m, p), Ia(o.c, m, p);
              }
              if (null != this.g && this.f)
                e: {
                  if (this.i) {
                    if (Date.now() - this.g < 1e3 * this.a.switchInterval)
                      break e;
                  } else {
                    if (!(128e3 <= this.b.a)) break e;
                    this.i = !0;
                  }
                  (o = this.chooseVariant()),
                    this.b.getBandwidthEstimate(
                      this.a.defaultBandwidthEstimate
                    ),
                    this.h(o);
                }
            }),
            (L.prototype.segmentDownloaded = L.prototype.segmentDownloaded),
            (L.prototype.getBandwidthEstimate = function () {
              return this.b.getBandwidthEstimate(
                this.a.defaultBandwidthEstimate
              );
            }),
            (L.prototype.getBandwidthEstimate =
              L.prototype.getBandwidthEstimate),
            (L.prototype.setVariants = function (i) {
              this.c = i;
            }),
            (L.prototype.setVariants = L.prototype.setVariants),
            (L.prototype.configure = function (i) {
              this.a = i;
            }),
            (L.prototype.configure = L.prototype.configure);
          var st = {
              Eb: function Eb(i, a) {
                var o = st.M(i, a);
                return 1 != o.length ? null : o[0];
              },
              Nc: function Nc(i, a, o) {
                return 1 != (i = st.Oc(i, a, o)).length ? null : i[0];
              },
              M: function M(i, a) {
                return Array.prototype.filter.call(i.childNodes, function (i) {
                  return i instanceof Element && i.tagName == a;
                });
              },
              Oc: function Oc(i, a, o) {
                return Array.prototype.filter.call(i.childNodes, function (i) {
                  return (
                    i instanceof Element &&
                    i.localName == o &&
                    i.namespaceURI == a
                  );
                });
              },
              getAttributeNS: function getAttributeNS(i, a, o) {
                return i.hasAttributeNS(a, o) ? i.getAttributeNS(a, o) : null;
              },
              Gb: function Gb(i) {
                return Array.prototype.every.call(i.childNodes, function (i) {
                  return (
                    i.nodeType == Node.TEXT_NODE ||
                    i.nodeType == Node.CDATA_SECTION_NODE
                  );
                })
                  ? i.textContent.trim()
                  : null;
              },
              G: function G(i, a, o, p) {
                p = void 0 === p ? null : p;
                var m = null;
                return (
                  null != (i = i.getAttribute(a)) && (m = o(i)),
                  null == m ? p : m
                );
              },
              Be: function Be(i) {
                return i
                  ? (/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(i) && (i += 'Z'),
                    (i = Date.parse(i)),
                    isNaN(i) ? null : Math.floor(i / 1e3))
                  : null;
              },
              sa: function sa(i) {
                return i &&
                  (i =
                    /^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(
                      i
                    ))
                  ? ((i =
                      31536e3 * Number(i[1] || null) +
                      2592e3 * Number(i[2] || null) +
                      86400 * Number(i[3] || null) +
                      3600 * Number(i[4] || null) +
                      60 * Number(i[5] || null) +
                      Number(i[6] || null)),
                    isFinite(i) ? i : null)
                  : null;
              },
              Mb: function Mb(i) {
                var a = /([0-9]+)-([0-9]+)/.exec(i);
                return a
                  ? ((i = Number(a[1])),
                    isFinite(i)
                      ? ((a = Number(a[2])),
                        isFinite(a) ? { start: i, end: a } : null)
                      : null)
                  : null;
              },
              parseInt: function parseInt(i) {
                return 0 == (i = Number(i)) % 1 ? i : null;
              },
              jc: function jc(i) {
                return 0 == (i = Number(i)) % 1 && 0 < i ? i : null;
              },
              $a: function $a(i) {
                return 0 == (i = Number(i)) % 1 && 0 <= i ? i : null;
              },
              parseFloat: function parseFloat(i) {
                return (i = Number(i)), isNaN(i) ? null : i;
              },
              Gd: function Gd(i) {
                var a;
                return (
                  (i = (a = i.match(/^(\d+)\/(\d+)$/))
                    ? Number(a[1] / a[2])
                    : Number(i)),
                  isNaN(i) ? null : i
                );
              },
              ed: function ed(i, a) {
                var o = new DOMParser();
                try {
                  var p = o.parseFromString(i, 'text/xml');
                } catch (_) {}
                if (p && p.documentElement.tagName == a)
                  var m = p.documentElement;
                return m && 0 < m.getElementsByTagName('parsererror').length
                  ? null
                  : m;
              },
              dd: function dd(i, a) {
                try {
                  var o = Sb(i);
                  return st.ed(o, a);
                } catch (p) {}
              },
            },
            ut = new Map()
              .set(
                'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b',
                'org.w3.clearkey'
              )
              .set(
                'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed',
                'com.widevine.alpha'
              )
              .set(
                'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95',
                'com.microsoft.playready'
              )
              .set(
                'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb',
                'com.adobe.primetime'
              );
          function Dd(i, a, o) {
            var p = (function Ed(i) {
                for (var a = [], o = (i = r(i)).next(); !o.done; o = i.next())
                  (o = Kd(o.value)) && a.push(o);
                return a;
              })(i),
              m = null;
            i = [];
            var _,
              w = [],
              x = new Set(
                p.map(function (i) {
                  return i.keyId;
                })
              );
            if ((x['delete'](null), 1 < x.size)) throw new A(2, 4, 4010);
            if (
              (o ||
                ((w = p.filter(function (i) {
                  return (
                    'urn:mpeg:dash:mp4protection:2011' != i.jd ||
                    ((m = i.init || m), (_ = i.node.getAttribute('value')), !1)
                  );
                })).length &&
                  0 ==
                    (i = (function Fd(i, a, o) {
                      for (
                        var p = [], m = (o = r(o)).next();
                        !m.done;
                        m = o.next()
                      ) {
                        m = m.value;
                        var _ = ut.get(m.jd);
                        if (_) {
                          var w = Vc(_, m.init || i);
                          (_ = lt.get(_)) && (w.licenseServerUri = _(m)),
                            p.push(w);
                        } else
                          for (
                            w = (m = r((m = a(m.node) || []))).next();
                            !w.done;
                            w = m.next()
                          )
                            p.push(w.value);
                      }
                      return p;
                    })(m, a, w)).length &&
                  (i = [Vc('', m, _)])),
              p.length && (o || !w.length))
            )
              for (
                i = [], o = (a = r(ut.values())).next();
                !o.done;
                o = a.next()
              )
                'org.w3.clearkey' != (o = o.value) && i.push(Vc(o, m));
            if ((x = Array.from(x)[0] || null))
              for (o = (a = r(i)).next(); !o.done; o = a.next())
                for (
                  p = (o = r(o.value.initData)).next();
                  !p.done;
                  p = o.next()
                )
                  p.value.keyId = x;
            return { Gc: x, lf: m, drmInfos: i, Pc: !0 };
          }
          var lt = new Map()
            .set('com.widevine.alpha', function (i) {
              return (
                ((i = st.Nc(i.node, 'urn:microsoft', 'laurl')) &&
                  i.getAttribute('licenseUrl')) ||
                ''
              );
            })
            .set('com.microsoft.playready', function (i) {
              return (i = st.Nc(i.node, 'urn:microsoft:playready', 'pro')) &&
                (i = (function Hd(i) {
                  var a = 0,
                    o = new DataView(i).getUint32(a, !0);
                  if (o !== i.byteLength) return [];
                  (a += 6), (o = []);
                  for (var p = new DataView(i); a < i.byteLength - 1; ) {
                    var m = p.getUint16(a, !0);
                    a += 2;
                    var _ = p.getUint16(a, !0);
                    a += 2;
                    var w = new Uint8Array(i, a, _);
                    o.push({ type: m, value: w }), (a += _);
                  }
                  return o;
                })((i = Yb(i.textContent)).buffer).filter(function (i) {
                  return 1 === i.type;
                })[0])
                ? ((i = Ub(i.value, !0)),
                  (i = st.ed(i, 'WRMHEADER'))
                    ? (function Id(i) {
                        return (i = i.querySelector('DATA > LA_URL'))
                          ? i.textContent
                          : '';
                      })(i)
                    : '')
                : '';
            });
          function Kd(i) {
            var a = i.getAttribute('schemeIdUri'),
              o = st.getAttributeNS(i, 'urn:mpeg:cenc:2013', 'default_KID'),
              p = st.Oc(i, 'urn:mpeg:cenc:2013', 'pssh').map(st.Gb);
            if (!a) return null;
            if (
              ((a = a.toLowerCase()),
              o && (o = o.replace(/-/g, '').toLowerCase()).includes(' '))
            )
              throw new A(2, 4, 4009);
            var m = [];
            try {
              m = p.map(function (i) {
                return { initDataType: 'cenc', initData: Yb(i), keyId: null };
              });
            } catch (_) {
              throw new A(2, 4, 4007);
            }
            return { node: i, jd: a, keyId: o, init: 0 < m.length ? m : null };
          }
          function Ld(a, o, p, m, _) {
            var w = { RepresentationID: o, Number: p, Bandwidth: m, Time: _ };
            return a.replace(
              /\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,
              function (a, o, p, m) {
                if ('$$' == a) return '$';
                var _ = w[o];
                if (null == _) return a;
                switch (
                  ('RepresentationID' == o && p && (p = void 0),
                  'Time' == o && (_ = Math.round(_)),
                  m)
                ) {
                  case void 0:
                  case 'd':
                  case 'i':
                  case 'u':
                    a = _.toString();
                    break;
                  case 'o':
                    a = _.toString(8);
                    break;
                  case 'x':
                    a = _.toString(16);
                    break;
                  case 'X':
                    a = _.toString(16).toUpperCase();
                    break;
                  default:
                    a = _.toString();
                }
                return (
                  (p = i.parseInt(p, 10) || 1),
                  Array(Math.max(0, p - a.length) + 1).join('0') + a
                );
              }
            );
          }
          function Md(i, a) {
            var o = Nd(i, a, 'timescale'),
              p = 1;
            o && (p = st.jc(o) || 1),
              (o = Nd(i, a, 'duration')),
              (o = Number(o || '')) && (o /= p);
            var m = Nd(i, a, 'startNumber'),
              _ = Number(Nd(i, a, 'presentationTimeOffset')) || 0,
              w = st.$a(m || '');
            (null != m && null != w) || (w = 1);
            var x = Od(i, a, 'SegmentTimeline');
            if (((m = null), x)) {
              m = p;
              var I = i.N.duration || Infinity;
              x = st.M(x, 'S');
              for (var D = [], j = 0, K = 0; K < x.length; ++K) {
                var q = x[K],
                  $ = st.G(q, 't', st.$a),
                  Z = st.G(q, 'd', st.$a);
                if (
                  ((q = st.G(q, 'r', st.parseInt)), null != $ && ($ -= _), !Z)
                )
                  break;
                if ((($ = null != $ ? $ : j), 0 > (q = q || 0)))
                  if (K + 1 < x.length) {
                    if (null == (q = st.G(x[K + 1], 't', st.$a))) break;
                    if ($ >= q) break;
                    q = Math.ceil((q - $) / Z) - 1;
                  } else {
                    if (Infinity == I) break;
                    if ($ / m >= I) break;
                    q = Math.ceil((I * m - $) / Z) - 1;
                  }
                0 < D.length && $ != j && (D[D.length - 1].end = $ / m);
                for (var be = 0; be <= q; ++be)
                  (j = $ + Z),
                    D.push({ start: $ / m, end: j / m, df: $ }),
                    ($ = j);
              }
              m = D;
            }
            return { timescale: p, U: o, Ma: w, ga: _ / p || 0, uc: _, K: m };
          }
          function Nd(i, a, o) {
            return [a(i.v), a(i.Y), a(i.ea)]
              .filter(tt.wa)
              .map(function (i) {
                return i.getAttribute(o);
              })
              .reduce(function (i, a) {
                return i || a;
              });
          }
          function Od(i, a, o) {
            return [a(i.v), a(i.Y), a(i.ea)]
              .filter(tt.wa)
              .map(function (i) {
                return st.Eb(i, o);
              })
              .reduce(function (i, a) {
                return i || a;
              });
          }
          function Qd(i, a, o, p, m, _) {
            if (
              ((_ = void 0 === _ ? 0 : _),
              st.getAttributeNS(i, 'http://www.w3.org/1999/xlink', 'href'))
            ) {
              var w = (function Pd(i, a, o, p, m, _) {
                for (
                  var w = st.getAttributeNS(
                      i,
                      'http://www.w3.org/1999/xlink',
                      'href'
                    ),
                    x =
                      st.getAttributeNS(
                        i,
                        'http://www.w3.org/1999/xlink',
                        'actuate'
                      ) || 'onRequest',
                    I = 0;
                  I < i.attributes.length;
                  I++
                ) {
                  var D = i.attributes[I];
                  'http://www.w3.org/1999/xlink' == D.namespaceURI &&
                    (i.removeAttributeNS(D.namespaceURI, D.localName), --I);
                }
                if (5 <= _) return hb(new A(2, 4, 4028));
                if ('onLoad' != x) return hb(new A(2, 4, 4027));
                var j = Uc([p], [w]);
                return m.request(0, Ab(j, a)).Z(function (p) {
                  if (!(p = st.dd(p.data, i.tagName)))
                    return hb(new A(2, 4, 4001, w));
                  for (; i.childNodes.length; ) i.removeChild(i.childNodes[0]);
                  for (; p.childNodes.length; ) {
                    var x = p.childNodes[0];
                    p.removeChild(x), i.appendChild(x);
                  }
                  for (x = 0; x < p.attributes.length; x++) {
                    var I = p.attributes[x].nodeName,
                      D = p.getAttribute(I);
                    i.setAttribute(I, D);
                  }
                  return Qd(i, a, o, j[0], m, _ + 1);
                });
              })(i, a, o, p, m, _);
              return (
                o &&
                  (w = w.Z(void 0, function () {
                    return Qd(i, a, o, p, m, _);
                  })),
                w
              );
            }
            w = [];
            for (var x = 0; x < i.childNodes.length; x++) {
              var I = i.childNodes[x];
              I instanceof Element &&
                ('urn:mpeg:dash:resolve-to-zero:2013' ==
                st.getAttributeNS(I, 'http://www.w3.org/1999/xlink', 'href')
                  ? (i.removeChild(I), --x)
                  : 'SegmentTimeline' != I.tagName &&
                    w.push(Qd(I, a, o, p, m, _)));
            }
            return lb(w).Z(function () {
              return i;
            });
          }
          function Rd(i, a, o) {
            (this.c = i), (this.b = a), (this.a = o);
          }
          function N(i, a, o, p, m, _, w, x, I) {
            (this.position = i),
              (this.startTime = a),
              (this.endTime = o),
              (this.c = p),
              (this.b = m),
              (this.a = _),
              (this.encrypted = w || !1),
              (this.f = x || null),
              (this.g = I || null);
          }
          function O(i, a) {
            (this.H = i), (this.b = a == dt), (this.a = 0);
          }
          y('veygo.media.InitSegmentReference', Rd),
            (Rd.prototype.Tb = function () {
              return this.c();
            }),
            (Rd.prototype.createUris = Rd.prototype.Tb),
            (Rd.prototype.Yb = function () {
              return this.b;
            }),
            (Rd.prototype.getStartByte = Rd.prototype.Yb),
            (Rd.prototype.Xb = function () {
              return this.a;
            }),
            (Rd.prototype.getEndByte = Rd.prototype.Xb),
            y('veygo.media.SegmentReference', N),
            (N.prototype.X = function () {
              return this.position;
            }),
            (N.prototype.getPosition = N.prototype.X),
            (N.prototype.Zb = function () {
              return this.startTime;
            }),
            (N.prototype.getStartTime = N.prototype.Zb),
            (N.prototype.Pd = function () {
              return this.endTime;
            }),
            (N.prototype.getEndTime = N.prototype.Pd),
            (N.prototype.Tb = function () {
              return this.c();
            }),
            (N.prototype.createUris = N.prototype.Tb),
            (N.prototype.Yb = function () {
              return this.b;
            }),
            (N.prototype.getStartByte = N.prototype.Yb),
            (N.prototype.Xb = function () {
              return this.a;
            }),
            (N.prototype.getEndByte = N.prototype.Xb),
            y('veygo.util.DataViewReader', O);
          var ct,
            dt = 1;
          function Td() {
            throw new A(2, 3, 3e3);
          }
          function P() {
            (this.c = []), (this.b = []), (this.a = !1);
          }
          function Q(i) {
            for (; i.reader.ia() && !i.parser.a; )
              i.parser.Lb(i.start, i.reader, i.partialOkay);
          }
          function Vd(i) {
            for (var a = i.reader.B(); 0 < a && !i.parser.a; --a)
              i.parser.Lb(i.start, i.reader, i.partialOkay);
          }
          function Wd(i) {
            return function (a) {
              i(a.reader.Ka(a.reader.H.byteLength - a.reader.X()));
            };
          }
          function Ud(i) {
            for (var a = 0, o = 0; o < i.length; o++)
              a = (a << 8) | i.charCodeAt(o);
            return a;
          }
          function Xd(i) {
            return String.fromCharCode(
              (i >> 24) & 255,
              (i >> 16) & 255,
              (i >> 8) & 255,
              255 & i
            );
          }
          function Yd(i, a, o, p) {
            var m,
              _ = new P().aa('sidx', function (i) {
                m = (function Zd(i, a, o, p) {
                  var m = [];
                  p.reader.I(4);
                  var _ = p.reader.B();
                  if (0 == _) throw new A(2, 3, 3005);
                  if (0 == p.version)
                    var w = p.reader.B(),
                      x = p.reader.B();
                  else (w = p.reader.bb()), (x = p.reader.bb());
                  p.reader.I(2);
                  var I = p.reader.pb();
                  for (i = i + p.size + x, x = 0; x < I; x++) {
                    var D = p.reader.B(),
                      j = (2147483648 & D) >>> 31;
                    D &= 2147483647;
                    var K = p.reader.B();
                    if ((p.reader.I(4), 1 == j)) throw new A(2, 3, 3006);
                    m.push(
                      new N(
                        m.length,
                        w / _ - a,
                        (w + K) / _ - a,
                        function () {
                          return o;
                        },
                        i,
                        i + D - 1
                      )
                    ),
                      (w += K),
                      (i += D);
                  }
                  return p.parser.stop(), m;
                })(a, p, o, i);
              });
            if ((i && _.parse(i), m)) return m;
            throw new A(2, 3, 3004);
          }
          function R(i) {
            this.a = i;
          }
          function $d(i, a) {
            for (; i.a.length && i.a[i.a.length - 1].startTime >= a; )
              i.a.pop();
            for (; i.a.length && 0 >= i.a[0].endTime; ) i.a.shift();
            if (0 != i.a.length) {
              var o = i.a[i.a.length - 1];
              i.a[i.a.length - 1] = new N(
                o.position,
                o.startTime,
                a,
                o.c,
                o.b,
                o.a,
                o.encrypted,
                o.f,
                o.g
              );
            }
          }
          function ae(i) {
            (this.b = i),
              (this.a = new O(i, 0)),
              ct ||
                (ct = [
                  new Uint8Array([255]),
                  new Uint8Array([127, 255]),
                  new Uint8Array([63, 255, 255]),
                  new Uint8Array([31, 255, 255, 255]),
                  new Uint8Array([15, 255, 255, 255, 255]),
                  new Uint8Array([7, 255, 255, 255, 255, 255]),
                  new Uint8Array([3, 255, 255, 255, 255, 255, 255]),
                  new Uint8Array([1, 255, 255, 255, 255, 255, 255, 255]),
                ]);
          }
          function ce(i) {
            var a = de(i);
            if (7 < a.length) throw new A(2, 3, 3002);
            for (var o = 0, p = 0; p < a.length; p++) o = 256 * o + a[p];
            (a = o), (o = de(i));
            e: {
              for (p = 0; p < ct.length; p++)
                if (ac(o, ct[p])) {
                  p = !0;
                  break e;
                }
              p = !1;
            }
            if (p) o = i.b.byteLength - i.a.X();
            else {
              if (8 == o.length && 224 & o[1]) throw new A(2, 3, 3001);
              p = o[0] & ((1 << (8 - o.length)) - 1);
              for (var m = 1; m < o.length; m++) p = 256 * p + o[m];
              o = p;
            }
            return (
              (o =
                i.a.X() + o <= i.b.byteLength ? o : i.b.byteLength - i.a.X()),
              (p = new DataView(i.b.buffer, i.b.byteOffset + i.a.X(), o)),
              i.a.I(o),
              new ee(a, p)
            );
          }
          function de(i) {
            var a,
              o = i.a.fa();
            for (a = 1; 8 >= a && !(o & (1 << (8 - a))); a++);
            if (8 < a) throw new A(2, 3, 3002);
            var p = new Uint8Array(a);
            for (p[0] = o, o = 1; o < a; o++) p[o] = i.a.fa();
            return p;
          }
          function ee(i, a) {
            (this.id = i), (this.a = a);
          }
          function fe(i) {
            if (8 < i.a.byteLength) throw new A(2, 3, 3002);
            if (8 == i.a.byteLength && 224 & i.a.getUint8(0))
              throw new A(2, 3, 3001);
            for (var a = 0, o = 0; o < i.a.byteLength; o++) {
              a = 256 * a + i.a.getUint8(o);
            }
            return a;
          }
          function ge() {}
          function ie(i) {
            var a = new ae(i.a);
            if (179 != (i = ce(a)).id) throw new A(2, 3, 3013);
            if (((i = fe(i)), 183 != (a = ce(a)).id)) throw new A(2, 3, 3012);
            a = new ae(a.a);
            for (var o = 0; a.ia(); ) {
              var p = ce(a);
              if (241 == p.id) {
                o = fe(p);
                break;
              }
            }
            return { ef: i, Ie: o };
          }
          function je(i, a) {
            var o = Od(i, a, 'Initialization');
            if (!o) return null;
            var p = i.v.ha,
              m = o.getAttribute('sourceURL');
            m && (p = Uc(i.v.ha, [m])), (m = 0);
            var _ = null;
            return (
              (o = st.G(o, 'range', st.Mb)) && ((m = o.start), (_ = o.end)),
              new Rd(
                function () {
                  return p;
                },
                m,
                _
              )
            );
          }
          function me(i, a, o, p, m, _, w, x) {
            var I = i.presentationTimeline,
              D = !i.Ra || !i.N.$b,
              j = i.N.start,
              K = i.N.duration,
              q = a,
              $ = null;
            return {
              createSegmentIndex: function createSegmentIndex() {
                var i = [q(p, m, _), 'webm' == w ? q(o.c(), o.b, o.a) : null];
                return (
                  (q = null),
                  Promise.all(i).then(function (i) {
                    var a = i[0];
                    (i = i[1] || null),
                      (a =
                        'mp4' == w
                          ? Yd(a, m, p, x)
                          : new ge().parse(a, i, p, x)),
                      I.Ya(a, j),
                      ($ = new R(a)),
                      D && $d($, K);
                  })
                );
              },
              findSegmentPosition: function findSegmentPosition(i) {
                return $.find(i);
              },
              getSegmentReference: function getSegmentReference(i) {
                return $.get(i);
              },
            };
          }
          function le(i) {
            return i.qb;
          }
          function ne(i, a) {
            var o = je(i, oe),
              p = (function pe(i) {
                return [i.v.Aa, i.Y.Aa, i.ea.Aa]
                  .filter(tt.wa)
                  .map(function (i) {
                    return st.M(i, 'SegmentURL');
                  })
                  .reduce(function (i, a) {
                    return 0 < i.length ? i : a;
                  })
                  .map(function (a) {
                    return (
                      a.getAttribute('indexRange') && !i.Wc && (i.Wc = !0),
                      {
                        ie: a.getAttribute('media'),
                        start: (a = st.G(a, 'mediaRange', st.Mb, {
                          start: 0,
                          end: null,
                        })).start,
                        end: a.end,
                      }
                    );
                  });
              })(i),
              m = Md(i, oe),
              _ = m.Ma;
            0 == _ && (_ = 1);
            var w = 0;
            if (
              (m.U
                ? (w = m.U * (_ - 1))
                : m.K && 0 < m.K.length && (w = m.K[0].start),
              !(p = { U: m.U, startTime: w, Ma: _, ga: m.ga, K: m.K, Wa: p })
                .U &&
                !p.K &&
                1 < p.Wa.length)
            )
              throw new A(2, 4, 4002);
            if (!p.U && !i.N.duration && !p.K && 1 == p.Wa.length)
              throw new A(2, 4, 4002);
            if (p.K && 0 == p.K.length) throw new A(2, 4, 4002);
            return (
              (_ = m = null),
              i.ea.id && i.v.id && (m = a[(_ = i.ea.id + ',' + i.v.id)]),
              (w = (function qe(i, a, o, p) {
                var m = p.Wa.length;
                p.K &&
                  p.K.length != p.Wa.length &&
                  (m = Math.min(p.K.length, p.Wa.length));
                for (var _ = [], w = p.startTime, x = 0; x < m; x++) {
                  var I = p.Wa[x],
                    D = Uc(o, [I.ie]),
                    j = void 0;
                  (j = null != p.U ? w + p.U : p.K ? p.K[x].end : w + i),
                    _.push(
                      new N(
                        x + a,
                        w,
                        j,
                        function (i) {
                          return i;
                        }.bind(null, D),
                        I.start,
                        I.end
                      )
                    ),
                    (w = j);
                }
                return _;
              })(i.N.duration, p.Ma, i.v.ha, p)),
              m
                ? (m.cc(w), m.Ub(i.presentationTimeline.jb() - i.N.start))
                : (i.presentationTimeline.Ya(w, i.N.start),
                  (m = new R(w)),
                  _ && i.Ra && (a[_] = m)),
              (i.Ra && i.N.$b) || $d(m, i.N.duration),
              {
                createSegmentIndex: Promise.resolve.bind(Promise),
                findSegmentPosition: m.find.bind(m),
                getSegmentReference: m.get.bind(m),
                initSegmentReference: o,
                ga: p.ga,
              }
            );
          }
          function oe(i) {
            return i.Aa;
          }
          function re(i, a, o, p) {
            var m = (function se(i) {
                var a = Nd(i, te, 'initialization');
                if (!a) return null;
                var o = i.v.id,
                  p = i.bandwidth || null,
                  m = i.v.ha;
                return new Rd(
                  function () {
                    var i = Ld(a, o, null, p, null);
                    return Uc(m, [i]);
                  },
                  0,
                  null
                );
              })(i),
              _ = Md(i, te),
              w = Nd(i, te, 'media'),
              x = Nd(i, te, 'index');
            if (
              ((w = (_ = {
                U: _.U,
                timescale: _.timescale,
                Ma: _.Ma,
                ga: _.ga,
                uc: _.uc,
                K: _.K,
                bc: w,
                lb: x,
              }).lb
                ? 1
                : 0),
              (w += _.K ? 1 : 0),
              0 == (w += _.U ? 1 : 0))
            )
              throw new A(2, 4, 4002);
            if (
              (1 != w && (_.lb && (_.K = null), (_.U = null)), !_.lb && !_.bc)
            )
              throw new A(2, 4, 4002);
            if (_.lb) {
              if ('mp4' != (o = i.v.mimeType.split('/')[1]) && 'webm' != o)
                throw new A(2, 4, 4006);
              if ('webm' == o && !m) throw new A(2, 4, 4005);
              (p = Ld(_.lb, i.v.id, null, i.bandwidth || null, null)),
                (i = me(i, a, m, (p = Uc(i.v.ha, [p])), 0, null, o, _.ga));
            } else
              _.U
                ? (p ||
                    (i.presentationTimeline.ec(_.U),
                    i.presentationTimeline.fc(i.N.start)),
                  (i = (function ue(i, a) {
                    var o = i.N.duration,
                      p = a.U,
                      m = a.Ma,
                      _ = a.timescale,
                      w = a.bc,
                      x = i.bandwidth || null,
                      I = i.v.id,
                      D = i.v.ha;
                    return {
                      createSegmentIndex: Promise.resolve.bind(Promise),
                      findSegmentPosition: function findSegmentPosition(i) {
                        return 0 > i || (o && i >= o)
                          ? null
                          : Math.floor(i / p);
                      },
                      getSegmentReference: function getSegmentReference(i) {
                        var a = i * p,
                          j = a + p;
                        return (
                          o && (j = Math.min(j, o)),
                          0 > j || (o && a >= o)
                            ? null
                            : new N(
                                i,
                                a,
                                j,
                                function () {
                                  var o = Ld(w, I, i + m, x, a * _);
                                  return Uc(D, [o]);
                                },
                                0,
                                null
                              )
                        );
                      },
                    };
                  })(i, _)))
                : ((p = a = null),
                  i.ea.id && i.v.id && (a = o[(p = i.ea.id + ',' + i.v.id)]),
                  (w = (function ve(i, a) {
                    for (var o = [], p = 0; p < a.K.length; p++) {
                      var m = p + a.Ma;
                      o.push(
                        new N(
                          m,
                          a.K[p].start,
                          a.K[p].end,
                          function (i, a, o, p, m, _) {
                            return Uc(p, [(i = Ld(i, a, m, o, _))]).map(
                              function (i) {
                                return i.toString();
                              }
                            );
                          }.bind(
                            null,
                            a.bc,
                            i.v.id,
                            i.bandwidth || null,
                            i.v.ha,
                            m,
                            a.K[p].df + a.uc
                          ),
                          0,
                          null
                        )
                      );
                    }
                    return o;
                  })(i, _)),
                  (x = !i.Ra || !i.N.$b),
                  a
                    ? (x && $d(new R(w), i.N.duration),
                      a.cc(w),
                      a.Ub(i.presentationTimeline.jb() - i.N.start))
                    : (i.presentationTimeline.Ya(w, i.N.start),
                      (a = new R(w)),
                      p && i.Ra && (o[p] = a)),
                  x && $d(a, i.N.duration),
                  (i = {
                    createSegmentIndex: Promise.resolve.bind(Promise),
                    findSegmentPosition: a.find.bind(a),
                    getSegmentReference: a.get.bind(a),
                  }));
            return {
              createSegmentIndex: i.createSegmentIndex,
              findSegmentPosition: i.findSegmentPosition,
              getSegmentReference: i.getSegmentReference,
              initSegmentReference: m,
              ga: _.ga,
            };
          }
          function te(i) {
            return i.sb;
          }
          (O.Endianness = { hf: 0, jf: dt }),
            (O.prototype.ia = function () {
              return this.a < this.H.byteLength;
            }),
            (O.prototype.hasMoreData = O.prototype.ia),
            (O.prototype.X = function () {
              return this.a;
            }),
            (O.prototype.getPosition = O.prototype.X),
            (O.prototype.Qd = function () {
              return this.H.byteLength;
            }),
            (O.prototype.getLength = O.prototype.Qd),
            (O.prototype.fa = function () {
              try {
                var i = this.H.getUint8(this.a);
                return (this.a += 1), i;
              } catch (a) {
                Td();
              }
            }),
            (O.prototype.readUint8 = O.prototype.fa),
            (O.prototype.pb = function () {
              try {
                var i = this.H.getUint16(this.a, this.b);
                return (this.a += 2), i;
              } catch (a) {
                Td();
              }
            }),
            (O.prototype.readUint16 = O.prototype.pb),
            (O.prototype.B = function () {
              try {
                var i = this.H.getUint32(this.a, this.b);
                return (this.a += 4), i;
              } catch (a) {
                Td();
              }
            }),
            (O.prototype.readUint32 = O.prototype.B),
            (O.prototype.fd = function () {
              try {
                var i = this.H.getInt32(this.a, this.b);
                return (this.a += 4), i;
              } catch (a) {
                Td();
              }
            }),
            (O.prototype.readInt32 = O.prototype.fd),
            (O.prototype.bb = function () {
              try {
                if (this.b)
                  var i = this.H.getUint32(this.a, !0),
                    a = this.H.getUint32(this.a + 4, !0);
                else
                  (a = this.H.getUint32(this.a, !1)),
                    (i = this.H.getUint32(this.a + 4, !1));
              } catch (o) {
                Td();
              }
              if (2097151 < a) throw new A(2, 3, 3001);
              return (this.a += 8), a * Math.pow(2, 32) + i;
            }),
            (O.prototype.readUint64 = O.prototype.bb),
            (O.prototype.Ka = function (i) {
              this.a + i > this.H.byteLength && Td();
              var a = new Uint8Array(
                this.H.buffer,
                this.H.byteOffset + this.a,
                i
              );
              return (this.a += i), new Uint8Array(a);
            }),
            (O.prototype.readBytes = O.prototype.Ka),
            (O.prototype.I = function (i) {
              this.a + i > this.H.byteLength && Td(), (this.a += i);
            }),
            (O.prototype.skip = O.prototype.I),
            (O.prototype.hd = function (i) {
              this.a < i && Td(), (this.a -= i);
            }),
            (O.prototype.rewind = O.prototype.hd),
            (O.prototype.seek = function (i) {
              (0 > i || i > this.H.byteLength) && Td(), (this.a = i);
            }),
            (O.prototype.seek = O.prototype.seek),
            (O.prototype.kc = function () {
              for (var i = this.a; this.ia() && 0 != this.H.getUint8(this.a); )
                this.a += 1;
              return (
                (i = new Uint8Array(
                  this.H.buffer,
                  this.H.byteOffset + i,
                  this.a - i
                )),
                (this.a += 1),
                Sb(i)
              );
            }),
            (O.prototype.readTerminatedString = O.prototype.kc),
            y('veygo.util.Mp4Parser', P),
            (P.prototype.D = function (i, a) {
              var o = Ud(i);
              return (this.c[o] = 0), (this.b[o] = a), this;
            }),
            (P.prototype.box = P.prototype.D),
            (P.prototype.aa = function (i, a) {
              var o = Ud(i);
              return (this.c[o] = 1), (this.b[o] = a), this;
            }),
            (P.prototype.fullBox = P.prototype.aa),
            (P.prototype.stop = function () {
              this.a = !0;
            }),
            (P.prototype.stop = P.prototype.stop),
            (P.prototype.parse = function (i, a) {
              var o = new Uint8Array(i);
              for (
                o = new O(
                  new DataView(o.buffer, o.byteOffset, o.byteLength),
                  0
                ),
                  this.a = !1;
                o.ia() && !this.a;

              )
                this.Lb(0, o, a);
            }),
            (P.prototype.parse = P.prototype.parse),
            (P.prototype.Lb = function (i, a, o) {
              var p = a.X(),
                m = a.B(),
                _ = a.B();
              switch (m) {
                case 0:
                  m = a.H.byteLength - p;
                  break;
                case 1:
                  m = a.bb();
              }
              var w = this.b[_];
              if (w) {
                var x = null,
                  I = null;
                1 == this.c[_] && ((x = (I = a.B()) >>> 24), (I &= 16777215)),
                  (_ = p + m),
                  o && _ > a.H.byteLength && (_ = a.H.byteLength),
                  (_ -= a.X()),
                  (a = 0 < _ ? a.Ka(_) : new Uint8Array(0)),
                  w({
                    parser: this,
                    partialOkay: o || !1,
                    version: x,
                    flags: I,
                    reader: (a = new O(
                      new DataView(a.buffer, a.byteOffset, a.byteLength),
                      0
                    )),
                    size: m,
                    start: p + i,
                  });
              } else a.I(Math.min(p + m - a.X(), a.H.byteLength - a.X()));
            }),
            (P.prototype.parseNext = P.prototype.Lb),
            (P.children = Q),
            (P.sampleDescription = Vd),
            (P.allData = Wd),
            (P.typeToString = Xd),
            y('veygo.media.SegmentIndex', R),
            (R.prototype.destroy = function () {
              return (this.a = null), Promise.resolve();
            }),
            (R.prototype.destroy = R.prototype.destroy),
            (R.prototype.find = function (i) {
              for (var a = this.a.length - 1; 0 <= a; --a) {
                var o = this.a[a];
                if (i >= o.startTime && i < o.endTime) return o.position;
              }
              return this.a.length && i < this.a[0].startTime
                ? this.a[0].position
                : null;
            }),
            (R.prototype.find = R.prototype.find),
            (R.prototype.get = function (i) {
              return 0 == this.a.length ||
                0 > (i -= this.a[0].position) ||
                i >= this.a.length
                ? null
                : this.a[i];
            }),
            (R.prototype.get = R.prototype.get),
            (R.prototype.offset = function (i) {
              for (var a = 0; a < this.a.length; ++a)
                (this.a[a].startTime += i), (this.a[a].endTime += i);
            }),
            (R.prototype.offset = R.prototype.offset),
            (R.prototype.cc = function (i) {
              for (
                var a = [], o = 0, p = 0;
                o < this.a.length && p < i.length;

              ) {
                var m = this.a[o],
                  _ = i[p];
                m.startTime < _.startTime
                  ? (a.push(m), o++)
                  : (m.startTime > _.startTime
                      ? 0 == o && a.push(_)
                      : (0.1 < Math.abs(m.endTime - _.endTime)
                          ? a.push(
                              new N(
                                m.position,
                                _.startTime,
                                _.endTime,
                                _.c,
                                _.b,
                                _.a
                              )
                            )
                          : a.push(m),
                        o++),
                    p++);
              }
              for (; o < this.a.length; ) a.push(this.a[o++]);
              if (a.length)
                for (o = a[a.length - 1].position + 1; p < i.length; )
                  (m = new N(
                    o++,
                    (m = i[p++]).startTime,
                    m.endTime,
                    m.c,
                    m.b,
                    m.a
                  )),
                    a.push(m);
              else a = i;
              this.a = a;
            }),
            (R.prototype.merge = R.prototype.cc),
            (R.prototype.Ub = function (i) {
              for (var a = 0; a < this.a.length; ++a)
                if (this.a[a].endTime > i) return void this.a.splice(0, a);
              this.a = [];
            }),
            (R.prototype.evict = R.prototype.Ub),
            (ae.prototype.ia = function () {
              return this.a.ia();
            }),
            (ge.prototype.parse = function (i, a, o, p) {
              var m;
              if (440786851 != ce((a = new ae(new DataView(a)))).id)
                throw new A(2, 3, 3008);
              var _ = ce(a);
              if (408125543 != _.id) throw new A(2, 3, 3009);
              for (a = _.a.byteOffset, _ = new ae(_.a), m = null; _.ia(); ) {
                var w = ce(_);
                if (357149030 == w.id) {
                  m = w;
                  break;
                }
              }
              if (!m) throw new A(2, 3, 3010);
              for (_ = new ae(m.a), m = 1e6, w = null; _.ia(); ) {
                var x = ce(_);
                if (2807729 == x.id) m = fe(x);
                else if (17545 == x.id)
                  if (4 == (w = x).a.byteLength) w = w.a.getFloat32(0);
                  else {
                    if (8 != w.a.byteLength) throw new A(2, 3, 3003);
                    w = w.a.getFloat64(0);
                  }
              }
              if (null == w) throw new A(2, 3, 3011);
              if (
                ((m = w * (_ = m / 1e9)),
                475249515 != (i = ce(new ae(new DataView(i)))).id)
              )
                throw new A(2, 3, 3007);
              return (function he(i, a, o, p, m, _) {
                function h() {
                  return m;
                }
                var w = [];
                i = new ae(i.a);
                for (var x = null, I = null; i.ia(); ) {
                  var D = ce(i);
                  if (187 == D.id) {
                    var j = ie(D);
                    j &&
                      ((D = o * j.ef),
                      (j = a + j.Ie),
                      null != x &&
                        w.push(new N(w.length, x - _, D - _, h, I, j - 1)),
                      (x = D),
                      (I = j));
                  }
                }
                return (
                  null != x &&
                    w.push(new N(w.length, x - _, p - _, h, I, null)),
                  w
                );
              })(i, a, _, m, o, p);
            });
          var ft = {},
            ht = {};
          function ze(i, a, o, p) {
            return t(function g() {
              var m, _;
              return v(g, function (w) {
                switch (w.j) {
                  case 1:
                    return (
                      qa(w, 2),
                      u(
                        w,
                        (function Ae(i, a, o, p) {
                          return t(function g() {
                            var m, _, w, x, I, D, j, K, q, $;
                            return v(g, function (Z) {
                              switch (Z.j) {
                                case 1:
                                  return p &&
                                    ((m = p.toLowerCase()), (_ = ft[m]))
                                    ? Z['return'](_)
                                    : ((w = new Oa(i)),
                                      (x = w.da.split('/')),
                                      (I = x.pop()),
                                      1 < (D = I.split('.')).length &&
                                      ((j = D.pop().toLowerCase()), (K = ht[j]))
                                        ? Z['return'](K)
                                        : u(
                                            Z,
                                            (function Be(i, a, o) {
                                              return t(function f() {
                                                var p, m, _;
                                                return v(f, function (w) {
                                                  switch (w.j) {
                                                    case 1:
                                                      return (
                                                        ((p = Ab(
                                                          [i],
                                                          o
                                                        )).method = 'HEAD'),
                                                        u(
                                                          w,
                                                          a.request(0, p)
                                                            .promise,
                                                          2
                                                        )
                                                      );
                                                    case 2:
                                                      return (
                                                        (m = w.u),
                                                        (_ =
                                                          m.headers[
                                                            'content-type'
                                                          ]),
                                                        w['return'](
                                                          _
                                                            ? _.toLowerCase()
                                                            : ''
                                                        )
                                                      );
                                                  }
                                                });
                                              });
                                            })(i, a, o),
                                            2
                                          ));
                                case 2:
                                  if (((q = Z.u), ($ = ft[q])))
                                    return Z['return']($);
                                  throw new A(2, 4, 4e3, i);
                              }
                            });
                          });
                        })(i, a, o, p),
                        4
                      )
                    );
                  case 4:
                    return (m = w.u), w['return'](new m());
                  case 2:
                    throw (((_ = ta(w)).severity = 2), _);
                }
              });
            });
          }
          function S(i, a, o) {
            (this.f = i),
              (this.m = a),
              (this.h = this.g = Infinity),
              (this.a = 1),
              (this.b = this.c = null),
              (this.l = 0),
              (this.o = !0),
              (this.i = 0),
              (this.s = void 0 === o || o);
          }
          function Ce() {
            (this.a = this.b = null),
              (this.h = []),
              (this.c = null),
              (this.l = []),
              (this.i = 1),
              (this.m = {}),
              (this.o = 0),
              (this.s = new Ha(5)),
              (this.g = null),
              (this.f = new wb());
          }
          function De(i) {
            var a = Date.now(),
              o = i.a.networkingEngine.request(0, Ab(i.h, i.b.retryParameters));
            return (
              xb(i.f, o),
              o.promise
                .then(function (a) {
                  if (i.a)
                    return (function Fe(i, a, o) {
                      if (!(a = st.dd(a, 'MPD'))) throw new A(2, 4, 4001, o);
                      return (
                        (a = Qd(
                          a,
                          i.b.retryParameters,
                          i.b.dash.xlinkFailGracefully,
                          o,
                          i.a.networkingEngine
                        )),
                        xb(i.f, a),
                        a.promise.then(function (a) {
                          return (function Ge(i, a, o) {
                            return t(function f() {
                              var p,
                                m,
                                _,
                                w,
                                x,
                                I,
                                D,
                                j,
                                K,
                                q,
                                $,
                                Z,
                                be,
                                Se,
                                _e,
                                we,
                                xe,
                                et,
                                rt,
                                nt,
                                it,
                                at;
                              return v(f, function (ot) {
                                switch (ot.j) {
                                  case 1:
                                    (w = tt),
                                      (I = [o]),
                                      0 <
                                        (D = (x = st)
                                          .M(a, 'Location')
                                          .map(x.Gb)
                                          .filter(w.wa)).length &&
                                        ((j = Uc(I, D)), (I = i.h = j)),
                                      (K = x.M(a, 'BaseURL').map(x.Gb)),
                                      (q = Uc(I, K)),
                                      i.b.dash.ignoreMinBufferTime ||
                                        ($ = x.G(a, 'minBufferTime', x.sa)),
                                      (i.o = x.G(
                                        a,
                                        'minimumUpdatePeriod',
                                        x.sa,
                                        -1
                                      )),
                                      (Z = x.G(
                                        a,
                                        'availabilityStartTime',
                                        x.Be
                                      )),
                                      (be = x.G(
                                        a,
                                        'timeShiftBufferDepth',
                                        x.sa
                                      )),
                                      (Se = x.G(
                                        a,
                                        'suggestedPresentationDelay',
                                        x.sa
                                      )),
                                      (_e = x.G(a, 'maxSegmentDuration', x.sa)),
                                      (we = a.getAttribute('type') || 'static'),
                                      i.c
                                        ? (xe = i.c.presentationTimeline)
                                        : ((et = Math.max(
                                            i.b.dash.defaultPresentationDelay,
                                            1.5 * $
                                          )),
                                          (xe = new S(
                                            Z,
                                            null != Se ? Se + 2 : et,
                                            i.b.dash.autoCorrectDrift
                                          )));
                                    for (
                                      var ut = {
                                          Ra: 'static' != we,
                                          presentationTimeline: xe,
                                          ea: null,
                                          N: null,
                                          Y: null,
                                          v: null,
                                          bandwidth: 0,
                                          Wc: !1,
                                        },
                                        lt = q,
                                        ct = st.G(
                                          a,
                                          'mediaPresentationDuration',
                                          st.sa
                                        ),
                                        dt = [],
                                        ft = 0,
                                        ht = st.M(a, 'Period'),
                                        pt = 0;
                                      pt < ht.length;
                                      pt++
                                    ) {
                                      var gt = ht[pt];
                                      ft = st.G(gt, 'start', st.sa, ft);
                                      var mt = st.G(gt, 'duration', st.sa),
                                        vt = null;
                                      if (pt != ht.length - 1) {
                                        var yt = st.G(
                                          ht[pt + 1],
                                          'start',
                                          st.sa
                                        );
                                        null != yt && (vt = yt - ft);
                                      } else null != ct && (vt = ct - ft);
                                      if (
                                        (null == vt && (vt = mt),
                                        (gt = He(i, ut, lt, {
                                          start: ft,
                                          duration: vt,
                                          node: gt,
                                          $b: null == vt || pt == ht.length - 1,
                                        })),
                                        dt.push(gt),
                                        (mt = ut.ea.id),
                                        i.l.includes(mt) ||
                                          (i.l.push(mt),
                                          i.c &&
                                            (i.a.filterNewPeriod(gt),
                                            i.c.periods.push(gt))),
                                        null == vt)
                                      ) {
                                        ft = null;
                                        break;
                                      }
                                      ft += vt;
                                    }
                                    if (
                                      (null == i.c && i.a.filterAllPeriods(dt),
                                      null != ct
                                        ? ((p = dt), (m = ct), (_ = !1))
                                        : ((p = dt), (m = ft), (_ = !0)),
                                      (rt = m),
                                      (nt = p),
                                      xe.tb('static' == we),
                                      ('static' != we && _) ||
                                        xe.la(rt || Infinity),
                                      xe.ba() &&
                                        !isNaN(
                                          i.b.availabilityWindowOverride
                                        ) &&
                                        (be = i.b.availabilityWindowOverride),
                                      null == be && (be = Infinity),
                                      xe.oc(be),
                                      xe.ec(_e || 1),
                                      i.c)
                                    ) {
                                      ot.A(2);
                                      break;
                                    }
                                    if (
                                      ((i.c = {
                                        presentationTimeline: xe,
                                        periods: nt,
                                        offlineSessionIds: [],
                                        minBufferTime: $ || 0,
                                      }),
                                      !xe.td())
                                    ) {
                                      ot.A(2);
                                      break;
                                    }
                                    return (
                                      (it = x.M(a, 'UTCTiming')),
                                      u(
                                        ot,
                                        (function Ie(i, a, o) {
                                          o = o.map(function (i) {
                                            return {
                                              scheme:
                                                i.getAttribute('schemeIdUri'),
                                              value: i.getAttribute('value'),
                                            };
                                          });
                                          var p = i.b.dash.clockSyncUri;
                                          return (
                                            !o.length &&
                                              p &&
                                              o.push({
                                                scheme:
                                                  'urn:mpeg:dash:utc:http-head:2014',
                                                value: p,
                                              }),
                                            tt
                                              .Fd(
                                                o,
                                                function (i) {
                                                  var o = i.scheme;
                                                  switch (((i = i.value), o)) {
                                                    case 'urn:mpeg:dash:utc:http-head:2014':
                                                    case 'urn:mpeg:dash:utc:http-head:2012':
                                                      return Pe(
                                                        this,
                                                        a,
                                                        i,
                                                        'HEAD'
                                                      );
                                                    case 'urn:mpeg:dash:utc:http-xsdate:2014':
                                                    case 'urn:mpeg:dash:utc:http-iso:2014':
                                                    case 'urn:mpeg:dash:utc:http-xsdate:2012':
                                                    case 'urn:mpeg:dash:utc:http-iso:2012':
                                                      return Pe(
                                                        this,
                                                        a,
                                                        i,
                                                        'GET'
                                                      );
                                                    case 'urn:mpeg:dash:utc:direct:2014':
                                                    case 'urn:mpeg:dash:utc:direct:2012':
                                                      return (
                                                        (o = Date.parse(i)),
                                                        isNaN(o)
                                                          ? 0
                                                          : o - Date.now()
                                                      );
                                                    case 'urn:mpeg:dash:utc:http-ntp:2014':
                                                    case 'urn:mpeg:dash:utc:ntp:2014':
                                                    case 'urn:mpeg:dash:utc:sntp:2014':
                                                      return (
                                                        Ma(
                                                          'NTP UTCTiming scheme is not supported'
                                                        ),
                                                        Promise.reject()
                                                      );
                                                    default:
                                                      return (
                                                        Ma(
                                                          'Unrecognized scheme in UTCTiming element',
                                                          o
                                                        ),
                                                        Promise.reject()
                                                      );
                                                  }
                                                }.bind(i)
                                              )
                                              ['catch'](function () {
                                                return (
                                                  Ma(
                                                    'A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!'
                                                  ),
                                                  0
                                                );
                                              })
                                          );
                                        })(i, q, it),
                                        4
                                      )
                                    );
                                  case 4:
                                    if (((at = ot.u), !i.a))
                                      return ot['return']();
                                    xe.ld(at);
                                  case 2:
                                    if (i.c) return u(ot, i.a.filter(i.c), 0);
                                    ot.A(0);
                                }
                              });
                            });
                          })(i, a, o);
                        })
                      );
                    })(i, a.data, a.uri);
                })
                .then(function () {
                  var o = (Date.now() - a) / 1e3;
                  return Ia(i.s, 1, o), o;
                })
            );
          }
          function He(i, a, o, p) {
            if (
              ((a.ea = Je(p.node, null, o)),
              (a.N = p),
              a.ea.id || (a.ea.id = '__veygo_period_' + p.start),
              st
                .M(p.node, 'EventStream')
                .forEach(i.De.bind(i, p.start, p.duration)),
              (o = st
                .M(p.node, 'AdaptationSet')
                .map(i.Ae.bind(i, a))
                .filter(tt.wa)),
              a.Ra)
            ) {
              a = [];
              for (var m = r(o), _ = m.next(); !_.done; _ = m.next())
                for (var w = (_ = r(_.value.Ke)).next(); !w.done; w = _.next())
                  a.push(w.value);
              if (a.length != new Set(a).size) throw new A(2, 4, 4018);
            }
            var x = o.filter(function (i) {
              return !i.sc;
            });
            if (
              (o
                .filter(function (i) {
                  return i.sc;
                })
                .forEach(function (i) {
                  var a = i.streams[0],
                    o = i.sc;
                  x.forEach(function (i) {
                    i.id == o &&
                      i.streams.forEach(function (i) {
                        i.trickModeVideo = a;
                      });
                  });
                }),
              (a = Ke(x, 'video')),
              (m = Ke(x, 'audio')),
              !a.length && !m.length)
            )
              throw new A(2, 4, 4004);
            for (
              m.length || (m = [null]), a.length || (a = [null]), o = [], _ = 0;
              _ < m.length;
              _++
            )
              for (w = 0; w < a.length; w++) Le(i, m[_], a[w], o);
            for (i = Ke(x, 'text'), a = [], m = 0; m < i.length; m++)
              a.push.apply(a, i[m].streams);
            return { startTime: p.start, textStreams: a, variants: o };
          }
          function Ke(i, a) {
            return i.filter(function (i) {
              return i.contentType == a;
            });
          }
          function Le(i, a, o, p) {
            if (a || o)
              if (a && o) {
                var m = a.drmInfos,
                  _ = o.drmInfos;
                if (!m.length || !_.length || 0 < Mc(m, _).length) {
                  _ = Mc(a.drmInfos, o.drmInfos);
                  for (var w = 0; w < a.streams.length; w++)
                    for (var x = 0; x < o.streams.length; x++)
                      (m =
                        (o.streams[x].bandwidth || 0) +
                        (a.streams[w].bandwidth || 0)),
                        (m = {
                          id: i.i++,
                          language: a.language,
                          primary: a.ac || o.ac,
                          audio: a.streams[w],
                          video: o.streams[x],
                          bandwidth: m,
                          drmInfos: _,
                          allowedByApplication: !0,
                          allowedByKeySystem: !0,
                        }),
                        p.push(m);
                }
              } else
                for (_ = a || o, w = 0; w < _.streams.length; w++)
                  (m = _.streams[w].bandwidth || 0),
                    (m = {
                      id: i.i++,
                      language: _.language || 'und',
                      primary: _.ac,
                      audio: a ? _.streams[w] : null,
                      video: o ? _.streams[w] : null,
                      bandwidth: m,
                      drmInfos: _.drmInfos,
                      allowedByApplication: !0,
                      allowedByKeySystem: !0,
                    }),
                    p.push(m);
          }
          function Ee(a, o) {
            0 > a.o ||
              (a.g = i.setTimeout(
                a.Xe.bind(a),
                1e3 * Math.max(3, a.o - o, Ja(a.s))
              ));
          }
          function Je(i, a, o) {
            (a = a || {
              contentType: '',
              mimeType: '',
              codecs: '',
              emsgSchemeIdUris: [],
              frameRate: void 0,
              gc: null,
            }),
              (o = o || a.ha);
            var p = st.$a,
              m = st.Gd,
              _ = st.M(i, 'BaseURL').map(st.Gb),
              w = i.getAttribute('contentType') || a.contentType,
              x = i.getAttribute('mimeType') || a.mimeType,
              I = i.getAttribute('codecs') || a.codecs;
            m = st.G(i, 'frameRate', m) || a.frameRate;
            for (
              var D = st.M(i, 'InbandEventStream'),
                j = a.emsgSchemeIdUris.slice(),
                K = (D = r(D)).next();
              !K.done;
              K = D.next()
            )
              (K = K.value.getAttribute('schemeIdUri')),
                j.includes(K) || j.push(K);
            return (
              (D =
                (function Oe(i) {
                  for (var a = 0; a < i.length; ++a) {
                    var o = i[a],
                      p = o.getAttribute('schemeIdUri');
                    if (p && (o = o.getAttribute('value')))
                      switch (p) {
                        case 'urn:mpeg:dash:outputChannelPositionList:2012':
                          return o.trim().split(/ +/).length;
                        case 'urn:mpeg:dash:23003:3:audio_channel_configuration:2011':
                        case 'urn:dts:dash:audio_channel_configuration:2012':
                          if (!(p = parseInt(o, 10))) continue;
                          return p;
                        case 'tag:dolby.com,2014:dash:audio_channel_configuration:2011':
                        case 'urn:dolby:dash:audio_channel_configuration:2011':
                          if ((p = parseInt(o, 16))) {
                            for (i = 0; p; ) 1 & p && ++i, (p >>= 1);
                            return i;
                          }
                      }
                  }
                  return null;
                })((D = st.M(i, 'AudioChannelConfiguration'))) || a.gc),
              w || (w = Me(x, I)),
              {
                ha: Uc(o, _),
                qb: st.Eb(i, 'SegmentBase') || a.qb,
                Aa: st.Eb(i, 'SegmentList') || a.Aa,
                sb: st.Eb(i, 'SegmentTemplate') || a.sb,
                width: st.G(i, 'width', p) || a.width,
                height: st.G(i, 'height', p) || a.height,
                contentType: w,
                mimeType: x,
                codecs: I,
                frameRate: m,
                emsgSchemeIdUris: j,
                id: i.getAttribute('id'),
                gc: D,
              }
            );
          }
          function Pe(i, a, o, p) {
            return (
              ((a = Ab((a = Uc(a, [o])), i.b.retryParameters)).method = p),
              (a = i.a.networkingEngine.request(4, a)),
              xb(i.f, a),
              a.promise.then(function (i) {
                if ('HEAD' == p) {
                  if (!i.headers || !i.headers.date) return 0;
                  i = i.headers.date;
                } else i = Sb(i.data);
                return (i = Date.parse(i)), isNaN(i) ? 0 : i - Date.now();
              })
            );
          }
          function Me(i, a) {
            return ed(Nb(i, a)) ? 'text' : i.split('/')[0];
          }
          function Qe(i, a) {
            (this.a = i), (this.b = a);
          }
          function Re(i, a) {
            var o = new Qe(2, 6),
              p = pt,
              m = p.a,
              _ = o.b - m.b;
            (0 < (o.a - m.a || _) ? p.c : p.b)(p.a, o, i, a);
          }
          function Te(i, a, o, p) {
            Ma(
              [
                o,
                'has been deprecated and will be removed in',
                a,
                '. We are currently at version',
                i,
                '. Additional information:',
                p,
              ].join(' ')
            );
          }
          function Ue(i, a, o, p) {
            La(
              [
                o,
                'has been deprecated and has been removed in',
                a,
                '. We are now at version',
                i,
                '. Additional information:',
                p,
              ].join('')
            );
          }
          y(
            'veygo.media.ManifestParser.registerParserByExtension',
            function (i, a) {
              ht[i] = a;
            }
          ),
            y(
              'veygo.media.ManifestParser.registerParserByMime',
              function (i, a) {
                ft[i] = a;
              }
            ),
            y('veygo.media.PresentationTimeline', S),
            (S.prototype.T = function () {
              return this.g;
            }),
            (S.prototype.getDuration = S.prototype.T),
            (S.prototype.la = function (i) {
              this.g = i;
            }),
            (S.prototype.setDuration = S.prototype.la),
            (S.prototype.Wd = function () {
              return this.f;
            }),
            (S.prototype.getPresentationStartTime = S.prototype.Wd),
            (S.prototype.ld = function (i) {
              this.l = i;
            }),
            (S.prototype.setClockOffset = S.prototype.ld),
            (S.prototype.tb = function (i) {
              this.o = i;
            }),
            (S.prototype.setStatic = S.prototype.tb),
            (S.prototype.oc = function (i) {
              this.h = i;
            }),
            (S.prototype.setSegmentAvailabilityDuration = S.prototype.oc),
            (S.prototype.Ue = function (i) {
              this.m = i;
            }),
            (S.prototype.setDelay = S.prototype.Ue),
            (S.prototype.Od = function () {
              return this.m;
            }),
            (S.prototype.getDelay = S.prototype.Od),
            (S.prototype.Ya = function (i, a) {
              if (0 != i.length) {
                var o = i[i.length - 1].endTime + a;
                this.fc(i[0].startTime + a),
                  (this.a = i.reduce(function (i, a) {
                    return Math.max(i, a.endTime - a.startTime);
                  }, this.a)),
                  (this.b = Math.max(this.b, o)),
                  null != this.f &&
                    this.s &&
                    (this.f = (Date.now() + this.l) / 1e3 - this.b - this.a);
              }
            }),
            (S.prototype.notifySegments = S.prototype.Ya),
            (S.prototype.fc = function (i) {
              this.c = null == this.c ? i : Math.min(this.c, i);
            }),
            (S.prototype.notifyMinSegmentStartTime = S.prototype.fc),
            (S.prototype.ec = function (i) {
              this.a = Math.max(this.a, i);
            }),
            (S.prototype.notifyMaxSegmentDuration = S.prototype.ec),
            (S.prototype.offset = function (i) {
              null != this.c && (this.c += i), null != this.b && (this.b += i);
            }),
            (S.prototype.offset = S.prototype.offset),
            (S.prototype.ba = function () {
              return Infinity == this.g && !this.o;
            }),
            (S.prototype.isLive = S.prototype.ba),
            (S.prototype.Ia = function () {
              return Infinity != this.g && !this.o;
            }),
            (S.prototype.isInProgress = S.prototype.Ia),
            (S.prototype.jb = function () {
              return Infinity == this.h
                ? this.i
                : Math.max(this.i, this.Ta() - this.h);
            }),
            (S.prototype.getSegmentAvailabilityStart = S.prototype.jb),
            (S.prototype.od = function (i) {
              this.i = i;
            }),
            (S.prototype.setUserSeekStart = S.prototype.od),
            (S.prototype.Ta = function () {
              return this.ba() || this.Ia()
                ? Math.min(
                    Math.max(0, (Date.now() + this.l) / 1e3 - this.a - this.f),
                    this.g
                  )
                : this.g;
            }),
            (S.prototype.getSegmentAvailabilityEnd = S.prototype.Ta),
            (S.prototype.ib = function (i) {
              var a = Math.max(this.c, this.i);
              return Infinity == this.h
                ? a
                : Math.max(a, Math.min(this.Ta() - this.h + i, this.qa()));
            }),
            (S.prototype.getSafeSeekRangeStart = S.prototype.ib),
            (S.prototype.Sa = function () {
              return this.ib(0);
            }),
            (S.prototype.getSeekRangeStart = S.prototype.Sa),
            (S.prototype.qa = function () {
              return Math.max(
                0,
                this.Ta() - (this.ba() || this.Ia() ? this.m : 0)
              );
            }),
            (S.prototype.getSeekRangeEnd = S.prototype.qa),
            (S.prototype.td = function () {
              return null != this.f && null == this.b;
            }),
            (S.prototype.usingPresentationStartTime = S.prototype.td),
            y('veygo.dash.DashParser', Ce),
            ((o = Ce.prototype).configure = function (i) {
              this.b = i;
            }),
            (o.start = function (i, a) {
              return (
                (this.h = [i]),
                (this.a = a),
                De(this).then(
                  function (i) {
                    return this.a && Ee(this, i), this.c;
                  }.bind(this)
                )
              );
            }),
            (o.stop = function () {
              return (
                (this.b = this.a = null),
                (this.h = []),
                (this.c = null),
                (this.l = []),
                (this.m = {}),
                null != this.g && (i.clearTimeout(this.g), (this.g = null)),
                this.f.destroy()
              );
            }),
            (o.update = function () {
              De(this)['catch'](
                function (i) {
                  this.a && this.a.onError(i);
                }.bind(this)
              );
            }),
            (o.onExpirationUpdated = function () {}),
            (o.Ae = function (i, a) {
              i.Y = Je(a, i.ea, null);
              var o = !1,
                p = st.M(a, 'Role'),
                m = p
                  .map(function (i) {
                    return i.getAttribute('value');
                  })
                  .filter(tt.wa),
                _ = void 0,
                w = 'text' == i.Y.contentType;
              w && (_ = 'subtitle');
              for (var x = 0; x < p.length; x++) {
                var I = p[x].getAttribute('schemeIdUri');
                if (null == I || 'urn:mpeg:dash:role:2011' == I)
                  switch (((I = p[x].getAttribute('value')), I)) {
                    case 'main':
                      o = !0;
                      break;
                    case 'caption':
                    case 'subtitle':
                      _ = I;
                  }
              }
              var D = null,
                j = !1;
              st.M(a, 'EssentialProperty').forEach(function (i) {
                'http://dashif.org/guidelines/trickmode' ==
                i.getAttribute('schemeIdUri')
                  ? (D = i.getAttribute('value'))
                  : (j = !0);
              }),
                (x = st.M(a, 'Accessibility'));
              var K = new Map();
              for (
                p = {}, I = (x = r(x)).next();
                !I.done;
                p = { gb: p.gb }, I = x.next()
              ) {
                var q = (I = I.value).getAttribute('schemeIdUri');
                ('urn:scte:dash:cc:cea-608:2015' != q &&
                  'urn:scte:dash:cc:cea-708:2015' != q) ||
                  ((p.gb = 1),
                  null != (I = I.getAttribute('value'))
                    ? I.split(';').forEach(
                        (function (i) {
                          return function (a) {
                            if (a.includes('=')) {
                              var o = (a = a.split('='))[0].startsWith('CC')
                                ? a[0]
                                : 'CC' + a[0];
                              a = a[1].split(',')[0].split(':').pop();
                            } else
                              (o = 'CC' + i.gb),
                                (i.gb += 2),
                                (a = a.length ? a : 'und');
                            K.set(o, J(a));
                          };
                        })(p)
                      )
                    : K.set('CC1', 'und'));
              }
              if (j) return null;
              var $ = Dd(
                (p = st.M(a, 'ContentProtection')),
                this.b.dash.customScheme,
                this.b.dash.ignoreDrmInfo
              );
              if (
                ((p = J(a.getAttribute('lang') || 'und')),
                (I = a.getAttribute('label')),
                0 ==
                  (m = (x = st.M(a, 'Representation'))
                    .map(this.Ee.bind(this, i, $, _, p, I, o, m, K))
                    .filter(function (i) {
                      return !!i;
                    })).length)
              ) {
                if (w) return null;
                throw new A(2, 4, 4003);
              }
              return (
                (i.Y.contentType && 'application' != i.Y.contentType) ||
                  ((i.Y.contentType = Me(m[0].mimeType, m[0].codecs)),
                  m.forEach(function (a) {
                    a.type = i.Y.contentType;
                  })),
                m.forEach(function (i) {
                  $.drmInfos.forEach(function (a) {
                    i.keyId && a.keyIds.push(i.keyId);
                  });
                }),
                (w = x
                  .map(function (i) {
                    return i.getAttribute('id');
                  })
                  .filter(tt.wa)),
                {
                  id: i.Y.id || '__fake__' + this.i++,
                  contentType: i.Y.contentType,
                  language: p,
                  ac: o,
                  streams: m,
                  drmInfos: $.drmInfos,
                  sc: D,
                  Ke: w,
                }
              );
            }),
            (o.Ee = function (i, a, o, p, m, _, w, x, I) {
              if (
                ((i.v = Je(I, i.Y, null)),
                !(function Ne(i) {
                  var a = i.qb ? 1 : 0;
                  return (
                    (a += i.Aa ? 1 : 0),
                    0 == (a += i.sb ? 1 : 0)
                      ? 'text' == i.contentType ||
                        'application' == i.contentType
                      : (1 != a && (i.qb && (i.Aa = null), (i.sb = null)), !0)
                  );
                })(i.v))
              )
                return null;
              i.bandwidth = st.G(I, 'bandwidth', st.jc) || 0;
              var D = i.v.contentType;
              D = 'text' == D || 'application' == D;
              try {
                var j = this.Le.bind(this);
                if (i.v.qb)
                  var K = (function ke(i, a) {
                    var o = Number(Nd(i, le, 'presentationTimeOffset')) || 0,
                      p = Nd(i, le, 'timescale'),
                      m = 1;
                    p && (m = st.jc(p) || 1), (o = o / m || 0), (p = je(i, le));
                    var _ = i.v.contentType;
                    if (
                      ((m = i.v.mimeType.split('/')[1]),
                      'text' != _ && 'mp4' != m && 'webm' != m)
                    )
                      throw new A(2, 4, 4006);
                    if ('webm' == m && !p) throw new A(2, 4, 4005);
                    _ = Od(i, le, 'RepresentationIndex');
                    var w = Nd(i, le, 'indexRange'),
                      x = i.v.ha;
                    if (((w = st.Mb(w || '')), _)) {
                      var I = _.getAttribute('sourceURL');
                      I && (x = Uc(i.v.ha, [I])),
                        (w = st.G(_, 'range', st.Mb, w));
                    }
                    if (!w) throw new A(2, 4, 4002);
                    return {
                      createSegmentIndex: (m = me(
                        i,
                        a,
                        p,
                        x,
                        w.start,
                        w.end,
                        m,
                        o
                      )).createSegmentIndex,
                      findSegmentPosition: m.findSegmentPosition,
                      getSegmentReference: m.getSegmentReference,
                      initSegmentReference: p,
                      ga: o,
                    };
                  })(i, j);
                else if (i.v.Aa) K = ne(i, this.m);
                else if (i.v.sb) K = re(i, j, this.m, !!this.c);
                else {
                  var q = i.v.ha,
                    $ = i.N.duration || 0;
                  K = {
                    createSegmentIndex: Promise.resolve.bind(Promise),
                    findSegmentPosition: function findSegmentPosition(i) {
                      return 0 <= i && i < $ ? 1 : null;
                    },
                    getSegmentReference: function getSegmentReference(i) {
                      return 1 != i
                        ? null
                        : new N(
                            1,
                            0,
                            $,
                            function () {
                              return q;
                            },
                            0,
                            null
                          );
                    },
                    initSegmentReference: null,
                    ga: 0,
                  };
                }
              } catch (Z) {
                if (D && 4002 == Z.code) return null;
                throw Z;
              }
              return (
                (I = (function Gd(i, a, o, p) {
                  var m = Dd(i, a, p);
                  if (o.Pc)
                    (i = 1 == o.drmInfos.length && !o.drmInfos[0].keySystem),
                      (a = 0 == m.drmInfos.length),
                      (0 == o.drmInfos.length || (i && !a)) &&
                        (o.drmInfos = m.drmInfos),
                      (o.Pc = !1);
                  else if (
                    0 < m.drmInfos.length &&
                    ((o.drmInfos = o.drmInfos.filter(function (i) {
                      return m.drmInfos.some(function (a) {
                        return a.keySystem == i.keySystem;
                      });
                    })),
                    0 == o.drmInfos.length)
                  )
                    throw new A(2, 4, 4008);
                  return m.Gc || o.Gc;
                })(
                  (I = st.M(I, 'ContentProtection')),
                  this.b.dash.customScheme,
                  a,
                  this.b.dash.ignoreDrmInfo
                )),
                {
                  id: this.i++,
                  originalId: i.v.id,
                  createSegmentIndex: K.createSegmentIndex,
                  findSegmentPosition: K.findSegmentPosition,
                  getSegmentReference: K.getSegmentReference,
                  initSegmentReference: K.initSegmentReference,
                  presentationTimeOffset: K.ga,
                  mimeType: i.v.mimeType,
                  codecs: i.v.codecs,
                  frameRate: i.v.frameRate,
                  bandwidth: i.bandwidth,
                  width: i.v.width,
                  height: i.v.height,
                  kind: o,
                  encrypted: 0 < a.drmInfos.length,
                  keyId: I,
                  language: p,
                  label: m,
                  type: i.Y.contentType,
                  primary: _,
                  trickModeVideo: null,
                  emsgSchemeIdUris: i.v.emsgSchemeIdUris,
                  roles: w,
                  channelsCount: i.v.gc,
                  closedCaptions: x,
                }
              );
            }),
            (o.Xe = function () {
              (this.g = null),
                De(this)
                  .then(
                    function (i) {
                      this.a && Ee(this, i);
                    }.bind(this)
                  )
                  ['catch'](
                    function (i) {
                      this.a &&
                        ((i.severity = 1), this.a.onError(i), Ee(this, 0));
                    }.bind(this)
                  );
            }),
            (o.De = function (i, a, o) {
              var p = st.$a,
                m = o.getAttribute('schemeIdUri') || '',
                _ = o.getAttribute('value') || '',
                w = st.G(o, 'timescale', p) || 1;
              st.M(o, 'Event').forEach(
                function (o) {
                  var x = st.G(o, 'presentationTime', p) || 0,
                    I = st.G(o, 'duration', p) || 0;
                  (I = (x = x / w + i) + I / w),
                    null != a &&
                      ((x = Math.min(x, i + a)), (I = Math.min(I, i + a))),
                    (o = {
                      schemeIdUri: m,
                      value: _,
                      startTime: x,
                      endTime: I,
                      id: o.getAttribute('id') || '',
                      eventElement: o,
                    }),
                    this.a.onTimelineRegionAdded(o);
                }.bind(this)
              );
            }),
            (o.Le = function (i, a, o) {
              return (
                (i = Ab(i, this.b.retryParameters)),
                null != a &&
                  (i.headers.Range = 'bytes=' + a + '-' + (null != o ? o : '')),
                (a = this.a.networkingEngine.request(1, i)),
                xb(this.f, a),
                a.promise.then(function (i) {
                  return i.data;
                })
              );
            }),
            (ht.mpd = Ce),
            (ft['application/dash+xml'] = Ce),
            (Qe.prototype.toString = function () {
              return 'v' + this.a + '.' + this.b;
            });
          var pt = null;
          function Ve(i, a, o, p) {
            (this.b = i),
              (this.type = a),
              (this.a = o),
              (this.segments = p || null);
          }
          function We(i, a, o, p) {
            (this.id = i),
              (this.name = a),
              (this.a = o),
              (this.value = void 0 === p ? null : p);
          }
          function Xe(i, a) {
            (this.name = i), (this.value = a);
          }
          function T(i, a, o) {
            return (i = i.getAttribute(a)) ? i.value : o || null;
          }
          function Ye(i, a) {
            (this.b = a), (this.a = i);
          }
          function Ze(i, a) {
            return i.filter(function (i) {
              return i.name == a;
            });
          }
          function $e(i, a) {
            var o = Ze(i, a);
            return o.length ? o[0] : null;
          }
          function af(i, a, o) {
            return i.filter(function (i) {
              var p = i.getAttribute('TYPE');
              return (
                (i = i.getAttribute('GROUP-ID')), p.value == a && i.value == o
              );
            });
          }
          function bf(a, o, p) {
            var m = i.crypto.subtle;
            return m
              .importKey('raw', p.data, { name: 'AES-CBC' }, !1, [
                'encrypt',
                'decrypt',
              ])
              .then(function (i) {
                return m
                  .decrypt({ name: 'AES-CBC', iv: a.g }, i, o.data)
                  .then(function (i) {
                    return (o.data = i), o;
                  })
                  ['catch'](function () {});
              });
          }
          function cf(i) {
            (this.b = i), (this.a = 0);
          }
          function df(i) {
            ef(i, /[ \t]+/gm);
          }
          function ef(i, a) {
            a.lastIndex = i.a;
            var o = a.exec(i.b);
            return (
              (o =
                null == o
                  ? null
                  : { position: o.index, length: o[0].length, Ne: o }),
              i.a == i.b.length || null == o || o.position != i.a
                ? null
                : ((i.a += o.length), o.Ne)
            );
          }
          function ff(i) {
            return i.a == i.b.length
              ? null
              : (i = ef(i, /[^ \t\n]*/gm))
              ? i[0]
              : null;
          }
          function gf() {
            this.a = 0;
          }
          function hf(i, a, o) {
            var p = (a = (a = Sb(a))
              .replace(/\r\n|\r(?=[^\n]|$)/gm, '\n')
              .trim()).split(/\n+/m);
            if (!/^#EXTM3U($|[ \t\n])/m.test(p[0])) throw new A(2, 4, 4015);
            a = 0;
            for (var m = 1; m < p.length; m++)
              if (!/^#(?!EXT)/m.test(p[m])) {
                var _ = jf(i, p[m]);
                if ((--i.a, gt.includes(_.name))) {
                  a = 1;
                  break;
                }
                'EXT-X-STREAM-INF' == _.name && (m += 1);
              }
            for (m = [], _ = 1; _ < p.length; )
              if (/^#(?!EXT)/m.test(p[_])) _ += 1;
              else {
                var w = jf(i, p[_]);
                if (mt.includes(w.name)) {
                  if (1 != a) throw new A(2, 4, 4017);
                  return new Ve(
                    o,
                    a,
                    m,
                    (i = mf(i, o, (p = p.splice(_, p.length - _)), m))
                  );
                }
                m.push(w),
                  (_ += 1),
                  'EXT-X-STREAM-INF' == w.name &&
                    (w.a.push(new Xe('URI', p[_])), (_ += 1));
              }
            return new Ve(o, a, m);
          }
          function mf(i, a, o, p) {
            var m = [],
              _ = [];
            return (
              o.forEach(function (o) {
                if (/^(#EXT)/.test(o))
                  (o = jf(i, o)), gt.includes(o.name) ? p.push(o) : _.push(o);
                else {
                  if (/^#(?!EXT)/m.test(o)) return [];
                  (o = Uc([a], [o.trim()])[0]), m.push(new Ye(o, _)), (_ = []);
                }
              }),
              m
            );
          }
          function jf(i, a) {
            var o = i.a++,
              p = a.match(/^#(EXT[^:]*)(?::(.*))?$/);
            if (!p) throw new A(2, 4, 4016, a);
            var m,
              _ = p[1],
              w = p[2];
            if (((p = []), w)) {
              var x;
              (x = ef((w = new cf(w)), /^([^,=]+)(?:,|$)/g)) && (m = x[1]);
              for (
                var I = /([^=]+)=(?:"([^"]*)"|([^",]*))(?:, *|$)/g;
                (x = ef(w, I));

              )
                p.push(new Xe(x[1], x[2] || x[3]));
            }
            return new We(o, _, p, m);
          }
          (We.prototype.toString = function () {
            var i = '#' + this.name,
              a = this.a
                ? this.a.map(function b(i) {
                    return (
                      i.name +
                      '=' +
                      (isNaN(Number(i.value)) ? '"' + i.value + '"' : i.value)
                    );
                  })
                : [];
            return (
              this.value && a.unshift(this.value),
              0 < a.length && (i += ':' + a.join(',')),
              i
            );
          }),
            (We.prototype.getAttribute = function (i) {
              var a = this.a.filter(function (a) {
                return a.name == i;
              });
              return a.length ? a[0] : null;
            });
          var gt =
              'EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST'.split(
                ' '
              ),
            mt =
              'EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE'.split(
                ' '
              );
          function nf(i) {
            try {
              var a = nf.parse(i);
              return jb({
                uri: i,
                data: a.data,
                headers: { 'content-type': a.contentType },
              });
            } catch (o) {
              return hb(o);
            }
          }
          function of() {
            var i = this;
            (this.c = this.f = null),
              (this.$ = 1),
              (this.F = new Map()),
              (this.V = new Set()),
              (this.a = new Map()),
              (this.b = null),
              (this.w = ''),
              (this.s = new gf()),
              (this.o = 0),
              (this.i = new H(function () {
                !(function pf(i) {
                  t(function d() {
                    var a;
                    return v(d, function (o) {
                      switch (o.j) {
                        case 1:
                          return i.f
                            ? (qa(o, 2), u(o, i.update(), 4))
                            : o['return']();
                        case 4:
                          i.i.start(i.o, !1), sa(o, 0);
                          break;
                        case 2:
                          ((a = ta(o)).severity = 1),
                            i.f.onError(a),
                            i.i.start(0.1, !1),
                            (o.j = 0);
                      }
                    });
                  });
                })(i);
              })),
              (this.g = Tt),
              (this.m = null),
              (this.C = 0),
              (this.L = Infinity),
              (this.h = new wb()),
              (this.P = []),
              (this.l = new Map()),
              (this.R = new Map());
          }
          function uf(i, a) {
            rf(i, a.yd).then(
              function (i) {
                var o = St,
                  p = hf(this.s, i.data, i.uri);
                if (1 != p.type) throw new A(2, 4, 4017);
                i = (i = $e(p.a, 'EXT-X-MEDIA-SEQUENCE')) ? Number(i.value) : 0;
                var m = a.stream,
                  _ = vf(p);
                wf(this, a.Ob, p, i, m.mimeType, m.codecs, _).then(
                  function (i) {
                    (a.rb.a = i),
                      (i = i[i.length - 1]),
                      $e(p.a, 'EXT-X-ENDLIST') &&
                        (xf(this, o.Ea), this.b.la(i.endTime));
                  }.bind(this)
                );
              }.bind(i)
            );
          }
          function Gf(i) {
            i.forEach(function (i) {
              var a = i.stream.codecs.split(',');
              (a = a.filter(function (i) {
                return 'mp4a.40.34' != i;
              })),
                (i.stream.codecs = a.join(','));
            });
          }
          function If(i, a, o, p, m) {
            return {
              id: i.$++,
              language: a ? a.language : 'und',
              primary: (!!a && a.primary) || (!!o && o.primary),
              audio: a,
              video: o,
              bandwidth: p,
              drmInfos: m,
              allowedByApplication: !0,
              allowedByKeySystem: !0,
            };
          }
          function Ef(i, a, o) {
            var p = U(a, 'URI');
            if (i.a.has(p)) return Promise.resolve(i.a.get(p));
            var m = U(a, 'TYPE').toLowerCase();
            'subtitles' == m && (m = 'text');
            var _ = J(T(a, 'LANGUAGE', 'und')),
              w = T(a, 'NAME'),
              x = a.getAttribute('DEFAULT'),
              I = a.getAttribute('AUTOSELECT'),
              D = T(a, 'CHANNELS');
            return Jf(
              i,
              p,
              o,
              m,
              _,
              !!x || !!I,
              w,
              'audio' == m
                ? (function Kf(i) {
                    return i ? ((i = i.split('/')[0]), parseInt(i, 10)) : null;
                  })(D)
                : null,
              null
            ).then(
              function (i) {
                return (
                  'text' === m &&
                    ('public.accessibility.describes-music-and-sound' ===
                    T(a, 'CHARACTERISTICS')
                      ? ((i.stream.kind = 'caption'),
                        (i.stream.roles = ['caption']))
                      : (i.stream.roles = ['subtitle'])),
                  this.a.has(p)
                    ? this.a.get(p)
                    : (this.F.set(a.id, i), this.a.set(p, i), i)
                );
              }.bind(i)
            );
          }
          function vf(i) {
            var a,
              o = [],
              p = [],
              m = !1;
            if (
              (i.segments.forEach(function (i) {
                (i = Ze(i.b, 'EXT-X-KEY')),
                  p.push.apply(p, 0 == i.length && a ? a : i),
                  i.length && (a = i);
              }),
              p.forEach(function (i) {
                if ('NONE' != U(i, 'METHOD')) {
                  m = !0;
                  var a = T(i, 'KEYFORMAT') || 'identity';
                  (i = (a = bt[a]) ? a(i) : null) && o.push(i);
                }
              }),
              m && !o.length)
            )
              throw new A(2, 4, 4026);
            return o;
          }
          function Jf(i, a, o, p, m, _, w, x, I) {
            var D,
              j,
              K = Uc([i.w], [a])[0],
              q = '';
            return rf(i, K)
              .then(function (a) {
                if (((K = a.uri), 1 != (D = hf(i.s, a.data, K)).type))
                  throw new A(2, 4, 4017);
                var m = St,
                  _ = $e((a = D).a, 'EXT-X-PLAYLIST-TYPE'),
                  w = $e(a.a, 'EXT-X-ENDLIST');
                if (
                  ((w = (_ && 'VOD' == _.value) || w),
                  (_ = _ && 'EVENT' == _.value && !w),
                  (_ = !w && !_),
                  w
                    ? xf(i, m.Ea)
                    : (xf(i, _ ? m.xc : m.wd),
                      (a = Mf(a.a, 'EXT-X-TARGETDURATION')),
                      (a = Number(a.value)),
                      (i.C = Math.max(a, i.C)),
                      (i.L = Math.min(a, i.L))),
                  1 == o.length)
                )
                  q = o[0];
                else {
                  if (null == (a = Df(p, o))) throw new A(2, 4, 4025, o);
                  q = a;
                }
                return (function Nf(i, a, o, p) {
                  var m = new Oa((p = p.segments[0].a)).da.split('.').pop(),
                    _ = yt[a][m];
                  return _
                    ? Promise.resolve(_)
                    : 'text' == a
                    ? o && 'vtt' != o
                      ? Promise.resolve('application/mp4')
                      : Promise.resolve('text/vtt')
                    : (((a = Ab([p], i.c.retryParameters)).method = 'HEAD'),
                      (a = i.f.networkingEngine.request(1, a)),
                      xb(i.h, a),
                      a.promise.then(function (i) {
                        if (!(i = i.headers['content-type']))
                          throw new A(2, 4, 4021, m);
                        return i.split(';')[0];
                      }));
                })(i, p, q, D);
              })
              .then(function (o) {
                (j = o),
                  (o = (o = $e(D.a, 'EXT-X-MEDIA-SEQUENCE'))
                    ? Number(o.value)
                    : 0);
                var p = vf(D);
                return wf(i, a, D, o, j, q, p);
              })
              .then(function (o) {
                var $ = o[0].startTime,
                  Z = o[o.length - 1].endTime,
                  be = Z - $;
                o = new R(o);
                var Se = Of(D),
                  _e = void 0;
                'text' == p && (_e = 'subtitle');
                var we = [];
                D.segments.forEach(function (i) {
                  (i = Ze(i.b, 'EXT-X-KEY')), we.push.apply(we, i);
                });
                var xe = !1,
                  et = [],
                  tt = null;
                if (
                  (we.forEach(function (i) {
                    if ('NONE' != U(i, 'METHOD')) {
                      xe = !0;
                      var a = T(i, 'KEYFORMAT') || 'identity';
                      (i = (a = bt[a]) ? a(i) : null) &&
                        (i.keyIds.length && (tt = i.keyIds[0]), et.push(i));
                    }
                  }),
                  xe && !et.length)
                )
                  throw new A(2, 4, 4026);
                return {
                  stream: {
                    id: i.$++,
                    originalId: w,
                    createSegmentIndex: Promise.resolve.bind(Promise),
                    findSegmentPosition: o.find.bind(o),
                    getSegmentReference: o.get.bind(o),
                    initSegmentReference: Se,
                    presentationTimeOffset: 0,
                    mimeType: j,
                    codecs: q,
                    kind: _e,
                    encrypted: xe,
                    keyId: tt,
                    language: m,
                    label: w,
                    type: p,
                    primary: _,
                    trickModeVideo: null,
                    emsgSchemeIdUris: null,
                    frameRate: void 0,
                    width: void 0,
                    height: void 0,
                    bandwidth: void 0,
                    roles: [],
                    channelsCount: x,
                    closedCaptions: I,
                  },
                  rb: o,
                  drmInfos: et,
                  Ob: a,
                  yd: K,
                  dc: $,
                  pf: Z,
                  duration: be,
                };
              });
          }
          function Of(i) {
            var a = Ze(i.a, 'EXT-X-MAP');
            if (!a.length) return null;
            if (1 < a.length) throw new A(2, 4, 4020);
            var o = U((a = a[0]), 'URI'),
              p = Uc([i.b], [o])[0];
            return (
              (i = 0),
              (o = null),
              (a = T(a, 'BYTERANGE')) &&
                ((i = a.split('@')),
                (a = Number(i[0])),
                (o = (i = Number(i[1])) + a - 1)),
              new Rd(
                function () {
                  return [p];
                },
                i,
                o
              )
            );
          }
          function Pf(i, a, o, p, m) {
            var _ = a.b,
              w = a.a;
            (a = Mf(_, 'EXTINF').value.split(',')), (a = p + Number(a[0]));
            var x = 0,
              I = null;
            if (
              ((_ = $e(_, 'EXT-X-BYTERANGE')) &&
                ((x = _.value.split('@')),
                (I = Number(x[0])),
                (I = (x = x[1] ? Number(x[1]) : i.a + 1) + I - 1)),
              (i = !1),
              (_ = null),
              m && 'com.apple.hls-aes-128' == m.keySystem)
            ) {
              i = !0;
              var D = m.licenseServerUri;
              (_ = new ArrayBuffer(16)),
                new DataView(_).setUint32(12, o, !1),
                (_ = m.initData[0].initData || _);
            }
            return new N(
              o,
              p,
              a,
              function () {
                return [w];
              },
              x,
              I,
              i,
              D,
              _
            );
          }
          function zf(i) {
            i.b &&
              (i.P.forEach(function (a) {
                i.b.Ya(a, 0);
              }),
              (i.P = []));
          }
          function wf(i, a, o, p, m, _, w) {
            var x = o.segments,
              I = [],
              D = x[0].a,
              j = Pf(null, x[0], p, 0, w[0]);
            return (function Qf(i, a, o, p, m, _) {
              if (i.m && (a = i.a.get(a).rb.get(p.position)))
                return Promise.resolve(a.startTime);
              (p = [Rf(i, p)]),
                ('video/mp4' == m || 'audio/mp4' == m) &&
                  (o ? p.push(Rf(i, o)) : p.push(p[0]));
              return Promise.all(p).then(
                function (i) {
                  if ('video/mp4' == m || 'audio/mp4' == m)
                    return (function ag(i, a) {
                      var o = 0;
                      if (
                        (new P()
                          .D('moov', Q)
                          .D('trak', Q)
                          .D('mdia', Q)
                          .aa('mdhd', function (i) {
                            i.reader.I(0 == i.version ? 8 : 16),
                              (o = i.reader.B()),
                              i.parser.stop();
                          })
                          .parse(a, !0),
                        !o)
                      )
                        throw new A(2, 4, 4030);
                      var p = 0,
                        m = !1;
                      if (
                        (new P()
                          .D('moof', Q)
                          .D('traf', Q)
                          .aa('tfdt', function (i) {
                            (p =
                              (0 == i.version ? i.reader.B() : i.reader.bb()) /
                              o),
                              (m = !0),
                              i.parser.stop();
                          })
                          .parse(i, !0),
                        !m)
                      )
                        throw new A(2, 4, 4030);
                      return p;
                    })(i[0].data, i[1].data);
                  if ('audio/mpeg' == m) return 0;
                  if ('video/mp2t' == m)
                    return (function bg(i) {
                      function c() {
                        throw new A(2, 4, 4030);
                      }
                      i = new O(new DataView(i), 0);
                      for (var a = 0, o = 0; ; ) {
                        if (
                          ((a = i.X()),
                          71 != (o = i.fa()) && c(),
                          i.pb(),
                          0 == (o = (48 & i.fa()) >> 4) && c(),
                          3 == o && ((o = i.fa()), i.I(o)),
                          1 == i.B() >> 8)
                        )
                          return (
                            i.I(3),
                            (0 != (a = i.fa() >> 6) && 1 != a) || c(),
                            0 == i.fa() && c(),
                            (1073741824 * ((14 & (a = i.fa())) >> 1) +
                              (((65534 & (o = i.pb())) << 14) |
                                ((65534 & (i = i.pb())) >> 1))) /
                              9e4
                          );
                        i.seek(a + 188),
                          71 != (o = i.fa()) && (i.seek(a + 192), (o = i.fa())),
                          71 != o && (i.seek(a + 204), (o = i.fa())),
                          71 != o && c(),
                          i.hd(1);
                      }
                    })(i[0].data);
                  if ('audio/aac' == m)
                    return (function Sf(i) {
                      function c(i, a, o) {
                        for (var p = [], m = a, _ = 0; ; m++, _++) {
                          var w = i[m];
                          if (void 0 === o && 0 === w) break;
                          if (o && m >= a + o) break;
                          p[_] = String.fromCharCode(w);
                        }
                        return p.join('');
                      }
                      function d(i, a, o) {
                        for (var p = 0, m = 0; m < o; ++m)
                          p = (p << 8) | i[a + m];
                        return p;
                      }
                      i = new Uint8Array(i, 0, 128);
                      var a = 0;
                      if ('ID3' !== c(i, a, 3) || 4 !== i[a + 3]) return 0;
                      var o = 0 != (64 & i[a + 5]);
                      return (
                        (a += 10),
                        o && (a += d(i, a, 4) + 4),
                        'PRIV' !== c(i, a, 4) ||
                        'com.apple.streaming.transportStreamTimestamp' !==
                          (o = c(i, a + 10))
                          ? 0
                          : d(i, a + 10 + o.length + 1, 8) / 9e4
                      );
                    })(i[0].data);
                  if ('application/mp4' == m || m.startsWith('text/')) {
                    i = i[0].data;
                    var a = Nb(m, _);
                    if (ed(a)) {
                      var o = new bd(null);
                      fd(o, a), (i = o.Zb(i));
                    } else i = 0;
                    return i;
                  }
                  throw new A(2, 4, 4030);
                }.bind(i)
              );
            })(i, a, (o = Of(o)), j, m, _).then(
              function (i) {
                D.split('/').pop();
                for (var a = 0; a < x.length; ++a) {
                  var o = I[I.length - 1];
                  (o = Pf(o, x[a], p + a, 0 == a ? i : o.endTime, w[a])),
                    I.push(o);
                }
                return this.P.push(I), zf(this), I;
              }.bind(i)
            );
          }
          function Rf(i, a) {
            var o = i.f.networkingEngine,
              p = Ab(a.c(), i.c.retryParameters),
              m = {},
              _ = a.encrypted ? 0 : a.b;
            m.Range = 'bytes=' + _ + '-' + (_ + 2048 - 1);
            var w = {};
            return (
              (0 == _ && null == a.a) ||
                ((_ = 'bytes=' + _ + '-'),
                null != a.a && (_ += a.a),
                (w.Range = _)),
              a.encrypted || (p.headers = m),
              (m = o.request(1, p)),
              xb(i.h, m),
              (m = m.promise['catch'](function () {
                Ma(
                  'Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.',
                  p.uris[0]
                ),
                  (p.headers = w);
                var a = o.request(1, p);
                return xb(i.h, a), a.promise;
              })),
              a.encrypted
                ? ((_ = i.R.get(a.f)
                    ? Promise.resolve(i.R.get(a.f))
                    : o.request(2, Ab([a.f], i.c.retryParameters)).promise.then(
                        function (i) {
                          return this.R.set(a.f, i), i;
                        }.bind(i)
                      )),
                  Promise.all([m, _]).then(function (i) {
                    return bf(a, i[0], i[1]);
                  }))
                : m
            );
          }
          function Df(i, a) {
            for (var o = vt[i], p = 0; p < o.length; p++)
              for (var m = 0; m < a.length; m++)
                if (o[p].test(a[m].trim())) return a[m].trim();
            return 'text' == i ? '' : null;
          }
          function U(i, a) {
            var o = i.getAttribute(a);
            if (!o) throw new A(2, 4, 4023, a);
            return o.value;
          }
          function Mf(i, a) {
            var o = $e(i, a);
            if (!o) throw new A(2, 4, 4024, a);
            return o;
          }
          function rf(i, a) {
            var o = i.f.networkingEngine.request(
              0,
              Ab([a], i.c.retryParameters)
            );
            return xb(i.h, o), o.promise;
          }
          y('veygo.net.DataUriPlugin', nf),
            (nf.parse = function (a) {
              var o = a.split(':');
              if (2 > o.length || 'data' != o[0]) throw new A(2, 1, 1004, a);
              if (2 > (o = o.slice(1).join(':').split(',')).length)
                throw new A(2, 1, 1004, a);
              var p = o[0];
              o = i.decodeURIComponent(o.slice(1).join(','));
              var m = null;
              if ((1 < (p = p.split(';')).length && (m = p[1]), 'base64' == m))
                a = Yb(o).buffer;
              else {
                if (m) throw new A(2, 1, 1005, a);
                a = Wb(o);
              }
              return { data: a, contentType: p[0] };
            }),
            zb('data', nf),
            y('veygo.hls.HlsParser', of),
            ((o = of.prototype).configure = function (i) {
              this.c = i;
            }),
            (o.start = function (i, a) {
              var o = this;
              return t(function f() {
                var p;
                return v(f, function (m) {
                  switch (m.j) {
                    case 1:
                      return (o.f = a), u(m, rf(o, i), 2);
                    case 2:
                      return (
                        (p = m.u),
                        (o.w = p.uri),
                        u(
                          m,
                          (function sf(i, a) {
                            var o = hf(i.s, a, i.w);
                            if (0 != o.type) throw new A(2, 4, 4022);
                            return (function yf(i, a) {
                              var o = a.a,
                                p = Ze(a.a, 'EXT-X-MEDIA'),
                                m = p
                                  .filter(
                                    function (i) {
                                      return 'SUBTITLES' == U(i, 'TYPE');
                                    }.bind(i)
                                  )
                                  .map(
                                    function (i) {
                                      return (function Af(i, a) {
                                        return (
                                          U(a, 'TYPE'),
                                          Ef(i, a, []).then(function (i) {
                                            return i.stream;
                                          })
                                        );
                                      })(this, i);
                                    }.bind(i)
                                  );
                              return (
                                (p = p.filter(function (i) {
                                  return 'CLOSED-CAPTIONS' == U(i, 'TYPE');
                                })),
                                (function Bf(i, a) {
                                  for (
                                    var o = r(a), p = o.next();
                                    !p.done;
                                    p = o.next()
                                  ) {
                                    U((p = p.value), 'TYPE');
                                    var m = T(p, 'LANGUAGE') || 'und';
                                    m = J(m);
                                    var _ = U(p, 'GROUP-ID');
                                    (p = U(p, 'INSTREAM-ID')),
                                      i.l.get(_) || i.l.set(_, new Map()),
                                      i.l.get(_).set(p, m);
                                  }
                                })(i, p),
                                Promise.all(m).then(
                                  function (i) {
                                    var p = Ze(o, 'EXT-X-STREAM-INF').map(
                                      function (i) {
                                        return (function Cf(i, a, o) {
                                          var p = T(
                                              a,
                                              'CODECS',
                                              'avc1.42E01E,mp4a.40.2'
                                            ).split(/\s*,\s*/),
                                            m = a.getAttribute('RESOLUTION'),
                                            _ = null,
                                            w = null,
                                            x = T(a, 'FRAME-RATE'),
                                            I = Number(U(a, 'BANDWIDTH'));
                                          if (m) {
                                            var D = m.value.split('x');
                                            (_ = D[0]), (w = D[1]);
                                          }
                                          o = (o = (o = Ze(
                                            o.a,
                                            'EXT-X-MEDIA'
                                          )).filter(function (i) {
                                            return (
                                              'CLOSED-CAPTIONS' != U(i, 'TYPE')
                                            );
                                          })).filter(function (i) {
                                            var a = T(i, 'URI') || '';
                                            return (
                                              'SUBTITLES' ==
                                                (T(i, 'TYPE') || '') || '' != a
                                            );
                                          });
                                          var j = T(a, 'AUDIO'),
                                            K = T(a, 'VIDEO');
                                          if (
                                            (j
                                              ? (o = af(o, 'AUDIO', j))
                                              : K && (o = af(o, 'VIDEO', K)),
                                            (D = Df('text', p)))
                                          ) {
                                            var q = T(a, 'SUBTITLES');
                                            q &&
                                              (q = af(o, 'SUBTITLES', q))
                                                .length &&
                                              (i.F.get(q[0].id).stream.codecs =
                                                D),
                                              tb(p, D);
                                          }
                                          o = o.map(
                                            function (i) {
                                              return Ef(this, i, p);
                                            }.bind(i)
                                          );
                                          var $ = [],
                                            Z = [];
                                          return Promise.all(o)
                                            .then(
                                              function (i) {
                                                if (
                                                  (j ? ($ = i) : K && (Z = i),
                                                  (i = !1),
                                                  $.length || Z.length)
                                                )
                                                  if ($.length)
                                                    if (
                                                      U(a, 'URI') == $[0].Ob
                                                    ) {
                                                      var o = 'audio';
                                                      i = !0;
                                                    } else o = 'video';
                                                  else o = 'audio';
                                                else
                                                  1 == p.length
                                                    ? ((o = Df('video', p)),
                                                      (o =
                                                        m || x || o
                                                          ? 'video'
                                                          : 'audio'))
                                                    : ((o = 'video'),
                                                      (p = [p.join(',')]));
                                                return i
                                                  ? Promise.resolve()
                                                  : (function Ff(i, a, o, p) {
                                                      var m = U(a, 'URI');
                                                      if (i.a.has(m))
                                                        return Promise.resolve(
                                                          i.a.get(m)
                                                        );
                                                      a = T(
                                                        a,
                                                        'CLOSED-CAPTIONS'
                                                      );
                                                      var _ = null;
                                                      return (
                                                        'video' == p &&
                                                          a &&
                                                          'NONE' != a &&
                                                          (_ = i.l.get(a)),
                                                        Jf(
                                                          i,
                                                          m,
                                                          o,
                                                          p,
                                                          'und',
                                                          !1,
                                                          null,
                                                          null,
                                                          _
                                                        ).then(
                                                          function (i) {
                                                            return this.a.has(m)
                                                              ? this.a.get(m)
                                                              : (this.a.set(
                                                                  m,
                                                                  i
                                                                ),
                                                                i);
                                                          }.bind(i)
                                                        )
                                                      );
                                                    })(this, a, p, o);
                                              }.bind(i)
                                            )
                                            .then(
                                              function (i) {
                                                return (
                                                  i &&
                                                    ('audio' == i.stream.type
                                                      ? ($ = [i])
                                                      : (Z = [i])),
                                                  Z && Gf(Z),
                                                  $ && Gf($),
                                                  (function Hf(
                                                    i,
                                                    a,
                                                    o,
                                                    p,
                                                    m,
                                                    _,
                                                    w
                                                  ) {
                                                    o.forEach(
                                                      function (i) {
                                                        (i = i.stream) &&
                                                          ((i.width =
                                                            Number(m) ||
                                                            void 0),
                                                          (i.height =
                                                            Number(_) ||
                                                            void 0),
                                                          (i.frameRate =
                                                            Number(w) ||
                                                            void 0));
                                                      }.bind(i)
                                                    ),
                                                      a.length || (a = [null]),
                                                      o.length || (o = [null]);
                                                    for (
                                                      var x = [], I = 0;
                                                      I < a.length;
                                                      I++
                                                    )
                                                      for (
                                                        var D = 0;
                                                        D < o.length;
                                                        D++
                                                      ) {
                                                        var j = a[I]
                                                            ? a[I].stream
                                                            : null,
                                                          K = o[D]
                                                            ? o[D].stream
                                                            : null,
                                                          q = a[I]
                                                            ? a[I].drmInfos
                                                            : null,
                                                          $ = o[D]
                                                            ? o[D].drmInfos
                                                            : null,
                                                          Z = void 0;
                                                        if (j && K) {
                                                          if (
                                                            q.length &&
                                                            $.length &&
                                                            !(
                                                              0 <
                                                              Mc(q, $).length
                                                            )
                                                          )
                                                            continue;
                                                          Z = Mc(q, $);
                                                        } else
                                                          j
                                                            ? (Z = q)
                                                            : K && (Z = $);
                                                        (q =
                                                          (o[I]
                                                            ? o[I].Ob
                                                            : '') +
                                                          ' - ' +
                                                          (a[I]
                                                            ? a[I].Ob
                                                            : '')),
                                                          i.V.has(q) ||
                                                            ((j = If(
                                                              i,
                                                              j,
                                                              K,
                                                              p,
                                                              Z
                                                            )),
                                                            x.push(j),
                                                            i.V.add(q));
                                                      }
                                                    return x;
                                                  })(this, $, Z, I, _, w, x)
                                                );
                                              }.bind(i)
                                            );
                                        })(this, i, a);
                                      }.bind(this)
                                    );
                                    return Promise.all(p).then(
                                      function (a) {
                                        return {
                                          startTime: 0,
                                          variants: a.reduce(tt.Sb, []),
                                          textStreams: i,
                                        };
                                      }.bind(this)
                                    );
                                  }.bind(i)
                                )
                              );
                            })(i, o).then(
                              function (i) {
                                this.f.filterAllPeriods([i]);
                                for (
                                  var a = Infinity,
                                    o = 0,
                                    p = Infinity,
                                    m = r(this.a.values()),
                                    _ = m.next();
                                  !_.done;
                                  _ = m.next()
                                )
                                  (_ = _.value),
                                    (a = Math.min(a, _.dc)),
                                    (o = Math.max(o, _.dc)),
                                    'text' != _.stream.type &&
                                      (p = Math.min(p, _.duration));
                                if (
                                  (this.g != St.Ea
                                    ? ((this.b = new S(0, 3 * this.C)),
                                      this.b.tb(!1))
                                    : ((this.b = new S(null, 0)),
                                      this.b.tb(!0)),
                                  zf(this),
                                  this.g != St.Ea)
                                ) {
                                  for (
                                    this.o = this.L,
                                      this.g == St.xc &&
                                        ((a = p),
                                        isNaN(
                                          this.c.availabilityWindowOverride
                                        ) ||
                                          (a =
                                            this.c.availabilityWindowOverride),
                                        this.b.oc(a)),
                                      a = 0;
                                    95443.7176888889 <= o;

                                  )
                                    (a += 95443.7176888889),
                                      (o -= 95443.7176888889);
                                  if (a)
                                    for (
                                      _ = (o = r(this.a.values())).next();
                                      !_.done;
                                      _ = o.next()
                                    )
                                      95443.7176888889 > (p = _.value).dc &&
                                        ((p.stream.presentationTimeOffset = -a),
                                        p.rb.offset(a));
                                } else
                                  for (
                                    this.b.la(p),
                                      this.b.offset(-a),
                                      _ = (o = r(this.a.values())).next();
                                    !_.done;
                                    _ = o.next()
                                  )
                                    ((_ =
                                      _.value).stream.presentationTimeOffset =
                                      a),
                                      _.rb.offset(-a),
                                      $d(_.rb, p);
                                this.m = {
                                  presentationTimeline: this.b,
                                  periods: [i],
                                  offlineSessionIds: [],
                                  minBufferTime: 0,
                                };
                              }.bind(i)
                            );
                          })(o, p.data),
                          3
                        )
                      );
                    case 3:
                      return 0 < o.o && o.i.start(o.o, !1), m['return'](o.m);
                  }
                });
              });
            }),
            (o.stop = function () {
              return (
                this.i.stop(),
                (this.c = this.f = null),
                this.F.clear(),
                this.V.clear(),
                this.a.clear(),
                (this.m = null),
                this.h.destroy()
              );
            }),
            (o.update = function () {
              if (this.g != St.Ea) {
                for (
                  var i = [], a = r(this.a.values()), o = a.next();
                  !o.done;
                  o = a.next()
                )
                  i.push(uf(this, o.value));
                return Promise.all(i);
              }
            }),
            (o.onExpirationUpdated = function () {});
          var vt = {
              audio: [/^vorbis$/, /^opus$/, /^flac$/, /^mp4a/, /^[ae]c-3$/],
              video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],
              text: [/^vtt$/, /^wvtt/, /^stpp/],
            },
            yt = {
              audio: {
                aac: 'audio/aac',
                mp4: 'audio/mp4',
                m4s: 'audio/mp4',
                m4i: 'audio/mp4',
                m4a: 'audio/mp4',
                ts: 'video/mp2t',
              },
              video: {
                mp4: 'video/mp4',
                m4s: 'video/mp4',
                m4i: 'video/mp4',
                m4v: 'video/mp4',
                ts: 'video/mp2t',
              },
              text: {
                mp4: 'application/mp4',
                m4s: 'application/mp4',
                m4i: 'application/mp4',
                vtt: 'text/vtt',
                ttml: 'application/ttml+xml',
              },
            };
          function xf(i, a) {
            (i.g = a), i.b && i.b.tb(i.g == St.Ea), i.g != St.Ea || i.i.stop();
          }
          var bt = {
              'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed':
                function urnUuidEdef8ba979d64aceA3c827dcd51d21ed(i) {
                  var a = U(i, 'METHOD');
                  return (
                    Re(
                      'HLS SAMPLE-AES-CENC',
                      'SAMPLE-AES-CENC will no longer be supported, see Issue #1227'
                    ),
                    [
                      'SAMPLE-AES',
                      'SAMPLE-AES-CTR',
                      'SAMPLE-AES-CENC',
                    ].includes(a)
                      ? ((a = U(i, 'URI')),
                        (a = nf.parse(a)),
                        (a = Vc('com.widevine.alpha', [
                          {
                            initDataType: 'cenc',
                            initData: (a = new Uint8Array(a.data)),
                          },
                        ])),
                        (i = T(i, 'KEYID')) &&
                          (a.keyIds = [i.substr(2).toLowerCase()]),
                        a)
                      : null
                  );
                },
              identity: function identity(i) {
                if ('AES-128' != U(i, 'METHOD')) return null;
                var a = U(i, 'URI'),
                  o = null;
                return (
                  (i = T(i, 'IV')) && (o = Zb(i.substr(2).toLowerCase())),
                  ((i = Vc('com.apple.hls-aes-128', [
                    { initDataType: 'hls-aes-128', initData: o },
                  ])).licenseServerUri = a),
                  i
                );
              },
            },
            Tt = 'VOD',
            St = { Ea: Tt, wd: 'EVENT', xc: 'LIVE' };
          function eg() {
            this.a = new Map();
          }
          function fg(i, a) {
            return i.a.has(a) || i.a.set(a, new gg()), i.a.get(a);
          }
          function gg() {
            this.text = this.variant = null;
          }
          function hg(i, a) {
            (this.a = i), (this.b = new Set([i]));
            for (var o = r((a = a || [])), p = o.next(); !p.done; p = o.next())
              this.add(p.value);
          }
          function ig(i, a) {
            var o;
            if (
              !(o =
                !!i.audio != !!a.audio ||
                !!i.video != !!a.video ||
                i.language != a.language) &&
              (o = i.audio && a.audio)
            ) {
              o = i.audio;
              var p = a.audio;
              o = !(
                o.channelsCount == p.channelsCount &&
                jg(o, p) &&
                kg(o.roles, p.roles)
              );
            }
            return (
              !o &&
                (o = i.video && a.video) &&
                (o = !(
                  jg((o = i.video), (p = a.video)) && kg(o.roles, p.roles)
                )),
              !o
            );
          }
          function jg(i, a) {
            if (i.mimeType != a.mimeType) return !1;
            var o = i.codecs.split(',').map(function (i) {
                return Qb(i)[0];
              }),
              p = a.codecs.split(',').map(function (i) {
                return Qb(i)[0];
              });
            if (o.length != p.length) return !1;
            o.sort(), p.sort();
            for (var m = 0; m < o.length; m++) if (o[m] != p[m]) return !1;
            return !0;
          }
          function kg(i, a) {
            var o = new Set(i),
              p = new Set(a);
            if ((o['delete']('main'), p['delete']('main'), o.size != p.size))
              return !1;
            for (var m = (o = r(o)).next(); !m.done; m = o.next())
              if (!p.has(m.value)) return !1;
            return !0;
          }
          function lg(i) {
            (this.a = i),
              (this.b = new mg(
                i.language,
                '',
                i.audio && i.audio.channelsCount ? i.audio.channelsCount : 0
              ));
          }
          function mg(i, a, o) {
            (this.c = i), (this.b = a), (this.a = o);
          }
          function pg(i) {
            var a = this;
            (this.c = i),
              (this.a = new Set()),
              (this.b = new H(function () {
                qg(a, !1);
              })),
              this.b.start(0.25, !0);
          }
          function qg(i, a) {
            for (var o = r(i.a), p = o.next(); !p.done; p = o.next())
              p.value.g(i.c.currentTime, a);
          }
          function rg(i, a, o) {
            var p = this;
            (this.c = Et),
              (this.f = 0.5),
              (this.h = i),
              (this.l = o),
              (this.i = a),
              (this.b = function () {}),
              (this.a = function () {}),
              (this.m = [
                {
                  vd: Et,
                  is: _t,
                  Hc: function Hc() {
                    return p.a();
                  },
                },
                {
                  vd: _t,
                  is: Et,
                  Hc: function Hc() {
                    return p.b();
                  },
                },
              ]),
              this.f >= this.h &&
                (Ma(
                  'Rebuffering threshold is set too low!  This could cause poor buffering behavior during playback!'
                ),
                (this.f = this.h / 2));
          }
          (ht.m3u8 = of),
            (ft['application/x-mpegurl'] = of),
            (ft['application/vnd.apple.mpegurl'] = of),
            (hg.prototype.add = function (i) {
              return !!ig(this.a, i) && (this.b.add(i), !0);
            }),
            (hg.prototype.values = function () {
              return this.b.values();
            }),
            (lg.prototype.create = function (i) {
              var a = this,
                o = i.filter(function (i) {
                  return ig(a.a, i);
                });
              return o.length ? new hg(o[0], o) : this.b.create(i);
            }),
            (mg.prototype.create = function (i) {
              var a = [];
              a = (function ng(i, a) {
                var o = Ad(
                  J(a),
                  i.map(function (i) {
                    return zd(i);
                  })
                );
                return o
                  ? i.filter(function (i) {
                      return o == zd(i);
                    })
                  : [];
              })(i, this.c);
              var o = i.filter(function (i) {
                return i.primary;
              });
              for (
                a = a.length ? a : o.length ? o : i,
                  this.b &&
                    (i = (function og(i, a) {
                      return i.filter(function (i) {
                        var o = i.audio;
                        return (
                          (i = i.video),
                          (o && 0 <= o.roles.indexOf(a)) ||
                            (i && 0 <= i.roles.indexOf(a))
                        );
                      });
                    })(a, this.b)).length &&
                    (a = i),
                  this.a && (i = ot.Mc(a, this.a)).length && (a = i),
                  i = new hg(a[0]),
                  o = (a = r(a)).next();
                !o.done;
                o = a.next()
              )
                (o = o.value), ig(i.a, o) && i.add(o);
              return i;
            }),
            (pg.prototype.O = function () {
              this.b.stop();
              for (var i = r(this.a), a = i.next(); !a.done; a = i.next())
                a.value.O();
              this.a.clear();
            }),
            (rg.prototype.O = function () {
              (this.b = function () {}), (this.a = function () {});
            }),
            (rg.prototype.g = function (i) {
              var a = this.c == _t ? this.f : this.h;
              (i = this.i(i)), (a = this.l() || i >= a ? _t : Et);
              for (var o = (i = r(this.m)).next(); !o.done; o = i.next())
                (o = o.value), this.c == o.vd && a == o.is && o.Hc();
              this.c = a;
            });
          var Et = 0,
            _t = 1;
          function vg(i) {
            (this.g = i),
              (this.f = wg(i)),
              (this.a = i.a.currentTime),
              (this.b = Date.now() / 1e3),
              (this.c = function () {});
          }
          function yg(i) {
            this.a = i;
          }
          function wg(i) {
            if (i.a.paused || 0 == i.a.playbackRate || null == i.a.buffered)
              var a = !1;
            else
              e: {
                (a = i.a.buffered), (i = i.a.currentTime);
                for (var o = 0; o < a.length; o++) {
                  var p = a.start(o),
                    m = a.end(o);
                  if (!(i < p || i > m - 0.5)) {
                    a = !0;
                    break e;
                  }
                }
                a = !1;
              }
            return a;
          }
          function zg(i, a, o, p) {
            (this.a = i),
              (this.s = a),
              (this.m = o),
              (this.o = p),
              (this.f = new Eb()),
              (this.b = null),
              (this.h = !1),
              (this.l = i.readyState),
              (this.c = !1),
              (this.w = new vg(new yg(i))),
              (function xg(i, a) {
                i.c = a;
              })(this.w, function () {
                i.currentTime += 0.1;
              }),
              (this.g = !1),
              (a = this.i.bind(this)),
              F(this.f, i, 'waiting', a),
              (this.b = new H(a)),
              this.b.start(0.25, !0);
          }
          function Ag(i) {
            (this.c = i), (this.a = null), (this.b = function () {});
          }
          function Cg(i, a, o) {
            (this.a = i),
              (this.i = a),
              (this.h = o),
              (this.c = new Eb()),
              (this.f = 1),
              (this.g = !1),
              (this.b = null),
              0 < i.readyState
                ? this.ad()
                : Hb(this.c, i, 'loadedmetadata', this.ad.bind(this)),
              F(this.c, i, 'ratechange', this.re.bind(this));
          }
          function Dg(i) {
            return 0 < i.a.readyState ? i.a.currentTime : i.h;
          }
          function Eg(i, a) {
            0 < i.a.readyState
              ? (function Fg(i, a, o) {
                  function e() {
                    !i.a ||
                      10 <= p++ ||
                      i.a.currentTime != a ||
                      ((i.a.currentTime = o), setTimeout(e, 100));
                  }
                  i.a.currentTime = o;
                  var p = 0;
                  setTimeout(e, 100);
                })(i, i.a.currentTime, a)
              : ((i.h = a), setTimeout(i.i, 0));
          }
          function Gg(i, a) {
            null != i.b && (i.b.stop(), (i.b = null)),
              (i.f = a),
              (i.a.playbackRate = i.g || 0 > a ? 0 : a),
              !i.g &&
                0 > a &&
                ((i.b = new H(function () {
                  i.a.currentTime += a / 4;
                })),
                i.b.start(0.25, !0));
          }
          function Hg(i, a, o, p, m, _, w) {
            (this.c = i),
              (this.a = a),
              (this.m = o),
              (this.h = p),
              (this.l = _),
              (this.f = null),
              (this.g = new zg(i, a, p, w)),
              null == (a = m)
                ? (a = Infinity > this.a.T() ? this.a.Sa() : this.a.qa())
                : 0 > a && (a = this.a.qa() + a),
              (this.b = new Cg(i, this.se.bind(this), Ig(this, Jg(this, a)))),
              (this.f = new H(this.qe.bind(this))),
              this.f.start(0.25, !0);
          }
          function Kg(i) {
            var a = Dg(i.b);
            return 0 < i.c.readyState && (i.c.paused || (a = Jg(i, a))), a;
          }
          function Ig(i, a) {
            var o = i.a.T();
            return a >= o ? o - i.h.durationBackoff : a;
          }
          function Lg(i, a) {
            var o = Rc.bind(null, i.c.buffered),
              p = Math.max(i.m, i.h.rebufferingGoal),
              m = i.h.safeSeekOffset,
              _ = i.a.Sa(),
              w = i.a.qa(),
              x = i.a.T();
            3 > w - _ && (_ = w - 3);
            var I = i.a.ib(p),
              D = i.a.ib(m);
            return (
              (p = i.a.ib(p + m)),
              a >= x
                ? Ig(i, a)
                : a > w
                ? w
                : a < _
                ? o(D)
                  ? D
                  : p
                : a >= I || o(a)
                ? a
                : p
            );
          }
          function Jg(i, a) {
            var o = i.a.Sa();
            return a < o || a > (o = i.a.qa()) ? o : a;
          }
          function Mg() {
            (this.b = function () {}), (this.a = new Set());
          }
          function Og(i) {
            var a = this;
            (this.h = i),
              (this.f = new Map()),
              (this.a = function () {}),
              (this.b = function () {}),
              (this.c = function () {}),
              (this.i = [
                {
                  Pa: null,
                  Oa: At,
                  Ha: function Ha(i, o) {
                    return a.a(i, o);
                  },
                },
                {
                  Pa: wt,
                  Oa: At,
                  Ha: function Ha(i, o) {
                    return a.a(i, o);
                  },
                },
                {
                  Pa: kt,
                  Oa: At,
                  Ha: function Ha(i, o) {
                    return a.a(i, o);
                  },
                },
                {
                  Pa: At,
                  Oa: wt,
                  Ha: function Ha(i, o) {
                    return a.b(i, o);
                  },
                },
                {
                  Pa: At,
                  Oa: kt,
                  Ha: function Ha(i, o) {
                    return a.b(i, o);
                  },
                },
                {
                  Pa: wt,
                  Oa: kt,
                  Ha: function Ha(i, o) {
                    return a.c(i, o);
                  },
                },
                {
                  Pa: kt,
                  Oa: wt,
                  Ha: function Ha(i, o) {
                    return a.c(i, o);
                  },
                },
              ]);
          }
          (zg.prototype.O = function () {
            this.f && (this.f.O(), (this.f = null)),
              null != this.b && (this.b.stop(), (this.b = null)),
              (this.a = this.s = this.o = null);
          }),
            (zg.prototype.ob = function () {
              (this.g = !0), this.i();
            }),
            (zg.prototype.i = function () {
              if (0 != this.a.readyState) {
                if (this.a.seeking) {
                  if (!this.h) return;
                } else this.h = !1;
                if (!this.a.paused || 4 !== this.a.readyState) {
                  this.a.readyState != this.l &&
                    ((this.c = !1), (this.l = this.a.readyState));
                  var i = this.m.smallGapLimit,
                    a = this.a.currentTime,
                    o = this.a.buffered;
                  e: {
                    if (
                      o &&
                      o.length &&
                      !(1 == o.length && 1e-6 > o.end(0) - o.start(0))
                    )
                      for (
                        var p =
                            Rb('Edge/') ||
                            Rb('Trident/') ||
                            Rb('Tizen') ||
                            Rb('CrKey')
                              ? 0.5
                              : 0.1,
                          m = 0;
                        m < o.length;
                        m++
                      )
                        if (
                          o.start(m) > a &&
                          (0 == m || o.end(m - 1) - a <= p)
                        ) {
                          p = m;
                          break e;
                        }
                    p = null;
                  }
                  if (null == p)
                    (a = wg((p = (o = this.w).g))),
                      (p = p.a.currentTime),
                      (m = Date.now() / 1e3),
                      (o.a == p && o.f == a) ||
                        ((o.b = m), (o.a = p), (o.f = a)),
                      1 <= (p = m - o.b) && a && o.c(o.a, p);
                  else if (
                    (0 != p || this.g) &&
                    !((m = o.start(p)) >= this.s.qa())
                  ) {
                    var _ = m - a;
                    i = _ <= i;
                    var w = !1;
                    0.001 > _ ||
                      (i ||
                        this.c ||
                        ((this.c = !0),
                        ((a = new C('largegap', {
                          currentTime: a,
                          gapSize: _,
                        })).cancelable = !0),
                        this.o(a),
                        this.m.jumpLargeGaps &&
                          !a.defaultPrevented &&
                          (w = !0)),
                      !i && !w) ||
                      (0 != p && o.end(p - 1), (this.a.currentTime = m));
                  }
                }
              }
            }),
            (Ag.prototype.O = function () {
              (this.a = this.c = null), (this.b = function () {});
            }),
            (Ag.prototype.g = function (i) {
              for (
                var a = this.a,
                  o = this.c.periods[0],
                  p = r(this.c.periods),
                  m = p.next();
                !m.done;
                m = p.next()
              )
                i >= (m = m.value).startTime && (o = m);
              a != (i = o) && this.b(i), (this.a = i);
            }),
            ((o = Cg.prototype).O = function () {
              this.c && (this.c.O(), (this.c = null)),
                null != this.b && (this.b.stop(), (this.b = null)),
                (this.a = this.i = null);
            }),
            (o.hb = function () {
              return this.f;
            }),
            (o.re = function () {
              var i = this.g || 0 > this.f ? 0 : this.f;
              this.a.playbackRate &&
                this.a.playbackRate != i &&
                Gg(this, this.a.playbackRate);
            }),
            (o.ad = function () {
              0.001 > Math.abs(this.a.currentTime - this.h)
                ? this.bd()
                : (Hb(this.c, this.a, 'seeking', this.bd.bind(this)),
                  (this.a.currentTime =
                    0 == this.a.currentTime ? this.h : this.a.currentTime));
            }),
            (o.bd = function () {
              var i = this;
              F(this.c, this.a, 'seeking', function () {
                return i.i();
              });
            }),
            ((o = Hg.prototype).O = function () {
              this.b && (this.b.O(), (this.b = null)),
                this.g && (this.g.O(), (this.g = null)),
                this.f && (this.f.stop(), (this.f = null)),
                (this.c = this.b = this.a = this.l = this.h = null);
            }),
            (o.hb = function () {
              return this.b.hb();
            }),
            (o.ob = function () {
              this.g.ob();
            }),
            (o.qe = function () {
              if (0 != this.c.readyState && !this.c.paused) {
                var i = this.c.currentTime,
                  a = this.a.Sa(),
                  o = this.a.qa();
                3 > o - a && (a = o - 3),
                  i + 1e-6 < a && ((i = Lg(this, i)), (this.c.currentTime = i));
              }
            }),
            (o.se = function () {
              var i = this.g;
              (i.h = !0), (i.g = !1), (i.c = !1);
              var a = Dg(this.b);
              if (
                ((i = Lg(this, a)),
                0.001 < Math.abs(i - a) &&
                  ((a = new Date().getTime() / 1e3), !this.i || this.i < a - 1))
              )
                return (this.i = a), void Eg(this.b, i);
              this.l();
            }),
            (Mg.prototype.O = function () {
              (this.b = function () {}), this.a.clear();
            }),
            (Og.prototype.O = function () {
              (this.h = null),
                this.f.clear(),
                (this.a = function () {}),
                (this.b = function () {}),
                (this.c = function () {});
            }),
            (Og.prototype.g = function (i, a) {
              for (var o = r(this.h.a), p = o.next(); !p.done; p = o.next()) {
                p = p.value;
                var m = this.f.get(p),
                  _ = i < p.startTime ? wt : i > p.endTime ? kt : At;
                this.f.set(p, _);
                for (var w = r(this.i), x = w.next(); !x.done; x = w.next())
                  (x = x.value).Pa == m && x.Oa == _ && x.Ha(p, a);
              }
            });
          var wt = 1,
            At = 2,
            kt = 3;
          function Tg(i, a) {
            (this.a = a),
              (this.c = i),
              (this.g = null),
              (this.l = 1),
              (this.s = Promise.resolve()),
              (this.h = []),
              (this.i = new Map()),
              (this.b = new Map()),
              (this.o = !1),
              (this.L = null),
              (this.F = this.f = this.m = !1),
              (this.C = 0),
              (this.w = new Map());
          }
          function Xg(i) {
            return Yg(i, 'audio');
          }
          function Zg(i) {
            return Yg(i, 'video');
          }
          function Yg(i, a) {
            var o = i.b.get(a);
            return o ? o.za || o.stream : null;
          }
          function $g(i, a) {
            return t(function e() {
              var o, p, m, _, w, x, I, D;
              return v(e, function (j) {
                switch (j.j) {
                  case 1:
                    return (
                      (o = rt),
                      td(i.a.J, o.Da),
                      i.C++,
                      (i.F = !1),
                      (p = i.C),
                      (m = i.a.J),
                      (_ = new Map()),
                      (w = new Set()),
                      _.set(o.Da, a),
                      w.add(a),
                      u(j, m.init(_, !1), 2)
                    );
                  case 2:
                    return i.f ? j['return']() : u(j, ah(i, w), 3);
                  case 3:
                    if (i.f) return j['return']();
                    i.C != p ||
                      i.b.has(o.Da) ||
                      i.F ||
                      ((x = i.a.va()),
                      (I = ot.Fb(i.c, x)),
                      (D = Vg(a, I, 0)),
                      i.b.set(o.Da, D),
                      i.o && bh(i, D, 0)),
                      (j.j = 0);
                }
              });
            });
          }
          function ch(i, a) {
            var o = i.b.get('video');
            if (o) {
              var p = o.stream;
              if (p)
                if (a) {
                  var m = p.trickModeVideo;
                  m && !o.za && (dh(i, m, !1, 0), (o.za = p));
                } else (p = o.za) && ((o.za = null), dh(i, p, !0, 0));
            }
          }
          function eh(i, a, o, p) {
            a.video && dh(i, a.video, o, p), a.audio && dh(i, a.audio, o, p);
          }
          function dh(i, a, o, p) {
            var m = i.b.get(a.type);
            if (m || 'text' != a.type) {
              if (m) {
                var _ = fh(i, a);
                o && _ != m.xa
                  ? gh(i)
                  : (m.za &&
                      (a.trickModeVideo
                        ? ((m.za = a), (a = a.trickModeVideo))
                        : (m.za = null)),
                    (_ = i.h[_]) &&
                      _.ya &&
                      (_ = i.i.get(a.id)) &&
                      _.ya &&
                      m.stream != a &&
                      ('text' == a.type && md(i.a.J, Nb(a.mimeType, a.codecs)),
                      (m.stream = a),
                      (m.mb = !0),
                      o &&
                        (m.Fa
                          ? (m.Pb = !0)
                          : m.Ja
                          ? ((m.Ca = !0), (m.Bb = p), (m.Pb = !0))
                          : (Ug(m), hh(i, m, !0, p)))));
              }
            } else $g(i, a);
          }
          function gh(i) {
            i.b.forEach(function (a, o) {
              a.Fa ||
                a.Ca ||
                (a.Ja
                  ? ((a.Ca = !0), (a.Bb = 0))
                  : null == nd(i.a.J, o)
                  ? null == a.Ba && bh(i, a, 0)
                  : (Ug(a), hh(i, a, !1, 0)));
            });
          }
          function Wg(i, a, o, p, m) {
            return t(function h() {
              var _, w, x, I, D, j, K;
              return v(h, function (q) {
                switch (q.j) {
                  case 1:
                    return (
                      (_ = i.a.va()),
                      (w = ot.Fb(i.c, _)),
                      (x = rt),
                      (I = new Map()),
                      (D = new Set()),
                      a && (I.set(x.wc, a), D.add(a)),
                      o && (I.set(x.Ac, o), D.add(o)),
                      p && (I.set(x.Da, p), D.add(p)),
                      (j = i.a.J),
                      (K = i.g.forceTransmuxTS),
                      u(q, j.init(I, K), 2)
                    );
                  case 2:
                    return i.f
                      ? q['return']()
                      : ((function jh(i) {
                          var a = i.c.presentationTimeline.T();
                          Infinity > a
                            ? i.a.J.la(a)
                            : i.a.J.la(Math.pow(2, 32));
                        })(i),
                        u(q, ah(i, D), 3));
                  case 3:
                    if (i.f) return q['return']();
                    I.forEach(function (a, o) {
                      if (i.b.has(o))
                        o === x.Da && ((p = i.b.get(o)), bh(i, p, 0));
                      else {
                        var p = Vg(a, w, m);
                        i.b.set(o, p), bh(i, p, 0);
                      }
                    }),
                      (q.j = 0);
                }
              });
            });
          }
          function Vg(i, a, o) {
            return {
              stream: i,
              type: i.type,
              Va: null,
              ra: null,
              za: null,
              mb: !0,
              xa: a,
              endOfStream: !1,
              Ja: !1,
              Ba: null,
              Ca: !1,
              Bb: 0,
              Pb: !1,
              Fa: !1,
              lc: !1,
              kb: !1,
              gd: o,
            };
          }
          function kh(i, a) {
            var o = i.h[a];
            if (o) return o.promise;
            (o = { promise: new z(), ya: !1 }), (i.h[a] = o);
            for (
              var p = new Set(), m = r(i.c.periods[a].variants), _ = m.next();
              !_.done;
              _ = m.next()
            )
              (_ = _.value).video && p.add(_.video),
                _.video &&
                  _.video.trickModeVideo &&
                  p.add(_.video.trickModeVideo),
                _.audio && p.add(_.audio);
            for (
              _ = (m = r(i.c.periods[a].textStreams)).next();
              !_.done;
              _ = m.next()
            )
              p.add(_.value);
            return (
              (i.s = i.s
                .then(
                  function () {
                    if (!this.f) return ah(this, p);
                  }.bind(i)
                )
                .then(
                  function () {
                    this.f ||
                      (this.h[a].promise.resolve(), (this.h[a].ya = !0));
                  }.bind(i)
                )
                ['catch'](
                  function (i) {
                    this.f ||
                      (this.h[a].promise['catch'](function () {}),
                      this.h[a].promise.reject(),
                      delete this.h[a],
                      this.a.onError(i));
                  }.bind(i)
                )),
              o.promise
            );
          }
          function ah(i, a) {
            return t(function e() {
              var o, p, m, _, w, x, I;
              return v(e, function (D) {
                switch (D.j) {
                  case 1:
                    o = [];
                    for (var j = r(a), K = j.next(); !K.done; K = j.next())
                      (p = K.value),
                        (m = i.i.get(p.id))
                          ? o.push(m.promise)
                          : (i.i.set(p.id, { promise: new z(), ya: !1 }),
                            o.push(p.createSegmentIndex()));
                    return qa(D, 2), u(D, Promise.all(o), 4);
                  case 4:
                    if (i.f) return D['return']();
                    sa(D, 3);
                    break;
                  case 2:
                    if (((_ = ta(D)), i.f)) return D['return']();
                    for (K = (D = r(a)).next(); !K.done; K = D.next())
                      (w = K.value),
                        i.i.get(w.id).promise['catch'](function () {}),
                        i.i.get(w.id).promise.reject(),
                        i.i['delete'](w.id);
                    throw _;
                  case 3:
                    for (K = (j = r(a)).next(); !K.done; K = j.next())
                      (x = K.value),
                        (I = i.i.get(x.id)).ya ||
                          (I.promise.resolve(), (I.ya = !0));
                    D.j = 0;
                }
              });
            });
          }
          function oh(i, a, o) {
            return a.Va && a.ra
              ? ((o = fh(i, a.Va)), i.c.periods[o].startTime + a.ra.endTime)
              : Math.max(o, a.gd);
          }
          function rh(i, a, o, p) {
            return (
              (o = i.c.periods[o]),
              (a = a.stream.getSegmentReference(p))
                ? ((p = (i = i.c.presentationTimeline).Ta()),
                  o.startTime + a.endTime < i.jb() ||
                  o.startTime + a.startTime > p
                    ? null
                    : a)
                : null
            );
          }
          function yh(i) {
            return !i.Ja && null == i.Ba && !i.Ca && !i.Fa;
          }
          function fh(i, a) {
            for (var o = i.c.periods, p = 0; p < o.length; p++) {
              for (
                var m = o[p], _ = new Set(), w = r(m.variants), x = w.next();
                !x.done;
                x = w.next()
              )
                (x = x.value).audio && _.add(x.audio),
                  x.video && _.add(x.video),
                  x.video &&
                    x.video.trickModeVideo &&
                    _.add(x.video.trickModeVideo);
              for (w = (m = r(m.textStreams)).next(); !w.done; w = m.next())
                _.add(w.value);
              if (_.has(a)) return p;
            }
            return -1;
          }
          function th(i, a) {
            var o = Ab(a.c(), i.g.retryParameters);
            if (!a.encrypted && (0 != a.b || null != a.a)) {
              var p = 'bytes=' + a.b + '-';
              null != a.a && (p += a.a), (o.headers.Range = p);
            }
            return (
              (p = i.a.Xa.request(1, o).promise),
              a.encrypted &&
                ((o = i.a.Xa),
                (o = i.w.get(a.f)
                  ? Promise.resolve(i.w.get(a.f))
                  : o.request(2, Ab([a.f], i.g.retryParameters)).promise.then(
                      function (i) {
                        return this.w.set(a.f, i), i;
                      }.bind(i)
                    )),
                (p = Promise.all([p, o]).then(function (i) {
                  return bf(a, i[0], i[1]);
                }))),
              p.then(function (i) {
                return i.data;
              })
            );
          }
          function hh(i, a, o, p) {
            t(function g() {
              var m, _, w;
              return v(g, function (x) {
                switch (x.j) {
                  case 1:
                    return (
                      (a.Ca = !1),
                      (a.Pb = !1),
                      (a.Bb = 0),
                      (a.Fa = !0),
                      p
                        ? ((_ = i.a.va()),
                          (w = i.a.J.T()),
                          (m = i.a.J.remove(a.type, _ + p, w)))
                        : (m = td(i.a.J, a.type).then(
                            function () {
                              if (!this.f && o) return this.a.J.flush(a.type);
                            }.bind(i)
                          )),
                      u(x, m, 2)
                    );
                  case 2:
                    if (i.f) return x['return']();
                    (a.Va = null),
                      (a.ra = null),
                      (a.Fa = !1),
                      (a.endOfStream = !1),
                      bh(i, a, 0),
                      (x.j = 0);
                }
              });
            });
          }
          function bh(a, o, p) {
            o.Ba = i.setTimeout(a.Ze.bind(a, o), 1e3 * p);
          }
          function Ug(a) {
            null != a.Ba && (i.clearTimeout(a.Ba), (a.Ba = null));
          }
          function mh(i, a) {
            gb(i.L).then(
              function () {
                this.f ||
                  (this.a.onError(a), a.handled || this.g.failureCallback(a));
              }.bind(i)
            );
          }
          function zh(i, a, o, p, m, _) {
            if (200 <= o && 299 >= o && 202 != o)
              return (
                m && (p = m),
                {
                  uri: p,
                  data: a,
                  headers: i,
                  fromCache: !!i['x-veygo-from-cache'],
                }
              );
            m = null;
            try {
              m = Vb(a);
            } catch (w) {}
            throw new A(401 == o || 403 == o ? 2 : 1, 1, 1001, p, o, m, i, _);
          }
          function Ah(i, a, o, p) {
            var m = new Ah.b();
            Kb(a.headers).forEach(function (i, a) {
              m.append(a, i);
            });
            var _,
              w = new Ah.a(),
              x = {
                body: a.body || void 0,
                headers: m,
                method: a.method,
                signal: w.signal,
                credentials: a.allowCrossSiteCredentials ? 'include' : void 0,
              },
              I = { Fc: !1, rd: !1 };
            return (
              a.retryParameters.timeout &&
                (_ = setTimeout(function () {
                  (I.rd = !0), w.abort();
                }, a.retryParameters.timeout)),
              new B((i = Ah.h(i, o, x, I, _, p)), function () {
                return (I.Fc = !0), w.abort(), Promise.resolve();
              })
            );
          }
          function Bh(i, a, o, p) {
            var m = new Bh.f(),
              _ = Date.now(),
              w = 0;
            return new B(
              new Promise(function (x, I) {
                for (var D in (m.open(a.method, i, !0),
                (m.responseType = 'arraybuffer'),
                (m.timeout = a.retryParameters.timeout),
                (m.withCredentials = a.allowCrossSiteCredentials),
                (m.onabort = function () {
                  I(new A(1, 1, 7001, i, o));
                }),
                (m.onload = function (a) {
                  for (
                    var p = (a = a.target)
                        .getAllResponseHeaders()
                        .trim()
                        .split('\r\n'),
                      m = {},
                      _ = (p = r(p)).next();
                    !_.done;
                    _ = p.next()
                  )
                    m[(_ = _.value.split(': '))[0].toLowerCase()] =
                      _.slice(1).join(': ');
                  try {
                    var w = zh(m, a.response, a.status, i, a.responseURL, o);
                    x(w);
                  } catch (D) {
                    I(D);
                  }
                }),
                (m.onerror = function (a) {
                  I(new A(1, 1, 1002, i, a, o));
                }),
                (m.ontimeout = function () {
                  I(new A(1, 1, 1003, i, o));
                }),
                (m.onprogress = function (i) {
                  var a = Date.now();
                  (100 < a - _ ||
                    (i.lengthComputable && i.loaded == i.total)) &&
                    (p(a - _, i.loaded - w), (w = i.loaded), (_ = a));
                }),
                a.headers))
                  m.setRequestHeader(D.toLowerCase(), a.headers[D]);
                m.send(a.body);
              }),
              function () {
                return m.abort(), Promise.resolve();
              }
            );
          }
          function Ch(i, a) {
            (this.l = i),
              (this.c = new Map()),
              (this.g = !1),
              (this.h = a),
              (this.a = this.b = this.f = 0);
          }
          function Dh(i, a, o, p, m) {
            i.b += p;
            var _ = i.c.get(a) || Promise.resolve();
            i.c.set(
              a,
              _.then(function () {
                return t(function k() {
                  var a, _;
                  return v(k, function (w) {
                    switch (w.j) {
                      case 1:
                        return u(
                          w,
                          (function Eh(i, a) {
                            return t(function e() {
                              var o;
                              return v(e, function (p) {
                                switch (p.j) {
                                  case 1:
                                    return u(p, i.l.request(1, a).promise, 2);
                                  case 2:
                                    return (o = p.u), p['return'](o.data);
                                }
                              });
                            });
                          })(i, o),
                          2
                        );
                      case 2:
                        if (((a = w.u), i.g)) throw new A(2, 9, 7001);
                        return (
                          (i.f += p),
                          (i.a += a.byteLength),
                          (_ = i.b ? i.f / i.b : 0),
                          i.h(_, i.a),
                          w['return'](m(a, _))
                        );
                    }
                  });
                });
              })
            );
          }
          function Gh(i, a) {
            var o = this;
            (this.c = i),
              (this.b = i.objectStore(a)),
              (this.a = new z()),
              (i.onabort = function (i) {
                i.preventDefault(), o.a.reject();
              }),
              (i.onerror = function (i) {
                i.preventDefault(), o.a.reject();
              }),
              (i.oncomplete = function () {
                o.a.resolve();
              });
          }
          function Hh(i, a) {
            return new Promise(function (o, p) {
              var m = i.b.openCursor();
              (m.onerror = p),
                (m.onsuccess = function (i) {
                  if (!(i = i.target.result)) return o();
                  a(i.key, i.value, i), i['continue']();
                });
            });
          }
          function Ih(i) {
            (this.b = i), (this.a = []);
          }
          function Jh(i, a) {
            return Kh(i, a, 'readonly');
          }
          function Lh(i, a) {
            return Kh(i, a, 'readwrite');
          }
          function Kh(i, a, o) {
            var p = new Gh((o = i.b.transaction([a], o)), a);
            return (
              i.a.push(p),
              p.promise().then(
                function () {
                  tb(i.a, p);
                },
                function () {
                  tb(i.a, p);
                }
              ),
              p
            );
          }
          function Mh(i) {
            this.a = new Ih(i);
          }
          function Nh() {
            this.a = new Map();
          }
          function Rh(i, a, o) {
            if (!(i = i.a.get(a)))
              throw new A(
                2,
                9,
                9013,
                'Could not find mechanism with name ' + a
              );
            if (!(a = i.getCells().get(o)))
              throw new A(2, 9, 9013, 'Could not find cell with name ' + o);
            return a;
          }
          function Uh(i, a) {
            xt.set(i, a);
          }
          function Vh() {
            for (var i = r(xt.values()), a = i.next(); !a.done; a = i.next())
              if ((a = (a = a.value)())) return a.destroy(), !0;
            return !1;
          }
          ((o = Tg.prototype).destroy = function () {
            for (
              var i = r(this.b.values()), a = i.next();
              !a.done;
              a = i.next()
            )
              Ug(a.value);
            return (
              this.b.clear(),
              this.i.clear(),
              (this.g = this.h = this.s = this.c = this.a = null),
              (this.f = !0),
              Promise.resolve()
            );
          }),
            (o.configure = function (i) {
              (this.g = i),
                (this.L = new eb(
                  {
                    maxAttempts: Math.max(i.retryParameters.maxAttempts, 2),
                    baseDelay: i.retryParameters.baseDelay,
                    backoffFactor: i.retryParameters.backoffFactor,
                    fuzzFactor: i.retryParameters.fuzzFactor,
                    timeout: 0,
                  },
                  !0
                ));
            }),
            (o.init = function (i) {
              var a = this;
              return t(function e() {
                var o, p, m, _, w, x;
                return v(e, function (I) {
                  switch (I.j) {
                    case 1:
                      return (
                        (o = rt),
                        (p = a.a.va()),
                        (m = ot.Fb(a.c, p)),
                        (_ = a.a.Zc(a.c.periods[m])).variant || _.text
                          ? ((w = []),
                            _.variant &&
                              _.variant.audio &&
                              (w.push(_.variant.audio.createSegmentIndex()),
                              a.b.set(o.wc, Vg(_.variant.audio, 0, 0))),
                            _.variant &&
                              _.variant.video &&
                              (w.push(_.variant.video.createSegmentIndex()),
                              a.b.set(o.Ac, Vg(_.variant.video, 0, 0))),
                            u(I, Promise.all(w), 2))
                          : I['return'](Promise.reject(new A(2, 5, 5005)))
                      );
                    case 2:
                      return (
                        _.variant &&
                          _.variant.audio &&
                          a.i.set(_.variant.audio.id, {
                            promise: null,
                            ya: !0,
                          }),
                        a.i.set(_.variant.video.id, { promise: null, ya: !0 }),
                        (x = i()),
                        u(
                          I,
                          Wg(
                            a,
                            _.variant ? _.variant.audio : null,
                            _.variant ? _.variant.video : null,
                            _.text,
                            x || p
                          ),
                          3
                        )
                      );
                    case 3:
                      if (a.f) return I['return']();
                      a.a && a.a.ke && a.a.ke(), (I.j = 0);
                  }
                });
              });
            }),
            (o.Ze = function (i) {
              if (!this.f && !i.Ja && null != i.Ba && !i.Fa)
                if (((i.Ba = null), i.Ca)) hh(this, i, i.Pb, i.Bb);
                else {
                  try {
                    var a = (function lh(i, a) {
                      function d(i) {
                        return (
                          'text' == i.type &&
                          'application/cea-608' == i.stream.mimeType
                        );
                      }
                      if (d(a))
                        return i.a.J.Nb(a.stream.originalId || ''), null;
                      var o = i.a.va(),
                        p = oh(i, a, o),
                        m = fh(i, a.stream),
                        _ = ot.Fb(i.c, p),
                        w = (function qd(i, a, o) {
                          return 'text' == a
                            ? null == (i = i.a).b || i.b < o
                              ? 0
                              : i.b - Math.max(o, i.a)
                            : Sc((i = od(i, a)), o);
                        })(i.a.J, a.type, o),
                        x =
                          Math.max(
                            i.c.minBufferTime || 0,
                            i.g.rebufferingGoal,
                            i.g.bufferingGoal
                          ) * i.l;
                      if (p >= i.c.presentationTimeline.T())
                        return (
                          (a.endOfStream = !0),
                          'video' == a.type &&
                            (p = i.b.get('text')) &&
                            'application/cea-608' == p.stream.mimeType &&
                            (p.endOfStream = !0),
                          null
                        );
                      if (((a.endOfStream = !1), (a.xa = _), _ != m))
                        return null;
                      if (w >= x) return 0.5;
                      if (
                        ((_ = pd(i.a.J, a.type)),
                        !(_ = (function ph(i, a, o, p, m) {
                          return a.ra && a.stream == a.Va
                            ? rh(i, a, m, a.ra.position + 1)
                            : (a.ra
                                ? ((o = fh(i, a.Va)),
                                  (o = a.stream.findSegmentPosition(
                                    Math.max(
                                      0,
                                      i.c.periods[o].startTime +
                                        a.ra.endTime -
                                        i.c.periods[m].startTime
                                    )
                                  )))
                                : (o = a.stream.findSegmentPosition(
                                    Math.max(
                                      0,
                                      (p || o) - i.c.periods[m].startTime
                                    )
                                  )),
                              null == o ? null : rh(i, a, m, o));
                        })(i, a, o, _, m)))
                      )
                        return 1;
                      var I = Infinity;
                      return (
                        Array.from(i.b.values()).forEach(function (a) {
                          d(a) || ((a = oh(i, a, o)), (I = Math.min(I, a)));
                        }),
                        p >= I + i.c.presentationTimeline.a
                          ? 1
                          : ((a.gd = 0),
                            (function qh(i, a, o, p, m) {
                              var _ = i.c.periods[p],
                                w = a.stream,
                                x = i.c.presentationTimeline.T(),
                                I = i.c.periods[p + 1];
                              (p = (function sh(i, a, o, p, m) {
                                return a.mb
                                  ? ((o = (function ud(i, a, o, p, m) {
                                      return 'text' == a
                                        ? ((i.a.m = o),
                                          ((i = i.a).f = p),
                                          (i.h = m),
                                          Promise.resolve())
                                        : Promise.all([
                                            sd(i, a, i.xd.bind(i, a)),
                                            sd(i, a, i.nd.bind(i, a, o)),
                                            sd(i, a, i.Te.bind(i, a, p, m)),
                                          ]);
                                    })(
                                      i.a.J,
                                      a.type,
                                      i.c.periods[o].startTime -
                                        a.stream.presentationTimeOffset,
                                      p,
                                      m
                                    )),
                                    a.stream.initSegmentReference
                                      ? ((i = th(
                                          i,
                                          a.stream.initSegmentReference
                                        )
                                          .then(
                                            function (i) {
                                              if (!this.f)
                                                return rd(
                                                  this.a.J,
                                                  a.type,
                                                  i,
                                                  null,
                                                  null,
                                                  a.stream.closedCaptions &&
                                                    0 <
                                                      a.stream.closedCaptions
                                                        .size
                                                );
                                            }.bind(i)
                                          )
                                          ['catch'](function (i) {
                                            return (
                                              (a.mb = !0), Promise.reject(i)
                                            );
                                          })),
                                        Promise.all([o, i]))
                                      : o)
                                  : Promise.resolve();
                              })(
                                i,
                                a,
                                p,
                                Math.max(0, _.startTime - 0.1),
                                I ? I.startTime + 0.01 : x
                              )),
                                (a.Ja = !0),
                                (a.mb = !1),
                                (x = th(i, m)),
                                Promise.all([p, x])
                                  .then(
                                    function (i) {
                                      if (!this.f && !this.m)
                                        return (function uh(
                                          i,
                                          a,
                                          o,
                                          p,
                                          m,
                                          _,
                                          w
                                        ) {
                                          var x =
                                            m.closedCaptions &&
                                            0 < m.closedCaptions.size;
                                          return (
                                            null != m.emsgSchemeIdUris &&
                                              0 < m.emsgSchemeIdUris.length &&
                                              new P()
                                                .aa(
                                                  'emsg',
                                                  i.Ce.bind(
                                                    i,
                                                    p,
                                                    _,
                                                    m.emsgSchemeIdUris
                                                  )
                                                )
                                                .parse(w),
                                            (function xh(i, a, o) {
                                              var p = Math.max(
                                                  i.g.bufferBehind,
                                                  i.c.presentationTimeline.a
                                                ),
                                                m = nd(i.a.J, a.type);
                                              return null == m ||
                                                0 >= (o = o - m - p)
                                                ? Promise.resolve()
                                                : i.a.J.remove(
                                                    a.type,
                                                    m,
                                                    m + o
                                                  ).then(
                                                    function () {}.bind(i)
                                                  );
                                            })(i, a, o)
                                              .then(
                                                function () {
                                                  if (!this.f)
                                                    return rd(
                                                      this.a.J,
                                                      a.type,
                                                      w,
                                                      _.startTime + p.startTime,
                                                      _.endTime + p.startTime,
                                                      x
                                                    );
                                                }.bind(i)
                                              )
                                              .then(
                                                function () {
                                                  if (!this.f)
                                                    return (
                                                      (a.Va = m),
                                                      (a.ra = _),
                                                      Promise.resolve()
                                                    );
                                                }.bind(i)
                                              )
                                          );
                                        })(this, a, o, _, w, m, i[1]);
                                    }.bind(i)
                                  )
                                  .then(
                                    function () {
                                      this.f ||
                                        this.m ||
                                        ((a.Ja = !1),
                                        (a.lc = !1),
                                        a.Ca || this.a.ob(),
                                        bh(this, a, 0),
                                        (function vh(i, a) {
                                          if (
                                            !i.o &&
                                            ((i.o = Array.from(
                                              i.b.values()
                                            ).every(function (i) {
                                              return (
                                                'text' == i.type ||
                                                (!i.Ca && !i.Fa && i.ra)
                                              );
                                            })),
                                            i.o)
                                          ) {
                                            var o = fh(i, a);
                                            for (
                                              i.h[o] ||
                                                kh(i, o)
                                                  .then(
                                                    function () {
                                                      this.f || this.a.Yc();
                                                    }.bind(i)
                                                  )
                                                  ['catch'](tt.nb),
                                                o = 0;
                                              o < i.c.periods.length;
                                              ++o
                                            )
                                              kh(i, o)['catch'](tt.nb);
                                            i.a.ue && i.a.ue();
                                          }
                                        })(this, w));
                                    }.bind(i)
                                  )
                                  ['catch'](
                                    function (i) {
                                      this.f ||
                                        this.m ||
                                        ((a.Ja = !1),
                                        'text' == a.type &&
                                        this.g.ignoreTextStreamFailures
                                          ? this.b['delete']('text')
                                          : 3017 == i.code
                                          ? (function wh(i, a, o) {
                                              if (
                                                !Array.from(i.b.values()).some(
                                                  function (i) {
                                                    return i != a && i.lc;
                                                  }
                                                )
                                              ) {
                                                var p = Math.round(100 * i.l);
                                                if (20 < p) i.l -= 0.2;
                                                else {
                                                  if (!(4 < p))
                                                    return (
                                                      (a.kb = !0),
                                                      (i.m = !0),
                                                      void i.a.onError(o)
                                                    );
                                                  i.l -= 0.04;
                                                }
                                                a.lc = !0;
                                              }
                                              bh(i, a, 4);
                                            })(this, a, i)
                                          : ((a.kb = !0),
                                            (i.severity = 2),
                                            mh(this, i)));
                                    }.bind(i)
                                  );
                            })(i, a, o, m, _),
                            null)
                      );
                    })(this, i);
                    null != a && (bh(this, i, a), (i.kb = !1));
                  } catch (o) {
                    return void mh(this, o);
                  }
                  (a = Array.from(this.b.values())),
                    (function nh(i, a) {
                      var o = fh(i, a.stream);
                      if (a.xa != o) {
                        var p = a.xa,
                          m = Array.from(i.b.values());
                        m.every(function (i) {
                          return i.xa == p;
                        }) &&
                          m.every(yh) &&
                          kh(i, p)
                            .then(
                              function () {
                                if (
                                  !this.f &&
                                  m.every(
                                    function (i) {
                                      var a = yh(i),
                                        o = fh(this, i.stream);
                                      return a && i.xa == p && o != p;
                                    }.bind(this)
                                  )
                                ) {
                                  var i = this.c.periods[p],
                                    a = this.a.Zc(i),
                                    o = new Map();
                                  a.variant &&
                                    a.variant.video &&
                                    o.set('video', a.variant.video),
                                    a.variant &&
                                      a.variant.audio &&
                                      o.set('audio', a.variant.audio),
                                    a.text && o.set('text', a.text);
                                  var _ = r(this.b.keys());
                                  for (a = _.next(); !a.done; a = _.next())
                                    if (
                                      ((a = a.value), !o.has(a) && 'text' != a)
                                    )
                                      return void this.a.onError(
                                        new A(2, 5, 5005)
                                      );
                                  for (
                                    a = (_ = r(Array.from(o.keys()))).next();
                                    !a.done;
                                    a = _.next()
                                  )
                                    if (((a = a.value), !this.b.has(a))) {
                                      if ('text' != a)
                                        return void this.a.onError(
                                          new A(2, 5, 5005)
                                        );
                                      Wg(
                                        this,
                                        null,
                                        null,
                                        o.get('text'),
                                        i.startTime
                                      ),
                                        o['delete'](a);
                                    }
                                  for (
                                    a = (i = r(
                                      Array.from(this.b.keys())
                                    )).next();
                                    !a.done;
                                    a = i.next()
                                  )
                                    (a = a.value),
                                      (_ = o.get(a))
                                        ? (dh(this, _, !1, 0),
                                          bh(this, this.b.get(a), 0))
                                        : this.b['delete'](a);
                                  this.a.Yc();
                                }
                              }.bind(i)
                            )
                            ['catch'](tt.nb);
                      }
                    })(this, i),
                    a.every(function (i) {
                      return i.endOfStream;
                    }) &&
                      this.a.J.endOfStream().then(
                        function () {
                          if (!this.f) {
                            var i = this.a.J.T();
                            i < this.c.presentationTimeline.T() &&
                              this.c.presentationTimeline.la(i);
                          }
                        }.bind(this)
                      );
                }
            }),
            (o.Ce = function (i, a, o, p) {
              var m = p.reader.kc(),
                _ = p.reader.kc(),
                w = p.reader.B(),
                x = p.reader.B(),
                I = p.reader.B(),
                D = p.reader.B();
              (p = p.reader.Ka(p.reader.H.byteLength - p.reader.X())),
                (i = i.startTime + a.startTime + x / w),
                o.includes(m) &&
                  ('urn:mpeg:dash:event:2012' == m
                    ? this.a.le()
                    : this.a.onEvent(
                        new C('emsg', {
                          detail: {
                            startTime: i,
                            endTime: i + I / w,
                            schemeIdUri: m,
                            value: _,
                            timescale: w,
                            presentationTimeDelta: x,
                            eventDuration: I,
                            id: D,
                            messageData: p,
                          },
                        })
                      ));
            }),
            y('veygo.net.HttpFetchPlugin', Ah),
            (Ah.h = function (i, a, o, p, m, _) {
              return t(function k() {
                var w, x, I, D, j, K, q, $, Z, be;
                return v(k, function (Se) {
                  switch (Se.j) {
                    case 1:
                      return (
                        (w = Ah.g),
                        (x = Ah.c),
                        (K = j = 0),
                        (q = Date.now()),
                        qa(Se, 2, 3),
                        u(Se, w(i, o), 5)
                      );
                    case 5:
                      return (
                        (I = Se.u),
                        ($ = I.clone().body.getReader()),
                        new x({
                          start: function V(i) {
                            !(function c() {
                              return t(function Gc() {
                                var a, o;
                                return v(Gc, function (p) {
                                  switch (p.j) {
                                    case 1:
                                      return u(p, $.read(), 2);
                                    case 2:
                                      (a = p.u).done ||
                                        (j += a.value.byteLength),
                                        (100 < (o = Date.now()) - q ||
                                          a.done) &&
                                          (_(o - q, j - K), (K = j), (q = o)),
                                        a.done
                                          ? i.close()
                                          : (i.enqueue(a.value), c()),
                                        (p.j = 0);
                                  }
                                });
                              });
                            })();
                          },
                        }),
                        u(Se, I.arrayBuffer(), 6)
                      );
                    case 6:
                      D = Se.u;
                    case 3:
                      ua(Se), clearTimeout(m), va(Se, 4);
                      break;
                    case 2:
                      if (((Z = ta(Se)), p.Fc)) throw new A(1, 1, 7001, i, a);
                      if (p.rd) throw new A(1, 1, 1003, i, a);
                      throw new A(1, 1, 1002, i, Z, a);
                    case 4:
                      return (
                        (be = {}),
                        I.headers.forEach(function (i, a) {
                          be[a.trim()] = i;
                        }),
                        Se['return'](zh(be, D, I.status, i, I.url, a))
                      );
                  }
                });
              });
            }),
            (Ah.isSupported = function () {
              if (!i.ReadableStream) return !1;
              try {
                new ReadableStream({});
              } catch (x) {
                return !1;
              }
              return !(!i.fetch || !i.AbortController);
            }),
            (Ah.isSupported = Ah.isSupported),
            (Ah.g = i.fetch),
            (Ah.a = i.AbortController),
            (Ah.c = i.ReadableStream),
            (Ah.b = i.Headers),
            Ah.isSupported() && (zb('http', Ah, 2), zb('https', Ah, 2)),
            y('veygo.net.HttpXHRPlugin', Bh),
            (Bh.f = i.XMLHttpRequest),
            zb('http', Bh, 1),
            zb('https', Bh, 1),
            (Ch.prototype.destroy = function () {
              return (
                (this.g = !0),
                Promise.all(this.c.values()).then(
                  function () {},
                  function () {}
                )
              );
            }),
            (Gh.prototype.abort = function () {
              try {
                this.c.abort();
              } catch (x) {}
              return this.a['catch'](function () {});
            }),
            (Gh.prototype.store = function () {
              return this.b;
            }),
            (Gh.prototype.promise = function () {
              return this.a;
            }),
            (Ih.prototype.destroy = function () {
              return Promise.all(
                this.a.map(function (i) {
                  return i.abort();
                })
              );
            }),
            (Mh.prototype.destroy = function () {
              return this.a.destroy();
            }),
            (Mh.prototype.getAll = function () {
              var i = this;
              return t(function d() {
                var a, o;
                return v(d, function (p) {
                  switch (p.j) {
                    case 1:
                      return (
                        (a = Jh(i.a, 'session-ids')),
                        (o = []),
                        u(
                          p,
                          Hh(a, function (i, a) {
                            o.push(a);
                          }),
                          2
                        )
                      );
                    case 2:
                      return u(p, a.promise(), 3);
                    case 3:
                      return p['return'](o);
                  }
                });
              });
            }),
            (Mh.prototype.add = function (i) {
              for (
                var a = Lh(this.a, 'session-ids'),
                  o = a.store(),
                  p = (i = r(i)).next();
                !p.done;
                p = i.next()
              )
                o.add(p.value);
              return a.promise();
            }),
            (Mh.prototype.remove = function (i) {
              var a = this;
              return t(function e() {
                var o;
                return v(e, function (p) {
                  switch (p.j) {
                    case 1:
                      return u(
                        p,
                        Hh((o = Lh(a.a, 'session-ids')), function (a, o, p) {
                          0 <= i.indexOf(o.sessionId) && p['delete']();
                        }),
                        2
                      );
                    case 2:
                      return u(p, o.promise(), 0);
                  }
                });
              });
            }),
            (Nh.prototype.destroy = function () {
              for (
                var i = [], a = r(this.a.values()), o = a.next();
                !o.done;
                o = a.next()
              )
                i.push(o.value.destroy());
              return this.a.clear(), Promise.all(i);
            }),
            (Nh.prototype.init = function () {
              var i = this;
              xt.forEach(function (a, o) {
                var p = a();
                p && i.a.set(o, p);
              });
              for (
                var a = [], o = r(this.a.values()), p = o.next();
                !p.done;
                p = o.next()
              )
                a.push(p.value.init());
              return Promise.all(a);
            }),
            (Nh.prototype.erase = function () {
              var i = this;
              return t(function d() {
                var a, o;
                return v(d, function (p) {
                  switch (p.j) {
                    case 1:
                      return (
                        (a = Array.from(i.a.values())),
                        (o = 0 < a.length) ||
                          xt.forEach(function (i) {
                            (i = i()) && a.push(i);
                          }),
                        u(
                          p,
                          Promise.all(
                            a.map(function (i) {
                              return i.erase();
                            })
                          ),
                          2
                        )
                      );
                    case 2:
                      if (!o)
                        return u(
                          p,
                          Promise.all(
                            a.map(function (i) {
                              return i.destroy();
                            })
                          ),
                          0
                        );
                      p.A(0);
                  }
                });
              });
            }),
            y('veygo.offline.StorageMuxer.register', Uh),
            y('veygo.offline.StorageMuxer.unregister', function (i) {
              xt['delete'](i);
            });
          var xt = new Map();
          function Wh(i) {
            this.a = new Ih(i);
          }
          function Xh(i) {
            return Promise.reject(
              new A(2, 9, 9011, 'Cannot add new value to ' + i)
            );
          }
          function Yh(i, a, o, p) {
            var m = (i = Lh(i.a, a)).store();
            return (
              o.forEach(function (i) {
                m['delete'](i).onsuccess = function () {
                  return p(i);
                };
              }),
              i.promise()
            );
          }
          function Zh(i, a, o) {
            var p = (i = Jh(i.a, a)).store(),
              m = {},
              _ = [];
            return (
              o.forEach(function (i) {
                p.get(i).onsuccess = function (a) {
                  null == (a = a.target.result) && _.push(i), (m[i] = a);
                };
              }),
              i.promise().then(function () {
                return _.length
                  ? Promise.reject(
                      new A(2, 9, 9012, 'Could not find values for ' + _)
                    )
                  : o.map(function (i) {
                      return m[i];
                    });
              })
            );
          }
          function ai(i) {
            return {
              originalManifestUri: i.originalManifestUri,
              duration: i.duration,
              size: i.size,
              expiration: null == i.expiration ? Infinity : i.expiration,
              periods: i.periods.map(bi),
              sessionIds: i.sessionIds,
              drmInfo: i.drmInfo,
              appMetadata: i.appMetadata,
            };
          }
          function bi(i) {
            return (
              (function ci(i) {
                var a = i.streams.filter(function (i) {
                    return 'audio' == i.contentType;
                  }),
                  o = i.streams.filter(function (i) {
                    return 'video' == i.contentType;
                  });
                if (
                  !a.every(function (i) {
                    return i.variantIds;
                  }) ||
                  !o.every(function (i) {
                    return i.variantIds;
                  })
                ) {
                  a.forEach(function (i) {
                    i.variantIds = [];
                  }),
                    o.forEach(function (i) {
                      i.variantIds = [];
                    });
                  var p = 0;
                  if (o.length && !a.length) {
                    var m = p++;
                    o.forEach(function (i) {
                      i.variantIds.push(m);
                    });
                  }
                  if (!o.length && a.length) {
                    var _ = p++;
                    a.forEach(function (i) {
                      i.variantIds.push(_);
                    });
                  }
                  o.length &&
                    a.length &&
                    a.forEach(function (i) {
                      o.forEach(function (a) {
                        var o = p++;
                        i.variantIds.push(o), a.variantIds.push(o);
                      });
                    });
                }
              })(i),
              i.streams.forEach(function () {}),
              { startTime: i.startTime, streams: i.streams.map(di) }
            );
          }
          function di(i) {
            var a = i.ce ? ei(i.ce) : null;
            return {
              id: i.id,
              originalId: null,
              primary: i.primary,
              presentationTimeOffset: i.presentationTimeOffset,
              contentType: i.contentType,
              mimeType: i.mimeType,
              codecs: i.codecs,
              frameRate: i.frameRate,
              kind: i.kind,
              language: i.language,
              label: i.label,
              width: i.width,
              height: i.height,
              initSegmentKey: a,
              encrypted: i.encrypted,
              keyId: i.keyId,
              segments: i.segments.map(fi),
              variantIds: i.variantIds,
            };
          }
          function fi(i) {
            var a = ei(i.uri);
            return { startTime: i.startTime, endTime: i.endTime, dataKey: a };
          }
          function $h(i) {
            return { data: i.data };
          }
          function ei(i) {
            var a;
            if (
              (a = /^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(i)) ||
              (a = /^offline:segment\/([0-9]+)$/.exec(i))
            )
              return Number(a[1]);
            throw new A(2, 9, 9004, 'Could not parse uri ' + i);
          }
          function gi(i, a, o, p) {
            (this.a = new Ih(i)), (this.c = a), (this.b = o), (this.f = p);
          }
          function hi(i, a, o) {
            if (i.f)
              return Promise.reject(
                new A(1, 9, 9011, 'Cannot add new value to ' + a)
              );
            var p = (i = Lh(i.a, a)).store(),
              m = [];
            return (
              o.forEach(function (i) {
                p.add(i).onsuccess = function (i) {
                  m.push(i.target.result);
                };
              }),
              i.promise().then(function () {
                return m;
              })
            );
          }
          function ii(i, a, o, p) {
            var m = (i = Lh(i.a, a)).store();
            return (
              o.forEach(function (i) {
                m['delete'](i).onsuccess = function () {
                  return p(i);
                };
              }),
              i.promise()
            );
          }
          function ji(i, a, o) {
            var p = (i = Jh(i.a, a)).store(),
              m = {},
              _ = [];
            return (
              o.forEach(function (i) {
                var a = p.get(i);
                a.onsuccess = function () {
                  null == a.result && _.push(i), (m[i] = a.result);
                };
              }),
              i.promise().then(function () {
                return _.length
                  ? Promise.reject(
                      new A(1, 9, 9012, 'Could not find values for ' + _)
                    )
                  : o.map(function (i) {
                      return m[i];
                    });
              })
            );
          }
          function ki() {
            this.g = this.c = this.b = this.a = this.f = null;
          }
          ((o = Wh.prototype).destroy = function () {
            return this.a.destroy();
          }),
            (o.hasFixedKeySpace = function () {
              return !0;
            }),
            (o.addSegments = function () {
              return Xh('segment');
            }),
            (o.removeSegments = function (i, a) {
              return Yh(this, 'segment', i, a);
            }),
            (o.getSegments = function (i) {
              return Zh(this, 'segment', i).then(function (i) {
                return i.map($h);
              });
            }),
            (o.addManifests = function () {
              return Xh('manifest');
            }),
            (o.updateManifestExpiration = function (i, a) {
              var o = Lh(this.a, 'manifest'),
                p = o.store(),
                m = new z();
              return (
                (p.get(i).onsuccess = function (o) {
                  (o = o.target.result)
                    ? ((o.expiration = a), p.put(o), m.resolve())
                    : m.reject(
                        new A(2, 9, 9012, 'Could not find values for ' + i)
                      );
                }),
                o.promise().then(function () {
                  return m;
                })
              );
            }),
            (o.removeManifests = function (i, a) {
              return Yh(this, 'manifest', i, a);
            }),
            (o.getManifests = function (i) {
              return Zh(this, 'manifest', i).then(function (i) {
                return i.map(ai);
              });
            }),
            (o.getAllManifests = function () {
              var i = this;
              return t(function d() {
                var a, o, p;
                return v(d, function (m) {
                  switch (m.j) {
                    case 1:
                      return (
                        (a = ai),
                        (o = Jh(i.a, 'manifest')),
                        (p = new Map()),
                        u(
                          m,
                          Hh(o, function (i, o) {
                            p.set(i, a(o));
                          }),
                          2
                        )
                      );
                    case 2:
                      return u(m, o.promise(), 3);
                    case 3:
                      return m['return'](p);
                  }
                });
              });
            }),
            ((o = gi.prototype).destroy = function () {
              return this.a.destroy();
            }),
            (o.hasFixedKeySpace = function () {
              return this.f;
            }),
            (o.addSegments = function (i) {
              return hi(this, this.c, i);
            }),
            (o.removeSegments = function (i, a) {
              return ii(this, this.c, i, a);
            }),
            (o.getSegments = function (i) {
              return ji(this, this.c, i);
            }),
            (o.addManifests = function (i) {
              return hi(this, this.b, i);
            }),
            (o.updateManifestExpiration = function (i, a) {
              var o = Lh(this.a, this.b),
                p = o.store();
              return (
                (p.get(i).onsuccess = function (o) {
                  (o = o.target.result) && ((o.expiration = a), p.put(o, i));
                }),
                o.promise()
              );
            }),
            (o.removeManifests = function (i, a) {
              return ii(this, this.b, i, a);
            }),
            (o.getManifests = function (i) {
              return ji(this, this.b, i);
            }),
            (o.getAllManifests = function () {
              var i = this;
              return t(function d() {
                var a, o;
                return v(d, function (p) {
                  switch (p.j) {
                    case 1:
                      return (
                        (a = Jh(i.a, i.b)),
                        (o = new Map()),
                        u(
                          p,
                          Hh(a, function (i, a) {
                            o.set(i, a);
                          }),
                          2
                        )
                      );
                    case 2:
                      return u(p, a.promise(), 3);
                    case 3:
                      return p['return'](o);
                  }
                });
              });
            }),
            ((o = ki.prototype).init = function () {
              var a = this,
                o = Pt,
                p = new z(),
                m = i.indexedDB.open(o, 4);
              return (
                (m.onsuccess = function (i) {
                  (i = i.target.result), (a.f = i);
                  var o = i.objectStoreNames;
                  (o =
                    o.contains('manifest') && o.contains('segment')
                      ? new Wh(i)
                      : null),
                    (a.a = o),
                    (o =
                      (o = i.objectStoreNames).contains('manifest-v2') &&
                      o.contains('segment-v2')
                        ? new gi(i, 'segment-v2', 'manifest-v2', !0)
                        : null),
                    (a.b = o),
                    (o =
                      (o = i.objectStoreNames).contains('manifest-v3') &&
                      o.contains('segment-v3')
                        ? new gi(i, 'segment-v3', 'manifest-v3', !1)
                        : null),
                    (a.c = o),
                    (i = i.objectStoreNames.contains('session-ids')
                      ? new Mh(i)
                      : null),
                    (a.g = i),
                    p.resolve();
                }),
                (m.onupgradeneeded = function (i) {
                  i = i.target.result;
                  for (
                    var a = r(['segment-v3', 'manifest-v3', 'session-ids']),
                      o = a.next();
                    !o.done;
                    o = a.next()
                  )
                    (o = o.value),
                      i.objectStoreNames.contains(o) ||
                        i.createObjectStore(o, { autoIncrement: !0 });
                }),
                (m.onerror = function (i) {
                  p.reject(new A(2, 9, 9001, m.error)), i.preventDefault();
                }),
                p
              );
            }),
            (o.destroy = function () {
              var i = this;
              return t(function d() {
                return v(d, function (a) {
                  switch (a.j) {
                    case 1:
                      if (!i.a) {
                        a.A(2);
                        break;
                      }
                      return u(a, i.a.destroy(), 2);
                    case 2:
                      if (!i.b) {
                        a.A(4);
                        break;
                      }
                      return u(a, i.b.destroy(), 4);
                    case 4:
                      if (!i.c) {
                        a.A(6);
                        break;
                      }
                      return u(a, i.c.destroy(), 6);
                    case 6:
                      if (!i.g) {
                        a.A(8);
                        break;
                      }
                      return u(a, i.g.destroy(), 8);
                    case 8:
                      i.f && i.f.close(), (a.j = 0);
                  }
                });
              });
            }),
            (o.getCells = function () {
              var i = new Map();
              return (
                this.a && i.set('v1', this.a),
                this.b && i.set('v2', this.b),
                this.c && i.set('v3', this.c),
                i
              );
            }),
            (o.getEmeSessionCell = function () {
              return this.g;
            }),
            (o.erase = function () {
              var a = this;
              return t(function d() {
                return v(d, function (o) {
                  switch (o.j) {
                    case 1:
                      if (!a.a) {
                        o.A(2);
                        break;
                      }
                      return u(o, a.a.destroy(), 2);
                    case 2:
                      if (!a.b) {
                        o.A(4);
                        break;
                      }
                      return u(o, a.b.destroy(), 4);
                    case 4:
                      if (!a.c) {
                        o.A(6);
                        break;
                      }
                      return u(o, a.c.destroy(), 6);
                    case 6:
                      return (
                        a.f && a.f.close(),
                        u(
                          o,
                          (function mi() {
                            var a = Pt,
                              o = new z(),
                              p = i.indexedDB.deleteDatabase(a);
                            return (
                              (p.onblocked = function () {}),
                              (p.onsuccess = function () {
                                o.resolve();
                              }),
                              (p.onerror = function (i) {
                                o.reject(new A(2, 9, 9001, p.error)),
                                  i.preventDefault();
                              }),
                              o
                            );
                          })(),
                          8
                        )
                      );
                    case 8:
                      return (
                        (a.f = null),
                        (a.a = null),
                        (a.b = null),
                        (a.c = null),
                        u(o, a.init(), 0)
                      );
                  }
                });
              });
            });
          var Pt = 'veygo_offline_db';
          function ni(i, a, o, p) {
            (this.a = i),
              (this.g = a),
              (this.f = o),
              (this.c = p),
              (this.b = ['offline:', i, '/', a, '/', o, '/', p].join(''));
          }
          function oi(i) {
            if (
              null ==
              (i = /^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(i))
            )
              return null;
            var a = i[1];
            if ('manifest' != a && 'segment' != a) return null;
            var o = i[2];
            if (!o) return null;
            var p = i[3];
            return p && null != a ? new ni(a, o, p, Number(i[4])) : null;
          }
          function pi(i, a) {
            (this.b = i), (this.a = a);
          }
          function ri(i, a, o) {
            var p = a.streams.filter(function (i) {
                return 'audio' == i.contentType;
              }),
              m = a.streams.filter(function (i) {
                return 'video' == i.contentType;
              });
            return (
              (p = (function si(i, a, o) {
                for (
                  var p = new Set(), m = r(a), _ = m.next();
                  !_.done;
                  _ = m.next()
                ) {
                  var w = r(_.value.variantIds);
                  for (_ = w.next(); !_.done; _ = w.next()) p.add(_.value);
                }
                for (m = r(o), _ = m.next(); !_.done; _ = m.next())
                  for (
                    _ = (w = r(_.value.variantIds)).next();
                    !_.done;
                    _ = w.next()
                  )
                    p.add(_.value);
                for (
                  m = new Map(), p = r(p), _ = p.next();
                  !_.done;
                  _ = p.next()
                )
                  (_ = _.value),
                    m.set(_, {
                      id: _,
                      language: '',
                      primary: !1,
                      audio: null,
                      video: null,
                      bandwidth: 0,
                      drmInfos: [],
                      allowedByApplication: !0,
                      allowedByKeySystem: !0,
                    });
                for (a = r(a), p = a.next(); !p.done; p = a.next())
                  for (
                    _ = ti(i, (p = p.value)), p = (w = r(p.variantIds)).next();
                    !p.done;
                    p = w.next()
                  )
                    ((p = m.get(p.value)).language = _.language),
                      (p.primary = p.primary || _.primary),
                      (p.audio = _);
                for (o = r(o), a = o.next(); !a.done; a = o.next())
                  for (
                    a = ti(i, (p = a.value)), p = (_ = r(p.variantIds)).next();
                    !p.done;
                    p = _.next()
                  )
                    ((p = m.get(p.value)).primary = p.primary || a.primary),
                      (p.video = a);
                return m;
              })(i, p, m)),
              (m = a.streams
                .filter(function (i) {
                  return 'text' == i.contentType;
                })
                .map(function (a) {
                  return ti(i, a);
                })),
              a.streams.forEach(function (p) {
                (p = p.segments.map(function (a, o) {
                  return ui(i, o, a);
                })),
                  o.Ya(p, a.startTime);
              }),
              {
                startTime: a.startTime,
                variants: Array.from(p.values()),
                textStreams: m,
              }
            );
          }
          function ti(i, a) {
            var o = a.segments.map(function (a, o) {
                return ui(i, o, a);
              }),
              p = new R(o);
            return (
              (o = {
                id: a.id,
                originalId: a.originalId,
                createSegmentIndex: function createSegmentIndex() {
                  return Promise.resolve();
                },
                findSegmentPosition: function findSegmentPosition(i) {
                  return p.find(i);
                },
                getSegmentReference: function getSegmentReference(i) {
                  return p.get(i);
                },
                initSegmentReference: null,
                presentationTimeOffset: a.presentationTimeOffset,
                mimeType: a.mimeType,
                codecs: a.codecs,
                width: a.width || void 0,
                height: a.height || void 0,
                frameRate: a.frameRate || void 0,
                kind: a.kind,
                encrypted: a.encrypted,
                keyId: a.keyId,
                language: a.language,
                label: a.label || null,
                type: a.contentType,
                primary: a.primary,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: [],
                channelsCount: null,
                closedCaptions: null,
              }),
              null != a.initSegmentKey &&
                (o.initSegmentReference = (function vi(i, a) {
                  var o = new ni('segment', i.b, i.a, a);
                  return new Rd(
                    function () {
                      return [o.toString()];
                    },
                    0,
                    null
                  );
                })(i, a.initSegmentKey)),
              o
            );
          }
          function ui(i, a, o) {
            var p = new ni('segment', i.b, i.a, o.dataKey);
            return new N(
              a,
              o.startTime,
              o.endTime,
              function () {
                return [p.toString()];
              },
              0,
              null
            );
          }
          function wi(i) {
            (this.a = !1), (this.b = new z()), (this.c = i);
          }
          function xi(i, a) {
            return t(function e() {
              return v(e, function (o) {
                switch (o.j) {
                  case 1:
                    return ra(o, 2), u(o, Promise.resolve(a()), 4);
                  case 4:
                    return o['return'](o.u);
                  case 2:
                    return (
                      ua(o),
                      u(
                        o,
                        Promise.all(
                          i.map(function (i) {
                            return i.destroy();
                          })
                        ),
                        5
                      )
                    );
                  case 5:
                    va(o, 0);
                }
              });
            });
          }
          function yi() {
            this.a = null;
          }
          function zi(i) {
            var a = oi(i);
            return a && 'manifest' == a.a
              ? zi.a(i)
              : a && 'segment' == a.a
              ? zi.b(a.key(), a)
              : hb(new A(2, 1, 9004, i));
          }
          function Ai(i, a, o) {
            return t(function f() {
              var p, m, _, w, x, I;
              return v(f, function (D) {
                switch (D.j) {
                  case 1:
                    p = [];
                    for (
                      var j = [], K = r(o), q = K.next();
                      !q.done;
                      q = K.next()
                    ) {
                      q = q.value;
                      for (
                        var $ = !1, Z = r(j), be = Z.next();
                        !be.done;
                        be = Z.next()
                      )
                        if (Bi((be = be.value).info, q)) {
                          be.sessionIds.push(q.sessionId), ($ = !0);
                          break;
                        }
                      $ || j.push({ info: q, sessionIds: [q.sessionId] });
                    }
                    (m = r(j)), (_ = m.next());
                  case 2:
                    if (_.done) {
                      D.A(4);
                      break;
                    }
                    return (
                      (w = _.value),
                      (x = (function Ci(i, a, o) {
                        return t(function f() {
                          var p, m;
                          return v(f, function (_) {
                            switch (_.j) {
                              case 1:
                                return (
                                  (p = new cc({
                                    Xa: a,
                                    onError: function onError() {},
                                    ic: function ic() {},
                                    onExpirationUpdated:
                                      function onExpirationUpdated() {},
                                    onEvent: function onEvent() {},
                                  })),
                                  qa(_, 2),
                                  p.configure(i),
                                  u(
                                    _,
                                    (function kc(i, a, o, p, m, _) {
                                      var w = new Map();
                                      return (
                                        w.set(a, {
                                          audioCapabilities: m,
                                          videoCapabilities: _,
                                          distinctiveIdentifier: 'optional',
                                          persistentState: 'required',
                                          sessionTypes: ['persistent-license'],
                                          label: a,
                                          drmInfos: [
                                            {
                                              keySystem: a,
                                              licenseServerUri: o,
                                              distinctiveIdentifierRequired: !1,
                                              persistentStateRequired: !0,
                                              audioRobustness: '',
                                              videoRobustness: '',
                                              serverCertificate: p,
                                              initData: null,
                                              keyIds: null,
                                            },
                                          ],
                                        }),
                                        lc(i, w)
                                      );
                                    })(
                                      p,
                                      o.info.keySystem,
                                      o.info.licenseUri,
                                      o.info.serverCertificate,
                                      o.info.audioCapabilities,
                                      o.info.videoCapabilities
                                    ),
                                    4
                                  )
                                );
                              case 4:
                                sa(_, 3);
                                break;
                              case 2:
                                return ta(_), u(_, p.destroy(), 5);
                              case 5:
                                return _['return']([]);
                              case 3:
                                return qa(_, 6), u(_, rc(p), 8);
                              case 8:
                                sa(_, 7);
                                break;
                              case 6:
                                return ta(_), u(_, p.destroy(), 9);
                              case 9:
                                return _['return']([]);
                              case 7:
                                return (
                                  (m = []),
                                  u(
                                    _,
                                    Promise.all(
                                      o.sessionIds.map(function (i) {
                                        return t(function n() {
                                          return v(n, function (a) {
                                            switch (a.j) {
                                              case 1:
                                                return (
                                                  qa(a, 2),
                                                  u(
                                                    a,
                                                    (function uc(i, a) {
                                                      return t(function e() {
                                                        var o, p, m;
                                                        return v(
                                                          e,
                                                          function (_) {
                                                            switch (_.j) {
                                                              case 1:
                                                                return u(
                                                                  _,
                                                                  vc(i, a),
                                                                  2
                                                                );
                                                              case 2:
                                                                return (o = _.u)
                                                                  ? ((p = []),
                                                                    (m =
                                                                      i.b.get(
                                                                        o
                                                                      )) &&
                                                                      ((m.ma =
                                                                        new z()),
                                                                      p.push(
                                                                        m.ma
                                                                      )),
                                                                    p.push(
                                                                      o.remove()
                                                                    ),
                                                                    u(
                                                                      _,
                                                                      Promise.all(
                                                                        p
                                                                      ),
                                                                      0
                                                                    ))
                                                                  : _[
                                                                      'return'
                                                                    ]();
                                                            }
                                                          }
                                                        );
                                                      });
                                                    })(p, i),
                                                    4
                                                  )
                                                );
                                              case 4:
                                                m.push(i), sa(a, 0);
                                                break;
                                              case 2:
                                                ta(a), (a.j = 0);
                                            }
                                          });
                                        });
                                      })
                                    ),
                                    10
                                  )
                                );
                              case 10:
                                return u(_, p.destroy(), 11);
                              case 11:
                                return _['return'](m);
                            }
                          });
                        });
                      })(i, a, w)),
                      u(D, x, 5)
                    );
                  case 5:
                    (I = D.u), (p = p.concat(I)), (_ = m.next()), D.A(2);
                    break;
                  case 4:
                    return D['return'](p);
                }
              });
            });
          }
          function Bi(i, a) {
            function d(i, a) {
              return (
                i.robustness == a.robustness && i.contentType == a.contentType
              );
            }
            return (
              i.keySystem == a.keySystem &&
              i.licenseUri == a.licenseUri &&
              vb(i.audioCapabilities, a.audioCapabilities, d) &&
              vb(i.videoCapabilities, a.videoCapabilities, d)
            );
          }
          function Di(i, a, o, p, _) {
            var w,
              x = _ in p,
              I = !0;
            for (w in a) {
              var D = _ + '.' + w,
                j = x ? p[_] : o[w];
              x || w in o
                ? void 0 === a[w]
                  ? void 0 === j || x
                    ? delete i[w]
                    : (i[w] = rb(j))
                  : j.constructor == Object &&
                    a[w] &&
                    a[w].constructor == Object
                  ? (i[w] || (i[w] = rb(j)),
                    (D = Di(i[w], a[w], j, p, D)),
                    (I = I && D))
                  : (0, m['default'])(a[w]) != (0, m['default'])(j) ||
                    null == a[w] ||
                    a[w].constructor != j.constructor
                  ? (I = !1)
                  : (i[w] = a[w])
                : (I = !1);
            }
            return I;
          }
          function Ei() {
            var i = {
                trackSelectionCallback: function trackSelectionCallback(i) {
                  return i;
                },
                progressCallback: function progressCallback() {},
                usePersistentLicense: !0,
              },
              a = {
                drm: {
                  retryParameters: {
                    maxAttempts: 3,
                    baseDelay: 1e3,
                    backoffFactor: 2,
                    fuzzFactor: 0.5,
                    timeout: 1e4,
                  },
                  servers: {},
                  clearKeys: {},
                  advanced: {},
                  delayLicenseRequestUntilPlayed: !1,
                  licenseRequestExtraHeaders: {},
                  hbola: { operatorID: '', countryID: '', tokenID: '' },
                },
                manifest: {
                  retryParameters: {
                    maxAttempts: 3,
                    baseDelay: 1e3,
                    backoffFactor: 2,
                    fuzzFactor: 0.5,
                    timeout: 1e4,
                  },
                  availabilityWindowOverride: NaN,
                  dash: {
                    customScheme: function customScheme(i) {
                      if (i) return null;
                    },
                    clockSyncUri: '',
                    ignoreDrmInfo: !1,
                    xlinkFailGracefully: !1,
                    defaultPresentationDelay: 10,
                    ignoreMinBufferTime: !1,
                    autoCorrectDrift: !0,
                  },
                },
                streaming: {
                  retryParameters: {
                    maxAttempts: 3,
                    baseDelay: 1e3,
                    backoffFactor: 2,
                    fuzzFactor: 0.5,
                    timeout: 1e4,
                  },
                  failureCallback: function failureCallback() {},
                  rebufferingGoal: 2,
                  bufferingGoal: 10,
                  bufferBehind: 30,
                  ignoreTextStreamFailures: !1,
                  alwaysStreamText: !1,
                  startAtSegmentBoundary: !1,
                  smallGapLimit: 0.5,
                  jumpLargeGaps: !1,
                  durationBackoff: 1,
                  forceTransmuxTS: !1,
                  safeSeekOffset: 5,
                },
                offline: i,
                abrFactory: L,
                abr: {
                  enabled: !0,
                  defaultBandwidthEstimate: 5e5,
                  switchInterval: 8,
                  bandwidthUpgradeTarget: 0.85,
                  bandwidthDowngradeTarget: 0.95,
                  keepAudioQualityConstant: !1,
                  keepAudioQualityConstantBitrate: 0,
                  restrictions: {
                    minWidth: 0,
                    maxWidth: Infinity,
                    minHeight: 0,
                    maxHeight: Infinity,
                    minPixels: 0,
                    maxPixels: Infinity,
                    minBandwidth: 0,
                    maxBandwidth: Infinity,
                  },
                },
                preferredAudioLanguage: '',
                preferredTextLanguage: '',
                preferredVariantRole: '',
                preferredTextRole: '',
                preferredAudioChannelCount: 2,
                restrictions: {
                  minWidth: 0,
                  maxWidth: Infinity,
                  minHeight: 0,
                  maxHeight: Infinity,
                  minPixels: 0,
                  maxPixels: Infinity,
                  minBandwidth: 0,
                  maxBandwidth: Infinity,
                },
                playRangeStart: 0,
                playRangeEnd: Infinity,
                textDisplayFactory: function textDisplayFactory() {
                  return null;
                },
                closedCaptionParserFactory:
                  function closedCaptionParserFactory() {
                    return null;
                  },
              };
            return (
              (i.trackSelectionCallback = function (i) {
                return (function Fi(i, a) {
                  var o = i.filter(function (i) {
                      return 'variant' == i.type;
                    }),
                    p = [],
                    m = Ad(
                      a,
                      o.map(function (i) {
                        return i.language;
                      })
                    );
                  m &&
                    (p = o.filter(function (i) {
                      return J(i.language) == m;
                    })),
                    0 == p.length &&
                      (p = o.filter(function (i) {
                        return i.primary;
                      })),
                    0 == p.length &&
                      (o.map(function (i) {
                        return i.language;
                      }),
                      (p = o));
                  var _ = p.filter(function (i) {
                    return i.height && 480 >= i.height;
                  });
                  if (
                    (_.length &&
                      (_.sort(function (i, a) {
                        return a.height - i.height;
                      }),
                      (p = _.filter(function (i) {
                        return i.height == _[0].height;
                      }))),
                    (o = []),
                    p.length)
                  ) {
                    var w = Math.floor(p.length / 2);
                    p.sort(function (i, a) {
                      return i.bandwidth - a.bandwidth;
                    }),
                      o.push(p[w]);
                  }
                  for (p = r(i), w = p.next(); !w.done; w = p.next())
                    'text' == (w = w.value).type && o.push(w);
                  return o;
                })(i, a.preferredAudioLanguage);
              }),
              a
            );
          }
          function Gi(i, a, o) {
            return Di(
              i,
              a,
              o || Ei(),
              {
                '.drm.servers': '',
                '.drm.clearKeys': '',
                '.drm.advanced': {
                  distinctiveIdentifierRequired: !1,
                  persistentStateRequired: !1,
                  authMethod: '',
                  videoRobustness: '',
                  audioRobustness: '',
                  serverCertificate: new Uint8Array(0),
                  individualizationServer: '',
                },
                '.drm.licenseRequestExtraHeaders': '',
              },
              ''
            );
          }
          function Hi(i) {
            (this.c = i), (this.a = null), (this.b = []);
          }
          function Ii(i) {
            function c(i) {
              return {
                timestamp: i.timestamp,
                state: i.state,
                duration: i.duration,
              };
            }
            for (var a = [], o = r(i.b), p = o.next(); !p.done; p = o.next())
              a.push(c(p.value));
            return i.a && a.push(c(i.a)), a;
          }
          function Ji(i, a) {
            return a
              ? 'buffering'
              : i.c.ended
              ? 'ended'
              : i.c.paused
              ? 'paused'
              : 'playing';
          }
          function Ki() {
            (this.b = this.c = null), (this.a = []);
          }
          function Li(i, a, o) {
            i.b != a &&
              ((i.b = a),
              i.a.push({
                timestamp: Date.now() / 1e3,
                id: a.id,
                type: 'text',
                fromAdaptation: o,
                bandwidth: null,
              }));
          }
          function Mi(i) {
            (this.l = this.F = this.C = NaN),
              (this.b = this.h = 0),
              (this.i = this.w = this.f = this.g = this.o = this.s = NaN),
              (this.c = null),
              (this.m = new Hi(i)),
              (this.a = new Ki());
          }
          function Ni(i, a) {
            var o = Date.now() / 1e3,
              p = null == i.c ? 0 : o - i.c;
            a ? (i.b += p) : (i.h += p), (i.c = o);
          }
          function W(a, o) {
            var p = this;
            qb.call(this),
              (this.f = null),
              (this.V = !1),
              (this.o = new Eb()),
              (this.Qb =
                this.i =
                this.cb =
                this.c =
                this.m =
                this.a =
                this.R =
                this.oa =
                this.h =
                this.s =
                this.g =
                this.C =
                  null),
              (this.Cc = 1e9),
              (this.wb = new Set()),
              (this.eb = !1),
              (this.Qa = !0),
              (this.L = this.yb = this.na = null),
              (this.zc = !1),
              (this.yc = 0),
              (this.F = null),
              (this.w = new eg()),
              (this.b = Oi(this)),
              (this.xb = { width: Infinity, height: Infinity }),
              (this.l = null),
              (this.vb = new mg(
                this.b.preferredAudioLanguage,
                this.b.preferredVariantRole,
                this.b.preferredAudioChannelCount
              )),
              (this.P = this.b.preferredTextLanguage),
              (this.$ = this.b.preferredTextRole),
              o && o(this),
              (this.C = (function Pi(i) {
                return new E(function (a, o) {
                  i.i && i.i.segmentDownloaded(a, o);
                });
              })(this)),
              a && this.zb(a, !0),
              (this.fb = new wi(function () {
                p.o && (p.o.O(), (p.o = null));
                var i = [];
                return (
                  p.C && (i.push(p.C.destroy()), (p.C = null)),
                  (p.V = !1),
                  (p.o = null),
                  (p.i = null),
                  (p.Qb = null),
                  (p.b = null),
                  Promise.all(i)
                );
              })),
              F(this.o, i, 'online', function () {
                p.nc();
              });
          }
          Uh('idb', function () {
            return i.indexedDB ? new ki() : null;
          }),
            (ni.prototype.ja = function () {
              return this.g;
            }),
            (ni.prototype.W = function () {
              return this.f;
            }),
            (ni.prototype.key = function () {
              return this.c;
            }),
            (ni.prototype.toString = function () {
              return this.b;
            }),
            (wi.prototype.destroy = function () {
              var i = this;
              return this.a
                ? this.b
                : ((this.a = !0),
                  this.c().then(
                    function () {
                      i.b.resolve();
                    },
                    function () {
                      i.b.resolve();
                    }
                  ));
            }),
            ((o = yi.prototype).configure = function () {}),
            (o.start = function (i) {
              var a = oi(i);
              if (((this.a = a), null == a || 'manifest' != a.a))
                return Promise.reject(new A(2, 1, 9004, a));
              var o = new Nh();
              return xi([o], function () {
                return t(function f() {
                  var i, p, m;
                  return v(f, function (_) {
                    switch (_.j) {
                      case 1:
                        return u(_, o.init(), 2);
                      case 2:
                        return u(_, Rh(o, a.ja(), a.W()), 3);
                      case 3:
                        return u(_, _.u.getManifests([a.key()]), 4);
                      case 4:
                        return (
                          (i = _.u),
                          (p = i[0]),
                          (m = new pi(a.ja(), a.W())),
                          _['return'](
                            (function qi(i, a) {
                              var o = new S(null, 0);
                              o.la(a.duration);
                              var p = a.periods.map(function (a) {
                                  return ri(i, a, o);
                                }),
                                m = a.drmInfo ? [a.drmInfo] : [];
                              return (
                                a.drmInfo &&
                                  p.forEach(function (i) {
                                    i.variants.forEach(function (i) {
                                      i.drmInfos = m;
                                    });
                                  }),
                                {
                                  presentationTimeline: o,
                                  minBufferTime: 2,
                                  offlineSessionIds: a.sessionIds,
                                  periods: p,
                                }
                              );
                            })(m, p)
                          )
                        );
                    }
                  });
                });
              });
            }),
            (o.stop = function () {
              return Promise.resolve();
            }),
            (o.update = function () {}),
            (o.onExpirationUpdated = function (i, a) {
              var o = this.a,
                p = new Nh();
              return xi([p], function () {
                return t(function g() {
                  var m, _, w, x, I;
                  return v(g, function (D) {
                    switch (D.j) {
                      case 1:
                        return u(D, p.init(), 2);
                      case 2:
                        return u(D, Rh(p, o.ja(), o.W()), 3);
                      case 3:
                        return u(D, (m = D.u).getManifests([o.key()]), 4);
                      case 4:
                        if (
                          ((_ = D.u),
                          (w = _[0]),
                          (x = w.sessionIds.includes(i)),
                          (I = null == w.expiration || w.expiration > a),
                          x && I)
                        )
                          return u(
                            D,
                            m.updateManifestExpiration(o.key(), a),
                            0
                          );
                        D.A(0);
                    }
                  });
                });
              })['catch'](function () {});
            }),
            (ft['application/x-offline-manifest'] = yi),
            y('veygo.offline.OfflineScheme', zi),
            (zi.a = function (i) {
              return jb(
                (i = {
                  uri: i,
                  data: new ArrayBuffer(0),
                  headers: { 'content-type': 'application/x-offline-manifest' },
                })
              );
            }),
            (zi.b = function (i, a) {
              var o = new Nh();
              return kb(
                xi([o], function () {
                  return t(function g() {
                    var i, p;
                    return v(g, function (m) {
                      switch (m.j) {
                        case 1:
                          return u(m, o.init(), 2);
                        case 2:
                          return u(m, Rh(o, a.ja(), a.W()), 3);
                        case 3:
                          return u(m, m.u.getSegments([a.key()]), 4);
                        case 4:
                          return (
                            (i = m.u),
                            (p = i[0]),
                            m['return']({ uri: a, data: p.data, headers: {} })
                          );
                      }
                    });
                  });
                })
              );
            }),
            zb('offline', zi),
            y('veygo.util.ConfigUtils.mergeConfigObjects', Di),
            Ga(W, qb),
            y('veygo.Player', W),
            (W.prototype.destroy = function () {
              var i = this;
              return t(function d() {
                return v(d, function (a) {
                  switch (a.j) {
                    case 1:
                      return u(a, i.detach(), 2);
                    case 2:
                      return u(a, i.fb.destroy(), 0);
                  }
                });
              });
            }),
            (W.prototype.destroy = W.prototype.destroy),
            (W.version = 'development');
          var Rt = ['evelopment'];
          pt = new (function (i) {
            (this.a = i), (this.c = Te), (this.b = Ue);
          })(new Qe(Number(Rt[0]), Number(Rt[1])));
          var Ct = ['output-restricted', 'internal-error'],
            It = {};
          function Ui(a) {
            var o = a.b.closedCaptionParserFactory;
            o = i.muxjs ? new Oc(o) : new Pc();
            var p = new a.b.textDisplayFactory();
            return p.setTextVisibility(a.V), new jd(a.f, o, p);
          }
          function nj(i) {
            if (
              (i.m && i.m.configure(i.b.manifest),
              i.g && i.g.configure(i.b.drm),
              i.a)
            ) {
              i.a.configure(i.b.streaming);
              try {
                i.c.periods.forEach(i.Vb.bind(i));
              } catch (m) {
                i.La(m);
              }
              var a = Xg(i.a),
                o = Zg(i.a),
                p = ij(i);
              (a = ot.Sc(a, o, p.variants)),
                i.i && a && a.allowedByApplication && a.allowedByKeySystem
                  ? jj(i, p.variants)
                  : oj(i, p);
            }
            i.i &&
              (i.i.configure(i.b.abr),
              i.b.abr.enabled && !i.Qa ? i.i.enable() : i.i.disable());
          }
          function cj(i, a, o, p) {
            (fg(i.w, a).variant = o),
              (i = i.l.a).c != o &&
                ((i.c = o),
                i.a.push({
                  timestamp: Date.now() / 1e3,
                  id: o.id,
                  type: 'variant',
                  fromAdaptation: p,
                  bandwidth: o.bandwidth,
                }));
          }
          function Oi(i) {
            var a = Ei();
            return (
              (a.streaming.failureCallback = function (a) {
                i.ba() &&
                  [1001, 1002, 1003].includes(a.code) &&
                  ((a.severity = 1), i.nc());
              }),
              (a.textDisplayFactory = function () {
                return new X(i.f);
              }),
              a
            );
          }
          function uj(i, a, o, p) {
            (o = void 0 !== o && o),
              (p = void 0 === p ? 0 : p),
              i.Qa
                ? ((i.L = a), (i.zc = o), (i.yc = p))
                : (eh(i.a, a, o, p), Bj(i, new C('variantchanged')));
          }
          function tj(i, a) {
            i.Qa ? (i.F = a) : (dh(i.a, a, !0, 0), Bj(i, new C('textchanged')));
          }
          function kj(i, a) {
            if ((i.l && Ni(i.l, i.eb), (i.eb = a), Zi(i), i.h)) {
              var o = i.h.b;
              a != o.g && ((o.g = a), Gg(o, o.f));
            }
            Bj(i, new C('buffering', { buffering: a }));
          }
          function Zi(i) {
            if (i.l) {
              var a = i.l.m,
                o = i.eb;
              null == a.a
                ? (a.a = {
                    timestamp: Date.now() / 1e3,
                    state: Ji(a, o),
                    duration: 0,
                  })
                : ((i = Date.now() / 1e3),
                  (o = Ji(a, o)),
                  (a.a.duration = i - a.a.timestamp),
                  a.a.state != o &&
                    (a.b.push(a.a),
                    (a.a = { timestamp: i, state: o, duration: 0 })));
            }
          }
          function jj(i, a) {
            try {
              Aj(i, a);
            } catch (p) {
              return i.La(p), null;
            }
            var o = a.filter(function (i) {
              return ot.Ua(i);
            });
            return (
              (o = i.vb.create(o)),
              i.i.setVariants(Array.from(o.values())),
              i.i.chooseVariant()
            );
          }
          function oj(i, a) {
            var o = jj(i, a.variants);
            o && (cj(i, a, o, !0), uj(i, o, !0)),
              (o = ot.Db(a.textStreams, i.P, i.$)[0] || null) &&
                ((fg(i.w, a).text = o),
                Li(i.l.a, o, !0),
                (i.b.streaming.alwaysStreamText || i.V) && tj(i, o)),
              dj(i);
          }
          function dj(i) {
            Bj(i, new C('adaptation'));
          }
          function mj(i) {
            Bj(i, new C('trackschanged'));
          }
          function xj(i) {
            i.dispatchEvent(new C('texttrackvisibility'));
          }
          function Xi(i, a, o) {
            i.ub(
              new C(a, {
                detail: {
                  schemeIdUri: o.schemeIdUri,
                  value: o.value,
                  startTime: o.startTime,
                  endTime: o.endTime,
                  id: o.id,
                  eventElement: o.eventElement,
                },
              })
            );
          }
          function Aj(i, a) {
            var o = i.g ? Mb(i.g.V) : {},
              p = Object.keys(o);
            p = p.length && '00' == p[0];
            for (
              var m = !1, _ = !1, w = [], x = [], I = r(a), D = I.next();
              !D.done;
              D = I.next()
            ) {
              var j = [];
              (D = D.value).audio && j.push(D.audio),
                D.video && j.push(D.video);
              for (var K = (j = r(j)).next(); !K.done; K = j.next())
                if ((K = K.value).keyId) {
                  var q = o[p ? '00' : K.keyId];
                  q
                    ? Ct.includes(q) && (x.includes(q) || x.push(q))
                    : w.includes(K.keyId) || w.push(K.keyId);
                }
              D.allowedByApplication
                ? D.allowedByKeySystem && (m = !0)
                : (_ = !0);
            }
            if (!m)
              throw new A(2, 4, 4012, {
                hasAppRestrictions: _,
                missingKeys: w,
                restrictedKeyStatuses: x,
              });
          }
          function Bj(i, a) {
            t(function e() {
              return v(e, function (o) {
                switch (o.j) {
                  case 1:
                    return u(o, Promise.resolve(), 2);
                  case 2:
                    i.fb.a || i.dispatchEvent(a), (o.j = 0);
                }
              });
            });
          }
          function wj(i) {
            for (
              var a = new Set(), o = (i = r(i)).next();
              !o.done;
              o = i.next()
            )
              (o = o.value) && o.language ? a.add(J(o.language)) : a.add('und');
            return a;
          }
          function vj(i) {
            for (
              var a = new Map(), o = [''], p = (i = r(i)).next();
              !p.done;
              p = i.next()
            ) {
              var m = p.value;
              p = 'und';
              var _ = o;
              for (
                m && m.language && (p = J(m.language)),
                  m && m.roles.length && (_ = m.roles),
                  a.has(p) || a.set(p, new Set()),
                  _ = (m = r(_)).next();
                !_.done;
                _ = m.next()
              )
                (_ = _.value), a.get(p).add(_);
            }
            var w = [];
            return (
              a.forEach(function (i, a) {
                for (var o = r(i), p = o.next(); !p.done; p = o.next())
                  w.push({ language: a, role: p.value });
              }),
              w
            );
          }
          function rj(i) {
            return null == (i = ij(i))
              ? []
              : i.variants.filter(function (i) {
                  return ot.Ua(i);
                });
          }
          function sj(i) {
            var a = ij(i);
            return null == a
              ? []
              : a.textStreams.filter(function (a) {
                  return !i.wb.has(a);
                });
          }
          function ij(i) {
            if (null == i.c || null == i.h) return null;
            for (
              var a = Kg(i.h), o = null, p = (i = r(i.c.periods)).next();
              !p.done;
              p = i.next()
            )
              (p = p.value).startTime <= a && (o = p);
            return o;
          }
          function qj(i) {
            var a = ij(i);
            return a ? fg(i.w, a).variant : null;
          }
          function Ej(i, a) {
            var o = ri(new pi(i.ja(), i.W()), a.periods[0], new S(null, 0)),
              p = a.appMetadata || {};
            return (
              (o = Dj(o)),
              {
                offlineUri: i.toString(),
                originalManifestUri: a.originalManifestUri,
                duration: a.duration,
                size: a.size,
                expiration: a.expiration,
                tracks: o,
                appMetadata: p,
              }
            );
          }
          function Dj(i) {
            for (
              var a = [], o = ot.Ud(i.variants), p = (o = r(o)).next();
              !p.done;
              p = o.next()
            )
              a.push(ot.vc(p.value));
            for (o = (i = r(i.textStreams)).next(); !o.done; o = i.next())
              a.push(ot.qc(o.value));
            return a;
          }
          function Fj() {
            this.a = {};
          }
          function Hj(i, a) {
            var o = i.a[a];
            return null == o && (o = 0), o;
          }
          function Lj(i) {
            var a = new Mj();
            i.periods.forEach(function (i, o) {
              var p = Nj(i.variants);
              if (0 == o)
                for (var m = (p = r(p.a)).next(); !m.done; m = p.next())
                  a.add(m.value);
              else
                !(function Oj(i, a) {
                  i.a = i.a.filter(function (i) {
                    return Pj(a, i);
                  });
                })(a, p);
            });
            for (var o = (i = r(i.periods)).next(); !o.done; o = i.next())
              (o = o.value).variants = o.variants.filter(function (i) {
                return Pj(a, new Qj(i));
              });
          }
          function Qj(i) {
            var a = i.audio;
            (i = i.video),
              (this.b = a ? a.mimeType : null),
              (this.a = a ? a.codecs.split('.')[0] : null),
              (this.f = i ? i.mimeType : null),
              (this.c = i ? i.codecs.split('.')[0] : null);
          }
          function Mj() {
            this.a = [];
          }
          function Pj(i, a) {
            return i.a.some(function (i) {
              return a.b == i.b && a.a == i.a && a.f == i.f && a.c == i.c;
            });
          }
          function Nj(i) {
            for (var a = new Mj(), o = (i = r(i)).next(); !o.done; o = i.next())
              a.add(new Qj(o.value));
            return a;
          }
          function Y(i) {
            var a = this;
            if (i && i.constructor != W) throw new A(2, 9, 9008);
            (this.b = this.a = null),
              i
                ? ((this.a = i.b), (this.b = i.Ib()))
                : ((this.a = Ei()), (this.b = new E())),
              (this.g = !1),
              (this.c = []),
              (this.f = []);
            var o = !i;
            this.h = new wi(function () {
              return t(function f() {
                var i;
                return v(f, function (p) {
                  switch (p.j) {
                    case 1:
                      return (
                        (i = function b() {}),
                        u(
                          p,
                          Promise.all(
                            a.f.map(function (a) {
                              return a.then(i, i);
                            })
                          ),
                          2
                        )
                      );
                    case 2:
                      if (!o) {
                        p.A(3);
                        break;
                      }
                      return u(p, a.b.destroy(), 3);
                    case 3:
                      (a.a = null), (a.b = null), (p.j = 0);
                  }
                });
              });
            });
          }
          function Sj() {
            return Vh();
          }
          function gk(i, a) {
            for (
              var o = [], p = r(i.periods), m = p.next();
              !m.done;
              m = p.next()
            )
              for (
                var _ = (m = r(m.value.streams)).next();
                !_.done;
                _ = m.next()
              )
                (_ = _.value),
                  a && 'video' == _.contentType
                    ? o.push({
                        contentType: Nb(_.mimeType, _.codecs),
                        robustness: i.drmInfo.videoRobustness,
                      })
                    : a ||
                      'audio' != _.contentType ||
                      o.push({
                        contentType: Nb(_.mimeType, _.codecs),
                        robustness: i.drmInfo.audioRobustness,
                      });
            return o;
          }
          function ek(i, a, o) {
            return t(function f() {
              return v(f, function (p) {
                switch (p.j) {
                  case 1:
                    return u(
                      p,
                      (function hk(i, a, o, p) {
                        return t(function g() {
                          var m, _, w;
                          return v(g, function (x) {
                            switch (x.j) {
                              case 1:
                                return p.drmInfo
                                  ? ((m = (function Th(i) {
                                      var a = Array.from(i.a.keys());
                                      if (!a.length)
                                        throw new A(
                                          2,
                                          9,
                                          9e3,
                                          'No supported storage mechanisms found'
                                        );
                                      return i.a.get(a[0]).getEmeSessionCell();
                                    })(o)),
                                    (_ = p.sessionIds.map(function (i) {
                                      return {
                                        sessionId: i,
                                        keySystem: p.drmInfo.keySystem,
                                        licenseUri: p.drmInfo.licenseServerUri,
                                        serverCertificate:
                                          p.drmInfo.serverCertificate,
                                        audioCapabilities: gk(p, !1),
                                        videoCapabilities: gk(p, !0),
                                      };
                                    })),
                                    u(x, Ai(a, i, _), 2))
                                  : x['return']();
                              case 2:
                                return (w = x.u), u(x, m.remove(w), 3);
                              case 3:
                                return u(
                                  x,
                                  m.add(
                                    _.filter(function (i) {
                                      return -1 == w.indexOf(i.sessionId);
                                    })
                                  ),
                                  0
                                );
                            }
                          });
                        });
                      })(i.b, i.a.drm, o, a),
                      0
                    );
                }
              });
            });
          }
          function fk(i, a, o, p) {
            function f() {
              (w += 1), i.a.offline.progressCallback(x, w / _, 0, 0);
            }
            var m = (function ik(i) {
                var a = [];
                return (
                  i.periods.forEach(function (i) {
                    i.streams.forEach(function (i) {
                      null != i.initSegmentKey && a.push(i.initSegmentKey),
                        i.segments.forEach(function (i) {
                          a.push(i.dataKey);
                        });
                    });
                  }),
                  a
                );
              })(p),
              _ = m.length + 1,
              w = 0,
              x = Ej(o, p);
            return Promise.all([
              a.removeSegments(m, f),
              a.removeManifests([o.key()], f),
            ]);
          }
          function nk(i, a, o, p, m, _) {
            var w = {
                id: _.id,
                originalId: _.originalId,
                primary: _.primary,
                presentationTimeOffset: _.presentationTimeOffset || 0,
                contentType: _.type,
                mimeType: _.mimeType,
                codecs: _.codecs,
                frameRate: _.frameRate,
                kind: _.kind,
                language: _.language,
                label: _.label,
                width: _.width || null,
                height: _.height || null,
                initSegmentKey: null,
                encrypted: _.encrypted,
                keyId: _.keyId,
                segments: [],
                variantIds: [],
              },
              x = _.id;
            return (
              (function ok(i, a, o) {
                for (
                  var p =
                    null == (a = i.findSegmentPosition(a))
                      ? null
                      : i.getSegmentReference(a);
                  p;

                )
                  o(p), (p = i.getSegmentReference(++a));
              })(_, m.presentationTimeline.jb(), function (m) {
                Dh(
                  a,
                  x,
                  pk(i, m),
                  (function Gj(i, a, o) {
                    return (o = o.endTime - o.startTime), Hj(i, a) * o;
                  })(p, _.id, m),
                  function (p, x) {
                    return (
                      'video' === _.type &&
                        i.a.offline.progressCallback(
                          a.i,
                          x,
                          m.startTime,
                          m.endTime
                        ),
                      o.addSegments([{ data: p }]).then(function (a) {
                        i.c.push(a[0]),
                          w.segments.push({
                            startTime: m.startTime,
                            endTime: m.endTime,
                            dataKey: a[0],
                          });
                      })
                    );
                  }
                );
              }),
              (m = _.initSegmentReference) &&
                Dh(a, x, pk(i, m), 0.5 * Hj(p, _.id), function (a) {
                  return o.addSegments([{ data: a }]).then(function (a) {
                    i.c.push(a[0]), (w.initSegmentKey = a[0]);
                  });
                }),
              w
            );
          }
          function Xj(i) {
            if (i.h.a) throw new A(2, 9, 7001);
          }
          function Vj() {
            if (!Vh()) throw new A(2, 9, 9e3);
          }
          function pk(i, a) {
            var o = i.a.streaming.retryParameters;
            return (
              (o = Ab(a.c(), o)),
              (0 == a.b && null == a.a) ||
                (o.headers.Range =
                  'bytes=' + a.b + '-' + (null == a.a ? '' : a.a)),
              o
            );
          }
          function Tj(i, a) {
            return t(function e() {
              return v(e, function (o) {
                switch (o.j) {
                  case 1:
                    return i.f.push(a), ra(o, 2), u(o, a, 4);
                  case 4:
                    return o['return'](o.u);
                  case 2:
                    ua(o), tb(i.f, a), va(o, 0);
                }
              });
            });
          }
          function lk(i) {
            for (
              var a = new Set(), o = (i = r(i.periods)).next();
              !o.done;
              o = i.next()
            ) {
              for (
                var p = r((o = o.value).textStreams), m = p.next();
                !m.done;
                m = p.next()
              )
                a.add(m.value);
              for (p = (o = r(o.variants)).next(); !p.done; p = o.next())
                (p = p.value).audio && a.add(p.audio),
                  p.video && a.add(p.video);
            }
            return a;
          }
          function qk(i) {
            i.variants.map(function (i) {
              return i.video;
            });
            var a = new Set(
              i.variants.map(function (i) {
                return i.audio;
              })
            );
            i = i.textStreams;
            for (var o = r(a), p = o.next(); !p.done; p = o.next())
              for (var m = (p = r(a)).next(); !m.done; m = p.next());
            for (o = (a = r(i)).next(); !o.done; o = a.next())
              for (p = (o = r(i)).next(); !p.done; p = o.next());
          }
          (W.registerSupportPlugin = function (i, a) {
            It[i] = a;
          }),
            (W.isBrowserSupported = function () {
              return !!(
                i.Promise &&
                i.Uint8Array &&
                Array.prototype.forEach &&
                i.MediaSource &&
                MediaSource.isTypeSupported &&
                i.MediaKeys &&
                i.navigator &&
                i.navigator.requestMediaKeySystemAccess &&
                i.MediaKeySystemAccess &&
                i.MediaKeySystemAccess.prototype.getConfiguration
              );
            }),
            (W.probeSupport = function () {
              return Kc().then(function (i) {
                var a = (function ye() {
                    var i,
                      a = {};
                    for (i in ft) a[i] = !0;
                    for (var o in ht) a[o] = !0;
                    return (
                      [
                        'application/dash+xml',
                        'application/x-mpegurl',
                        'application/vnd.apple.mpegurl',
                        'application/vnd.ms-sstr+xml',
                      ].forEach(function (i) {
                        a[i] = !!ft[i];
                      }),
                      ['mpd', 'm3u8', 'ism'].forEach(function (i) {
                        a[i] = !!ht[i];
                      }),
                      a
                    );
                  })(),
                  o = (function ld() {
                    var i = {};
                    return (
                      'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'
                        .split(',')
                        .forEach(function (a) {
                          i[a] =
                            ed(a) || MediaSource.isTypeSupported(a) || Zc(a);
                          var o = a.split(';')[0];
                          i[o] = i[o] || i[a];
                        }),
                      i
                    );
                  })();
                for (var p in ((i = { manifest: a, media: o, drm: i }), It))
                  i[p] = It[p]();
                return i;
              });
            }),
            (W.prototype.zb = function (i, a) {
              var o = this;
              return t(function f() {
                return v(f, function (p) {
                  switch (p.j) {
                    case 1:
                      if ((void 0 === a && (a = !0), !o.f)) {
                        p.A(2);
                        break;
                      }
                      return u(p, o.detach(), 2);
                    case 2:
                      if (((o.f = i), F(o.o, o.f, 'error', o.ve.bind(o)), a))
                        return (o.s = Ui(o)), u(p, o.s.o, 0);
                      p.A(0);
                  }
                });
              });
            }),
            (W.prototype.attach = W.prototype.zb),
            (W.prototype.detach = function () {
              var i = this;
              return t(function d() {
                return v(d, function (a) {
                  switch (a.j) {
                    case 1:
                      return i.f ? u(a, i.tc(!1), 2) : a['return']();
                    case 2:
                      i.o.ua(i.f, 'error'), (i.f = null), (a.j = 0);
                  }
                });
              });
            }),
            (W.prototype.detach = W.prototype.detach),
            (W.prototype.load = function (i, a, o) {
              a = void 0 === a ? null : a;
              var p = this;
              return t(function g() {
                var m, _, w, x, I, D, j, K, q, $, Z, be, Se, _e;
                return v(g, function (we) {
                  switch (we.j) {
                    case 1:
                      if (!p.f) throw new A(2, 7, 7002);
                      return (
                        (_ = new z()),
                        (w = function l() {
                          return (m = new A(2, 7, 7e3)), _;
                        }),
                        p.dispatchEvent(new C('loading')),
                        qa(we, 2),
                        (x = p.f),
                        (I = p.tc()),
                        (p.na = w),
                        u(we, I, 4)
                      );
                    case 4:
                      if (
                        ((p.l = new Mi(x)),
                        (p.l.g = Date.now() / 1e3),
                        F(p.o, x, 'playing', function () {
                          Zi(p);
                        }),
                        F(p.o, x, 'pause', function () {
                          Zi(p);
                        }),
                        F(p.o, x, 'ended', function () {
                          Zi(p);
                        }),
                        (D = p.b.abrFactory),
                        (p.i && p.Qb == D) ||
                          ((p.Qb = D), (p.i = new D()), p.i.configure(p.b.abr)),
                        m)
                      )
                        throw m;
                      if (
                        ((K = j = null),
                        o &&
                          ('string' == typeof o
                            ? (K = o)
                            : (Re(
                                'Loading with a manifest parser factory',
                                'Please register a manifest parser and for the mime-type.'
                              ),
                              (j = o))),
                        (q = p),
                        j)
                      ) {
                        ($ = new j()), we.A(5);
                        break;
                      }
                      return u(
                        we,
                        (function Vi(i, a, o) {
                          return t(function f() {
                            var p;
                            return v(f, function (m) {
                              switch (m.j) {
                                case 1:
                                  return u(
                                    m,
                                    ze(a, i.C, i.b.manifest.retryParameters, o),
                                    2
                                  );
                                case 2:
                                  return (p = m.u), m['return'](p);
                              }
                            });
                          });
                        })(p, i, K),
                        6
                      );
                    case 6:
                      $ = we.u;
                    case 5:
                      return (
                        (q.m = $),
                        p.m.configure(p.b.manifest),
                        (p.cb = i),
                        u(
                          we,
                          (function Wi(i) {
                            return (
                              (i.R = new Mg()),
                              (function Ng(i, a) {
                                i.b = a;
                              })(i.R, function (a) {
                                Xi(i, 'timelineregionadded', a);
                              }),
                              i.m.start(i.cb, {
                                networkingEngine: i.C,
                                filter: function filter(a) {
                                  var o = i.g ? i.g.a : null;
                                  if (o)
                                    for (
                                      var p = (a = r(a.periods)).next();
                                      !p.done;
                                      p = a.next()
                                    )
                                      for (
                                        var m = (p = r(
                                          p.value.variants
                                        )).next();
                                        !m.done;
                                        m = p.next()
                                      )
                                        for (
                                          var _ = (m = r(
                                            m.value.drmInfos
                                          )).next();
                                          !_.done;
                                          _ = m.next()
                                        )
                                          if (
                                            (_ = _.value).keySystem ==
                                            o.keySystem
                                          )
                                            for (
                                              var w = (_ = r(
                                                _.initData || []
                                              )).next();
                                              !w.done;
                                              w = _.next()
                                            )
                                              (w = w.value),
                                                tc(
                                                  i.g,
                                                  w.initDataType,
                                                  w.initData
                                                );
                                },
                                filterNewPeriod: i.Vb.bind(i),
                                filterAllPeriods: i.Kc.bind(i),
                                onTimelineRegionAdded:
                                  function onTimelineRegionAdded(a) {
                                    var o = i.R;
                                    e: {
                                      for (
                                        var p = r(o.a), m = p.next();
                                        !m.done;
                                        m = p.next()
                                      )
                                        if (
                                          (m = m.value).schemeIdUri ==
                                            a.schemeIdUri &&
                                          m.startTime == a.startTime &&
                                          m.endTime == a.endTime
                                        ) {
                                          p = m;
                                          break e;
                                        }
                                      p = null;
                                    }
                                    null == p && (o.a.add(a), o.b(a));
                                  },
                                onEvent: i.ub.bind(i),
                                onError: i.La.bind(i),
                              })
                            );
                          })(p),
                          7
                        )
                      );
                    case 7:
                      if (((Z = we.u), (p.c = Z), m)) throw m;
                      return (
                        (function Yi(i) {
                          function c(i) {
                            return (
                              (i.video && i.audio) ||
                              (i.video && i.video.codecs.includes(','))
                            );
                          }
                          if (
                            (i.c.periods.some(function (i) {
                              return i.variants.some(c);
                            }) &&
                              i.c.periods.forEach(function (i) {
                                i.variants = i.variants.filter(c);
                              }),
                            0 == i.c.periods.length)
                          )
                            throw new A(2, 4, 4014);
                        })(p),
                        (be = p),
                        u(
                          we,
                          (function $i(i, a) {
                            return t(function e() {
                              var o, p, m;
                              return v(e, function (_) {
                                switch (_.j) {
                                  case 1:
                                    return (
                                      (o = {
                                        Xa: i.C,
                                        onError: function onError(a) {
                                          i.La(a);
                                        },
                                        ic: function ic(a) {
                                          !(function lj(i, a) {
                                            var o = ij(i),
                                              p = !1,
                                              m = Object.keys(a),
                                              _ = 1 == m.length && '00' == m[0];
                                            m.length &&
                                              o.variants.forEach(function (i) {
                                                ot.$d(i).forEach(function (o) {
                                                  var m = i.allowedByKeySystem;
                                                  o.keyId &&
                                                    ((o =
                                                      a[_ ? '00' : o.keyId]),
                                                    (i.allowedByKeySystem =
                                                      !!o && !Ct.includes(o))),
                                                    m != i.allowedByKeySystem &&
                                                      (p = !0);
                                                });
                                              }),
                                              (m = Xg(i.a));
                                            var w = Zg(i.a);
                                            (m = ot.Sc(m, w, o.variants)) &&
                                              !m.allowedByKeySystem &&
                                              oj(i, o),
                                              p && (mj(i), jj(i, o.variants));
                                          })(i, a);
                                        },
                                        onExpirationUpdated:
                                          function onExpirationUpdated(a, o) {
                                            i.m &&
                                              i.m.onExpirationUpdated &&
                                              i.m.onExpirationUpdated(a, o),
                                              i.dispatchEvent(
                                                new C('expirationupdated')
                                              );
                                          },
                                        onEvent: function onEvent(a) {
                                          i.ub(a);
                                        },
                                      }),
                                      (p = new cc(o)).configure(i.b.drm),
                                      (m = ot.Qc(a)),
                                      u(
                                        _,
                                        (function jc(i, a, o) {
                                          return (
                                            (i.o = o),
                                            (i.C = 0 < o.length),
                                            ic(i, a)
                                          );
                                        })(p, m, a.offlineSessionIds),
                                        2
                                      )
                                    );
                                  case 2:
                                    return _['return'](p);
                                }
                              });
                            });
                          })(p, Z),
                          8
                        )
                      );
                    case 8:
                      if (((be.g = we.u), m)) throw m;
                      return (
                        p.Kc(p.c.periods),
                        (function aj(i, a) {
                          for (var o = 0; o < a.length; o++) {
                            for (
                              var p = a[o],
                                m = new Map(),
                                _ = r(p.variants),
                                w = _.next();
                              !w.done;
                              w = _.next()
                            )
                              if ((w = w.value).video && w.video.closedCaptions)
                                for (
                                  var x = r(
                                      (w = w.video).closedCaptions.keys()
                                    ),
                                    I = x.next();
                                  !I.done;
                                  I = x.next()
                                )
                                  if (((I = I.value), !m.has(I))) {
                                    var D = {
                                      id: i.Cc++,
                                      originalId: I,
                                      createSegmentIndex:
                                        Promise.resolve.bind(Promise),
                                      findSegmentPosition:
                                        function findSegmentPosition() {
                                          return null;
                                        },
                                      getSegmentReference:
                                        function getSegmentReference() {
                                          return null;
                                        },
                                      initSegmentReference: null,
                                      presentationTimeOffset: 0,
                                      mimeType: 'application/cea-608',
                                      codecs: '',
                                      kind: 'caption',
                                      encrypted: !1,
                                      keyId: null,
                                      language: w.closedCaptions.get(I),
                                      label: null,
                                      type: 'text',
                                      primary: !1,
                                      trickModeVideo: null,
                                      emsgSchemeIdUris: null,
                                      roles: w.roles,
                                      channelsCount: null,
                                      closedCaptions: null,
                                    };
                                    m.set(I, D);
                                  }
                            for (
                              _ = (m = r(m.values())).next();
                              !_.done;
                              _ = m.next()
                            )
                              p.textStreams.push(_.value);
                          }
                        })(p, p.c.periods),
                        (p.vb = new mg(
                          p.b.preferredAudioLanguage,
                          p.b.preferredVariantRole,
                          p.b.preferredAudioChannelCount
                        )),
                        (p.P = p.b.preferredTextLanguage),
                        (p.$ = p.b.preferredTextRole),
                        (function bj(i, a, o) {
                          0 < a && (i.ba() || i.od(a)),
                            o < i.T() && (i.ba() || i.la(o));
                        })(
                          p.c.presentationTimeline,
                          p.b.playRangeStart,
                          p.b.playRangeEnd
                        ),
                        u(we, p.g.zb(x), 9)
                      );
                    case 9:
                      if (m) throw m;
                      return (
                        p.i.init(function (i, a, o) {
                          (a = void 0 !== a && a),
                            (o = void 0 === o ? 0 : o),
                            cj(p, p.c.periods[ot.Hd(p.c, i)], i, !0),
                            p.a && (eh(p.a, i, a, o), dj(p));
                        }),
                        p.s || (p.s = Ui(p)),
                        (p.h = new Hg(
                          p.f,
                          p.c.presentationTimeline,
                          p.c.minBufferTime || 0,
                          p.b.streaming,
                          a,
                          p.We.bind(p),
                          p.ub.bind(p)
                        )),
                        (p.oa = (function ej(i) {
                          var a = new Ag(i.c);
                          !(function Bg(i, a) {
                            i.b = a;
                          })(a, function () {
                            mj(i);
                          });
                          var o = new Og(i.R);
                          !(function Sg(i, a, o, p) {
                            (i.a = a), (i.b = o), (i.c = p);
                          })(
                            o,
                            function (a) {
                              Xi(i, 'timelineregionenter', a);
                            },
                            function (a) {
                              Xi(i, 'timelineregionexit', a);
                            },
                            function (a, o) {
                              o ||
                                (Xi(i, 'timelineregionenter', a),
                                Xi(i, 'timelineregionexit', a));
                            }
                          );
                          var p = new rg(
                            Math.max(
                              i.c.minBufferTime,
                              i.b.streaming.rebufferingGoal
                            ),
                            function (a) {
                              return Sc(i.f.buffered, a);
                            },
                            function () {
                              var a;
                              e: if (
                                ((a = i.f.ended) ||
                                  ((a = i.s),
                                  (a = !a.g || 'ended' == a.g.readyState)),
                                a)
                              )
                                a = !0;
                              else {
                                if (
                                  i.c.presentationTimeline.ba() &&
                                  ((a = i.c.presentationTimeline.Ta()),
                                  Qc(i.f.buffered) >= a)
                                ) {
                                  a = !0;
                                  break e;
                                }
                                a = !1;
                              }
                              return a;
                            }
                          );
                          !(function ug(i, a, o) {
                            (i.b = a), (i.a = o);
                          })(
                            p,
                            function () {
                              return kj(i, !0);
                            },
                            function () {
                              return kj(i, !1);
                            }
                          );
                          var m = new pg(i.f);
                          return m.a.add(a), m.a.add(o), m.a.add(p), m;
                        })(p)),
                        (p.a = (function fj(i) {
                          return new Tg(i.c, {
                            va: function va() {
                              return Kg(i.h);
                            },
                            J: i.s,
                            Xa: i.C,
                            Zc: i.je.bind(i),
                            Yc: i.Bd.bind(i),
                            onError: i.La.bind(i),
                            onEvent: i.ub.bind(i),
                            le: i.me.bind(i),
                            ob: i.te.bind(i),
                          });
                        })(p)),
                        p.a.configure(p.b.streaming),
                        (function gj(i) {
                          function c(i) {
                            var a = '';
                            i.video && (a = Qb(i.video.codecs)[0]);
                            var o = '';
                            return (
                              i.audio && (o = Qb(i.audio.codecs)[0]),
                              a + '-' + o
                            );
                          }
                          var a = i.c.periods.reduce(function (i, a) {
                            return i.concat(a.variants);
                          }, []);
                          a = ot.Mc(a, i.b.preferredAudioChannelCount);
                          var o = new pb();
                          a.forEach(function (i) {
                            var a = c(i);
                            o.push(a, i);
                          });
                          var p = null,
                            m = Infinity;
                          o.forEach(function (i, a) {
                            var o = 0,
                              _ = 0;
                            a.forEach(function (i) {
                              (o += i.bandwidth || 0), ++_;
                            });
                            var w = o / _;
                            w < m && ((p = i), (m = w));
                          }),
                            i.c.periods.forEach(function (i) {
                              i.variants = i.variants.filter(function (i) {
                                return c(i) == p;
                              });
                            });
                        })(p),
                        p.dispatchEvent(new C('streaming')),
                        u(
                          we,
                          p.a.init(function () {
                            if (p.b.streaming.startAtSegmentBoundary) {
                              var i = (function hj(i, a) {
                                function d(i, a) {
                                  if (!i) return null;
                                  var o = i.findSegmentPosition(
                                    a - m.startTime
                                  );
                                  return null == o
                                    ? null
                                    : (o = i.getSegmentReference(o))
                                    ? o.startTime + m.startTime
                                    : null;
                                }
                                var o = Xg(i.a),
                                  p = Zg(i.a),
                                  m = ij(i);
                                return (
                                  (o = d(o, a)),
                                  (null != (p = d(p, a)) && null != o) ||
                                  null != p
                                    ? p
                                    : null != o
                                    ? o
                                    : a
                                );
                              })(p, Kg(p.h));
                              return Eg(p.h.b, i), i;
                            }
                          }),
                          10
                        )
                      );
                    case 10:
                      if (m) throw m;
                      if (
                        (p.c.periods.forEach(p.Vb.bind(p)),
                        dj(p),
                        (Se = ij(p)).variants.some(function (i) {
                          return i.primary;
                        }),
                        jj(p, Se.variants),
                        kj(p, !0),
                        Hb(p.o, x, 'loadeddata', function () {
                          p.l.f = Date.now() / 1e3;
                        }),
                        m)
                      )
                        throw m;
                      (p.na = null), sa(we, 0);
                      break;
                    case 2:
                      return (
                        (_e = ta(we)),
                        _.resolve(),
                        p.na == w &&
                          ((p.na = null), p.dispatchEvent(new C('unloading'))),
                        we['return'](Promise.reject(m || _e))
                      );
                  }
                });
              });
            }),
            (W.prototype.load = W.prototype.load),
            (W.prototype.configure = function (i, a) {
              if (2 == arguments.length && 'string' == typeof i) {
                for (
                  var o = i, p = {}, m = p, _ = 0, w = 0;
                  !(0 > (_ = o.indexOf('.', _)));

                )
                  (0 != _ && '\\' == o[_ - 1]) ||
                    ((m[(w = o.substring(w, _).replace(/\\\./g, '.'))] = {}),
                    (m = m[w]),
                    (w = _ + 1)),
                    (_ += 1);
                (m[o.substring(w).replace(/\\\./g, '.')] = a), (i = p);
              }
              return (o = Gi(this.b, i, Oi(this))), nj(this), o;
            }),
            (W.prototype.configure = W.prototype.configure),
            (W.prototype.getConfiguration = function () {
              var i = Oi(this);
              return Gi(i, this.b, Oi(this)), i;
            }),
            (W.prototype.getConfiguration = W.prototype.getConfiguration),
            (W.prototype.Me = function () {
              for (var i in this.b) delete this.b[i];
              Gi(this.b, Oi(this), Oi(this)), nj(this);
            }),
            (W.prototype.resetConfiguration = W.prototype.Me),
            (W.prototype.Td = function () {
              return this.f;
            }),
            (W.prototype.getMediaElement = W.prototype.Td),
            (W.prototype.Ib = function () {
              return this.C;
            }),
            (W.prototype.getNetworkingEngine = W.prototype.Ib),
            (W.prototype.Ld = function () {
              return this.cb;
            }),
            (W.prototype.getAssetUri = W.prototype.Ld),
            (W.prototype.Sd = function () {
              return (
                Re('getManifestUri', 'Please use "getAssetUri" instead.'),
                this.cb
              );
            }),
            (W.prototype.getManifestUri = W.prototype.Sd),
            (W.prototype.ba = function () {
              return this.c ? this.c.presentationTimeline.ba() : null;
            }),
            (W.prototype.isLive = W.prototype.ba),
            (W.prototype.Ia = function () {
              return !!this.c && this.c.presentationTimeline.Ia();
            }),
            (W.prototype.isInProgress = W.prototype.Ia),
            (W.prototype.ee = function () {
              if (!this.c || !this.c.periods.length) return !1;
              var i = this.c.periods[0].variants;
              return !!i.length && !i[0].video;
            }),
            (W.prototype.isAudioOnly = W.prototype.ee),
            (W.prototype.Oe = function () {
              var i = 0,
                a = 0;
              return (
                this.c &&
                  ((i = (a = this.c.presentationTimeline).Sa()), (a = a.qa())),
                { start: i, end: a }
              );
            }),
            (W.prototype.seekRange = W.prototype.Oe),
            (W.prototype.keySystem = function () {
              return this.g ? this.g.keySystem() : '';
            }),
            (W.prototype.keySystem = W.prototype.keySystem),
            (W.prototype.drmInfo = function () {
              return this.g ? this.g.a : null;
            }),
            (W.prototype.drmInfo = W.prototype.drmInfo),
            (W.prototype.Hb = function () {
              return this.g ? this.g.Hb() : Infinity;
            }),
            (W.prototype.getExpiration = W.prototype.Hb),
            (W.prototype.fe = function () {
              return this.eb;
            }),
            (W.prototype.isBuffering = W.prototype.fe),
            (W.prototype.tc = function (i) {
              var a = this;
              return t(function e() {
                return v(e, function (o) {
                  switch (o.j) {
                    case 1:
                      return a.fb.a
                        ? o['return']()
                        : (void 0 === i && (i = !0),
                          a.dispatchEvent(new C('unloading')),
                          u(
                            o,
                            (function Qi(i) {
                              if (!i.na) return Promise.resolve();
                              var a = Promise.resolve();
                              return (
                                i.m && ((a = i.m.stop()), (i.m = null)),
                                Promise.all([a, i.na()])
                              );
                            })(a),
                            2
                          ));
                    case 2:
                      return (
                        a.yb ||
                          (a.yb = (function pj(i) {
                            i.o &&
                              (i.o.ua(i.f, 'loadeddata'),
                              i.o.ua(i.f, 'playing'),
                              i.o.ua(i.f, 'pause'),
                              i.o.ua(i.f, 'ended')),
                              i.oa && (i.oa.O(), (i.oa = null)),
                              i.h && (i.h.O(), (i.h = null));
                            var a = i.g,
                              o = Promise.all([
                                i.i ? i.i.stop() : null,
                                i.s ? i.s.destroy() : null,
                                i.a ? i.a.destroy() : null,
                                i.m ? i.m.stop() : null,
                              ]).then(function () {
                                return a ? a.destroy() : null;
                              });
                            return (
                              i.R && (i.R.O(), (i.R = null)),
                              (i.Qa = !0),
                              (i.g = null),
                              (i.s = null),
                              (i.a = null),
                              (i.m = null),
                              (i.c = null),
                              (i.cb = null),
                              i.w.a.clear(),
                              i.wb.clear(),
                              (i.l = null),
                              o
                            );
                          })(a).then(function () {
                            a.yb = null;
                          })),
                        u(o, a.yb, 3)
                      );
                    case 3:
                      if (i) return (a.s = Ui(a)), u(o, a.s.o, 0);
                      o.A(0);
                  }
                });
              });
            }),
            (W.prototype.unload = W.prototype.tc),
            (W.prototype.hb = function () {
              return this.h ? this.h.hb() : 0;
            }),
            (W.prototype.getPlaybackRate = W.prototype.hb),
            (W.prototype.af = function (i) {
              this.h && Gg(this.h.b, i), this.a && ch(this.a, 1 != i);
            }),
            (W.prototype.trickPlay = W.prototype.af),
            (W.prototype.Cd = function () {
              this.h && Gg(this.h.b, 1), this.a && ch(this.a, !1);
            }),
            (W.prototype.cancelTrickPlay = W.prototype.Cd),
            (W.prototype.ae = function () {
              for (
                var i = qj(this), a = [], o = r(rj(this)), p = o.next();
                !p.done;
                p = o.next()
              ) {
                p = p.value;
                var m = ot.vc(p);
                (m.active = p == i), a.push(m);
              }
              return a;
            }),
            (W.prototype.getVariantTracks = W.prototype.ae),
            (W.prototype.getVideoTracks = function () {
              return this.a && this.c
                ? [
                    {
                      id: 'main',
                      active: !0,
                      type: 'video',
                      representations: ij(this).variants.reduce(
                        function (i, a) {
                          var o = a.bandwidth,
                            p = a.video,
                            m = p.bandwidth,
                            _ = p.codecs,
                            w = p.frameRate,
                            x = p.height,
                            I = p.id,
                            D = p.mimeType;
                          return (
                            (p = p.width),
                            i.Uc[I] ||
                              (i.sd.push({
                                bandwidth: m || o,
                                muxedWithOtherContent: !m && !!o,
                                codecs: _,
                                frameRate: w,
                                height: x,
                                id: I,
                                mimeType: D,
                                scanType: 'progressive',
                                width: p,
                              }),
                              (i.Uc[I] = !0)),
                            i
                          );
                        },
                        { Uc: {}, sd: [] }
                      ).sd,
                    },
                  ]
                : [];
            }),
            (W.prototype.getVideoTracks = W.prototype.getVideoTracks),
            (W.prototype.Rc = function () {
              var i = ij(this);
              if (null == i) i = null;
              else {
                if (!fg(this.w, i).text) {
                  var a = ot.Db(i.textStreams, this.P, this.$);
                  a.length && ((a = a[0]), (fg(this.w, i).text = a));
                }
                i = fg(this.w, i).text;
              }
              a = [];
              for (var o = r(sj(this)), p = o.next(); !p.done; p = o.next()) {
                p = p.value;
                var m = ot.qc(p);
                (m.active = p == i), a.push(m);
              }
              return a;
            }),
            (W.prototype.getTextTracks = W.prototype.Rc),
            (W.prototype.kd = function (i) {
              var a = ij(this);
              null != a &&
                (i = ot.Id(a, i)) &&
                ((fg(this.w, a).text = i),
                Li(this.l.a, i, !1),
                tj(this, i),
                (this.P = i.language));
            }),
            (W.prototype.selectTextTrack = W.prototype.kd),
            (W.prototype.Qe = function () {
              Re(
                'selectEmbeddedTextTrack',
                'If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.'
              );
              var i = this.Rc().filter(function (i) {
                return 'application/cea-608' == i.mimeType;
              });
              0 < i.length && this.kd(i[0]);
            }),
            (W.prototype.selectEmbeddedTextTrack = W.prototype.Qe),
            (W.prototype.ff = function () {
              Re(
                'usingEmbeddedTextTrack',
                'If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.'
              );
              var i = this.a ? Yg(this.a, 'text') : null;
              return null != i && 'application/cea-608' == i.mimeType;
            }),
            (W.prototype.usingEmbeddedTextTrack = W.prototype.ff),
            (W.prototype.Se = function (i, a, o) {
              o = void 0 === o ? 0 : o;
              var p = ij(this);
              null != p &&
                (this.b.abr.enabled &&
                  Ma(
                    'Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().'
                  ),
                (i = ot.Jd(p, i)) &&
                  ot.Ua(i) &&
                  (cj(this, p, i, !1),
                  uj(this, i, a, o),
                  (this.vb = new lg(i)),
                  jj(this, p.variants)));
            }),
            (W.prototype.selectVariantTrack = W.prototype.Se),
            (W.prototype.Nd = function () {
              for (
                var i = [], a = r(rj(this)), o = a.next();
                !o.done;
                o = a.next()
              )
                i.push(o.value.audio);
              return vj(i);
            }),
            (W.prototype.getAudioLanguagesAndRoles = W.prototype.Nd),
            (W.prototype.Zd = function () {
              return vj(sj(this));
            }),
            (W.prototype.getTextLanguagesAndRoles = W.prototype.Zd),
            (W.prototype.Md = function () {
              for (
                var i = [], a = r(rj(this)), o = a.next();
                !o.done;
                o = a.next()
              )
                i.push(o.value.audio);
              return Array.from(wj(i));
            }),
            (W.prototype.getAudioLanguages = W.prototype.Md),
            (W.prototype.Yd = function () {
              return Array.from(wj(sj(this)));
            }),
            (W.prototype.getTextLanguages = W.prototype.Yd),
            (W.prototype.Pe = function (i, a) {
              var o = ij(this);
              null != o && ((this.vb = new mg(i, a || '', 0)), oj(this, o));
            }),
            (W.prototype.selectAudioLanguage = W.prototype.Pe),
            (W.prototype.Re = function (i, a) {
              var o = ij(this);
              null != o && ((this.P = i), (this.$ = a || ''), oj(this, o));
            }),
            (W.prototype.selectTextLanguage = W.prototype.Re),
            (W.prototype.ge = function () {
              return this.V;
            }),
            (W.prototype.isTextTrackVisible = W.prototype.ge),
            (W.prototype.md = function (i) {
              var a = this;
              return t(function e() {
                var o, p, m, _;
                return v(e, function (w) {
                  switch (w.j) {
                    case 1:
                      if (i == a.V) return w['return']();
                      if (
                        (a.s && a.s.l.setTextVisibility(i),
                        (a.V = i),
                        xj(a),
                        a.b.streaming.alwaysStreamText || !a.a)
                      )
                        return w['return']();
                      if (((o = ot), i)) {
                        if (
                          ((p = ij(a)),
                          (m = o.Db(p.textStreams, a.P, a.$)),
                          (_ = m[0]))
                        )
                          return u(w, $g(a.a, _), 0);
                      } else {
                        var x = a.a;
                        x.F = !0;
                        var I = x.b.get('text');
                        I && (Ug(I), x.b['delete']('text'));
                      }
                      w.A(0);
                  }
                });
              });
            }),
            (W.prototype.setTextTrackVisibility = W.prototype.md),
            (W.prototype.Vd = function () {
              return this.c
                ? new Date(
                    1e3 * this.c.presentationTimeline.f +
                      1e3 * this.f.currentTime
                  )
                : null;
            }),
            (W.prototype.getPlayheadTimeAsDate = W.prototype.Vd),
            (W.prototype.Xd = function () {
              return this.c
                ? new Date(1e3 * this.c.presentationTimeline.f)
                : null;
            }),
            (W.prototype.getPresentationStartTimeAsDate = W.prototype.Xd),
            (W.prototype.Wb = function () {
              return this.s
                ? this.s.Wb()
                : { total: [], audio: [], video: [], text: [] };
            }),
            (W.prototype.getBufferedInfo = W.prototype.Wb),
            (W.prototype.getStats = function () {
              if (null == this.l)
                return {
                  variantVideoId: NaN,
                  width: NaN,
                  height: NaN,
                  streamBandwidth: NaN,
                  decodedFrames: NaN,
                  droppedFrames: NaN,
                  estimatedBandwidth: NaN,
                  loadLatency: NaN,
                  playTime: NaN,
                  bufferingTime: NaN,
                  switchHistory: [],
                  stateHistory: [],
                };
              Ni(this.l, this.eb), Zi(this);
              var i = this.f;
              if (i.getVideoPlaybackQuality) {
                i = i.getVideoPlaybackQuality();
                var a = this.l,
                  o = Number(i.totalVideoFrames);
                (a.s = Number(i.droppedVideoFrames)), (a.o = o);
              }
              if (((i = qj(this)) && (this.l.w = i.bandwidth), i && i.video)) {
                (a = this.l), (o = i.video.height || NaN);
                var p = i.video.id;
                (a.F = i.video.width || NaN), (a.l = o), (a.C = p);
              }
              this.i && ((i = this.i.getBandwidthEstimate()), (this.l.i = i)),
                (a = (i = this.l).C),
                (o = i.F),
                (p = i.l);
              for (
                var m = i.w,
                  _ = i.o,
                  w = i.s,
                  x = i.i,
                  I = i.f > i.g ? i.f - i.g : NaN,
                  D = i.h,
                  j = i.b,
                  K = [],
                  q = r(i.a.a),
                  $ = q.next();
                !$.done;
                $ = q.next()
              )
                ($ = $.value),
                  K.push({
                    timestamp: $.timestamp,
                    id: $.id,
                    type: $.type,
                    fromAdaptation: $.fromAdaptation,
                    bandwidth: $.bandwidth,
                  });
              return {
                variantVideoId: a,
                width: o,
                height: p,
                streamBandwidth: m,
                decodedFrames: _,
                droppedFrames: w,
                estimatedBandwidth: x,
                loadLatency: I,
                playTime: D,
                bufferingTime: j,
                switchHistory: K,
                stateHistory: Ii(i.m),
              };
            }),
            (W.prototype.getStats = W.prototype.getStats),
            (W.prototype.addTextTrack = function (i, a, o, p, m, _) {
              var w = ij(this);
              if (null == w) return Promise.reject();
              var x = this.c.periods.indexOf(w) + 1,
                I =
                  (x >= this.c.periods.length
                    ? this.c.presentationTimeline.T()
                    : this.c.periods[x].startTime) - w.startTime;
              if (Infinity == I) return Promise.reject(new A(1, 4, 4033));
              var D = {
                id: this.Cc++,
                originalId: null,
                createSegmentIndex: Promise.resolve.bind(Promise),
                findSegmentPosition: function findSegmentPosition() {
                  return 1;
                },
                getSegmentReference: function getSegmentReference(a) {
                  return 1 != a
                    ? null
                    : new N(
                        1,
                        0,
                        I,
                        function () {
                          return [i];
                        },
                        0,
                        null
                      );
                },
                initSegmentReference: null,
                presentationTimeOffset: 0,
                mimeType: p,
                codecs: m || '',
                kind: o,
                encrypted: !1,
                keyId: null,
                language: a,
                label: _ || null,
                type: 'text',
                primary: !1,
                trickModeVideo: null,
                emsgSchemeIdUris: null,
                roles: [],
                channelsCount: null,
                closedCaptions: null,
              };
              return (
                this.wb.add(D),
                w.textStreams.push(D),
                $g(this.a, D).then(
                  function () {
                    if (!this.fb.a) {
                      var i = Yg(this.a, 'text');
                      return (
                        i && (fg(this.w, w).text = i),
                        this.wb['delete'](D),
                        oj(this, w),
                        mj(this),
                        {
                          id: D.id,
                          active: !1,
                          type: 'text',
                          bandwidth: 0,
                          language: a,
                          label: _ || null,
                          kind: o,
                          width: null,
                          height: null,
                        }
                      );
                    }
                  }.bind(this)
                )
              );
            }),
            (W.prototype.addTextTrack = W.prototype.addTextTrack),
            (W.prototype.Ve = function (i, a) {
              (this.xb.width = i), (this.xb.height = a);
            }),
            (W.prototype.setMaxHardwareResolution = W.prototype.Ve),
            (W.prototype.nc = function () {
              if (this.a) {
                var i = this.a;
                if (i.f) i = !1;
                else if (i.m) i = !1;
                else {
                  for (
                    var a = r(i.b.values()), o = a.next();
                    !o.done;
                    o = a.next()
                  )
                    (o = o.value).kb && ((o.kb = !1), bh(i, o, 0.1));
                  i = !0;
                }
              } else i = !1;
              return i;
            }),
            (W.prototype.retryStreaming = W.prototype.nc),
            (W.prototype.Rd = function () {
              return this.c;
            }),
            (W.prototype.getManifest = W.prototype.Rd),
            ((o = W.prototype).Kc = function (i) {
              var a = this.a ? Xg(this.a) : null,
                o = this.a ? Zg(this.a) : null;
              if (
                (i.forEach(ot.filterNewPeriod.bind(null, this.g, a, o)),
                0 ==
                  (a = (function ub(i, a) {
                    var o = 0;
                    return (
                      i.forEach(function (i) {
                        o += a(i) ? 1 : 0;
                      }),
                      o
                    );
                  })(i, function (i) {
                    return i.variants.some(ot.Ua);
                  })))
              )
                throw new A(2, 4, 4032);
              if (a < i.length) throw new A(2, 4, 4011);
              i.forEach(
                function (i) {
                  ot.Dc(i.variants, this.b.restrictions, this.xb) &&
                    this.a &&
                    ij(this) == i &&
                    mj(this),
                    Aj(this, i.variants);
                }.bind(this)
              );
            }),
            (o.Vb = function (i) {
              var a = this.a ? Xg(this.a) : null,
                o = this.a ? Zg(this.a) : null;
              if (
                (ot.filterNewPeriod(this.g, a, o, i),
                !(a = i.variants).some(ot.Ua))
              )
                throw new A(2, 4, 4011);
              if (
                (Aj(this, i.variants),
                ot.Dc(a, this.b.restrictions, this.xb) &&
                  this.a &&
                  ij(this) == i &&
                  mj(this),
                (i = this.g ? this.g.a : null))
              )
                for (o = (a = r(a)).next(); !o.done; o = a.next())
                  for (
                    var p = (o = r(o.value.drmInfos)).next();
                    !p.done;
                    p = o.next()
                  )
                    if ((p = p.value).keySystem == i.keySystem)
                      for (
                        var m = (p = r(p.initData || [])).next();
                        !m.done;
                        m = p.next()
                      )
                        (m = m.value).initData &&
                          tc(this.g, m.initDataType, m.initData);
            }),
            (o.We = function () {
              this.oa && qg(this.oa, !0),
                this.a &&
                  (function ih(i) {
                    var a = i.a.va(),
                      o = i.g.smallGapLimit;
                    Array.from(i.b.keys()).every(function (p) {
                      var m = i.a.J;
                      return (
                        'text' == p
                          ? ((p = m.a), (p = a >= p.a && a < p.b))
                          : (p = Rc((p = od(m, p)), a, o)),
                        p
                      );
                    }) ||
                      (i.b.forEach(function (i) {
                        i.mb = !0;
                      }),
                      gh(i));
                  })(this.a);
            }),
            (o.je = function (i) {
              try {
                (this.Qa = !0), this.i.disable();
                var a = jj(this, i.variants),
                  o = ot.Db(i.textStreams, this.P, this.$)[0] || null;
                if (
                  (this.L &&
                    (i.variants.includes(this.L) && (a = this.L),
                    (this.L = null)),
                  this.F &&
                    (i.textStreams.includes(this.F) && (o = this.F),
                    (this.F = null)),
                  a && cj(this, i, a, !0),
                  o)
                ) {
                  var p = o;
                  (fg(this.w, i).text = p), Li(this.l.a, p, !0);
                }
                var m = this.a,
                  _ = m.b.get('video');
                if (_) var w = m.c.periods[_.xa];
                else {
                  var x = m.b.get('audio');
                  w = x ? m.c.periods[x.xa] : null;
                }
                var I,
                  D = a ? a.audio : null;
                if ((I = !w && D && o)) {
                  i = o;
                  var j = J(this.b.preferredTextLanguage);
                  J(D.language);
                  var K = J(i.language);
                  (D = j),
                    (K = J(K)),
                    (D = J(D)),
                    (I = K.split('-')[0] == D.split('-')[0]);
                }
                return (
                  I && (this.md(!0), xj(this)),
                  this.b.streaming.alwaysStreamText || this.V
                    ? { variant: a, text: o }
                    : { variant: a, text: null }
                );
              } catch (q) {
                return this.La(q), { variant: null, text: null };
              }
            }),
            (o.Bd = function () {
              (this.Qa = !1),
                this.b.abr.enabled && this.i.enable(),
                this.L &&
                  (eh(this.a, this.L, this.zc, this.yc), (this.L = null)),
                this.F && (dh(this.a, this.F, !0, 0), (this.F = null));
            }),
            (o.me = function () {
              this.m && this.m.update && this.m.update();
            }),
            (o.te = function () {
              this.h && this.h.ob();
            }),
            (o.La = function (i) {
              if (!this.fb.a) {
                var a = new C('error', { detail: i });
                this.dispatchEvent(a), a.defaultPrevented && (i.handled = !0);
              }
            }),
            (o.ub = function (i) {
              this.dispatchEvent(i);
            }),
            (o.ve = function () {
              if (this.f.error) {
                var i = this.f.error.code;
                if (1 != i) {
                  var a = this.f.error.msExtendedCode;
                  a && (0 > a && (a += Math.pow(2, 32)), (a = a.toString(16))),
                    this.La(new A(2, 3, 3016, i, a, this.f.error.message));
                }
              }
            }),
            (o.va = function () {
              return null == this.h ? null : Kg(this.h);
            }),
            (W.prototype.getPresentationTime = W.prototype.va),
            (Mj.prototype.add = function (i) {
              Pj(this, i) || this.a.push(i);
            }),
            y('veygo.offline.Storage', Y),
            (Y.support = Sj),
            (Y.setDbName = function (i) {
              Pt = i;
            }),
            (Y.prototype.destroy = function () {
              return this.h.destroy();
            }),
            (Y.prototype.destroy = Y.prototype.destroy),
            (Y.prototype.configure = function (i) {
              var a = !1;
              return (
                null != i.trackSelectionCallback &&
                  ((a = !0),
                  (i.offline = i.offline || {}),
                  (i.offline.trackSelectionCallback =
                    i.trackSelectionCallback)),
                null != i.progressCallback &&
                  ((a = !0),
                  (i.offline = i.offline || {}),
                  (i.offline.progressCallback = i.progressCallback)),
                null != i.usePersistentLicense &&
                  ((a = !0),
                  (i.offline = i.offline || {}),
                  (i.offline.usePersistentLicense = i.usePersistentLicense)),
                a &&
                  Re(
                    'Storage.configure with OfflineConfig',
                    'Please configure storage with a player configuration.'
                  ),
                Gi(this.a, i)
              );
            }),
            (Y.prototype.configure = Y.prototype.configure),
            (Y.prototype.Ib = function () {
              return this.b;
            }),
            (Y.prototype.getNetworkingEngine = Y.prototype.Ib),
            (Y.prototype.store = function (i, a, o) {
              var p = this;
              return Tj(
                this,
                (function Uj(i, a, o, p) {
                  return t(function g() {
                    var m, _, w, x, I, D, j, K, q;
                    return v(g, function ($) {
                      switch ($.j) {
                        case 1:
                          return (
                            Vj(),
                            i.g
                              ? $['return'](Promise.reject(new A(2, 9, 9006)))
                              : ((i.g = !0),
                                u(
                                  $,
                                  (function Wj(i, a, o) {
                                    return t(function f() {
                                      var p, m, _, w, x, I;
                                      return v(f, function (D) {
                                        switch (D.j) {
                                          case 1:
                                            return (
                                              (p = null),
                                              (m = i.b),
                                              (_ = {
                                                networkingEngine: m,
                                                filter: function filter() {},
                                                filterAllPeriods:
                                                  function filterAllPeriods() {},
                                                filterNewPeriod:
                                                  function filterNewPeriod() {},
                                                onTimelineRegionAdded:
                                                  function onTimelineRegionAdded() {},
                                                onEvent: function onEvent() {},
                                                onError: function onError(i) {
                                                  p = i;
                                                },
                                              }),
                                              u(D, o(), 2)
                                            );
                                          case 2:
                                            return (
                                              (w = D.u).configure(i.a.manifest),
                                              Xj(i),
                                              ra(D, 3),
                                              u(D, w.start(a, _), 5)
                                            );
                                          case 5:
                                            return (
                                              (x = D.u),
                                              Xj(i),
                                              (I = lk(x)),
                                              u(
                                                D,
                                                Promise.all(
                                                  Array.from(I).map(function (
                                                    i
                                                  ) {
                                                    return i.createSegmentIndex();
                                                  })
                                                ),
                                                6
                                              )
                                            );
                                          case 6:
                                            if ((Xj(i), p)) throw p;
                                            return D['return'](x);
                                          case 3:
                                            return ua(D), u(D, w.stop(), 7);
                                          case 7:
                                            va(D, 0);
                                        }
                                      });
                                    });
                                  })(i, a, p),
                                  2
                                ))
                          );
                        case 2:
                          if (
                            ((m = $.u),
                            Xj(i),
                            !(
                              !m.presentationTimeline.ba() &&
                              !m.presentationTimeline.Ia()
                            ))
                          )
                            throw new A(2, 9, 9005, a);
                          return (
                            (_ = null),
                            (w = new Nh()),
                            (I = x = null),
                            qa($, 3, 4),
                            u(
                              $,
                              (function Yj(i, a, o) {
                                return t(function f() {
                                  var p, m, _;
                                  return v(f, function (w) {
                                    switch (w.j) {
                                      case 1:
                                        return (
                                          (p = new cc({
                                            Xa: i.b,
                                            onError: o,
                                            ic: function ic() {},
                                            onExpirationUpdated:
                                              function onExpirationUpdated() {},
                                            onEvent: function onEvent() {},
                                          })),
                                          (m = ot.Qc(a)),
                                          (_ = i.a),
                                          p.configure(_.drm),
                                          u(
                                            w,
                                            (function hc(i, a, o) {
                                              return (
                                                (i.o = []), (i.C = o), ic(i, a)
                                              );
                                            })(
                                              p,
                                              m,
                                              _.offline.usePersistentLicense
                                            ),
                                            2
                                          )
                                        );
                                      case 2:
                                        return u(w, rc(p), 3);
                                      case 3:
                                        return u(w, sc(p), 4);
                                      case 4:
                                        return w['return'](p);
                                    }
                                  });
                                });
                              })(i, m, function (i) {
                                I = I || i;
                              }),
                              6
                            )
                          );
                        case 6:
                          if (((_ = $.u), Xj(i), I)) throw I;
                          return (
                            (function Zj(i, a, o) {
                              (function Ij(i, a) {
                                for (
                                  var o = { width: Infinity, height: Infinity },
                                    p = r(i.periods),
                                    m = p.next();
                                  !m.done;
                                  m = p.next()
                                )
                                  (m = m.value).variants = m.variants.filter(
                                    function (i) {
                                      return ot.Kb(i, a, o);
                                    }
                                  );
                              })(a, i.a.restrictions),
                                (function Jj(i) {
                                  for (
                                    var a = (i = r(i.periods)).next();
                                    !a.done;
                                    a = i.next()
                                  )
                                    (a = a.value).variants = a.variants.filter(
                                      function (i) {
                                        var a = !0;
                                        return (
                                          i.audio && (a = a && kd(i.audio)),
                                          i.video && (a = a && kd(i.video)),
                                          a
                                        );
                                      }
                                    );
                                })(a),
                                (function Kj(i, a) {
                                  for (
                                    var o = r(i.periods), p = o.next();
                                    !p.done;
                                    p = o.next()
                                  )
                                    (p = p.value).variants = p.variants.filter(
                                      function (i) {
                                        return Lc(a, i);
                                      }
                                    );
                                })(a, o),
                                Lj(a),
                                (function Rj(i, a) {
                                  var o = new Mj();
                                  i.periods.forEach(function (i, p) {
                                    0 < p &&
                                      (i.variants = i.variants.filter(function (
                                        i
                                      ) {
                                        return Pj(o, new Qj(i));
                                      })),
                                      a(i),
                                      (o = Nj(i.variants));
                                  });
                                })(a, function (a) {
                                  for (
                                    var o = [], p = r(a.variants), m = p.next();
                                    !m.done;
                                    m = p.next()
                                  )
                                    o.push(ot.vc(m.value));
                                  for (
                                    m = (p = r(a.textStreams)).next();
                                    !m.done;
                                    m = p.next()
                                  )
                                    o.push(ot.qc(m.value));
                                  o = i.a.offline.trackSelectionCallback(o);
                                  var _ = new Set(),
                                    w = new Set();
                                  for (
                                    p = (o = r(o)).next();
                                    !p.done;
                                    p = o.next()
                                  )
                                    'variant' == (p = p.value).type &&
                                      _.add(p.id),
                                      'text' == p.type && w.add(p.id);
                                  (a.variants = a.variants.filter(function (i) {
                                    return _.has(i.id);
                                  })),
                                    (a.textStreams = a.textStreams.filter(
                                      function (i) {
                                        return w.has(i.id);
                                      }
                                    ));
                                }),
                                (function bk(i) {
                                  if (0 == i.periods.length)
                                    throw new A(2, 4, 4014);
                                  for (
                                    var a = (i = r(i.periods)).next();
                                    !a.done;
                                    a = i.next()
                                  )
                                    qk(a.value);
                                })(a);
                            })(i, m, _),
                            u($, w.init(), 7)
                          );
                        case 7:
                          return (
                            Xj(i),
                            u(
                              $,
                              (function Ph(i) {
                                var a = null;
                                if (
                                  (i.a.forEach(function (i, o) {
                                    i.getCells().forEach(function (i, p) {
                                      i.hasFixedKeySpace() ||
                                        a ||
                                        (a = { path: { ja: o, W: p }, W: i });
                                    });
                                  }),
                                  a)
                                )
                                  return a;
                                throw new A(
                                  2,
                                  9,
                                  9013,
                                  'Could not find a cell that supports add-operations'
                                );
                              })(w),
                              8
                            )
                          );
                        case 8:
                          return (
                            (x = $.u),
                            Xj(i),
                            u(
                              $,
                              (function ak(i, a, o, p, m, _) {
                                return t(function k() {
                                  var w, x, I, D;
                                  return v(k, function (j) {
                                    switch (j.j) {
                                      case 1:
                                        return (
                                          (w = (function Cj(i, a, o) {
                                            var p =
                                              null == a.expiration
                                                ? Infinity
                                                : a.expiration;
                                            return {
                                              offlineUri: null,
                                              originalManifestUri: i,
                                              duration:
                                                a.presentationTimeline.T(),
                                              size: 0,
                                              expiration: p,
                                              tracks: (a = Dj(a.periods[0])),
                                              appMetadata: o,
                                            };
                                          })(m, p, _)),
                                          ((x = new Ch(i.b, function (i, a) {
                                            w.size = a;
                                          })).i = w),
                                          ra(j, 2),
                                          (D = I =
                                            (function ck(i, a, o, p, m, _, w) {
                                              var x = new Fj(),
                                                I = m.periods.map(function (p) {
                                                  return (function mk(
                                                    i,
                                                    a,
                                                    o,
                                                    p,
                                                    m,
                                                    _
                                                  ) {
                                                    m.periods.forEach(function (
                                                      i
                                                    ) {
                                                      i.variants.forEach(
                                                        function (i) {
                                                          var a = i.audio,
                                                            o = i.video;
                                                          if (
                                                            (a &&
                                                              !o &&
                                                              (p.a[a.id] =
                                                                a.bandwidth ||
                                                                i.bandwidth),
                                                            !a &&
                                                              o &&
                                                              (p.a[o.id] =
                                                                o.bandwidth ||
                                                                i.bandwidth),
                                                            a && o)
                                                          ) {
                                                            var m =
                                                                a.bandwidth ||
                                                                393216,
                                                              _ =
                                                                o.bandwidth ||
                                                                i.bandwidth - m;
                                                            0 >= _ &&
                                                              (_ = i.bandwidth),
                                                              (p.a[a.id] = m),
                                                              (p.a[o.id] = _);
                                                          }
                                                        }
                                                      ),
                                                        i.textStreams.forEach(
                                                          function (i) {
                                                            p.a[i.id] = 52;
                                                          }
                                                        );
                                                    });
                                                    for (
                                                      var w = lk(m),
                                                        x = new Map(),
                                                        I = (w = r(w)).next();
                                                      !I.done;
                                                      I = w.next()
                                                    ) {
                                                      I = I.value;
                                                      var D = nk(
                                                        i,
                                                        a,
                                                        o,
                                                        p,
                                                        m,
                                                        I
                                                      );
                                                      x.set(I.id, D);
                                                    }
                                                    return (
                                                      _.variants.forEach(
                                                        function (i) {
                                                          i.audio &&
                                                            x
                                                              .get(i.audio.id)
                                                              .variantIds.push(
                                                                i.id
                                                              ),
                                                            i.video &&
                                                              x
                                                                .get(i.video.id)
                                                                .variantIds.push(
                                                                  i.id
                                                                );
                                                        }
                                                      ),
                                                      {
                                                        startTime: _.startTime,
                                                        streams: Array.from(
                                                          x.values()
                                                        ),
                                                      }
                                                    );
                                                  })(i, a, o, x, m, p);
                                                }),
                                                D = p.a,
                                                j = yc(p);
                                              if (
                                                D &&
                                                i.a.offline.usePersistentLicense
                                              ) {
                                                if (!j.length)
                                                  throw new A(2, 9, 9007, _);
                                                D.initData = [];
                                              }
                                              return {
                                                originalManifestUri: _,
                                                duration:
                                                  m.presentationTimeline.T(),
                                                size: 0,
                                                expiration: p.Hb(),
                                                periods: I,
                                                sessionIds: i.a.offline
                                                  .usePersistentLicense
                                                  ? j
                                                  : [],
                                                drmInfo: D,
                                                appMetadata: w,
                                              };
                                            })(i, x, a, o, p, m, _)),
                                          u(
                                            j,
                                            (function Fh(i) {
                                              return t(function d() {
                                                return v(d, function (a) {
                                                  switch (a.j) {
                                                    case 1:
                                                      return u(
                                                        a,
                                                        Promise.all(
                                                          i.c.values()
                                                        ),
                                                        2
                                                      );
                                                    case 2:
                                                      return a['return'](i.a);
                                                  }
                                                });
                                              });
                                            })(x),
                                            4
                                          )
                                        );
                                      case 4:
                                        return (D.size = j.u), j['return'](I);
                                      case 2:
                                        return ua(j), u(j, x.destroy(), 5);
                                      case 5:
                                        va(j, 0);
                                    }
                                  });
                                });
                              })(i, x.W, _, m, a, o),
                              9
                            )
                          );
                        case 9:
                          if (((D = $.u), Xj(i), I)) throw I;
                          return u($, x.W.addManifests([D]), 10);
                        case 10:
                          return (
                            (j = $.u),
                            Xj(i),
                            (K = new ni('manifest', x.path.ja, x.path.W, j[0])),
                            $['return'](Ej(K, D))
                          );
                        case 4:
                          return (
                            ua($), (i.g = !1), (i.c = []), u($, w.destroy(), 11)
                          );
                        case 11:
                          if (!_) {
                            $.A(12);
                            break;
                          }
                          return u($, _.destroy(), 12);
                        case 12:
                          va($, 0);
                          break;
                        case 3:
                          if (((q = ta($)), !x)) {
                            $.A(14);
                            break;
                          }
                          return u(
                            $,
                            x.W.removeSegments(i.c, function () {}),
                            14
                          );
                        case 14:
                          throw I || q;
                      }
                    });
                  });
                })(this, i, a || {}, function () {
                  return t(function g() {
                    var a, m;
                    return v(g, function (_) {
                      switch (_.j) {
                        case 1:
                          return o && 'string' != typeof o
                            ? (Re(
                                'Storing with a manifest parser factory',
                                'Please register a manifest parser and for the mime-type.'
                              ),
                              (a = o),
                              _['return'](new a()))
                            : u(
                                _,
                                ze(i, p.b, p.a.manifest.retryParameters, o),
                                2
                              );
                        case 2:
                          return (m = _.u), _['return'](m);
                      }
                    });
                  });
                })
              );
            }),
            (Y.prototype.store = Y.prototype.store),
            (Y.prototype.remove = function (i) {
              return Tj(
                this,
                (function dk(i, a) {
                  Vj();
                  var o = oi(a);
                  if (null == o || 'manifest' != o.a)
                    return Promise.reject(new A(2, 9, 9004, a));
                  var p = new Nh();
                  return xi([p], function () {
                    return t(function g() {
                      var a, m, _;
                      return v(g, function (w) {
                        switch (w.j) {
                          case 1:
                            return u(w, p.init(), 2);
                          case 2:
                            return u(w, Rh(p, o.ja(), o.W()), 3);
                          case 3:
                            return u(w, (a = w.u).getManifests([o.key()]), 4);
                          case 4:
                            return (
                              (m = w.u),
                              (_ = m[0]),
                              u(
                                w,
                                Promise.all([ek(i, _, p), fk(i, a, o, _)]),
                                0
                              )
                            );
                        }
                      });
                    });
                  });
                })(this, i)
              );
            }),
            (Y.prototype.remove = Y.prototype.remove),
            (Y.prototype.Je = function () {
              return Tj(
                this,
                (function jk(i) {
                  Vj();
                  var a = i.b,
                    o = i.a.drm,
                    p = new Nh();
                  return xi([p], function () {
                    return t(function g() {
                      var i, m, _, w, x, I, D;
                      return v(g, function (j) {
                        switch (j.j) {
                          case 1:
                            return u(j, p.init(), 2);
                          case 2:
                            (i = !1),
                              (m = []),
                              (function Sh(i, a) {
                                i.a.forEach(function (i) {
                                  a(i.getEmeSessionCell());
                                });
                              })(p, function (i) {
                                return m.push(i);
                              }),
                              (_ = r(m)),
                              (w = _.next());
                          case 3:
                            if (w.done) {
                              j.A(5);
                              break;
                            }
                            return u(j, (x = w.value).getAll(), 6);
                          case 6:
                            return (I = j.u), u(j, Ai(o, a, I), 7);
                          case 7:
                            return (D = j.u), u(j, x.remove(D), 8);
                          case 8:
                            D.length != I.length && (i = !0),
                              (w = _.next()),
                              j.A(3);
                            break;
                          case 5:
                            return j['return'](!i);
                        }
                      });
                    });
                  });
                })(this)
              );
            }),
            (Y.prototype.removeEmeSessions = Y.prototype.Je),
            (Y.prototype.list = function () {
              return Tj(
                this,
                (function kk() {
                  function b(a, o) {
                    return t(function h() {
                      return v(h, function (p) {
                        switch (p.j) {
                          case 1:
                            return u(p, o.getAllManifests(), 2);
                          case 2:
                            p.u.forEach(function (o, p) {
                              var m = Ej(new ni('manifest', a.ja, a.W, p), o);
                              i.push(m);
                            }),
                              (p.j = 0);
                        }
                      });
                    });
                  }
                  Vj();
                  var i = [],
                    a = new Nh();
                  return xi([a], function () {
                    return t(function f() {
                      var i;
                      return v(f, function (o) {
                        switch (o.j) {
                          case 1:
                            return u(o, a.init(), 2);
                          case 2:
                            return (
                              (i = Promise.resolve()),
                              (function Qh(i, a) {
                                i.a.forEach(function (i, o) {
                                  i.getCells().forEach(function (i, p) {
                                    a({ ja: o, W: p }, i);
                                  });
                                });
                              })(a, function (a, o) {
                                i = i.then(function () {
                                  return b(a, o);
                                });
                              }),
                              u(o, i, 0)
                            );
                        }
                      });
                    });
                  }).then(function () {
                    return i;
                  });
                })()
              );
            }),
            (Y.prototype.list = Y.prototype.list),
            (Y.deleteAll = function () {
              return t(function c() {
                var i;
                return v(c, function (a) {
                  switch (a.j) {
                    case 1:
                      return (i = new Nh()), ra(a, 2), u(a, i.erase(), 2);
                    case 2:
                      return ua(a), u(a, i.destroy(), 5);
                    case 5:
                      va(a, 0);
                  }
                });
              });
            }),
            (It.offline = Sj),
            y('veygo.polyfill.installAll', function () {
              for (var i = 0; i < Lt.length; ++i) Lt[i].Ad();
            });
          var Dt,
            Ot,
            Lt = [];
          function sk(i, a) {
            for (
              var o = { priority: (a = a || 0), Ad: i }, p = 0;
              p < Lt.length;
              p++
            )
              if (Lt[p].priority < a) return void Lt.splice(p, 0, o);
            Lt.push(o);
          }
          function tk(i) {
            var a = i.type.replace(/^(webkit|moz|MS)/, '').toLowerCase();
            if ('function' == typeof Event) var o = new Event(a, i);
            else
              (o = document.createEvent('Event')).initEvent(
                a,
                i.bubbles,
                i.cancelable
              );
            i.target.dispatchEvent(o);
          }
          function vk(i, a, o) {
            if ('input' == i)
              switch (this.type) {
                case 'range':
                  i = 'change';
              }
            Dt.call(this, i, a, o);
          }
          function wk() {
            var i = MediaSource.prototype.addSourceBuffer;
            MediaSource.prototype.addSourceBuffer = function (a) {
              for (var o = [], p = 0; p < arguments.length; ++p)
                o[p] = arguments[p];
              return ((o = i.apply(this, o)).abort = function () {}), o;
            };
          }
          function zk(i) {
            var a = i.target,
              o = a.mediaSource_;
            if (o.Vc) {
              for (
                i.preventDefault(),
                  i.stopPropagation(),
                  i.stopImmediatePropagation(),
                  a.Ic = !0,
                  i = 0;
                i < o.sourceBuffers.length;
                ++i
              )
                if (0 == o.sourceBuffers[i].Ic) return;
              o.Vc = !1;
            }
          }
          function Ak(i) {
            i = i.target;
            for (var a = 0; a < i.sourceBuffers.length; ++a)
              i.sourceBuffers[a].removeEventListener('updateend', zk, !1);
            i.removeEventListener('sourceclose', Ak, !1);
          }
          function Ek(i) {
            (this.f = []),
              (this.b = []),
              (this.a = []),
              new P().aa('pssh', this.c.bind(this)).parse(i.buffer);
          }
          function Fk(i, a) {
            try {
              var o = new Gk(i, a);
              return Promise.resolve(o);
            } catch (p) {
              return Promise.reject(p);
            }
          }
          function Gk(i, a) {
            this.keySystem = i;
            for (var o = !1, p = 0; p < a.length; ++p) {
              var m = a[p],
                _ = {
                  audioCapabilities: [],
                  videoCapabilities: [],
                  persistentState: 'optional',
                  distinctiveIdentifier: 'optional',
                  initDataTypes: m.initDataTypes,
                  sessionTypes: ['temporary'],
                  label: m.label,
                },
                w = !1;
              if (m.audioCapabilities)
                for (var x = 0; x < m.audioCapabilities.length; ++x) {
                  var I = m.audioCapabilities[x];
                  if (I.contentType) {
                    w = !0;
                    var D = I.contentType.split(';')[0];
                    MSMediaKeys.isTypeSupported(this.keySystem, D) &&
                      (_.audioCapabilities.push(I), (o = !0));
                  }
                }
              if (m.videoCapabilities)
                for (x = 0; x < m.videoCapabilities.length; ++x)
                  (I = m.videoCapabilities[x]).contentType &&
                    ((w = !0),
                    (D = I.contentType.split(';')[0]),
                    MSMediaKeys.isTypeSupported(this.keySystem, D) &&
                      (_.videoCapabilities.push(I), (o = !0)));
              if (
                (w ||
                  (o = MSMediaKeys.isTypeSupported(
                    this.keySystem,
                    'video/mp4'
                  )),
                'required' == m.persistentState && (o = !1),
                o)
              )
                return void (this.a = _);
            }
            throw (
              (((o = Error('Unsupported keySystem')).name =
                'NotSupportedError'),
              (o.code = DOMException.NOT_SUPPORTED_ERR),
              o)
            );
          }
          function Ik(i) {
            var a = this.mediaKeys;
            return (
              a && a != i && Jk(a, null),
              delete this.mediaKeys,
              (this.mediaKeys = i) ? Jk(i, this) : Promise.resolve()
            );
          }
          function Hk(i) {
            (this.a = new MSMediaKeys(i)), (this.b = new Eb());
          }
          function Jk(i, a) {
            if ((Fb(i.b), !a)) return Promise.resolve();
            F(i.b, a, 'msneedkey', Lk);
            var o = i;
            try {
              return (
                1 <= a.readyState
                  ? a.msSetMediaKeys(i.a)
                  : a.addEventListener('loadedmetadata', function d() {
                      a.msSetMediaKeys(o.a),
                        a.removeEventListener('loadedmetadata', d);
                    }),
                Promise.resolve()
              );
            } catch (p) {
              return Promise.reject(p);
            }
          }
          function Kk(i) {
            qb.call(this),
              (this.c = null),
              (this.g = i),
              (this.b = this.a = null),
              (this.f = new Eb()),
              (this.sessionId = ''),
              (this.expiration = NaN),
              (this.closed = new z()),
              (this.keyStatuses = new Mk());
          }
          function Lk(i) {
            if (i.initData) {
              var a = document.createEvent('CustomEvent');
              a.initCustomEvent('encrypted', !1, !1, null),
                (a.initDataType = 'cenc'),
                (a.initData = (function Ok(i) {
                  if (!i) return i;
                  var a = new Ek(i);
                  if (1 >= a.a.length) return i;
                  for (var o = [], p = 0; p < a.a.length; p++)
                    o.push(i.subarray(a.a[p].start, a.a[p].end + 1));
                  for (
                    i = [], a = {}, p = r(o), o = p.next();
                    !o.done;
                    a = { Jb: a.Jb }, o = p.next()
                  )
                    (a.Jb = o.value),
                      i.some(
                        (function (i) {
                          return function (a) {
                            return ac(a, i.Jb);
                          };
                        })(a)
                      ) || i.push(a.Jb);
                  for (a = 0, p = r(i), o = p.next(); !o.done; o = p.next())
                    a += o.value.length;
                  for (
                    a = new Uint8Array(a), p = 0, i = r(i), o = i.next();
                    !o.done;
                    o = i.next()
                  )
                    (o = o.value), a.set(o, p), (p += o.length);
                  return a;
                })(i.initData)),
                this.dispatchEvent(a);
            }
          }
          function Nk(i, a) {
            var o = i.keyStatuses;
            (o.size = null == a ? 0 : 1),
              (o.a = a),
              i.dispatchEvent(new C('keystatuseschange'));
          }
          function Mk() {
            (this.size = 0), (this.a = void 0);
          }
          function Qk() {
            return Promise.reject(
              Error('The key system specified is not supported.')
            );
          }
          function Rk(i) {
            return null == i
              ? Promise.resolve()
              : Promise.reject(Error('MediaKeys not supported.'));
          }
          function Sk() {
            throw new TypeError('Illegal constructor.');
          }
          function Tk() {
            throw new TypeError('Illegal constructor.');
          }
          y('veygo.polyfill.register', sk),
            sk(function () {
              if (i.Document) {
                var a = Element.prototype;
                (a.requestFullscreen =
                  a.requestFullscreen ||
                  a.mozRequestFullScreen ||
                  a.msRequestFullscreen ||
                  a.webkitRequestFullscreen),
                  ((a = Document.prototype).exitFullscreen =
                    a.exitFullscreen ||
                    a.mozCancelFullScreen ||
                    a.msExitFullscreen ||
                    a.webkitExitFullscreen),
                  'fullscreenElement' in document ||
                    (Object.defineProperty(document, 'fullscreenElement', {
                      get: function get() {
                        return (
                          document.mozFullScreenElement ||
                          document.msFullscreenElement ||
                          document.webkitFullscreenElement
                        );
                      },
                    }),
                    Object.defineProperty(document, 'fullscreenEnabled', {
                      get: function get() {
                        return (
                          document.mozFullScreenEnabled ||
                          document.msFullscreenEnabled ||
                          document.webkitFullscreenEnabled
                        );
                      },
                    })),
                  document.addEventListener('webkitfullscreenchange', tk),
                  document.addEventListener('webkitfullscreenerror', tk),
                  document.addEventListener('mozfullscreenchange', tk),
                  document.addEventListener('mozfullscreenerror', tk),
                  document.addEventListener('MSFullscreenChange', tk),
                  document.addEventListener('MSFullscreenError', tk);
              }
            }),
            sk(function () {
              Rb('CrKey') && delete i.indexedDB;
            }),
            sk(function () {
              Rb('Trident/') &&
                HTMLInputElement.prototype.addEventListener != vk &&
                ((Dt = HTMLInputElement.prototype.addEventListener),
                (HTMLInputElement.prototype.addEventListener = vk));
            }),
            sk(function () {}),
            sk(function () {
              if (i.MediaSource)
                if (
                  i.cast &&
                  cast.__platform__ &&
                  cast.__platform__.canDisplayType
                )
                  !(function Dk() {
                    var i = MediaSource.isTypeSupported,
                      a = /^dv(?:he|av)\./;
                    MediaSource.isTypeSupported = function (o) {
                      for (
                        var p = o.split(/ *; */), m = p[0], _ = {}, w = 1;
                        w < p.length;
                        ++w
                      ) {
                        var x = p[w].split('='),
                          I = x[0];
                        (x = x[1].replace(/"(.*)"/, '$1')), (_[I] = x);
                      }
                      if (!(p = _.codecs)) return i(o);
                      var D = !1,
                        j = !1;
                      for (var K in ((o = p.split(',').filter(function (i) {
                        return a.test(i)
                          ? ((j = !0), !1)
                          : (/^(hev|hvc)1\.2/.test(i) && (D = !0), !0);
                      })),
                      j && (D = !1),
                      (_.codecs = o.join(',')),
                      D && (_.eotf = 'smpte2084'),
                      _))
                        m += '; ' + K + '="' + _[K] + '"';
                      return cast.__platform__.canDisplayType(m);
                    };
                  })();
                else if (
                  navigator.vendor &&
                  navigator.vendor.includes('Apple')
                ) {
                  var a = navigator.appVersion;
                  !(function Bk() {
                    var i = MediaSource.isTypeSupported;
                    MediaSource.isTypeSupported = function (a) {
                      return (
                        'mp2t' != a.split(/ *; */)[0].split('/')[1] && i(a)
                      );
                    };
                  })(),
                    a.includes('Version/8')
                      ? (i.MediaSource = null)
                      : a.includes('Version/9')
                      ? wk()
                      : a.includes('Version/10')
                      ? (wk(),
                        (function yk() {
                          var i = MediaSource.prototype.endOfStream;
                          MediaSource.prototype.endOfStream = function (a) {
                            for (var o = [], p = 0; p < arguments.length; ++p)
                              o[p] = arguments[p];
                            for (
                              var m = (p = 0);
                              m < this.sourceBuffers.length;
                              ++m
                            ) {
                              var _ = this.sourceBuffers[m];
                              (_ = _.buffered.end(_.buffered.length - 1)),
                                (p = Math.max(p, _));
                            }
                            if (!isNaN(this.duration) && p < this.duration)
                              for (
                                this.Vc = !0, p = 0;
                                p < this.sourceBuffers.length;
                                ++p
                              )
                                this.sourceBuffers[p].Ic = !1;
                            return i.apply(this, o);
                          };
                          var a = !1,
                            o = MediaSource.prototype.addSourceBuffer;
                          MediaSource.prototype.addSourceBuffer = function (i) {
                            for (var p = [], m = 0; m < arguments.length; ++m)
                              p[m] = arguments[m];
                            return (
                              ((p = o.apply(this, p)).mediaSource_ = this),
                              p.addEventListener('updateend', zk, !1),
                              a ||
                                (this.addEventListener('sourceclose', Ak, !1),
                                (a = !0)),
                              p
                            );
                          };
                        })())
                      : (a.includes('Version/11') ||
                          a.includes('Version/12')) &&
                        (wk(),
                        (function xk() {
                          var i = SourceBuffer.prototype.remove;
                          SourceBuffer.prototype.remove = function (a, o) {
                            return i.call(this, a, o - 0.001);
                          };
                        })());
                } else
                  Rb('Tizen') &&
                    (function Ck() {
                      var i = MediaSource.isTypeSupported;
                      MediaSource.isTypeSupported = function (a) {
                        return 'opus' != Qb(a)[0] && i(a);
                      };
                    })();
            }),
            (Ek.prototype.c = function (i) {
              if (!(1 < i.version)) {
                var a = $b(i.reader.Ka(16)),
                  o = [];
                if (0 < i.version)
                  for (var p = i.reader.B(), m = 0; m < p; ++m) {
                    var _ = $b(i.reader.Ka(16));
                    o.push(_);
                  }
                (p = i.reader.B()),
                  i.reader.I(p),
                  this.b.push.apply(this.b, o),
                  this.f.push(a),
                  this.a.push({ start: i.start, end: i.start + i.size - 1 });
              }
            }),
            (Gk.prototype.createMediaKeys = function () {
              var i = new Hk(this.keySystem);
              return Promise.resolve(i);
            }),
            (Gk.prototype.getConfiguration = function () {
              return this.a;
            }),
            (Hk.prototype.createSession = function (i) {
              if ('temporary' != (i = i || 'temporary'))
                throw new TypeError(
                  'Session type ' + i + ' is unsupported on this platform.'
                );
              return new Kk(this.a, i);
            }),
            (Hk.prototype.setServerCertificate = function () {
              return Promise.resolve(!1);
            }),
            Ga(Kk, qb),
            ((o = Kk.prototype).generateRequest = function (i, a) {
              this.a = new z();
              try {
                (this.c = this.g.createSession(
                  'video/mp4',
                  new Uint8Array(a),
                  null
                )),
                  F(this.f, this.c, 'mskeymessage', this.pe.bind(this)),
                  F(this.f, this.c, 'mskeyadded', this.ne.bind(this)),
                  F(this.f, this.c, 'mskeyerror', this.oe.bind(this)),
                  Nk(this, 'status-pending');
              } catch (o) {
                this.a.reject(o);
              }
              return this.a;
            }),
            (o.load = function () {
              return Promise.reject(
                Error('MediaKeySession.load not yet supported')
              );
            }),
            (o.update = function (i) {
              this.b = new z();
              try {
                this.c.update(new Uint8Array(i));
              } catch (a) {
                this.b.reject(a);
              }
              return this.b;
            }),
            (o.close = function () {
              try {
                this.c.close(), this.closed.resolve(), Fb(this.f);
              } catch (x) {
                this.closed.reject(x);
              }
              return this.closed;
            }),
            (o.remove = function () {
              return Promise.reject(
                Error(
                  'MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform'
                )
              );
            }),
            (o.pe = function (i) {
              this.a && (this.a.resolve(), (this.a = null)),
                this.dispatchEvent(
                  new C('message', {
                    messageType:
                      null == this.keyStatuses.a
                        ? 'license-request'
                        : 'license-renewal',
                    message: i.message.buffer,
                  })
                );
            }),
            (o.ne = function () {
              this.a
                ? (Nk(this, 'usable'), this.a.resolve(), (this.a = null))
                : this.b &&
                  (Nk(this, 'usable'), this.b.resolve(), (this.b = null));
            }),
            (o.oe = function () {
              var i = Error('EME PatchedMediaKeysMs key error');
              if (((i.errorCode = this.c.error), null != this.a))
                this.a.reject(i), (this.a = null);
              else if (null != this.b) this.b.reject(i), (this.b = null);
              else
                switch (this.c.error.code) {
                  case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:
                  case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:
                    Nk(this, 'output-not-allowed');
                    break;
                  default:
                    Nk(this, 'internal-error');
                }
            }),
            ((o = Mk.prototype).forEach = function (i) {
              this.a && i(this.a, Ot);
            }),
            (o.get = function (i) {
              if (this.has(i)) return this.a;
            }),
            (o.has = function (i) {
              var a = Ot;
              return !(!this.a || !ac(new Uint8Array(i), new Uint8Array(a)));
            }),
            (o.entries = function () {}),
            (o.keys = function () {}),
            (o.values = function () {}),
            sk(function () {
              !i.HTMLVideoElement ||
                !i.MSMediaKeys ||
                (navigator.requestMediaKeySystemAccess &&
                  MediaKeySystemAccess.prototype.getConfiguration) ||
                ((Ot = new Uint8Array([0]).buffer),
                delete HTMLMediaElement.prototype.mediaKeys,
                (HTMLMediaElement.prototype.mediaKeys = null),
                (HTMLMediaElement.prototype.setMediaKeys = Ik),
                (i.MediaKeys = Hk),
                (i.MediaKeySystemAccess = Gk),
                (navigator.requestMediaKeySystemAccess = Fk));
            }),
            (Sk.prototype.createSession = function () {}),
            (Sk.prototype.setServerCertificate = function () {}),
            (Tk.prototype.getConfiguration = function () {}),
            (Tk.prototype.createMediaKeys = function () {}),
            sk(function () {
              !i.HTMLVideoElement ||
                (navigator.requestMediaKeySystemAccess &&
                  MediaKeySystemAccess.prototype.getConfiguration) ||
                ((navigator.requestMediaKeySystemAccess = Qk),
                delete HTMLMediaElement.prototype.mediaKeys,
                (HTMLMediaElement.prototype.mediaKeys = null),
                (HTMLMediaElement.prototype.setMediaKeys = Rk),
                (i.MediaKeys = Sk),
                (i.MediaKeySystemAccess = Tk));
            }, -10);
          var Mt,
            Nt = '';
          function Vk(i) {
            return Nt ? Nt + i.charAt(0).toUpperCase() + i.slice(1) : i;
          }
          function Wk(i, a) {
            try {
              var o = new Xk(i, a);
              return Promise.resolve(o);
            } catch (p) {
              return Promise.reject(p);
            }
          }
          function Yk(i) {
            var a = this.mediaKeys;
            return (
              a && a != i && Zk(a, null),
              delete this.mediaKeys,
              (this.mediaKeys = i) && Zk(i, this),
              Promise.resolve()
            );
          }
          function Xk(i, a) {
            this.a = this.keySystem = i;
            var o = !1;
            'org.w3.clearkey' == i &&
              ((this.a = 'webkit-org.w3.clearkey'), (o = !1));
            var p = !1,
              m = document.getElementsByTagName('video');
            m = m.length ? m[0] : document.createElement('video');
            for (var _ = 0; _ < a.length; ++_) {
              var w = a[_],
                x = {
                  audioCapabilities: [],
                  videoCapabilities: [],
                  persistentState: 'optional',
                  distinctiveIdentifier: 'optional',
                  initDataTypes: w.initDataTypes,
                  sessionTypes: ['temporary'],
                  label: w.label,
                },
                I = !1;
              if (w.audioCapabilities)
                for (var D = 0; D < w.audioCapabilities.length; ++D) {
                  var j = w.audioCapabilities[D];
                  if (j.contentType) {
                    I = !0;
                    var K = j.contentType.split(';')[0];
                    m.canPlayType(K, this.a) &&
                      (x.audioCapabilities.push(j), (p = !0));
                  }
                }
              if (w.videoCapabilities)
                for (D = 0; D < w.videoCapabilities.length; ++D)
                  (j = w.videoCapabilities[D]).contentType &&
                    ((I = !0),
                    m.canPlayType(j.contentType, this.a) &&
                      (x.videoCapabilities.push(j), (p = !0)));
              if (
                (I ||
                  (p =
                    m.canPlayType('video/mp4', this.a) ||
                    m.canPlayType('video/webm', this.a)),
                'required' == w.persistentState &&
                  (o
                    ? ((x.persistentState = 'required'),
                      (x.sessionTypes = ['persistent-license']))
                    : (p = !1)),
                p)
              )
                return void (this.b = x);
            }
            throw (
              ((o = 'Unsupported keySystem'),
              ('org.w3.clearkey' != i && 'com.widevine.alpha' != i) ||
                (o = 'None of the requested configurations were supported.'),
              ((o = Error(o)).name = 'NotSupportedError'),
              (o.code = DOMException.NOT_SUPPORTED_ERR),
              o)
            );
          }
          function $k(i) {
            (this.g = i),
              (this.b = null),
              (this.a = new Eb()),
              (this.c = []),
              (this.f = {});
          }
          function Zk(i, a) {
            (i.b = a), Fb(i.a);
            var o = Nt;
            a &&
              (F(i.a, a, o + 'needkey', i.ze.bind(i)),
              F(i.a, a, o + 'keymessage', i.ye.bind(i)),
              F(i.a, a, o + 'keyadded', i.we.bind(i)),
              F(i.a, a, o + 'keyerror', i.xe.bind(i)));
          }
          function bl(i, a) {
            var o = i.f[a];
            return (
              o ||
              ((o = i.c.shift()) ? ((o.sessionId = a), (i.f[a] = o)) : null)
            );
          }
          function al(i, a, o) {
            qb.call(this),
              (this.f = i),
              (this.h = !1),
              (this.a = this.b = null),
              (this.c = a),
              (this.g = o),
              (this.sessionId = ''),
              (this.expiration = NaN),
              (this.closed = new z()),
              (this.keyStatuses = new dl());
          }
          function el(i, a, o) {
            if (i.h)
              return Promise.reject(
                Error('The session is already initialized.')
              );
            i.h = !0;
            try {
              if ('persistent-license' == i.g)
                if (o) var p = new Uint8Array(Wb('LOAD_SESSION|' + o));
                else {
                  var m = Wb('PERSISTENT|'),
                    w = new Uint8Array(m.byteLength + a.byteLength);
                  w.set(new Uint8Array(m), 0),
                    w.set(new Uint8Array(a), m.byteLength),
                    (p = w);
                }
              else p = new Uint8Array(a);
            } catch (_) {
              return Promise.reject(_);
            }
            i.b = new z();
            var x = Vk('generateKeyRequest');
            try {
              i.f[x](i.c, p);
            } catch (_) {
              if ('InvalidStateError' != _.name)
                return (i.b = null), Promise.reject(_);
              setTimeout(
                function () {
                  try {
                    this.f[x](this.c, p);
                  } catch (i) {
                    this.b.reject(i), (this.b = null);
                  }
                }.bind(i),
                10
              );
            }
            return i.b;
          }
          function cl(i, a) {
            var o = i.keyStatuses;
            (o.size = null == a ? 0 : 1),
              (o.a = a),
              i.dispatchEvent(new C('keystatuseschange'));
          }
          function dl() {
            (this.size = 0), (this.a = void 0);
          }
          function gl() {
            return {
              droppedVideoFrames: this.webkitDroppedFrameCount,
              totalVideoFrames: this.webkitDecodedFrameCount,
              corruptedVideoFrames: 0,
              creationTime: NaN,
              totalFrameDelay: 0,
            };
          }
          function hl(a, o, p) {
            return new i.TextTrackCue(a, o, p);
          }
          function il(a, o, p) {
            return new i.TextTrackCue(a + '-' + o + '-' + p, a, o, p);
          }
          function id(i, a, o) {
            (this.startTime = i),
              (this.direction = Ht),
              (this.endTime = a),
              (this.payload = o),
              (this.region = new kl()),
              (this.position = null),
              (this.positionAlign = Ft),
              (this.size = 100),
              (this.textAlign = Ut),
              (this.writingMode = Vt),
              (this.lineInterpretation = Wt),
              (this.line = null),
              (this.lineHeight = ''),
              (this.lineAlign = Kt),
              (this.displayAlign = jt),
              (this.fontSize = this.backgroundColor = this.color = ''),
              (this.fontWeight = qt),
              (this.fontStyle = Yt),
              (this.fontFamily = ''),
              (this.textDecoration = []),
              (this.wrapLine = !0),
              (this.id = ''),
              (this.a = null),
              (this.b = []);
          }
          (Xk.prototype.createMediaKeys = function () {
            var i = new $k(this.a);
            return Promise.resolve(i);
          }),
            (Xk.prototype.getConfiguration = function () {
              return this.b;
            }),
            ((o = $k.prototype).createSession = function (i) {
              if (
                'temporary' != (i = i || 'temporary') &&
                'persistent-license' != i
              )
                throw new TypeError(
                  'Session type ' + i + ' is unsupported on this platform.'
                );
              var a = this.b || document.createElement('video');
              return (
                a.src || (a.src = 'about:blank'),
                (i = new al(a, this.g, i)),
                this.c.push(i),
                i
              );
            }),
            (o.setServerCertificate = function () {
              return Promise.resolve(!1);
            }),
            (o.ze = function (i) {
              var a = document.createEvent('CustomEvent');
              a.initCustomEvent('encrypted', !1, !1, null),
                (a.initDataType = 'webm'),
                (a.initData = i.initData),
                this.b.dispatchEvent(a);
            }),
            (o.ye = function (i) {
              var a = bl(this, i.sessionId);
              a &&
                ((i = new C('message', {
                  messageType:
                    null == a.keyStatuses.a
                      ? 'licenserequest'
                      : 'licenserenewal',
                  message: i.message,
                })),
                a.b && (a.b.resolve(), (a.b = null)),
                a.dispatchEvent(i));
            }),
            (o.we = function (i) {
              (i = bl(this, i.sessionId)) &&
                (cl(i, 'usable'), i.a && i.a.resolve(), (i.a = null));
            }),
            (o.xe = function (i) {
              var a = bl(this, i.sessionId);
              if (a) {
                var o = Error('EME v0.1b key error');
                (o.errorCode = i.errorCode),
                  (o.errorCode.systemCode = i.systemCode),
                  !i.sessionId && a.b
                    ? ((o.method = 'generateRequest'),
                      45 == i.systemCode &&
                        (o.message = 'Unsupported session type.'),
                      a.b.reject(o),
                      (a.b = null))
                    : i.sessionId && a.a
                    ? ((o.method = 'update'), a.a.reject(o), (a.a = null))
                    : ((o = i.systemCode),
                      i.errorCode.code == MediaKeyError.MEDIA_KEYERR_OUTPUT
                        ? cl(a, 'output-restricted')
                        : cl(a, 1 == o ? 'expired' : 'internal-error'));
              }
            }),
            Ga(al, qb),
            ((o = al.prototype).pc = function (i, a) {
              if (this.a)
                this.a
                  .then(this.pc.bind(this, i, a))
                  ['catch'](this.pc.bind(this, i, a));
              else {
                if (((this.a = i), 'webkit-org.w3.clearkey' == this.c)) {
                  var o = Sb(a),
                    p = JSON.parse(o);
                  'oct' != p.keys[0].kty &&
                    (this.a.reject(
                      Error('Response is not a valid JSON Web Key Set.')
                    ),
                    (this.a = null)),
                    (o = Yb(p.keys[0].k)),
                    (p = Yb(p.keys[0].kid));
                } else (o = new Uint8Array(a)), (p = null);
                var m = Vk('addKey');
                try {
                  this.f[m](this.c, o, p, this.sessionId);
                } catch (_) {
                  this.a.reject(_), (this.a = null);
                }
              }
            }),
            (o.generateRequest = function (i, a) {
              return el(this, a, null);
            }),
            (o.load = function (i) {
              return 'persistent-license' == this.g
                ? el(this, null, i)
                : Promise.reject(Error('Not a persistent session.'));
            }),
            (o.update = function (i) {
              var a = new z();
              return this.pc(a, i), a;
            }),
            (o.close = function () {
              if ('persistent-license' != this.g) {
                if (!this.sessionId)
                  return (
                    this.closed.reject(Error('The session is not callable.')),
                    this.closed
                  );
                var i = Vk('cancelKeyRequest');
                try {
                  this.f[i](this.c, this.sessionId);
                } catch (a) {}
              }
              return this.closed.resolve(), this.closed;
            }),
            (o.remove = function () {
              return 'persistent-license' != this.g
                ? Promise.reject(Error('Not a persistent session.'))
                : this.close();
            }),
            ((o = dl.prototype).forEach = function (i) {
              this.a && i(this.a, Mt);
            }),
            (o.get = function (i) {
              if (this.has(i)) return this.a;
            }),
            (o.has = function (i) {
              var a = Mt;
              return !(!this.a || !ac(new Uint8Array(i), new Uint8Array(a)));
            }),
            (o.entries = function () {}),
            (o.keys = function () {}),
            (o.values = function () {}),
            sk(function () {
              if (
                !(
                  !i.HTMLVideoElement ||
                  (navigator.requestMediaKeySystemAccess &&
                    MediaKeySystemAccess.prototype.getConfiguration)
                )
              ) {
                if (HTMLMediaElement.prototype.webkitGenerateKeyRequest)
                  Nt = 'webkit';
                else if (!HTMLMediaElement.prototype.generateKeyRequest) return;
                (Mt = new Uint8Array([0]).buffer),
                  (navigator.requestMediaKeySystemAccess = Wk),
                  delete HTMLMediaElement.prototype.mediaKeys,
                  (HTMLMediaElement.prototype.mediaKeys = null),
                  (HTMLMediaElement.prototype.setMediaKeys = Yk),
                  (i.MediaKeys = $k),
                  (i.MediaKeySystemAccess = Xk);
              }
            }),
            sk(function () {
              if (i.HTMLVideoElement) {
                var a = HTMLVideoElement.prototype;
                !a.getVideoPlaybackQuality &&
                  'webkitDroppedFrameCount' in a &&
                  (a.getVideoPlaybackQuality = gl);
              }
            }),
            sk(function () {
              if (!i.VTTCue && i.TextTrackCue) {
                var a = TextTrackCue.length;
                if (3 == a) i.VTTCue = hl;
                else if (6 == a) i.VTTCue = il;
                else {
                  try {
                    var o = !!hl(1, 2, '');
                  } catch (p) {
                    o = !1;
                  }
                  o && (i.VTTCue = hl);
                }
              }
            }),
            y('veygo.text.Cue', id);
          var Ft = 'auto';
          id.positionAlign = {
            LEFT: 'line-left',
            RIGHT: 'line-right',
            CENTER: 'center',
            AUTO: Ft,
          };
          var Ut = 'center',
            Bt = {
              LEFT: 'left',
              RIGHT: 'right',
              CENTER: Ut,
              START: 'start',
              END: 'end',
            };
          id.textAlign = Bt;
          var jt = 'after',
            Gt = { BEFORE: 'before', CENTER: 'center', AFTER: jt };
          id.displayAlign = Gt;
          var Ht = 'ltr';
          id.direction = {
            HORIZONTAL_LEFT_TO_RIGHT: Ht,
            HORIZONTAL_RIGHT_TO_LEFT: 'rtl',
          };
          var Vt = 'horizontal-tb';
          id.writingMode = {
            HORIZONTAL_TOP_TO_BOTTOM: Vt,
            VERTICAL_LEFT_TO_RIGHT: 'vertical-lr',
            VERTICAL_RIGHT_TO_LEFT: 'vertical-rl',
          };
          var Wt = 0;
          id.lineInterpretation = { LINE_NUMBER: Wt, PERCENTAGE: 1 };
          var Kt = 'start',
            zt = { CENTER: 'center', START: Kt, END: 'end' };
          id.lineAlign = zt;
          var qt = 400;
          id.fontWeight = { NORMAL: qt, BOLD: 700 };
          var Yt = 'normal',
            Xt = { NORMAL: Yt, ITALIC: 'italic', OBLIQUE: 'oblique' };
          function kl() {
            (this.id = ''),
              (this.regionAnchorY =
                this.regionAnchorX =
                this.viewportAnchorY =
                this.viewportAnchorX =
                  0),
              (this.height = this.width = 100),
              (this.viewportAnchorUnits =
                this.widthUnits =
                this.heightUnits =
                  Jt),
              (this.scroll = $t);
          }
          (id.fontStyle = Xt),
            (id.textDecoration = {
              UNDERLINE: 'underline',
              LINE_THROUGH: 'lineThrough',
              OVERLINE: 'overline',
            }),
            y('veygo.text.CueRegion', kl);
          var Jt = 1;
          kl.units = { PX: 0, PERCENTAGE: Jt, LINES: 2 };
          var $t = '';
          function zl() {}
          (kl.scrollMode = { NONE: $t, UP: 'up' }),
            (zl.prototype.parseInit = function () {}),
            (zl.prototype.parseMedia = function (i, a) {
              var o = Sb(i),
                p = [],
                m = new DOMParser(),
                _ = null;
              try {
                _ = m.parseFromString(o, 'text/xml');
              } catch (Se) {
                throw new A(2, 2, 2005);
              }
              if (_) {
                if (!(m = _.getElementsByTagName('tt')[0]))
                  throw new A(2, 2, 2005);
                var w = st.getAttributeNS(
                    m,
                    'http://www.w3.org/ns/ttml#parameter',
                    'frameRate'
                  ),
                  x = st.getAttributeNS(
                    m,
                    'http://www.w3.org/ns/ttml#parameter',
                    'subFrameRate'
                  ),
                  I = st.getAttributeNS(
                    m,
                    'http://www.w3.org/ns/ttml#parameter',
                    'frameRateMultiplier'
                  ),
                  D = st.getAttributeNS(
                    m,
                    'http://www.w3.org/ns/ttml#parameter',
                    'tickRate'
                  );
                if (
                  'default' != (o = m.getAttribute('xml:space') || 'default') &&
                  'preserve' != o
                )
                  throw new A(2, 2, 2005);
                for (
                  o = 'default' == o,
                    w = new Al(w, x, I, D),
                    x = {},
                    _ = _.getElementsByTagName('smpte:image'),
                    I = 0;
                  I < _.length;
                  I++
                ) {
                  var j = (D = _.item(I)).getAttribute('xml:id');
                  x[j] = D.childNodes[0].data;
                }
                for (
                  _ = Bl(m.getElementsByTagName('styling')[0]),
                    I = Bl(m.getElementsByTagName('layout')[0]),
                    D = [],
                    j = 0;
                  j < I.length;
                  j++
                ) {
                  var K,
                    q = I[j],
                    $ = _,
                    Z = new kl(),
                    be = q.getAttribute('xml:id');
                  if (be)
                    (Z.id = be),
                      (K = Cl(q, $, 'extent')) &&
                        null != (K = (be = Qt.exec(K)) || er.exec(K)) &&
                        ((Z.width = Number(K[1])),
                        (Z.height = Number(K[2])),
                        (Z.widthUnits = be ? Jt : 0),
                        (Z.heightUnits = be ? Jt : 0)),
                      (q = Cl(q, $, 'origin')) &&
                        null != (K = (be = Qt.exec(q)) || er.exec(q)) &&
                        ((Z.viewportAnchorX = Number(K[1])),
                        (Z.viewportAnchorY = Number(K[2])),
                        (Z.viewportAnchorUnits = be ? Jt : 0));
                  else Z = null;
                  Z && D.push(Z);
                }
                for (
                  m = Bl(m.getElementsByTagName('body')[0]), j = 0;
                  j < m.length;
                  j++
                )
                  (Z = Fl(m[j], a.periodStart, w, _, I, D, o, x)) && p.push(Z);
              }
              return p;
            });
          var Qt = /^(\d{1,2}|100)% (\d{1,2}|100)%$/,
            Zt = /^(\d+px|\d+em|[\d\.]+%)$/,
            er = /^(\d+)px (\d+)px$/,
            tr = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,
            rr = /^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,
            nr = /^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,
            ir = /^(\d*(?:\.\d*)?)f$/,
            ar = /^(\d*(?:\.\d*)?)t$/,
            or =
              /^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,
            sr = {
              left: Kt,
              center: 'center',
              right: 'end',
              start: Kt,
              end: 'end',
            },
            ur = { left: 'line-left', center: 'center', right: 'line-right' };
          function Bl(i) {
            var a = [];
            if (!i) return a;
            for (var o = i.childNodes, p = 0; p < o.length; p++) {
              var m = 'span' == o[p].nodeName && 'p' == i.nodeName;
              o[p].nodeType != Node.ELEMENT_NODE ||
                'br' == o[p].nodeName ||
                m ||
                ((m = Bl(o[p])), (a = a.concat(m)));
            }
            return a.length || a.push(i), a;
          }
          function Fl(i, a, o, p, m, _, w, x) {
            if (
              !i.hasAttribute('begin') &&
              !i.hasAttribute('end') &&
              /^\s*$/.test(i.textContent)
            )
              return null;
            !(function Pl(i, a) {
              for (var o = i.childNodes, p = 0; p < o.length; p++)
                if ('br' == o[p].nodeName && 0 < p)
                  o[p - 1].textContent += '\n';
                else if (0 < o[p].childNodes.length) Pl(o[p], a);
                else if (a) {
                  var m = o[p].textContent.trim();
                  (m = m.replace(/\s+/g, ' ')), (o[p].textContent = m);
                }
            })(i, w),
              (w = Ql(i.getAttribute('begin'), o));
            var I = Ql(i.getAttribute('end'), o);
            o = Ql(i.getAttribute('dur'), o);
            var D = i.textContent;
            if ((null == I && null != o && (I = w + o), null == w || null == I))
              throw new A(2, 2, 2001);
            if (
              ((a = new id(w + a, I + a, D)),
              (m = Rl(i, 'region', m)) && m.getAttribute('xml:id'))
            ) {
              var j = m.getAttribute('xml:id');
              (_ = _.filter(function (i) {
                return i.id == j;
              })),
                (a.region = _[0]);
            }
            return (
              (function Sl(i, a, o, p) {
                'rtl' == Tl(a, o, p, 'direction') && (i.direction = 'rtl');
                var m = [32, 15],
                  _ = Tl(a, o, p, 'writingMode');
                'tb' == _ || 'tblr' == _
                  ? (i.writingMode = 'vertical-lr')
                  : 'tbrl' == _
                  ? (i.writingMode = 'vertical-rl')
                  : 'rltb' == _ || 'rl' == _
                  ? (i.direction = 'rtl')
                  : _ && (i.direction = Ht),
                  (_ = Tl(a, o, p, 'textAlign')) &&
                    ((i.positionAlign = ur[_]),
                    (i.lineAlign = sr[_]),
                    (i.textAlign = Bt[_.toUpperCase()]));
                (_ = Tl(a, o, p, 'displayAlign')) &&
                  (i.displayAlign = Gt[_.toUpperCase()]);
                (_ = Tl(a, o, p, 'tts:padding')) && (i.b = _.split(' '));
                (_ = Tl(a, o, p, 'color')) && (i.color = _);
                (_ = Tl(a, o, p, 'backgroundColor')) && (i.backgroundColor = _);
                (_ = Tl(a, o, p, 'fontFamily')) && (i.fontFamily = _);
                if (
                  ((_ = Tl(a, o, p, 'fontWeight')) &&
                    'bold' == _ &&
                    (i.fontWeight = 700),
                  (_ = Tl(a, o, p, 'wrapOption')) &&
                    'noWrap' == _ &&
                    (i.wrapLine = !1),
                  (_ = Tl(a, o, p, 'lineHeight')) &&
                    _.match(Zt) &&
                    (i.lineHeight = _),
                  (_ = Tl(a, o, p, 'fontSize')) && _.match(Zt))
                )
                  if (_.includes('%')) {
                    var w = parseInt(_, 10);
                    i.fontSize = 50 < w ? w / m[1] + '%' : _;
                  } else i.fontSize = _;
                (m = Tl(a, o, p, 'fontStyle')) &&
                  (i.fontStyle = Xt[m.toUpperCase()]);
                (o = Cl(o, p, 'textDecoration')) && Ul(i, o),
                  (a = Vl(a, p, 'textDecoration')) && Ul(i, a);
              })(a, i, m, p),
              i.getAttribute('smpte:backgroundImage') &&
                (x =
                  x[
                    (i = i.getAttribute('smpte:backgroundImage')).substring(1)
                  ]) &&
                (a.a = x),
              a.a &&
                15 === a.region.viewportAnchorX &&
                85 === a.region.viewportAnchorY &&
                85 === a.region.width &&
                15 === a.region.height &&
                (a.region.viewportAnchorX = 7.5),
              a.a &&
                7.5 === a.region.viewportAnchorX &&
                85 === a.region.viewportAnchorY &&
                85 === a.region.width &&
                15 === a.region.height &&
                (a.c = !0),
              a
            );
          }
          function Ul(i, a) {
            for (var o = a.split(' '), p = 0; p < o.length; p++)
              switch (o[p]) {
                case 'underline':
                  i.textDecoration.includes('underline') ||
                    i.textDecoration.push('underline');
                  break;
                case 'noUnderline':
                  i.textDecoration.includes('underline') &&
                    tb(i.textDecoration, 'underline');
                  break;
                case 'lineThrough':
                  i.textDecoration.includes('lineThrough') ||
                    i.textDecoration.push('lineThrough');
                  break;
                case 'noLineThrough':
                  i.textDecoration.includes('lineThrough') &&
                    tb(i.textDecoration, 'lineThrough');
                  break;
                case 'overline':
                  i.textDecoration.includes('overline') ||
                    i.textDecoration.push('overline');
                  break;
                case 'noOverline':
                  i.textDecoration.includes('overline') &&
                    tb(i.textDecoration, 'overline');
              }
          }
          function Tl(i, a, o, p) {
            return (i = Vl(i, o, p)) ? i : Cl(a, o, p);
          }
          function Cl(i, a, o) {
            for (var p = Bl(i), m = 0; m < p.length; m++) {
              var _ = st.getAttributeNS(
                p[m],
                'http://www.w3.org/ns/ttml#styling',
                o
              );
              if (_) return _;
            }
            for (i = Rl(i, 'style', a); i; ) {
              if (
                (p = st.getAttributeNS(
                  i,
                  'http://www.w3.org/ns/ttml#styling',
                  o
                ))
              )
                return p;
              i = Rl(i, 'style', a);
            }
            return null;
          }
          function Vl(i, a, o) {
            return (i = Rl(i, 'style', a))
              ? st.getAttributeNS(i, 'http://www.w3.org/ns/ttml#styling', o)
              : null;
          }
          function Rl(i, a, o) {
            if (!i || 1 > o.length) return null;
            var p = null,
              m = i;
            for (
              i = null;
              m &&
              !(i = m.getAttribute(a)) &&
              (m = m.parentNode) instanceof Element;

            );
            if ((a = i))
              for (i = 0; i < o.length; i++)
                if (o[i].getAttribute('xml:id') == a) {
                  p = o[i];
                  break;
                }
            return p;
          }
          function Ql(i, a) {
            var o = null;
            if (tr.test(i)) {
              o = tr.exec(i);
              var p = Number(o[1]),
                m = Number(o[2]),
                _ = Number(o[3]),
                w = Number(o[4]);
              o =
                (_ += (w += (Number(o[5]) || 0) / a.b) / a.frameRate) +
                60 * m +
                3600 * p;
            } else
              rr.test(i)
                ? (o = Wl(rr, i))
                : nr.test(i)
                ? (o = Wl(nr, i))
                : ir.test(i)
                ? ((o = ir.exec(i)), (o = Number(o[1]) / a.frameRate))
                : ar.test(i)
                ? ((o = ar.exec(i)), (o = Number(o[1]) / a.a))
                : or.test(i) && (o = Wl(or, i));
            return o;
          }
          function Wl(i, a) {
            var o = i.exec(a);
            return null == o || '' == o[0]
              ? null
              : (Number(o[4]) || 0) / 1e3 +
                  (Number(o[3]) || 0) +
                  60 * (Number(o[2]) || 0) +
                  3600 * (Number(o[1]) || 0);
          }
          function Al(i, a, o, p) {
            (this.frameRate = Number(i) || 30),
              (this.b = Number(a) || 1),
              (this.a = Number(p)),
              0 == this.a && (this.a = i ? this.frameRate * this.b : 1),
              o &&
                (i = /^(\d+) (\d+)$/g.exec(o)) &&
                (this.frameRate *= i[1] / i[2]);
          }
          function Xl() {
            this.a = new zl();
          }
          function Yl() {}
          function $l(i, a, o) {
            var p;
            (p = /^align:(start|middle|center|end|left|right)$/.exec(a))
              ? ((a = p[1]),
                (i.textAlign = 'middle' == a ? Ut : Bt[a.toUpperCase()]))
              : (p = /^vertical:(lr|rl)$/.exec(a))
              ? (i.writingMode = 'lr' == p[1] ? 'vertical-lr' : 'vertical-rl')
              : (p = /^size:([\d.]+)%$/.exec(a))
              ? (i.size = Number(p[1]))
              : (p =
                  /^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(
                    a
                  ))
              ? ((i.position = Number(p[1])),
                p[2] &&
                  ((a = p[2]),
                  (i.positionAlign =
                    'line-left' == a || 'start' == a
                      ? 'line-left'
                      : 'line-right' == a || 'end' == a
                      ? 'line-right'
                      : 'center')))
              : (p = /^region:(.*)$/.exec(a))
              ? (a = (function am(i, a) {
                  var o = i.filter(function (i) {
                    return i.id == a;
                  });
                  return o.length ? o[0] : null;
                })(o, p[1])) && (i.region = a)
              : (o = /^line:([\d.]+)%(?:,(start|end|center))?$/.exec(a))
              ? ((i.lineInterpretation = 1),
                (i.line = Number(o[1])),
                o[2] && (i.lineAlign = zt[o[2].toUpperCase()]))
              : (o = /^line:(-?\d+)(?:,(start|end|center))?$/.exec(a)) &&
                ((i.lineInterpretation = Wt),
                (i.line = Number(o[1])),
                o[2] && (i.lineAlign = zt[o[2].toUpperCase()]));
          }
          function Zl(i) {
            if (null == (i = ef(i, /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))
              return null;
            var a = Number(i[2]),
              o = Number(i[3]);
            return 59 < a || 59 < o
              ? null
              : Number(i[4]) / 1e3 + o + 60 * a + 3600 * (Number(i[1]) || 0);
          }
          function bm() {
            this.a = null;
          }
          function cm(i, a, o) {
            var p, m, _;
            return (
              new P()
                .D(
                  'payl',
                  Wd(function (i) {
                    p = Sb(i);
                  })
                )
                .D(
                  'iden',
                  Wd(function (i) {
                    m = Sb(i);
                  })
                )
                .D(
                  'sttg',
                  Wd(function (i) {
                    _ = Sb(i);
                  })
                )
                .parse(i),
              p
                ? (function dm(i, a, o, p, m) {
                    if (((i = new id(p, m, i)), a && (i.id = a), o))
                      for (a = new cf(o), o = ff(a); o; )
                        $l(i, o, []), df(a), (o = ff(a));
                    return i;
                  })(p, m, _, a, o)
                : null
            );
          }
          function X(i, a) {
            (this.a = null),
              (this.c = i),
              void 0 === a
                ? (((a = document.createElement('div')).id =
                    'veygoTextDisplayer0'),
                  a.classList.add('veygoTextDisplayer'),
                  this.c.parentNode.insertBefore(a, this.c.nextSibling),
                  (this.l = !0))
                : (this.l = !1),
              (a.style.position = 'absolute'),
              (a.style.display = 'block'),
              (this.b = a),
              (this.g = null),
              (this.o = !1);
            for (var o = 0; o < i.textTracks.length; ++o) {
              var p = i.textTracks[o];
              (p.mode = 'disabled'), 'TextTrack' == p.label && (this.a = p);
            }
            this.a || (this.a = i.addTextTrack('subtitles', 'TextTrack')),
              (this.a.oncuechange = this.s.bind(this)),
              (this.a.mode = 'hidden'),
              (this.m = this.w.bind(this)),
              (this.i = null),
              (this.h = this.C.bind(this)),
              i.addEventListener('loadedmetadata', this.h),
              em(this);
          }
          function gm(i) {
            if (i.startTime >= i.endTime) return null;
            var a = new VTTCue(i.startTime, i.endTime, i.payload + '\n');
            (a.veygoCue = i),
              (a.lineAlign = i.lineAlign),
              (a.positionAlign = i.positionAlign),
              (a.size = i.size),
              (a.c = i.c);
            try {
              a.align = i.textAlign;
            } catch (o) {}
            return (
              'center' == i.textAlign &&
                'center' != a.align &&
                (a.align = 'middle'),
              'vertical-lr' == i.writingMode
                ? (a.vertical = 'lr')
                : 'vertical-rl' == i.writingMode && (a.vertical = 'rl'),
              1 == i.lineInterpretation && (a.snapToLines = !1),
              null != i.line && (a.line = i.line),
              null != i.position && (a.position = i.position),
              null != i.a && (a.image = i.a),
              a
            );
          }
          function fm(i, a) {
            var o = i.mode;
            i.mode = 'showing' == o ? 'showing' : 'hidden';
            for (var p = i.cues, m = p.length - 1; 0 <= m; m--) {
              var _ = p[m];
              _ && a(_) && i.removeCue(_);
            }
            i.mode = o;
          }
          function em(i) {
            var a = i.c.videoWidth,
              o = i.c.offsetWidth;
            if (0 !== a && 0 !== o) {
              var p = i.c.videoHeight,
                m = i.c.offsetHeight;
              a / p < o / m
                ? (o = {
                    width: (a = (m * a) / p),
                    height: m,
                    left: (o - a) / 2,
                    top: 0,
                  })
                : (o = {
                    width: o,
                    height: (o * p) / a,
                    left: 0,
                    top: (m - (o * p) / a) / 2,
                  }),
                (i.b.style.width = o.width + 'px'),
                (i.b.style.height = o.height + 'px'),
                (i.b.style.left = o.left + 'px'),
                (i.b.style.top = o.top + 'px'),
                (i.f = o),
                i.a.oncuechange();
            }
          }
          dd('application/ttml+xml', zl),
            (Xl.prototype.parseInit = function (i) {
              var a = !1;
              if (
                (new P()
                  .D('moov', Q)
                  .D('trak', Q)
                  .D('mdia', Q)
                  .D('minf', Q)
                  .D('stbl', Q)
                  .aa('stsd', Vd)
                  .D('stpp', function (i) {
                    (a = !0), i.parser.stop();
                  })
                  .parse(i),
                !a)
              )
                throw new A(2, 2, 2007);
            }),
            (Xl.prototype.parseMedia = function (i, a) {
              var o = !1,
                p = [];
              if (
                (new P()
                  .D(
                    'mdat',
                    Wd(
                      function (i) {
                        (o = !0), (p = p.concat(this.a.parseMedia(i, a)));
                      }.bind(this)
                    )
                  )
                  .parse(i),
                !o)
              )
                throw new A(2, 2, 2007);
              return p;
            }),
            dd('application/mp4; codecs="stpp"', Xl),
            dd('application/mp4; codecs="stpp.TTML.im1t"', Xl),
            (Yl.prototype.parseInit = function () {}),
            (Yl.prototype.parseMedia = function (i, a) {
              var o = Sb(i);
              if (
                ((o = (o = o.replace(/\r\n|\r(?=[^\n]|$)/gm, '\n')).split(
                  /\n{2,}/m
                )),
                !/^WEBVTT($|[ \t\n])/m.test(o[0]))
              )
                throw new A(2, 2, 2e3);
              var p = a.segmentStart;
              if (null == p && ((p = 0), o[1].includes('X-TIMESTAMP-MAP'))) {
                var m = o[1].match(
                    /LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m
                  ),
                  _ = o[1].match(/MPEGTS:(\d+)/m);
                m &&
                  _ &&
                  ((p = Zl(new cf(m[1]))),
                  (p = a.periodStart + (Number(_[1]) / 9e4 - p)));
              }
              _ = [];
              var w = o[0].split('\n');
              for (m = 1; m < w.length; m++)
                if (/^Region:/.test(w[m])) {
                  var x = new cf(w[m]),
                    I = new kl();
                  ff(x), df(x);
                  for (var D = ff(x); D; ) {
                    var j = I,
                      K = D;
                    (D = /^id=(.*)$/.exec(K))
                      ? (j.id = D[1])
                      : (D = /^width=(\d{1,2}|100)%$/.exec(K))
                      ? (j.width = Number(D[1]))
                      : (D = /^lines=(\d+)$/.exec(K))
                      ? ((j.height = Number(D[1])), (j.heightUnits = 2))
                      : (D =
                          /^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(
                            K
                          ))
                      ? ((j.regionAnchorX = Number(D[1])),
                        (j.regionAnchorY = Number(D[2])))
                      : (D =
                          /^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(
                            K
                          ))
                      ? ((j.viewportAnchorX = Number(D[1])),
                        (j.viewportAnchorY = Number(D[2])))
                      : /^scroll=up$/.exec(K) && (j.scroll = 'up'),
                      df(x),
                      (D = ff(x));
                  }
                  _.push(I);
                }
              for (m = [], x = 1; x < o.length; x++) {
                if (
                  ((D = w = o[x].split('\n')),
                  (K = p),
                  (w = _),
                  (1 == D.length && !D[0]) ||
                    /^NOTE($|[ \t])/.test(D[0]) ||
                    'STYLE' == D[0])
                )
                  w = null;
                else {
                  (I = null),
                    D[0].includes('--\x3e') || ((I = D[0]), D.splice(0, 1));
                  var q = Zl((j = new cf(D[0]))),
                    $ = ef(j, /[ \t]+--\x3e[ \t]+/g),
                    Z = Zl(j);
                  if (null == q || null == $ || null == Z)
                    throw new A(2, 2, 2001);
                  for (
                    (D = new id(q + K, Z + K, D.slice(1).join('\n').trim())).b =
                      ['0', '4%'],
                      df(j),
                      K = ff(j);
                    K;

                  )
                    $l(D, K, w), df(j), (K = ff(j));
                  null != I && (D.id = I), (w = D);
                }
                w && m.push(w);
              }
              return 0 === m.length && m.push(new id(p, p, '')), m;
            }),
            dd('text/vtt', Yl),
            dd('text/vtt; codecs="vtt"', Yl),
            (bm.prototype.parseInit = function (i) {
              var a = !1;
              if (
                (new P()
                  .D('moov', Q)
                  .D('trak', Q)
                  .D('mdia', Q)
                  .aa(
                    'mdhd',
                    function (i) {
                      0 == i.version
                        ? (i.reader.I(4),
                          i.reader.I(4),
                          (this.a = i.reader.B()),
                          i.reader.I(4))
                        : (i.reader.I(8),
                          i.reader.I(8),
                          (this.a = i.reader.B()),
                          i.reader.I(8)),
                        i.reader.I(4);
                    }.bind(this)
                  )
                  .D('minf', Q)
                  .D('stbl', Q)
                  .aa('stsd', Vd)
                  .D('wvtt', function () {
                    a = !0;
                  })
                  .parse(i),
                !this.a)
              )
                throw new A(2, 2, 2008);
              if (!a) throw new A(2, 2, 2008);
            }),
            (bm.prototype.parseMedia = function (i, a) {
              var o = this;
              if (!this.a) throw new A(2, 2, 2008);
              var p,
                m = 0,
                _ = [],
                w = [],
                x = !1,
                I = !1,
                D = !1,
                j = null;
              if (
                (new P()
                  .D('moof', Q)
                  .D('traf', Q)
                  .aa('tfdt', function (i) {
                    (x = !0),
                      (m = 0 == i.version ? i.reader.B() : i.reader.bb());
                  })
                  .aa('tfhd', function (i) {
                    var a = i.flags;
                    (i = i.reader).I(4),
                      1 & a && i.I(8),
                      2 & a && i.I(4),
                      (j = 8 & a ? i.B() : null);
                  })
                  .aa('trun', function (i) {
                    I = !0;
                    var a = i.version,
                      o = i.flags,
                      p = (i = i.reader).B();
                    1 & o && i.I(4), 4 & o && i.I(4);
                    for (var m = [], w = 0; w < p; w++) {
                      var x = { duration: null, sampleSize: null, rc: null };
                      256 & o && (x.duration = i.B()),
                        512 & o && (x.sampleSize = i.B()),
                        1024 & o && i.I(4),
                        2048 & o && (x.rc = 0 == a ? i.B() : i.fd()),
                        m.push(x);
                    }
                    _ = m;
                  })
                  .D(
                    'mdat',
                    Wd(function (i) {
                      (D = !0), (p = i);
                    })
                  )
                  .parse(i),
                !D && !x && !I)
              )
                throw new A(2, 2, 2008);
              var K = m,
                q = new O(
                  new DataView(p.buffer, p.byteOffset, p.byteLength),
                  0
                );
              return (
                _.forEach(function (i) {
                  var p = i.duration || j,
                    _ = i.rc ? m + i.rc : K;
                  K = _ + (p || 0);
                  var x = 0;
                  do {
                    var I = q.B();
                    x += I;
                    var D = null;
                    'vttc' == Xd(q.B())
                      ? 8 < I && (D = q.Ka(I - 8))
                      : q.I(I - 8),
                      p &&
                        D &&
                        w.push(
                          cm(
                            D,
                            a.periodStart + _ / o.a,
                            a.periodStart + K / o.a
                          )
                        );
                  } while (i.sampleSize && x < i.sampleSize);
                }),
                w.filter(tt.wa)
              );
            }),
            dd('application/mp4; codecs="wvtt"', bm),
            y('veygo.text.SimpleTextDisplayer', X),
            (X.prototype.s = function () {
              var i = this;
              if (this.a) {
                var a = this.a.activeCues;
                if (
                  (this.g && (this.b.removeChild(this.g), (this.g = null)),
                  0 !== a.length)
                ) {
                  var o = a[0],
                    p = o.veygoCue,
                    m = /([\d.]+)%/;
                  if (o.image)
                    if (p.c) {
                      a = document.createElement('div');
                      var _ = document.createElement('img');
                      (o = 'data:image/png;base64,' + o.image),
                        (_.style.display = 'none'),
                        (_.src = o),
                        (_.onload = function () {
                          if (1920 === _.width) _.style.width = '100%';
                          else {
                            var a = (i.f.width * p.region.width) / 100 / 1e3;
                            (_.style.height = a * _.height + 'px'),
                              (_.style.width = a * _.width + 'px');
                          }
                          _.style.display = 'initial';
                        }),
                        a.appendChild(_);
                    } else
                      (a = document.createElement('img')).src =
                        'data:image/png;base64,' + o.image;
                  else {
                    a = document.createElement('div');
                    var w = document.createElement('div'),
                      x = document.createElement('span');
                    if (
                      ((a.style.display = 'flex'),
                      (a.style.flexDirection = 'column'),
                      (a.style.alignItems = 'center'),
                      p.b && 2 === p.b.length)
                    ) {
                      var I = p.b[1],
                        D = I.match(m);
                      w.style.paddingBottom =
                        (D ? (D[1] * this.f.height) / 100 : I) + 'px';
                    }
                    'center' === p.displayAlign
                      ? (a.style.justifyContent = 'center')
                      : p.displayAlign === jt
                      ? (a.style.justifyContent = 'flex-end')
                      : 'before' === p.displayAlign &&
                        (a.style.justifyContent = 'flex-start'),
                      'center' == p.textAlign && (a.style.textAlign = 'center'),
                      (m = (p.fontSize || '4%').match(m))
                        ? ((a.style.fontSize =
                            (parseFloat(m[1]) / 100) * this.f.height + 'px'),
                          (x.style.backgroundColor = 'black'))
                        : (a.style.fontSize = p.fontSize),
                      'proportionalSansSerif' === p.fontFamily
                        ? ((a.style.fontFamily = 'Sans Serif'),
                          (a.style.fontSize =
                            ((this.f.height * p.region.height) / 100 / 2) *
                              0.8 +
                            'px'))
                        : (a.style.fontFamily = 'Sans Serif'),
                      (x.style.color = p.color ? p.color : 'white'),
                      x.style.backgroundColor ||
                        (x.style.backgroundColor = p.backgroundColor
                          ? p.backgroundColor
                          : 'rgba(0,0,0,68)'),
                      (x.innerHTML = o.text.replace(/\n/g, '<br/>')),
                      w.appendChild(x),
                      a.appendChild(w);
                  }
                  (a.style.position = 'absolute'),
                    (a.style.height = p.region.height + '%'),
                    (a.style.top = p.region.viewportAnchorY + '%'),
                    (a.style.left = p.region.viewportAnchorX + '%'),
                    (a.style.width = p.region.width + '%'),
                    this.b.appendChild(a),
                    (this.g = a);
                }
              }
            }),
            (X.prototype.remove = function (i, a) {
              return (
                !!this.a &&
                (fm(this.a, function (o) {
                  return o.startTime < a && o.endTime > i;
                }),
                !0)
              );
            }),
            (X.prototype.remove = X.prototype.remove),
            (X.prototype.append = function (i) {
              for (var a = gm, o = [], p = 0; p < i.length; p++) {
                var m = a(i[p]);
                m && o.push(m);
              }
              o.slice()
                .sort(function (i, a) {
                  return i.startTime != a.startTime
                    ? i.startTime - a.startTime
                    : i.endTime != a.endTime
                    ? i.endTime - a.startTime
                    : o.indexOf(a) - o.indexOf(i);
                })
                .forEach(
                  function (i) {
                    this.a.addCue(i);
                  }.bind(this)
                );
            }),
            (X.prototype.append = X.prototype.append),
            (X.prototype.destroy = function () {
              if (
                (this.a &&
                  fm(this.a, function () {
                    return !0;
                  }),
                this.l)
              )
                this.b.parentNode && this.b.parentNode.removeChild(this.b),
                  (this.b = null),
                  (this.l = !1);
              else
                for (var i = this.b; i.firstChild; )
                  i.removeChild(i.firstChild);
              return (
                this.i && (this.i.detach(this.m), (this.m = this.i = null)),
                this.h &&
                  (this.c.removeEventListener('loadedmetadata', this.h),
                  (this.h = null)),
                (this.a = null),
                Promise.resolve()
              );
            }),
            (X.prototype.destroy = X.prototype.destroy),
            (X.prototype.isTextVisible = function () {
              return this.o;
            }),
            (X.prototype.isTextVisible = X.prototype.isTextVisible),
            (X.prototype.setTextVisibility = function (i) {
              this.b && (this.b.style.display = i ? 'block' : 'none'),
                (this.a.mode = 'hidden'),
                (this.o = i);
            }),
            (X.prototype.setTextVisibility = X.prototype.setTextVisibility),
            (X.prototype.w = function () {
              em(this);
            }),
            (X.prototype.C = function () {
              em(this);
            });
        }.call(p, o, o),
        p.veygo))
          a[_] = p.veygo[_];
      })();
    }.call(this, o(176)));
  },
  function (i, a, o) {
    var p = o(0),
      m = o(308);
    p({ global: !0, forced: parseFloat != m }, { parseFloat: m });
  },
  function (i, a, o) {
    var p = o(0),
      m = o(309);
    p({ global: !0, forced: parseInt != m }, { parseInt: m });
  },
  function (i, a, o) {
    'use strict';
    var p = o(130),
      m = o(11),
      _ = o(10),
      w = o(54),
      x = o(160),
      I = o(131);
    p('match', 1, function (i, a, o) {
      return [
        function match(a) {
          var o = w(this),
            p = a == undefined ? undefined : a[i];
          return p !== undefined ? p.call(a, o) : new RegExp(a)[i](String(o));
        },
        function (i) {
          var p = o(a, i, this);
          if (p.done) return p.value;
          var w = m(i),
            D = String(this);
          if (!w.global) return I(w, D);
          var j = w.unicode;
          w.lastIndex = 0;
          for (var K, q = [], $ = 0; null !== (K = I(w, D)); ) {
            var Z = String(K[0]);
            (q[$] = Z),
              '' === Z && (w.lastIndex = x(D, _(w.lastIndex), j)),
              $++;
          }
          return 0 === $ ? null : q;
        },
      ];
    });
  },
  function (i, a, o) {
    'use strict';
    o(41),
      o(6),
      o(44),
      o(12),
      o(57),
      o(3),
      o(89),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m,
      _,
      w,
      x,
      I,
      D,
      j,
      K,
      q,
      $,
      Z,
      be,
      Se,
      _e,
      we,
      xe,
      et,
      tt,
      rt,
      nt,
      it,
      at,
      ot,
      st,
      ut,
      lt,
      ct,
      dt,
      ft,
      ht,
      pt,
      gt,
      mt,
      vt,
      yt,
      bt,
      Tt,
      St,
      Et,
      _t,
      wt = Math.pow(2, 32) - 1;
    !(function () {
      var i;
      if (
        ((at = {
          avc1: [],
          avcC: [],
          btrt: [],
          dinf: [],
          dref: [],
          esds: [],
          ftyp: [],
          hdlr: [],
          mdat: [],
          mdhd: [],
          mdia: [],
          mfhd: [],
          minf: [],
          moof: [],
          moov: [],
          mp4a: [],
          mvex: [],
          mvhd: [],
          pasp: [],
          sdtp: [],
          smhd: [],
          stbl: [],
          stco: [],
          stsc: [],
          stsd: [],
          stsz: [],
          stts: [],
          styp: [],
          tfdt: [],
          tfhd: [],
          traf: [],
          trak: [],
          trun: [],
          trex: [],
          tkhd: [],
          vmhd: [],
        }),
        'undefined' != typeof Uint8Array)
      ) {
        for (i in at)
          at.hasOwnProperty(i) &&
            (at[i] = [
              i.charCodeAt(0),
              i.charCodeAt(1),
              i.charCodeAt(2),
              i.charCodeAt(3),
            ]);
        (ot = new Uint8Array([
          'i'.charCodeAt(0),
          's'.charCodeAt(0),
          'o'.charCodeAt(0),
          'm'.charCodeAt(0),
        ])),
          (ut = new Uint8Array([
            'a'.charCodeAt(0),
            'v'.charCodeAt(0),
            'c'.charCodeAt(0),
            '1'.charCodeAt(0),
          ])),
          (st = new Uint8Array([0, 0, 0, 1])),
          (lt = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114,
            0,
          ])),
          (ct = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114,
            0,
          ])),
          (dt = { video: lt, audio: ct }),
          (pt = new Uint8Array([
            0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1,
          ])),
          (ht = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
          (gt = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
          (mt = gt),
          (vt = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
          (yt = gt),
          (ft = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
      }
    })(),
      (p = function box(i) {
        var a,
          o,
          p = [],
          m = 0;
        for (a = 1; a < arguments.length; a++) p.push(arguments[a]);
        for (a = p.length; a--; ) m += p[a].byteLength;
        for (
          o = new Uint8Array(m + 8),
            new DataView(o.buffer, o.byteOffset, o.byteLength).setUint32(
              0,
              o.byteLength
            ),
            o.set(i, 4),
            a = 0,
            m = 8;
          a < p.length;
          a++
        )
          o.set(p[a], m), (m += p[a].byteLength);
        return o;
      }),
      (m = function dinf() {
        return p(at.dinf, p(at.dref, pt));
      }),
      (_ = function esds(i) {
        return p(
          at.esds,
          new Uint8Array([
            0,
            0,
            0,
            0,
            3,
            25,
            0,
            0,
            0,
            4,
            17,
            64,
            21,
            0,
            6,
            0,
            0,
            0,
            218,
            192,
            0,
            0,
            218,
            192,
            5,
            2,
            (i.audioobjecttype << 3) | (i.samplingfrequencyindex >>> 1),
            (i.samplingfrequencyindex << 7) | (i.channelcount << 3),
            6,
            1,
            2,
          ])
        );
      }),
      (w = function ftyp() {
        return p(at.ftyp, ot, st, ot, ut);
      }),
      (we = function hdlr(i) {
        return p(at.hdlr, dt[i]);
      }),
      (x = function mdat(i) {
        return p(at.mdat, i);
      }),
      (_e = function mdhd(i) {
        var a = new Uint8Array([
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          3,
          0,
          1,
          95,
          144,
          (i.duration >>> 24) & 255,
          (i.duration >>> 16) & 255,
          (i.duration >>> 8) & 255,
          255 & i.duration,
          85,
          196,
          0,
          0,
        ]);
        return (
          i.samplerate &&
            ((a[12] = (i.samplerate >>> 24) & 255),
            (a[13] = (i.samplerate >>> 16) & 255),
            (a[14] = (i.samplerate >>> 8) & 255),
            (a[15] = 255 & i.samplerate)),
          p(at.mdhd, a)
        );
      }),
      (Se = function mdia(i) {
        return p(at.mdia, _e(i), we(i.type), D(i));
      }),
      (I = function mfhd(i) {
        return p(
          at.mfhd,
          new Uint8Array([
            0,
            0,
            0,
            0,
            (4278190080 & i) >> 24,
            (16711680 & i) >> 16,
            (65280 & i) >> 8,
            255 & i,
          ])
        );
      }),
      (D = function minf(i) {
        return p(
          at.minf,
          'video' === i.type ? p(at.vmhd, ft) : p(at.smhd, ht),
          m(),
          et(i)
        );
      }),
      (j = function moof(i, a) {
        for (var o = [], m = a.length; m--; ) o[m] = rt(a[m]);
        return p.apply(null, [at.moof, I(i)].concat(o));
      }),
      (K = function moov(i) {
        for (var a = i.length, o = []; a--; ) o[a] = Z(i[a]);
        return p.apply(null, [at.moov, $(4294967295)].concat(o).concat(q(i)));
      }),
      (q = function mvex(i) {
        for (var a = i.length, o = []; a--; ) o[a] = nt(i[a]);
        return p.apply(null, [at.mvex].concat(o));
      }),
      ($ = function mvhd(i) {
        var a = new Uint8Array([
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          2,
          0,
          1,
          95,
          144,
          (4278190080 & i) >> 24,
          (16711680 & i) >> 16,
          (65280 & i) >> 8,
          255 & i,
          0,
          1,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          64,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          255,
          255,
          255,
          255,
        ]);
        return p(at.mvhd, a);
      }),
      (xe = function sdtp(i) {
        var a,
          o,
          m = i.samples || [],
          _ = new Uint8Array(4 + m.length);
        for (o = 0; o < m.length; o++)
          (a = m[o].flags),
            (_[o + 4] =
              (a.dependsOn << 4) | (a.isDependedOn << 2) | a.hasRedundancy);
        return p(at.sdtp, _);
      }),
      (et = function stbl(i) {
        return p(
          at.stbl,
          tt(i),
          p(at.stts, yt),
          p(at.stsc, mt),
          p(at.stsz, vt),
          p(at.stco, gt)
        );
      }),
      (tt = function stsd(i) {
        return p(
          at.stsd,
          new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]),
          'video' === i.type ? bt(i) : Tt(i)
        );
      }),
      (bt = function videoSample(i) {
        var a,
          o,
          m = i.sps || [],
          _ = i.pps || [],
          w = [],
          x = [];
        for (a = 0; a < m.length; a++)
          w.push((65280 & m[a].byteLength) >>> 8),
            w.push(255 & m[a].byteLength),
            (w = w.concat(Array.prototype.slice.call(m[a])));
        for (a = 0; a < _.length; a++)
          x.push((65280 & _[a].byteLength) >>> 8),
            x.push(255 & _[a].byteLength),
            (x = x.concat(Array.prototype.slice.call(_[a])));
        if (
          ((o = [
            at.avc1,
            new Uint8Array([
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              (65280 & i.width) >> 8,
              255 & i.width,
              (65280 & i.height) >> 8,
              255 & i.height,
              0,
              72,
              0,
              0,
              0,
              72,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              19,
              118,
              105,
              100,
              101,
              111,
              106,
              115,
              45,
              99,
              111,
              110,
              116,
              114,
              105,
              98,
              45,
              104,
              108,
              115,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              24,
              17,
              17,
            ]),
            p(
              at.avcC,
              new Uint8Array(
                [
                  1,
                  i.profileIdc,
                  i.profileCompatibility,
                  i.levelIdc,
                  255,
                ].concat([m.length], w, [_.length], x)
              )
            ),
            p(
              at.btrt,
              new Uint8Array([
                0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
              ])
            ),
          ]),
          i.sarRatio)
        ) {
          var I = i.sarRatio[0],
            D = i.sarRatio[1];
          o.push(
            p(
              at.pasp,
              new Uint8Array([
                (4278190080 & I) >> 24,
                (16711680 & I) >> 16,
                (65280 & I) >> 8,
                255 & I,
                (4278190080 & D) >> 24,
                (16711680 & D) >> 16,
                (65280 & D) >> 8,
                255 & D,
              ])
            )
          );
        }
        return p.apply(null, o);
      }),
      (Tt = function audioSample(i) {
        return p(
          at.mp4a,
          new Uint8Array([
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            (65280 & i.channelcount) >> 8,
            255 & i.channelcount,
            (65280 & i.samplesize) >> 8,
            255 & i.samplesize,
            0,
            0,
            0,
            0,
            (65280 & i.samplerate) >> 8,
            255 & i.samplerate,
            0,
            0,
          ]),
          _(i)
        );
      }),
      (be = function tkhd(i) {
        var a = new Uint8Array([
          0,
          0,
          0,
          7,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          (4278190080 & i.id) >> 24,
          (16711680 & i.id) >> 16,
          (65280 & i.id) >> 8,
          255 & i.id,
          0,
          0,
          0,
          0,
          (4278190080 & i.duration) >> 24,
          (16711680 & i.duration) >> 16,
          (65280 & i.duration) >> 8,
          255 & i.duration,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          64,
          0,
          0,
          0,
          (65280 & i.width) >> 8,
          255 & i.width,
          0,
          0,
          (65280 & i.height) >> 8,
          255 & i.height,
          0,
          0,
        ]);
        return p(at.tkhd, a);
      }),
      (rt = function traf(i) {
        var a, o, m, _, w, x;
        return (
          (a = p(
            at.tfhd,
            new Uint8Array([
              0,
              0,
              0,
              58,
              (4278190080 & i.id) >> 24,
              (16711680 & i.id) >> 16,
              (65280 & i.id) >> 8,
              255 & i.id,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
            ])
          )),
          (w = Math.floor(i.baseMediaDecodeTime / (wt + 1))),
          (x = Math.floor(i.baseMediaDecodeTime % (wt + 1))),
          (o = p(
            at.tfdt,
            new Uint8Array([
              1,
              0,
              0,
              0,
              (w >>> 24) & 255,
              (w >>> 16) & 255,
              (w >>> 8) & 255,
              255 & w,
              (x >>> 24) & 255,
              (x >>> 16) & 255,
              (x >>> 8) & 255,
              255 & x,
            ])
          )),
          92,
          'audio' === i.type
            ? ((m = it(i, 92)), p(at.traf, a, o, m))
            : ((_ = xe(i)), (m = it(i, _.length + 92)), p(at.traf, a, o, m, _))
        );
      }),
      (Z = function trak(i) {
        return (
          (i.duration = i.duration || 4294967295), p(at.trak, be(i), Se(i))
        );
      }),
      (nt = function trex(i) {
        var a = new Uint8Array([
          0,
          0,
          0,
          0,
          (4278190080 & i.id) >> 24,
          (16711680 & i.id) >> 16,
          (65280 & i.id) >> 8,
          255 & i.id,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          1,
        ]);
        return 'video' !== i.type && (a[a.length - 1] = 0), p(at.trex, a);
      }),
      (_t = function trunHeader(i, a) {
        var o = 0,
          p = 0,
          m = 0,
          _ = 0;
        return (
          i.length &&
            (i[0].duration !== undefined && (o = 1),
            i[0].size !== undefined && (p = 2),
            i[0].flags !== undefined && (m = 4),
            i[0].compositionTimeOffset !== undefined && (_ = 8)),
          [
            0,
            0,
            o | p | m | _,
            1,
            (4278190080 & i.length) >>> 24,
            (16711680 & i.length) >>> 16,
            (65280 & i.length) >>> 8,
            255 & i.length,
            (4278190080 & a) >>> 24,
            (16711680 & a) >>> 16,
            (65280 & a) >>> 8,
            255 & a,
          ]
        );
      }),
      (Et = function videoTrun(i, a) {
        var o, m, _, w, x, I;
        for (
          a += 20 + 16 * (w = i.samples || []).length,
            _ = _t(w, a),
            (m = new Uint8Array(_.length + 16 * w.length)).set(_),
            o = _.length,
            I = 0;
          I < w.length;
          I++
        )
          (x = w[I]),
            (m[o++] = (4278190080 & x.duration) >>> 24),
            (m[o++] = (16711680 & x.duration) >>> 16),
            (m[o++] = (65280 & x.duration) >>> 8),
            (m[o++] = 255 & x.duration),
            (m[o++] = (4278190080 & x.size) >>> 24),
            (m[o++] = (16711680 & x.size) >>> 16),
            (m[o++] = (65280 & x.size) >>> 8),
            (m[o++] = 255 & x.size),
            (m[o++] = (x.flags.isLeading << 2) | x.flags.dependsOn),
            (m[o++] =
              (x.flags.isDependedOn << 6) |
              (x.flags.hasRedundancy << 4) |
              (x.flags.paddingValue << 1) |
              x.flags.isNonSyncSample),
            (m[o++] = 61440 & x.flags.degradationPriority),
            (m[o++] = 15 & x.flags.degradationPriority),
            (m[o++] = (4278190080 & x.compositionTimeOffset) >>> 24),
            (m[o++] = (16711680 & x.compositionTimeOffset) >>> 16),
            (m[o++] = (65280 & x.compositionTimeOffset) >>> 8),
            (m[o++] = 255 & x.compositionTimeOffset);
        return p(at.trun, m);
      }),
      (St = function audioTrun(i, a) {
        var o, m, _, w, x, I;
        for (
          a += 20 + 8 * (w = i.samples || []).length,
            _ = _t(w, a),
            (o = new Uint8Array(_.length + 8 * w.length)).set(_),
            m = _.length,
            I = 0;
          I < w.length;
          I++
        )
          (x = w[I]),
            (o[m++] = (4278190080 & x.duration) >>> 24),
            (o[m++] = (16711680 & x.duration) >>> 16),
            (o[m++] = (65280 & x.duration) >>> 8),
            (o[m++] = 255 & x.duration),
            (o[m++] = (4278190080 & x.size) >>> 24),
            (o[m++] = (16711680 & x.size) >>> 16),
            (o[m++] = (65280 & x.size) >>> 8),
            (o[m++] = 255 & x.size);
        return p(at.trun, o);
      }),
      (it = function trun(i, a) {
        return 'audio' === i.type ? St(i, a) : Et(i, a);
      }),
      (i.exports = {
        ftyp: w,
        mdat: x,
        moof: j,
        moov: K,
        initSegment: function initSegment(i) {
          var a,
            o = w(),
            p = K(i);
          return (
            (a = new Uint8Array(o.byteLength + p.byteLength)).set(o),
            a.set(p, o.byteLength),
            a
          );
        },
      });
  },
  function (i, a) {
    var o;
    o = (function () {
      return this;
    })();
    try {
      o = o || new Function('return this')();
    } catch (p) {
      'object' == typeof window && (o = window);
    }
    i.exports = o;
  },
  function (i, a, o) {
    var p = o(9),
      m = o(1),
      _ = o(145);
    i.exports =
      !p &&
      !m(function () {
        return (
          7 !=
          Object.defineProperty(_('div'), 'a', {
            get: function () {
              return 7;
            },
          }).a
        );
      });
  },
  function (i, a, o) {
    var p = o(2),
      m = o(146),
      _ = '__core-js_shared__',
      w = p[_] || m(_, {});
    i.exports = w;
  },
  function (i, a, o) {
    var p = o(2),
      m = o(147),
      _ = p.WeakMap;
    i.exports = 'function' == typeof _ && /native code/.test(m(_));
  },
  function (i, a, o) {
    var p = o(14),
      m = o(181),
      _ = o(61),
      w = o(16);
    i.exports = function (i, a) {
      for (var o = m(a), x = w.f, I = _.f, D = 0; D < o.length; D++) {
        var j = o[D];
        p(i, j) || x(i, j, I(a, j));
      }
    };
  },
  function (i, a, o) {
    var p = o(62),
      m = o(82),
      _ = o(150),
      w = o(11);
    i.exports =
      p('Reflect', 'ownKeys') ||
      function ownKeys(i) {
        var a = m.f(w(i)),
          o = _.f;
        return o ? a.concat(o(i)) : a;
      };
  },
  function (i, a, o) {
    var p = o(2);
    i.exports = p;
  },
  function (i, a, o) {
    var p = o(14),
      m = o(53),
      _ = o(102).indexOf,
      w = o(101);
    i.exports = function (i, a) {
      var o,
        x = m(i),
        I = 0,
        D = [];
      for (o in x) !p(w, o) && p(x, o) && D.push(o);
      for (; a.length > I; ) p(x, (o = a[I++])) && (~_(D, o) || D.push(o));
      return D;
    };
  },
  function (i, a, o) {
    var p = o(152);
    i.exports = p && !Symbol.sham && 'symbol' == typeof Symbol.iterator;
  },
  function (i, a, o) {
    var p = o(62);
    i.exports = p('navigator', 'userAgent') || '';
  },
  function (i, a, o) {
    var p = o(9),
      m = o(16),
      _ = o(11),
      w = o(107);
    i.exports = p
      ? Object.defineProperties
      : function defineProperties(i, a) {
          _(i);
          for (var o, p = w(a), x = p.length, I = 0; x > I; )
            m.f(i, (o = p[I++]), a[o]);
          return i;
        };
  },
  function (i, a, o) {
    var p = o(62);
    i.exports = p('document', 'documentElement');
  },
  function (i, a, o) {
    'use strict';
    var p = o(189).IteratorPrototype,
      m = o(69),
      _ = o(81),
      w = o(60),
      x = o(108),
      returnThis = function () {
        return this;
      };
    i.exports = function (i, a, o) {
      var I = a + ' Iterator';
      return (
        (i.prototype = m(p, { next: _(1, o) })),
        w(i, I, !1, !0),
        (x[I] = returnThis),
        i
      );
    };
  },
  function (i, a, o) {
    'use strict';
    var p,
      m,
      _,
      w = o(124),
      x = o(50),
      I = o(14),
      D = o(5),
      j = o(68),
      K = D('iterator'),
      q = !1;
    [].keys &&
      ('next' in (_ = [].keys())
        ? (m = w(w(_))) !== Object.prototype && (p = m)
        : (q = !0)),
      p == undefined && (p = {}),
      j ||
        I(p, K) ||
        x(p, K, function () {
          return this;
        }),
      (i.exports = { IteratorPrototype: p, BUGGY_SAFARI_ITERATORS: q });
  },
  function (i, a, o) {
    var p = o(56),
      m = o(10);
    i.exports = function (i) {
      if (i === undefined) return 0;
      var a = p(i),
        o = m(a);
      if (a !== o) throw RangeError('Wrong length or index');
      return o;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(47),
      m = o(83),
      _ = o(10);
    i.exports = function fill(i) {
      for (
        var a = p(this),
          o = _(a.length),
          w = arguments.length,
          x = m(w > 1 ? arguments[1] : undefined, o),
          I = w > 2 ? arguments[2] : undefined,
          D = I === undefined ? o : m(I, o);
        D > x;

      )
        a[x++] = i;
      return a;
    };
  },
  function (i, a, o) {
    var p = o(250);
    i.exports = function (i, a) {
      var o = p(i);
      if (o % a) throw RangeError('Wrong offset');
      return o;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(53),
      m = o(56),
      _ = o(10),
      w = o(73),
      x = o(52),
      I = Math.min,
      D = [].lastIndexOf,
      j = !!D && 1 / [1].lastIndexOf(1, -0) < 0,
      K = w('lastIndexOf'),
      q = x('indexOf', { ACCESSORS: !0, 1: 0 }),
      $ = j || !K || !q;
    i.exports = $
      ? function lastIndexOf(i) {
          if (j) return D.apply(this, arguments) || 0;
          var a = p(this),
            o = _(a.length),
            w = o - 1;
          for (
            arguments.length > 1 && (w = I(w, m(arguments[1]))),
              w < 0 && (w = o + w);
            w >= 0;
            w--
          )
            if (w in a && a[w] === i) return w || 0;
          return -1;
        }
      : D;
  },
  function (i, a, o) {
    'use strict';
    var p = o(42).forEach,
      m = o(73),
      _ = o(52),
      w = m('forEach'),
      x = _('forEach');
    i.exports =
      w && x
        ? [].forEach
        : function forEach(i) {
            return p(this, i, arguments.length > 1 ? arguments[1] : undefined);
          };
  },
  function (i, a) {
    i.exports = {
      CSSRuleList: 0,
      CSSStyleDeclaration: 0,
      CSSValueList: 0,
      ClientRectList: 0,
      DOMRectList: 0,
      DOMStringList: 0,
      DOMTokenList: 1,
      DataTransferItemList: 0,
      FileList: 0,
      HTMLAllCollection: 0,
      HTMLCollection: 0,
      HTMLFormElement: 0,
      HTMLSelectElement: 0,
      MediaList: 0,
      MimeTypeArray: 0,
      NamedNodeMap: 0,
      NodeList: 1,
      PaintRequestList: 0,
      Plugin: 0,
      PluginArray: 0,
      SVGLengthList: 0,
      SVGNumberList: 0,
      SVGPathSegList: 0,
      SVGPointList: 0,
      SVGStringList: 0,
      SVGTransformList: 0,
      SourceBufferList: 0,
      StyleSheetList: 0,
      TextTrackCueList: 0,
      TextTrackList: 0,
      TouchList: 0,
    };
  },
  function (i, a, o) {
    'use strict';
    o(41), o(44);
    var p = o(132).toUnsigned,
      m = o(197);
    i.exports = function findBox(i, a) {
      var o,
        _,
        w,
        x,
        I,
        D = [];
      if (!a.length) return null;
      for (o = 0; o < i.byteLength; )
        (_ = p((i[o] << 24) | (i[o + 1] << 16) | (i[o + 2] << 8) | i[o + 3])),
          (w = m(i.subarray(o + 4, o + 8))),
          (x = _ > 1 ? o + _ : i.byteLength),
          w === a[0] &&
            (1 === a.length
              ? D.push(i.subarray(o + 8, x))
              : (I = findBox(i.subarray(o + 8, x), a.slice(1))).length &&
                (D = D.concat(I))),
          (o = x);
      return D;
    };
  },
  function (i, a, o) {
    'use strict';
    i.exports = function parseType(i) {
      var a = '';
      return (
        (a += String.fromCharCode(i[0])),
        (a += String.fromCharCode(i[1])),
        (a += String.fromCharCode(i[2])),
        (a += String.fromCharCode(i[3]))
      );
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(57),
      o(3),
      o(89),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    i.exports = function tfhd(i) {
      var a,
        o = new DataView(i.buffer, i.byteOffset, i.byteLength),
        p = {
          version: i[0],
          flags: new Uint8Array(i.subarray(1, 4)),
          trackId: o.getUint32(4),
        },
        m = 1 & p.flags[2],
        _ = 2 & p.flags[2],
        w = 8 & p.flags[2],
        x = 16 & p.flags[2],
        I = 32 & p.flags[2],
        D = 65536 & p.flags[0],
        j = 131072 & p.flags[0];
      return (
        (a = 8),
        m && ((a += 4), (p.baseDataOffset = o.getUint32(12)), (a += 4)),
        _ && ((p.sampleDescriptionIndex = o.getUint32(a)), (a += 4)),
        w && ((p.defaultSampleDuration = o.getUint32(a)), (a += 4)),
        x && ((p.defaultSampleSize = o.getUint32(a)), (a += 4)),
        I && (p.defaultSampleFlags = o.getUint32(a)),
        D && (p.durationIsEmpty = !0),
        !m && j && (p.baseDataOffsetIsMoof = !0),
        p
      );
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(57),
      o(3),
      o(89),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p = o(254);
    i.exports = function trun(i) {
      var a,
        o = {
          version: i[0],
          flags: new Uint8Array(i.subarray(1, 4)),
          samples: [],
        },
        m = new DataView(i.buffer, i.byteOffset, i.byteLength),
        _ = 1 & o.flags[2],
        w = 4 & o.flags[2],
        x = 1 & o.flags[1],
        I = 2 & o.flags[1],
        D = 4 & o.flags[1],
        j = 8 & o.flags[1],
        K = m.getUint32(4),
        q = 8;
      for (
        _ && ((o.dataOffset = m.getInt32(q)), (q += 4)),
          w &&
            K &&
            ((a = { flags: p(i.subarray(q, q + 4)) }),
            (q += 4),
            x && ((a.duration = m.getUint32(q)), (q += 4)),
            I && ((a.size = m.getUint32(q)), (q += 4)),
            j &&
              (1 === o.version
                ? (a.compositionTimeOffset = m.getInt32(q))
                : (a.compositionTimeOffset = m.getUint32(q)),
              (q += 4)),
            o.samples.push(a),
            K--);
        K--;

      )
        (a = {}),
          x && ((a.duration = m.getUint32(q)), (q += 4)),
          I && ((a.size = m.getUint32(q)), (q += 4)),
          D && ((a.flags = p(i.subarray(q, q + 4))), (q += 4)),
          j &&
            (1 === o.version
              ? (a.compositionTimeOffset = m.getInt32(q))
              : (a.compositionTimeOffset = m.getUint32(q)),
            (q += 4)),
          o.samples.push(a);
      return o;
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p = o(132).toUnsigned;
    i.exports = function tfdt(i) {
      var a = {
        version: i[0],
        flags: new Uint8Array(i.subarray(1, 4)),
        baseMediaDecodeTime: p(
          (i[4] << 24) | (i[5] << 16) | (i[6] << 8) | i[7]
        ),
      };
      return (
        1 === a.version &&
          ((a.baseMediaDecodeTime *= Math.pow(2, 32)),
          (a.baseMediaDecodeTime += p(
            (i[8] << 24) | (i[9] << 16) | (i[10] << 8) | i[11]
          ))),
        a
      );
    };
  },
  function (i, a, o) {
    'use strict';
    o(41),
      o(45),
      o(85),
      o(92),
      o(55),
      o(63),
      o(202),
      o(44),
      o(86),
      o(58),
      o(64),
      o(93),
      o(135),
      o(48);
    var p = o(74),
      m = o(203),
      _ = function CaptionStream(i) {
        (i = i || {}),
          CaptionStream.prototype.init.call(this),
          (this.cea608parser = i.cea608parser),
          this.cea608parser &&
            this.cea608parser.addEventListener(
              'data',
              this.trigger.bind(this, 'data')
            ),
          (this.parse708captions_ =
            'boolean' != typeof i.parse708captions || i.parse708captions),
          (this.captionPackets_ = []),
          (this.ccStreams_ = [
            new be(0, 0),
            new be(0, 1),
            new be(1, 0),
            new be(1, 1),
          ]),
          this.parse708captions_ && (this.cc708Stream_ = new j()),
          this.reset(),
          this.ccStreams_.forEach(function (i) {
            i.on('data', this.trigger.bind(this, 'data')),
              i.on('partialdone', this.trigger.bind(this, 'partialdone')),
              i.on('done', this.trigger.bind(this, 'done'));
          }, this),
          this.parse708captions_ &&
            (this.cc708Stream_.on('data', this.trigger.bind(this, 'data')),
            this.cc708Stream_.on(
              'partialdone',
              this.trigger.bind(this, 'partialdone')
            ),
            this.cc708Stream_.on('done', this.trigger.bind(this, 'done')));
      };
    ((_.prototype = new p()).push = function (i) {
      var a, o, p;
      if (
        'sei_rbsp' === i.nalUnitType &&
        (a = m.parseSei(i.escapedRBSP)).payload &&
        a.payloadType === m.USER_DATA_REGISTERED_ITU_T_T35 &&
        (o = m.parseUserData(a))
      )
        if (i.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
        else {
          if (i.dts === this.latestDts_ && this.ignoreNextEqualDts_)
            return (
              this.numSameDts_--,
              void (this.numSameDts_ || (this.ignoreNextEqualDts_ = !1))
            );
          (p = m.parseCaptionPackets(i.pts, o)),
            (this.captionPackets_ = this.captionPackets_.concat(p)),
            this.latestDts_ !== i.dts && (this.numSameDts_ = 0),
            this.numSameDts_++,
            (this.latestDts_ = i.dts);
        }
    }),
      (_.prototype.flushCCStreams = function (i) {
        this.ccStreams_.forEach(function (a) {
          return 'flush' === i ? a.flush() : a.partialFlush();
        }, this);
      }),
      (_.prototype.flushStream = function (i) {
        var a = this;
        if (this.captionPackets_.length) {
          this.captionPackets_.forEach(function (i, a) {
            i.presortIndex = a;
          }),
            this.captionPackets_.sort(function (i, a) {
              return i.pts === a.pts
                ? i.presortIndex - a.presortIndex
                : i.pts - a.pts;
            });
          var o = this.captionPackets_.reduce(
              function (i, a) {
                return (
                  a.type < 2
                    ? i.cea608Packets.push(a)
                    : i.cea708Packets.push(a),
                  i
                );
              },
              { cea608Packets: [], cea708Packets: [] }
            ),
            p = o.cea608Packets,
            m = o.cea708Packets;
          this.cea608parser
            ? this.cea608parser.addData(p)
            : (p.forEach(function (i) {
                return a.dispatchCea608Packet(i);
              }),
              m.forEach(function (i) {
                return a.dispatchCea708Packet(i);
              })),
            (this.captionPackets_.length = 0),
            this.flushCCStreams(i);
        } else this.flushCCStreams(i);
      }),
      (_.prototype.flush = function () {
        return this.flushStream('flush');
      }),
      (_.prototype.partialFlush = function () {
        return this.flushStream('partialFlush');
      }),
      (_.prototype.reset = function () {
        (this.latestDts_ = null),
          (this.ignoreNextEqualDts_ = !1),
          (this.numSameDts_ = 0),
          (this.activeCea608Channel_ = [null, null]),
          this.ccStreams_.forEach(function (i) {
            i.reset();
          });
      }),
      (_.prototype.dispatchCea608Packet = function (i) {
        this.setsTextOrXDSActive(i)
          ? (this.activeCea608Channel_[i.type] = null)
          : this.setsChannel1Active(i)
          ? (this.activeCea608Channel_[i.type] = 0)
          : this.setsChannel2Active(i) &&
            (this.activeCea608Channel_[i.type] = 1),
          null !== this.activeCea608Channel_[i.type] &&
            this.ccStreams_[
              (i.type << 1) + this.activeCea608Channel_[i.type]
            ].push(i);
      }),
      (_.prototype.setsChannel1Active = function (i) {
        return 4096 == (30720 & i.ccData);
      }),
      (_.prototype.setsChannel2Active = function (i) {
        return 6144 == (30720 & i.ccData);
      }),
      (_.prototype.setsTextOrXDSActive = function (i) {
        return (
          256 == (28928 & i.ccData) ||
          4138 == (30974 & i.ccData) ||
          6186 == (30974 & i.ccData)
        );
      }),
      (_.prototype.dispatchCea708Packet = function (i) {
        this.parse708captions_ && this.cc708Stream_.push(i);
      });
    var w = {
        127: 9834,
        4128: 32,
        4129: 160,
        4133: 8230,
        4138: 352,
        4140: 338,
        4144: 9608,
        4145: 8216,
        4146: 8217,
        4147: 8220,
        4148: 8221,
        4149: 8226,
        4153: 8482,
        4154: 353,
        4156: 339,
        4157: 8480,
        4159: 376,
        4214: 8539,
        4215: 8540,
        4216: 8541,
        4217: 8542,
        4218: 9168,
        4219: 9124,
        4220: 9123,
        4221: 9135,
        4222: 9126,
        4223: 9121,
        4256: 12600,
      },
      x = function within708TextBlock(i) {
        return (32 <= i && i <= 127) || (160 <= i && i <= 255);
      },
      I = function Cea708Window(i) {
        (this.windowNum = i), this.reset();
      };
    (I.prototype.reset = function () {
      this.clearText(),
        (this.pendingNewLine = !1),
        (this.winAttr = {}),
        (this.penAttr = {}),
        (this.penLoc = {}),
        (this.penColor = {}),
        (this.visible = 0),
        (this.rowLock = 0),
        (this.columnLock = 0),
        (this.priority = 0),
        (this.relativePositioning = 0),
        (this.anchorVertical = 0),
        (this.anchorHorizontal = 0),
        (this.anchorPoint = 0),
        (this.rowCount = 1),
        (this.virtualRowCount = this.rowCount + 1),
        (this.columnCount = 41),
        (this.windowStyle = 0),
        (this.penStyle = 0);
    }),
      (I.prototype.getText = function () {
        return this.rows.join('\n');
      }),
      (I.prototype.clearText = function () {
        (this.rows = ['']), (this.rowIdx = 0);
      }),
      (I.prototype.newLine = function (i) {
        for (
          this.rows.length >= this.virtualRowCount &&
            'function' == typeof this.beforeRowOverflow &&
            this.beforeRowOverflow(i),
            this.rows.length > 0 && (this.rows.push(''), this.rowIdx++);
          this.rows.length > this.virtualRowCount;

        )
          this.rows.shift(), this.rowIdx--;
      }),
      (I.prototype.isEmpty = function () {
        return (
          0 === this.rows.length ||
          (1 === this.rows.length && '' === this.rows[0])
        );
      }),
      (I.prototype.addText = function (i) {
        this.rows[this.rowIdx] += i;
      }),
      (I.prototype.backspace = function () {
        if (!this.isEmpty()) {
          var i = this.rows[this.rowIdx];
          this.rows[this.rowIdx] = i.substr(0, i.length - 1);
        }
      });
    var D = function Cea708Service(i) {
      (this.serviceNum = i),
        (this.text = ''),
        (this.currentWindow = new I(-1)),
        (this.windows = []);
    };
    (D.prototype.init = function (i, a) {
      this.startPts = i;
      for (var o = 0; o < 8; o++)
        (this.windows[o] = new I(o)),
          'function' == typeof a && (this.windows[o].beforeRowOverflow = a);
    }),
      (D.prototype.setCurrentWindow = function (i) {
        this.currentWindow = this.windows[i];
      });
    var j = function Cea708Stream() {
      Cea708Stream.prototype.init.call(this);
      var i = this;
      (this.current708Packet = null),
        (this.services = {}),
        (this.push = function (a) {
          3 === a.type
            ? (i.new708Packet(), i.add708Bytes(a))
            : (null === i.current708Packet && i.new708Packet(),
              i.add708Bytes(a));
        });
    };
    (j.prototype = new p()),
      (j.prototype.new708Packet = function () {
        null !== this.current708Packet && this.push708Packet(),
          (this.current708Packet = { data: [], ptsVals: [] });
      }),
      (j.prototype.add708Bytes = function (i) {
        var a = i.ccData,
          o = a >>> 8,
          p = 255 & a;
        this.current708Packet.ptsVals.push(i.pts),
          this.current708Packet.data.push(o),
          this.current708Packet.data.push(p);
      }),
      (j.prototype.push708Packet = function () {
        var i = this.current708Packet,
          a = i.data,
          o = null,
          p = null,
          m = 0,
          _ = a[m++];
        for (i.seq = _ >> 6, i.sizeCode = 63 & _; m < a.length; m++)
          (p = 31 & (_ = a[m++])),
            7 === (o = _ >> 5) && p > 0 && (o = _ = a[m++]),
            this.pushServiceBlock(o, m, p),
            p > 0 && (m += p - 1);
      }),
      (j.prototype.pushServiceBlock = function (i, a, o) {
        var p,
          m = a,
          _ = this.current708Packet.data,
          w = this.services[i];
        for (w || (w = this.initService(i, m)); m < a + o && m < _.length; m++)
          (p = _[m]),
            x(p)
              ? (m = this.handleText(m, w))
              : 16 === p
              ? (m = this.extendedCommands(m, w))
              : 128 <= p && p <= 135
              ? (m = this.setCurrentWindow(m, w))
              : 152 <= p && p <= 159
              ? (m = this.defineWindow(m, w))
              : 136 === p
              ? (m = this.clearWindows(m, w))
              : 140 === p
              ? (m = this.deleteWindows(m, w))
              : 137 === p
              ? (m = this.displayWindows(m, w))
              : 138 === p
              ? (m = this.hideWindows(m, w))
              : 139 === p
              ? (m = this.toggleWindows(m, w))
              : 151 === p
              ? (m = this.setWindowAttributes(m, w))
              : 144 === p
              ? (m = this.setPenAttributes(m, w))
              : 145 === p
              ? (m = this.setPenColor(m, w))
              : 146 === p
              ? (m = this.setPenLocation(m, w))
              : 143 === p
              ? (w = this.reset(m, w))
              : 8 === p
              ? w.currentWindow.backspace()
              : 12 === p
              ? w.currentWindow.clearText()
              : 13 === p
              ? (w.currentWindow.pendingNewLine = !0)
              : 14 === p
              ? w.currentWindow.clearText()
              : 141 === p && m++;
      }),
      (j.prototype.extendedCommands = function (i, a) {
        var o = this.current708Packet.data[++i];
        return x(o) && (i = this.handleText(i, a, !0)), i;
      }),
      (j.prototype.getPts = function (i) {
        return this.current708Packet.ptsVals[Math.floor(i / 2)];
      }),
      (j.prototype.initService = function (i, a) {
        var o = this;
        return (
          (this.services[i] = new D(i)),
          this.services[i].init(this.getPts(a), function (a) {
            o.flushDisplayed(a, o.services[i]);
          }),
          this.services[i]
        );
      }),
      (j.prototype.handleText = function (i, a, o) {
        var p = (function get708CharFromCode(i) {
            var a = w[i] || i;
            return 4096 & i && i === a ? '' : String.fromCharCode(a);
          })((o ? 4096 : 0) | this.current708Packet.data[i]),
          m = a.currentWindow;
        return (
          m.pendingNewLine && !m.isEmpty() && m.newLine(this.getPts(i)),
          (m.pendingNewLine = !1),
          m.addText(p),
          i
        );
      }),
      (j.prototype.setCurrentWindow = function (i, a) {
        var o = 7 & this.current708Packet.data[i];
        return a.setCurrentWindow(o), i;
      }),
      (j.prototype.defineWindow = function (i, a) {
        var o = this.current708Packet.data,
          p = o[i],
          m = 7 & p;
        a.setCurrentWindow(m);
        var _ = a.currentWindow;
        return (
          (p = o[++i]),
          (_.visible = (32 & p) >> 5),
          (_.rowLock = (16 & p) >> 4),
          (_.columnLock = (8 & p) >> 3),
          (_.priority = 7 & p),
          (p = o[++i]),
          (_.relativePositioning = (128 & p) >> 7),
          (_.anchorVertical = 127 & p),
          (p = o[++i]),
          (_.anchorHorizontal = p),
          (p = o[++i]),
          (_.anchorPoint = (240 & p) >> 4),
          (_.rowCount = 15 & p),
          (p = o[++i]),
          (_.columnCount = 63 & p),
          (p = o[++i]),
          (_.windowStyle = (56 & p) >> 3),
          (_.penStyle = 7 & p),
          (_.virtualRowCount = _.rowCount + 1),
          i
        );
      }),
      (j.prototype.setWindowAttributes = function (i, a) {
        var o = this.current708Packet.data,
          p = o[i],
          m = a.currentWindow.winAttr;
        return (
          (p = o[++i]),
          (m.fillOpacity = (192 & p) >> 6),
          (m.fillRed = (48 & p) >> 4),
          (m.fillGreen = (12 & p) >> 2),
          (m.fillBlue = 3 & p),
          (p = o[++i]),
          (m.borderType = (192 & p) >> 6),
          (m.borderRed = (48 & p) >> 4),
          (m.borderGreen = (12 & p) >> 2),
          (m.borderBlue = 3 & p),
          (p = o[++i]),
          (m.borderType += (128 & p) >> 5),
          (m.wordWrap = (64 & p) >> 6),
          (m.printDirection = (48 & p) >> 4),
          (m.scrollDirection = (12 & p) >> 2),
          (m.justify = 3 & p),
          (p = o[++i]),
          (m.effectSpeed = (240 & p) >> 4),
          (m.effectDirection = (12 & p) >> 2),
          (m.displayEffect = 3 & p),
          i
        );
      }),
      (j.prototype.flushDisplayed = function (i, a) {
        for (var o = [], p = 0; p < 8; p++)
          a.windows[p].visible &&
            !a.windows[p].isEmpty() &&
            o.push(a.windows[p].getText());
        (a.endPts = i),
          (a.text = o.join('\n\n')),
          this.pushCaption(a),
          (a.startPts = i);
      }),
      (j.prototype.pushCaption = function (i) {
        '' !== i.text &&
          (this.trigger('data', {
            startPts: i.startPts,
            endPts: i.endPts,
            text: i.text,
            stream: 'cc708_' + i.serviceNum,
          }),
          (i.text = ''),
          (i.startPts = i.endPts));
      }),
      (j.prototype.displayWindows = function (i, a) {
        var o = this.current708Packet.data[++i],
          p = this.getPts(i);
        this.flushDisplayed(p, a);
        for (var m = 0; m < 8; m++) o & (1 << m) && (a.windows[m].visible = 1);
        return i;
      }),
      (j.prototype.hideWindows = function (i, a) {
        var o = this.current708Packet.data[++i],
          p = this.getPts(i);
        this.flushDisplayed(p, a);
        for (var m = 0; m < 8; m++) o & (1 << m) && (a.windows[m].visible = 0);
        return i;
      }),
      (j.prototype.toggleWindows = function (i, a) {
        var o = this.current708Packet.data[++i],
          p = this.getPts(i);
        this.flushDisplayed(p, a);
        for (var m = 0; m < 8; m++) o & (1 << m) && (a.windows[m].visible ^= 1);
        return i;
      }),
      (j.prototype.clearWindows = function (i, a) {
        var o = this.current708Packet.data[++i],
          p = this.getPts(i);
        this.flushDisplayed(p, a);
        for (var m = 0; m < 8; m++) o & (1 << m) && a.windows[m].clearText();
        return i;
      }),
      (j.prototype.deleteWindows = function (i, a) {
        var o = this.current708Packet.data[++i],
          p = this.getPts(i);
        this.flushDisplayed(p, a);
        for (var m = 0; m < 8; m++) o & (1 << m) && a.windows[m].reset();
        return i;
      }),
      (j.prototype.setPenAttributes = function (i, a) {
        var o = this.current708Packet.data,
          p = o[i],
          m = a.currentWindow.penAttr;
        return (
          (p = o[++i]),
          (m.textTag = (240 & p) >> 4),
          (m.offset = (12 & p) >> 2),
          (m.penSize = 3 & p),
          (p = o[++i]),
          (m.italics = (128 & p) >> 7),
          (m.underline = (64 & p) >> 6),
          (m.edgeType = (56 & p) >> 3),
          (m.fontStyle = 7 & p),
          i
        );
      }),
      (j.prototype.setPenColor = function (i, a) {
        var o = this.current708Packet.data,
          p = o[i],
          m = a.currentWindow.penColor;
        return (
          (p = o[++i]),
          (m.fgOpacity = (192 & p) >> 6),
          (m.fgRed = (48 & p) >> 4),
          (m.fgGreen = (12 & p) >> 2),
          (m.fgBlue = 3 & p),
          (p = o[++i]),
          (m.bgOpacity = (192 & p) >> 6),
          (m.bgRed = (48 & p) >> 4),
          (m.bgGreen = (12 & p) >> 2),
          (m.bgBlue = 3 & p),
          (p = o[++i]),
          (m.edgeRed = (48 & p) >> 4),
          (m.edgeGreen = (12 & p) >> 2),
          (m.edgeBlue = 3 & p),
          i
        );
      }),
      (j.prototype.setPenLocation = function (i, a) {
        var o = this.current708Packet.data,
          p = o[i],
          m = a.currentWindow.penLoc;
        return (
          (a.currentWindow.pendingNewLine = !0),
          (p = o[++i]),
          (m.row = 15 & p),
          (p = o[++i]),
          (m.column = 63 & p),
          i
        );
      }),
      (j.prototype.reset = function (i, a) {
        var o = this.getPts(i);
        return this.flushDisplayed(o, a), this.initService(a.serviceNum, i);
      });
    var K = {
        42: 225,
        92: 233,
        94: 237,
        95: 243,
        96: 250,
        123: 231,
        124: 247,
        125: 209,
        126: 241,
        127: 9608,
        304: 174,
        305: 176,
        306: 189,
        307: 191,
        308: 8482,
        309: 162,
        310: 163,
        311: 9834,
        312: 224,
        313: 160,
        314: 232,
        315: 226,
        316: 234,
        317: 238,
        318: 244,
        319: 251,
        544: 193,
        545: 201,
        546: 211,
        547: 218,
        548: 220,
        549: 252,
        550: 8216,
        551: 161,
        552: 42,
        553: 39,
        554: 8212,
        555: 169,
        556: 8480,
        557: 8226,
        558: 8220,
        559: 8221,
        560: 192,
        561: 194,
        562: 199,
        563: 200,
        564: 202,
        565: 203,
        566: 235,
        567: 206,
        568: 207,
        569: 239,
        570: 212,
        571: 217,
        572: 249,
        573: 219,
        574: 171,
        575: 187,
        800: 195,
        801: 227,
        802: 205,
        803: 204,
        804: 236,
        805: 210,
        806: 242,
        807: 213,
        808: 245,
        809: 123,
        810: 125,
        811: 92,
        812: 94,
        813: 95,
        814: 124,
        815: 126,
        816: 196,
        817: 228,
        818: 214,
        819: 246,
        820: 223,
        821: 165,
        822: 164,
        823: 9474,
        824: 197,
        825: 229,
        826: 216,
        827: 248,
        828: 9484,
        829: 9488,
        830: 9492,
        831: 9496,
      },
      q = function getCharFromCode(i) {
        return null === i ? '' : ((i = K[i] || i), String.fromCharCode(i));
      },
      $ = [
        4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864,
        4896, 5120, 5152,
      ],
      Z = function createDisplayBuffer() {
        for (var i = [], a = 15; a--; ) i.push('');
        return i;
      },
      be = function Cea608Stream(i, a) {
        Cea608Stream.prototype.init.call(this),
          (this.field_ = i || 0),
          (this.dataChannel_ = a || 0),
          (this.name_ = 'CC' + (1 + ((this.field_ << 1) | this.dataChannel_))),
          this.setConstants(),
          this.reset(),
          (this.push = function (i) {
            var a, o, p, m, _;
            if ((a = 32639 & i.ccData) !== this.lastControlCode_) {
              if (
                (4096 == (61440 & a)
                  ? (this.lastControlCode_ = a)
                  : a !== this.PADDING_ && (this.lastControlCode_ = null),
                (p = a >>> 8),
                (m = 255 & a),
                a !== this.PADDING_)
              )
                if (a === this.RESUME_CAPTION_LOADING_) this.mode_ = 'popOn';
                else if (a === this.END_OF_CAPTION_)
                  (this.mode_ = 'popOn'),
                    this.clearFormatting(i.pts),
                    this.flushDisplayed(i.pts),
                    (o = this.displayed_),
                    (this.displayed_ = this.nonDisplayed_),
                    (this.nonDisplayed_ = o),
                    (this.startPts_ = i.pts);
                else if (a === this.ROLL_UP_2_ROWS_)
                  (this.rollUpRows_ = 2), this.setRollUp(i.pts);
                else if (a === this.ROLL_UP_3_ROWS_)
                  (this.rollUpRows_ = 3), this.setRollUp(i.pts);
                else if (a === this.ROLL_UP_4_ROWS_)
                  (this.rollUpRows_ = 4), this.setRollUp(i.pts);
                else if (a === this.CARRIAGE_RETURN_)
                  this.clearFormatting(i.pts),
                    this.flushDisplayed(i.pts),
                    this.shiftRowsUp_(),
                    (this.startPts_ = i.pts);
                else if (a === this.BACKSPACE_)
                  'popOn' === this.mode_
                    ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                        this.row_
                      ].slice(0, -1))
                    : (this.displayed_[this.row_] = this.displayed_[
                        this.row_
                      ].slice(0, -1));
                else if (a === this.ERASE_DISPLAYED_MEMORY_)
                  this.flushDisplayed(i.pts), (this.displayed_ = Z());
                else if (a === this.ERASE_NON_DISPLAYED_MEMORY_)
                  this.nonDisplayed_ = Z();
                else if (a === this.RESUME_DIRECT_CAPTIONING_)
                  'paintOn' !== this.mode_ &&
                    (this.flushDisplayed(i.pts), (this.displayed_ = Z())),
                    (this.mode_ = 'paintOn'),
                    (this.startPts_ = i.pts);
                else if (this.isSpecialCharacter(p, m))
                  (_ = q((p = (3 & p) << 8) | m)),
                    this[this.mode_](i.pts, _),
                    this.column_++;
                else if (this.isExtCharacter(p, m))
                  'popOn' === this.mode_
                    ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[
                        this.row_
                      ].slice(0, -1))
                    : (this.displayed_[this.row_] = this.displayed_[
                        this.row_
                      ].slice(0, -1)),
                    (_ = q((p = (3 & p) << 8) | m)),
                    this[this.mode_](i.pts, _),
                    this.column_++;
                else if (this.isMidRowCode(p, m))
                  this.clearFormatting(i.pts),
                    this[this.mode_](i.pts, ' '),
                    this.column_++,
                    14 == (14 & m) && this.addFormatting(i.pts, ['i']),
                    1 == (1 & m) && this.addFormatting(i.pts, ['u']);
                else if (this.isOffsetControlCode(p, m)) this.column_ += 3 & m;
                else if (this.isPAC(p, m)) {
                  var w = $.indexOf(7968 & a);
                  'rollUp' === this.mode_ &&
                    (w - this.rollUpRows_ + 1 < 0 && (w = this.rollUpRows_ - 1),
                    this.setRollUp(i.pts, w)),
                    w !== this.row_ &&
                      (this.clearFormatting(i.pts), (this.row_ = w)),
                    1 & m &&
                      -1 === this.formatting_.indexOf('u') &&
                      this.addFormatting(i.pts, ['u']),
                    16 == (16 & a) && (this.column_ = 4 * ((14 & a) >> 1)),
                    this.isColorPAC(m) &&
                      14 == (14 & m) &&
                      this.addFormatting(i.pts, ['i']);
                } else
                  this.isNormalChar(p) &&
                    (0 === m && (m = null),
                    (_ = q(p)),
                    (_ += q(m)),
                    this[this.mode_](i.pts, _),
                    (this.column_ += _.length));
            } else this.lastControlCode_ = null;
          });
      };
    (be.prototype = new p()),
      (be.prototype.flushDisplayed = function (i) {
        var a = this.displayed_
          .map(function (i) {
            try {
              return i.trim();
            } catch (a) {
              return console.error('Skipping malformed caption.'), '';
            }
          })
          .join('\n')
          .replace(/^\n+|\n+$/g, '');
        a.length &&
          this.trigger('data', {
            startPts: this.startPts_,
            endPts: i,
            text: a,
            stream: this.name_,
          });
      }),
      (be.prototype.reset = function () {
        (this.mode_ = 'popOn'),
          (this.topRow_ = 0),
          (this.startPts_ = 0),
          (this.displayed_ = Z()),
          (this.nonDisplayed_ = Z()),
          (this.lastControlCode_ = null),
          (this.column_ = 0),
          (this.row_ = 14),
          (this.rollUpRows_ = 2),
          (this.formatting_ = []);
      }),
      (be.prototype.setConstants = function () {
        0 === this.dataChannel_
          ? ((this.BASE_ = 16),
            (this.EXT_ = 17),
            (this.CONTROL_ = (20 | this.field_) << 8),
            (this.OFFSET_ = 23))
          : 1 === this.dataChannel_ &&
            ((this.BASE_ = 24),
            (this.EXT_ = 25),
            (this.CONTROL_ = (28 | this.field_) << 8),
            (this.OFFSET_ = 31)),
          (this.PADDING_ = 0),
          (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
          (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
          (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
          (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
          (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
          (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
          (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
          (this.BACKSPACE_ = 33 | this.CONTROL_),
          (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
          (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
      }),
      (be.prototype.isSpecialCharacter = function (i, a) {
        return i === this.EXT_ && a >= 48 && a <= 63;
      }),
      (be.prototype.isExtCharacter = function (i, a) {
        return (
          (i === this.EXT_ + 1 || i === this.EXT_ + 2) && a >= 32 && a <= 63
        );
      }),
      (be.prototype.isMidRowCode = function (i, a) {
        return i === this.EXT_ && a >= 32 && a <= 47;
      }),
      (be.prototype.isOffsetControlCode = function (i, a) {
        return i === this.OFFSET_ && a >= 33 && a <= 35;
      }),
      (be.prototype.isPAC = function (i, a) {
        return i >= this.BASE_ && i < this.BASE_ + 8 && a >= 64 && a <= 127;
      }),
      (be.prototype.isColorPAC = function (i) {
        return (i >= 64 && i <= 79) || (i >= 96 && i <= 127);
      }),
      (be.prototype.isNormalChar = function (i) {
        return i >= 32 && i <= 127;
      }),
      (be.prototype.setRollUp = function (i, a) {
        if (
          ('rollUp' !== this.mode_ &&
            ((this.row_ = 14),
            (this.mode_ = 'rollUp'),
            this.flushDisplayed(i),
            (this.nonDisplayed_ = Z()),
            (this.displayed_ = Z())),
          a !== undefined && a !== this.row_)
        )
          for (var o = 0; o < this.rollUpRows_; o++)
            (this.displayed_[a - o] = this.displayed_[this.row_ - o]),
              (this.displayed_[this.row_ - o] = '');
        a === undefined && (a = this.row_),
          (this.topRow_ = a - this.rollUpRows_ + 1);
      }),
      (be.prototype.addFormatting = function (i, a) {
        this.formatting_ = this.formatting_.concat(a);
        var o = a.reduce(function (i, a) {
          return i + '<' + a + '>';
        }, '');
        this[this.mode_](i, o);
      }),
      (be.prototype.clearFormatting = function (i) {
        if (this.formatting_.length) {
          var a = this.formatting_.reverse().reduce(function (i, a) {
            return i + '</' + a + '>';
          }, '');
          (this.formatting_ = []), this[this.mode_](i, a);
        }
      }),
      (be.prototype.popOn = function (i, a) {
        var o = this.nonDisplayed_[this.row_];
        (o += a), (this.nonDisplayed_[this.row_] = o);
      }),
      (be.prototype.rollUp = function (i, a) {
        var o = this.displayed_[this.row_];
        (o += a), (this.displayed_[this.row_] = o);
      }),
      (be.prototype.shiftRowsUp_ = function () {
        var i;
        for (i = 0; i < this.topRow_; i++) this.displayed_[i] = '';
        for (i = this.row_ + 1; i < 15; i++) this.displayed_[i] = '';
        for (i = this.topRow_; i < this.row_; i++)
          this.displayed_[i] = this.displayed_[i + 1];
        this.displayed_[this.row_] = '';
      }),
      (be.prototype.paintOn = function (i, a) {
        var o = this.displayed_[this.row_];
        (o += a), (this.displayed_[this.row_] = o);
      }),
      (i.exports = { CaptionStream: _, Cea608Stream: be, Cea708Stream: j });
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(104),
      _ = [].reverse,
      w = [1, 2];
    p(
      { target: 'Array', proto: !0, forced: String(w) === String(w.reverse()) },
      {
        reverse: function reverse() {
          return m(this) && (this.length = this.length), _.call(this);
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    i.exports = {
      parseSei: function parseSei(i) {
        for (
          var a = 0, o = { payloadType: -1, payloadSize: 0 }, p = 0, m = 0;
          a < i.byteLength && 128 !== i[a];

        ) {
          for (; 255 === i[a]; ) (p += 255), a++;
          for (p += i[a++]; 255 === i[a]; ) (m += 255), a++;
          if (((m += i[a++]), !o.payload && 4 === p)) {
            if (
              'GA94' ===
              String.fromCharCode(i[a + 3], i[a + 4], i[a + 5], i[a + 6])
            ) {
              (o.payloadType = p),
                (o.payloadSize = m),
                (o.payload = i.subarray(a, a + m));
              break;
            }
            o.payload = void 0;
          }
          (a += m), (p = 0), (m = 0);
        }
        return o;
      },
      parseUserData: function parseUserData(i) {
        return 181 !== i.payload[0] ||
          49 != ((i.payload[1] << 8) | i.payload[2]) ||
          'GA94' !==
            String.fromCharCode(
              i.payload[3],
              i.payload[4],
              i.payload[5],
              i.payload[6]
            ) ||
          3 !== i.payload[7]
          ? null
          : i.payload.subarray(8, i.payload.length - 1);
      },
      parseCaptionPackets: function parseCaptionPackets(i, a) {
        var o,
          p,
          m,
          _,
          w = [];
        if (!(64 & a[0])) return w;
        for (p = 31 & a[0], o = 0; o < p; o++)
          (_ = { type: 3 & a[(m = 3 * o) + 2], pts: i }),
            4 & a[m + 2] &&
              ((_.ccData = (a[m + 3] << 8) | a[m + 4]), w.push(_));
        return w;
      },
      discardEmulationPreventionBytes: function discardEmulationPreventionBytes(
        i
      ) {
        for (var a, o, p = i.byteLength, m = [], _ = 1; _ < p - 2; )
          0 === i[_] && 0 === i[_ + 1] && 3 === i[_ + 2]
            ? (m.push(_ + 2), (_ += 2))
            : _++;
        if (0 === m.length) return i;
        (a = p - m.length), (o = new Uint8Array(a));
        var w = 0;
        for (_ = 0; _ < a; w++, _++)
          w === m[0] && (w++, m.shift()), (o[_] = i[w]);
        return o;
      },
      USER_DATA_REGISTERED_ITU_T_T35: 4,
    };
  },
  function (i, a, o) {
    'use strict';
    i.exports = {
      H264_STREAM_TYPE: 27,
      ADTS_STREAM_TYPE: 15,
      METADATA_STREAM_TYPE: 21,
    };
  },
  function (i, a, o) {
    var p = o(5);
    a.f = p;
  },
  function (i, a, o) {
    'use strict';
    o(44), o(3), o(43);
    var p = [
        96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025,
        8e3, 7350,
      ],
      m = function parseId3TagSize(i, a) {
        var o =
          (i[a + 6] << 21) | (i[a + 7] << 14) | (i[a + 8] << 7) | i[a + 9];
        return (o = o >= 0 ? o : 0), (16 & i[a + 5]) >> 4 ? o + 20 : o + 10;
      },
      _ = function parseSyncSafeInteger(i) {
        return (i[0] << 21) | (i[1] << 14) | (i[2] << 7) | i[3];
      },
      w = function parseIso88591(i, a, o) {
        return unescape(
          (function percentEncode(i, a, o) {
            var p,
              m = '';
            for (p = a; p < o; p++)
              m += '%' + ('00' + i[p].toString(16)).slice(-2);
            return m;
          })(i, a, o)
        );
      };
    i.exports = {
      isLikelyAacData: function isLikelyAacData(i) {
        var a = (function getId3Offset(i, a) {
          return i.length - a < 10 ||
            i[a] !== 'I'.charCodeAt(0) ||
            i[a + 1] !== 'D'.charCodeAt(0) ||
            i[a + 2] !== '3'.charCodeAt(0)
            ? a
            : getId3Offset(i, (a += m(i, a)));
        })(i, 0);
        return (
          i.length >= a + 2 &&
          255 == (255 & i[a]) &&
          240 == (240 & i[a + 1]) &&
          16 == (22 & i[a + 1])
        );
      },
      parseId3TagSize: m,
      parseAdtsSize: function parseAdtsSize(i, a) {
        var o = (224 & i[a + 5]) >> 5,
          p = i[a + 4] << 3;
        return (6144 & i[a + 3]) | p | o;
      },
      parseType: function parseType(i, a) {
        return i[a] === 'I'.charCodeAt(0) &&
          i[a + 1] === 'D'.charCodeAt(0) &&
          i[a + 2] === '3'.charCodeAt(0)
          ? 'timed-metadata'
          : !0 & i[a] && 240 == (240 & i[a + 1])
          ? 'audio'
          : null;
      },
      parseSampleRate: function parseSampleRate(i) {
        for (var a = 0; a + 5 < i.length; ) {
          if (255 === i[a] && 240 == (246 & i[a + 1]))
            return p[(60 & i[a + 2]) >>> 2];
          a++;
        }
        return null;
      },
      parseAacTimestamp: function parseAacTimestamp(i) {
        var a, o, p;
        (a = 10), 64 & i[5] && ((a += 4), (a += _(i.subarray(10, 14))));
        do {
          if ((o = _(i.subarray(a + 4, a + 8))) < 1) return null;
          if (
            'PRIV' === String.fromCharCode(i[a], i[a + 1], i[a + 2], i[a + 3])
          ) {
            p = i.subarray(a + 10, a + o + 10);
            for (var m = 0; m < p.byteLength; m++)
              if (0 === p[m]) {
                if (
                  'com.apple.streaming.transportStreamTimestamp' === w(p, 0, m)
                ) {
                  var x = p.subarray(m + 1),
                    I =
                      ((1 & x[3]) << 30) |
                      (x[4] << 22) |
                      (x[5] << 14) |
                      (x[6] << 6) |
                      (x[7] >>> 2);
                  return (I *= 4), (I += 3 & x[7]);
                }
                break;
              }
          }
          (a += 10), (a += o);
        } while (a < i.byteLength);
        return null;
      },
    };
  },
  function (i, a, o) {
    o(163)('iterator');
  },
  function (i, a, o) {
    var p = o(0),
      m = o(209);
    p(
      {
        target: 'Array',
        stat: !0,
        forced: !o(127)(function (i) {
          Array.from(i);
        }),
      },
      { from: m }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(84),
      m = o(47),
      _ = o(210),
      w = o(158),
      x = o(10),
      I = o(105),
      D = o(112);
    i.exports = function from(i) {
      var a,
        o,
        j,
        K,
        q,
        $,
        Z = m(i),
        be = 'function' == typeof this ? this : Array,
        Se = arguments.length,
        _e = Se > 1 ? arguments[1] : undefined,
        we = _e !== undefined,
        xe = D(Z),
        et = 0;
      if (
        (we && (_e = p(_e, Se > 2 ? arguments[2] : undefined, 2)),
        xe == undefined || (be == Array && w(xe)))
      )
        for (o = new be((a = x(Z.length))); a > et; et++)
          ($ = we ? _e(Z[et], et) : Z[et]), I(o, et, $);
      else
        for (
          q = (K = xe.call(Z)).next, o = new be();
          !(j = q.call(K)).done;
          et++
        )
          ($ = we ? _(K, _e, [j.value, et], !0) : j.value), I(o, et, $);
      return (o.length = et), o;
    };
  },
  function (i, a, o) {
    var p = o(11);
    i.exports = function (i, a, o, m) {
      try {
        return m ? a(p(o)[0], o[1]) : a(o);
      } catch (w) {
        var _ = i['return'];
        throw (_ !== undefined && p(_.call(i)), w);
      }
    };
  },
  function (i, a, o) {
    var p = o(9),
      m = o(107),
      _ = o(53),
      w = o(121).f,
      createMethod = function (i) {
        return function (a) {
          for (var o, x = _(a), I = m(x), D = I.length, j = 0, K = []; D > j; )
            (o = I[j++]), (p && !w.call(x, o)) || K.push(i ? [o, x[o]] : x[o]);
          return K;
        };
      };
    i.exports = { entries: createMethod(!0), values: createMethod(!1) };
  },
  function (i, a) {
    i.exports = function _arrayLikeToArray(i, a) {
      (null == a || a > i.length) && (a = i.length);
      for (var o = 0, p = new Array(a); o < a; o++) p[o] = i[o];
      return p;
    };
  },
  function (i, a, o) {
    var p = o(212);
    i.exports = function _unsupportedIterableToArray(i, a) {
      if (i) {
        if ('string' == typeof i) return p(i, a);
        var o = Object.prototype.toString.call(i).slice(8, -1);
        return (
          'Object' === o && i.constructor && (o = i.constructor.name),
          'Map' === o || 'Set' === o
            ? Array.from(i)
            : 'Arguments' === o ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)
            ? p(i, a)
            : void 0
        );
      }
    };
  },
  function (i, a, o) {
    var p = o(2);
    i.exports = p.Promise;
  },
  function (i, a, o) {
    var p,
      m,
      _,
      w = o(2),
      x = o(1),
      I = o(59),
      D = o(84),
      j = o(187),
      K = o(145),
      q = o(216),
      $ = w.location,
      Z = w.setImmediate,
      be = w.clearImmediate,
      Se = w.process,
      _e = w.MessageChannel,
      we = w.Dispatch,
      xe = 0,
      et = {},
      tt = 'onreadystatechange',
      run = function (i) {
        if (et.hasOwnProperty(i)) {
          var a = et[i];
          delete et[i], a();
        }
      },
      runner = function (i) {
        return function () {
          run(i);
        };
      },
      listener = function (i) {
        run(i.data);
      },
      post = function (i) {
        w.postMessage(i + '', $.protocol + '//' + $.host);
      };
    (Z && be) ||
      ((Z = function setImmediate(i) {
        for (var a = [], o = 1; arguments.length > o; ) a.push(arguments[o++]);
        return (
          (et[++xe] = function () {
            ('function' == typeof i ? i : Function(i)).apply(undefined, a);
          }),
          p(xe),
          xe
        );
      }),
      (be = function clearImmediate(i) {
        delete et[i];
      }),
      'process' == I(Se)
        ? (p = function (i) {
            Se.nextTick(runner(i));
          })
        : we && we.now
        ? (p = function (i) {
            we.now(runner(i));
          })
        : _e && !q
        ? ((_ = (m = new _e()).port2),
          (m.port1.onmessage = listener),
          (p = D(_.postMessage, _, 1)))
        : !w.addEventListener ||
          'function' != typeof postMessage ||
          w.importScripts ||
          x(post) ||
          'file:' === $.protocol
        ? (p =
            tt in K('script')
              ? function (i) {
                  j.appendChild(K('script')).onreadystatechange = function () {
                    j.removeChild(this), run(i);
                  };
                }
              : function (i) {
                  setTimeout(runner(i), 0);
                })
        : ((p = post), w.addEventListener('message', listener, !1))),
      (i.exports = { set: Z, clear: be });
  },
  function (i, a, o) {
    var p = o(185);
    i.exports = /(iphone|ipod|ipad).*applewebkit/i.test(p);
  },
  function (i, a, o) {
    var p = o(11),
      m = o(8),
      _ = o(218);
    i.exports = function (i, a) {
      if ((p(i), m(a) && a.constructor === i)) return a;
      var o = _.f(i);
      return (0, o.resolve)(a), o.promise;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(72),
      PromiseCapability = function (i) {
        var a, o;
        (this.promise = new i(function (i, p) {
          if (a !== undefined || o !== undefined)
            throw TypeError('Bad Promise constructor');
          (a = i), (o = p);
        })),
          (this.resolve = p(a)),
          (this.reject = p(o));
      };
    i.exports.f = function (i) {
      return new PromiseCapability(i);
    };
  },
  function (i, a, o) {
    'use strict';
    (function (i) {
      var p = o(4);
      o(41),
        o(45),
        o(6),
        o(92),
        o(55),
        o(44),
        o(137),
        o(49),
        o(3),
        o(77),
        o(66),
        o(48),
        o(76),
        Object.defineProperty(a, '__esModule', { value: !0 }),
        (a['default'] = void 0);
      var m = p(o(117));
      o(97);
      var _ = p(o(118)),
        w = p(o(116)),
        x = p(o(140)),
        I = p(o(15)),
        D = p(o(13)),
        j = p(o(65)),
        K = p(o(164)),
        q = p(o(287)),
        $ = K['default'].getHash;
      function createXhrObject() {
        if (window.XMLHttpRequest) return new XMLHttpRequest();
        if (window.ActiveXObject) {
          var i,
            a = [
              'Msxml2.XMLHTTP.6.0',
              'Msxml2.XMLHTTP.3.0',
              'Msxml2.XMLHTTP',
              'Microsoft.XMLHTTP',
            ];
          for (i = 0; i < a.length; i += 1) {
            var o = o[i];
            try {
              return new ActiveXObject(o);
            } catch (p) {}
          }
        }
        return null;
      }
      function formatParams(i) {
        return '?'.concat(
          Object.keys(i)
            .map(function (a) {
              return ''.concat(a, '=').concat(encodeURIComponent(i[a]));
            })
            .join('&')
        );
      }
      function pad2(i) {
        var a = Math.floor(Math.abs(i));
        return (a < 10 ? '0' : '') + a;
      }
      function dateToIsoString(i) {
        var a = -i.getTimezoneOffset(),
          o = a >= 0 ? '+' : '-';
        return ''
          .concat(i.getFullYear(), '-')
          .concat(pad2(i.getMonth() + 1), '-')
          .concat(pad2(i.getDate()), 'T')
          .concat(pad2(i.getHours()), ':')
          .concat(pad2(i.getMinutes()), ':')
          .concat(pad2(i.getSeconds()), '.')
          .concat(pad2(i.getMilliseconds() / 10))
          .concat(o)
          .concat(pad2(a / 60), ':')
          .concat(pad2(a % 60));
      }
      var Z = function ReportDevice(i, a, o) {
          (0, D['default'])(this, ReportDevice),
            (this.deviceUid = i),
            (this.deviceType = a),
            (this.deviceOs = o);
        },
        be = (function () {
          function Reporter(i) {
            (0, D['default'])(this, Reporter),
              (i = (0, x['default'])({}, i || {})).key &&
                (j['default'].deprecated(
                  'vip.setup/Reporter.constructor: please use app_key instead of key'
                ),
                (i.app_key = i.key),
                delete i.key),
              i.no_reporting !== undefined &&
                (j['default'].deprecated(
                  'vip.setup/Reporter.constructor: no_reporting option was deprecated. please use activate_veygo_analytics: true if you want to activate it'
                ),
                i.activate_veygo_analytics === undefined &&
                  (i.activate_veygo_analytics = !i.no_reporting)),
              i.activate_veygo_analytics === undefined
                ? ((i.activate_veygo_analytics = !1),
                  (this.activateReportView =
                    i.activateReportView === undefined ||
                    !!i.activateReportView))
                : (i.activate_veygo_analytics = !!i.activate_veygo_analytics),
              (this._options = i),
              (this.appKey = i.app_key),
              (this.reporting = i.activate_veygo_analytics),
              (this.device = Reporter.createDevice(
                i ? i.device_id : undefined
              )),
              (this.pendingRequests_ = 0),
              (this.active_ = undefined),
              (this.getSessionPromises = undefined),
              (this.sessionToken = null),
              (this.apiDevice = null),
              (this.closeSessionWithSyncBinded =
                this.closeSessionWithSync.bind(this)),
              (this.lastContentName = null),
              (this.batchEvents = []),
              (this.nowMsFn =
                window.performance && window.performance.now
                  ? function () {
                      return Math.floor(1e3 * window.performance.now()) / 1e3;
                    }
                  : Date.now);
          }
          var a, o, p;
          return (
            (0, I['default'])(
              Reporter,
              [
                {
                  key: 'analyticsUri',
                  value: function analyticsUri(i) {
                    var a =
                        arguments.length > 1 && arguments[1] !== undefined
                          ? arguments[1]
                          : {},
                      o = 'https://'.concat(
                        this.appKey.slice(0, 10).toLowerCase(),
                        '.analytics.veygo.co'
                      );
                    return ''
                      .concat(o, '/api/')
                      .concat(i)
                      .concat(formatParams(a));
                  },
                },
                {
                  key: 'execute',
                  value: function execute(a, o, p, m) {
                    var _ = this,
                      w = {};
                    'GET' === a
                      ? (m = undefined)
                      : (w['Content-Type'] =
                          'application/x-www-form-urlencoded'),
                      (this.pendingRequests_ += 1);
                    var x = this.analyticsUri(o, p || {});
                    w.Accept =
                      'application/json, application/vnd.veygo-analytics.v1';
                    var I = { method: a, headers: w, credentials: 'include' };
                    return (
                      m &&
                        (I.body = 'json='.concat(
                          encodeURIComponent(JSON.stringify(m))
                        )),
                      i(x, I)
                        .then(function (i) {
                          var a = i.status;
                          return i.status >= 300
                            ? { code: a, uri: x, headers: w, data: m }
                            : i
                                .json()
                                .then(function (i) {
                                  return (
                                    (_.pendingRequests_ -= 1),
                                    {
                                      code: a,
                                      uri: x,
                                      headers: w,
                                      data: m,
                                      json: i,
                                    }
                                  );
                                })
                                ['catch'](function () {
                                  return (
                                    (_.pendingRequests_ -= 1),
                                    { code: a, uri: x, headers: w, data: m }
                                  );
                                });
                        })
                        ['catch'](function (i) {
                          return (
                            (_.pendingRequests_ -= 1),
                            {
                              uri: x,
                              headers: w,
                              reason: 'failed_to_fetch',
                              data: m,
                              error: i.message,
                            }
                          );
                        })
                    );
                  },
                },
                {
                  key: 'queue',
                  value: function queue(i, a) {
                    var o =
                        arguments.length > 2 &&
                        arguments[2] !== undefined &&
                        arguments[2],
                      p =
                        arguments.length > 3 &&
                        arguments[3] !== undefined &&
                        arguments[3],
                      m = 6;
                    if (
                      (this.batchEvents.length < m &&
                        this.batchEvents.push([i, a]),
                      this.sessionToken && (o || this.batchEvents.length >= m))
                    ) {
                      var _ =
                          1 === this.batchEvents.length
                            ? this.batchEvents[0][0]
                            : '/batch',
                        x =
                          1 === this.batchEvents.length
                            ? this.batchEvents[0][1]
                            : { batch: this.batchEvents };
                      if (p) {
                        var I = this.analyticsUri(_, {
                            stok: this.sessionToken,
                          }),
                          D = !1,
                          j = JSON.stringify(x);
                        if (navigator.sendBeacon !== undefined) {
                          var K = { type: 'application/x-www-form-urlencoded' },
                            q = 'json='.concat(encodeURIComponent(j)),
                            $ = new Blob([q], K);
                          navigator.sendBeacon(I, $);
                        } else {
                          var Z = {
                              'Content-Type': 'application/json',
                              Accept:
                                'application/json, application/vnd.veygo-analytics.v1',
                            },
                            be = createXhrObject();
                          be.open('POST', I, D),
                            Object.entries(Z).forEach(function (i) {
                              var a = (0, w['default'])(i, 2),
                                o = a[0],
                                p = a[1];
                              be.setRequestHeader(o, p);
                            }),
                            be.send(j);
                        }
                      } else
                        this.execute('POST', _, { stok: this.sessionToken }, x);
                      this.batchEvents = [];
                    }
                  },
                },
                {
                  key: 'reportEvent',
                  value: function reportEvent(i, a) {
                    var o = { name: i, data: a };
                    this.queue('events', {
                      event: o,
                      occured_at_ms: this.nowMsFn(),
                    });
                  },
                },
                {
                  key: 'reportEventView',
                  value: function reportEventView(i, a, o, p) {
                    this.queue('events', {
                      event: { name: a, position: o, data: p },
                      occured_at_ms: this.nowMsFn(),
                      view: { player_idx: i },
                    });
                  },
                },
                {
                  key: 'openSession',
                  value:
                    ((p = (0, _['default'])(
                      m['default'].mark(function _callee(i) {
                        var a,
                          o,
                          p = arguments;
                        return m['default'].wrap(
                          function _callee$(m) {
                            for (;;)
                              switch ((m.prev = m.next)) {
                                case 0:
                                  if (
                                    ((a =
                                      p.length > 1 && p[1] !== undefined
                                        ? p[1]
                                        : {}),
                                    (o = /\S+@\S+\.\S+/),
                                    'default' === i || !o.test(i))
                                  ) {
                                    m.next = 6;
                                    break;
                                  }
                                  return (m.next = 5), $(i);
                                case 5:
                                  i = m.sent;
                                case 6:
                                  if (
                                    ((this.getSessionPromises = []),
                                    !this._customerUid)
                                  ) {
                                    m.next = 9;
                                    break;
                                  }
                                  throw new Error('session_already_opened');
                                case 9:
                                  return m.abrupt(
                                    'return',
                                    this.openSessionInternal(i, a)
                                  );
                                case 10:
                                case 'end':
                                  return m.stop();
                              }
                          },
                          _callee,
                          this
                        );
                      })
                    )),
                    function openSession(i) {
                      return p.apply(this, arguments);
                    }),
                },
                {
                  key: 'openSessionInternal',
                  value:
                    ((o = (0, _['default'])(
                      m['default'].mark(function _callee2(i) {
                        var a,
                          o,
                          p,
                          _,
                          w,
                          x,
                          I = arguments;
                        return m['default'].wrap(
                          function _callee2$(m) {
                            for (;;)
                              switch ((m.prev = m.next)) {
                                case 0:
                                  if (
                                    ((a =
                                      I.length > 1 && I[1] !== undefined
                                        ? I[1]
                                        : {}),
                                    this.device.deviceUid !== undefined)
                                  ) {
                                    m.next = 7;
                                    break;
                                  }
                                  return (
                                    (m.next = 4), q['default'].getPromise()
                                  );
                                case 4:
                                  (o = m.sent),
                                    (p = q['default'].x64hash128(
                                      o
                                        .map(function (i) {
                                          return i.value;
                                        })
                                        .join(),
                                      31
                                    )),
                                    (this.device.deviceUid = p);
                                case 7:
                                  return (
                                    (_ = a.app || this._options.app || {}),
                                    (this._customerUid = i),
                                    (this.apiDevice = {
                                      os: this.device.deviceOs,
                                      type: this.device.deviceType,
                                      uid: this.device.deviceUid,
                                    }),
                                    (this.active_ = undefined),
                                    window.addEventListener(
                                      'beforeunload',
                                      this.closeSessionWithSyncBinded
                                    ),
                                    (w = {
                                      app: {
                                        id: _.id,
                                        major_version:
                                          _.major_version || _.version,
                                        minor_version: _.minor_version,
                                      },
                                      vip: {
                                        flavor: 'web',
                                        version: window.vip.CONFIG_VIP_BUILD_ID,
                                      },
                                      device: this.apiDevice,
                                      time: dateToIsoString(new Date()),
                                      customer: { uid: i },
                                      occured_at_ms: this.nowMsFn(),
                                    }),
                                    (m.next = 15),
                                    this.execute(
                                      'POST',
                                      'sessions',
                                      { token: this.appKey },
                                      w
                                    )
                                  );
                                case 15:
                                  return (
                                    (x = m.sent).error || 401 !== x.code
                                      ? ((this.active_ = !0),
                                        x.json &&
                                          (this.sessionToken = x.json.stok))
                                      : (this.active_ = !1),
                                    m.abrupt('return', this.active_)
                                  );
                                case 18:
                                case 'end':
                                  return m.stop();
                              }
                          },
                          _callee2,
                          this
                        );
                      })
                    )),
                    function openSessionInternal(i) {
                      return o.apply(this, arguments);
                    }),
                },
                {
                  key: 'needSdkStatus',
                  value: function needSdkStatus() {
                    var i = this;
                    if (this.getSessionPromises === undefined) {
                      this.getSessionPromises = [];
                      var a = [];
                      a.push(
                        this.openSessionInternal(this._customerUid || 'default')
                      ),
                        Promise.all(a).then(function () {
                          return (
                            i.getSessionPromises.forEach(function (a) {
                              return a.resolve(i.sessionToken);
                            }),
                            i.active_
                          );
                        });
                    }
                    return Promise.resolve(
                      this.active_ === undefined || this.active_
                    );
                  },
                },
                {
                  key: 'closeSession',
                  value: function closeSession() {
                    this.closeSessionWithSync(!1);
                  },
                },
                {
                  key: 'closeSessionWithSync',
                  value: function closeSessionWithSync() {
                    var i =
                      !(arguments.length > 0 && arguments[0] !== undefined) ||
                      arguments[0];
                    i &&
                      window.removeEventListener(
                        'beforeunload',
                        this.closeSessionWithSyncBinded
                      ),
                      this.queue(
                        'sessions/action',
                        { action: 'close', occured_at_ms: this.nowMsFn() },
                        !0,
                        i
                      ),
                      (this.sessionToken = null),
                      delete this.getSessionPromises;
                  },
                },
                {
                  key: 'reportView',
                  value: function reportView(i, a, o) {
                    var p =
                        arguments.length > 3 && arguments[3] !== undefined
                          ? arguments[3]
                          : 'unknown',
                      m = arguments.length > 4 ? arguments[4] : undefined;
                    !1 !== this.activateReportView &&
                      this.lastContentName !== a &&
                      ((this.lastContentName = a),
                      this.queue('views', {
                        view: {
                          player_idx: i,
                          content_type: p,
                          content_name: a,
                          content_url: o,
                          origin: m,
                        },
                        occured_at_ms: this.nowMsFn(),
                      }));
                  },
                },
                {
                  key: 'reportStreamStart',
                  value: function reportStreamStart() {},
                },
                {
                  key: 'reportStreamStop',
                  value: function reportStreamStop() {},
                },
                {
                  key: 'reportPlay',
                  value: function reportPlay(i, a) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'play', a);
                  },
                },
                {
                  key: 'reportPause',
                  value: function reportPause(i, a) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'pause', a);
                  },
                },
                {
                  key: 'reportStop',
                  value: function reportStop(i, a) {
                    return null === this.lastContentName ||
                      (!1 === this.reporting && !1 === this.activateReportView)
                      ? ((this.lastContentName = null), Promise.resolve())
                      : ((this.lastContentName = null),
                        this.reportEventView(i, 'stop', a));
                  },
                },
                {
                  key: 'reportSeekStart',
                  value: function reportSeekStart(i, a) {},
                },
                {
                  key: 'reportSeekStop',
                  value: function reportSeekStop(i, a) {},
                },
                {
                  key: 'reportStallStart',
                  value: function reportStallStart(i, a) {},
                },
                {
                  key: 'reportStallStop',
                  value: function reportStallStop(i, a) {},
                },
                {
                  key: 'reportBookmark',
                  value: function reportBookmark(i, a) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'bookmark', a);
                  },
                },
                {
                  key: 'reportBandwidth',
                  value: function reportBandwidth(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'bandwidth', a, {
                          bandwidth: o,
                        });
                  },
                },
                {
                  key: 'reportProfileSwitch',
                  value: function reportProfileSwitch(i, a, o, p, m) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'profile_switch', a, {
                          bitrate: m,
                          width: o,
                          height: p,
                        });
                  },
                },
                {
                  key: 'reportFrameDropped',
                  value: function reportFrameDropped(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'frame_dropped', a, o);
                  },
                },
                {
                  key: 'reportStartBuffering',
                  value: function reportStartBuffering(i, a) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'start_buffering', a);
                  },
                },
                {
                  key: 'reportStopBuffering',
                  value: function reportStopBuffering(i, a) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'stop_buffering', a);
                  },
                },
                {
                  key: 'reportPlayerError',
                  value: function reportPlayerError(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'player_error', a, o);
                  },
                },
                {
                  key: 'reportSelectAudioTrack',
                  value: function reportSelectAudioTrack(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'select_audio_track', a, {
                          language: o,
                        });
                  },
                },
                {
                  key: 'reportSelectSubtitles',
                  value: function reportSelectSubtitles(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEventView(i, 'select_subtitles', a, {
                          language: o,
                        });
                  },
                },
                {
                  key: 'reportSubscribeVodList',
                  value: function reportSubscribeVodList(i) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEvent('subscribe_vod_list', { vod_list: i });
                  },
                },
                {
                  key: 'reportScheduleRecording',
                  value: function reportScheduleRecording(i, a, o) {
                    return !1 === this.reporting
                      ? Promise.resolve()
                      : this.reportEvent('schedule_recording', {
                          content: i,
                          time: a,
                          duration: o,
                        });
                  },
                },
                {
                  key: 'reportCapture',
                  value: function reportCapture(i, a, o) {},
                },
                {
                  key: 'reportProgress',
                  value: function reportProgress(i, a) {},
                },
                {
                  key: 'checkForApplicationUpdate',
                  value:
                    ((a = (0, _['default'])(
                      m['default'].mark(function _callee3() {
                        var i,
                          a,
                          o,
                          p,
                          _,
                          w,
                          x = arguments;
                        return m['default'].wrap(
                          function _callee3$(m) {
                            for (;;)
                              switch ((m.prev = m.next)) {
                                case 0:
                                  if (
                                    ((i =
                                      x.length > 0 && x[0] !== undefined
                                        ? x[0]
                                        : {}),
                                    this.device.deviceUid !== undefined)
                                  ) {
                                    m.next = 7;
                                    break;
                                  }
                                  return (
                                    (m.next = 4), q['default'].getPromise()
                                  );
                                case 4:
                                  (a = m.sent),
                                    (o = q['default'].x64hash128(
                                      a
                                        .map(function (i) {
                                          return i.value;
                                        })
                                        .join(),
                                      31
                                    )),
                                    (this.device.deviceUid = o);
                                case 7:
                                  return (
                                    (p = {
                                      os: 'web',
                                      device_type: this.device.deviceType,
                                      device_uid: this.device.deviceUid,
                                      device_os: this.device.deviceOs,
                                      token: this.appKey,
                                    }),
                                    i.major && (p.major = i.major),
                                    i.minor && (p.minor = i.minor),
                                    (m.next = 12),
                                    this.execute('GET', 'releases/verify', p)
                                  );
                                case 12:
                                  return (
                                    (_ = m.sent),
                                    (w = _.json),
                                    m.abrupt('return', w)
                                  );
                                case 15:
                                case 'end':
                                  return m.stop();
                              }
                          },
                          _callee3,
                          this
                        );
                      })
                    )),
                    function checkForApplicationUpdate() {
                      return a.apply(this, arguments);
                    }),
                },
                {
                  key: 'pendingRequests',
                  value: function pendingRequests() {
                    return this.pendingRequests_ > 0;
                  },
                },
                { key: 'getVersion', value: function getVersion() {} },
                {
                  key: 'setEventDelegate',
                  value: function setEventDelegate() {},
                },
                { key: 'destroy', value: function destroy() {} },
                {
                  key: 'isDead',
                  value: function isDead() {
                    return !1;
                  },
                },
              ],
              [
                {
                  key: 'createDevice',
                  value: function createDevice(i) {
                    var a = navigator.userAgent,
                      o = navigator.platform || 'unknown';
                    return new Z(i, a, o);
                  },
                },
                {
                  key: 'factory',
                  value: function factory(i) {
                    return new Reporter(i);
                  },
                },
              ]
            ),
            Reporter
          );
        })();
      (a['default'] = be),
        (be.ViewOrigin = {
          PLAYER: 'PLAYER',
          LIVE: 'LIVE',
          VOD: 'VOD',
          CATCHUP: 'CATCHUP',
          EPG: 'EPG',
        }),
        (be.ReportConnection = {
          WIFI: 'WIFI',
          DATA4G: 'DATA4G',
          DATA3G: 'DATA3G',
          DATA: 'DATA',
        });
    }.call(this, o(286)));
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(75),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = function Stream(i, a, o, p, _, w, x) {
        (0, m['default'])(this, Stream),
          (this.name = i),
          (this.uri = a),
          (this.server = o),
          (this.company = p),
          (this.type = w),
          (this.content_type = x),
          (this['widevine.license_server'] = null),
          (this['widevine.license_request_headers'] = null),
          (this['playready.license_server'] = null),
          (this['playready.license_request_headers'] = null),
          (this['fairplay.license_server'] = null),
          (this['fairplay.certificate_uri'] = null),
          (this['fairplay.license_request_headers'] = null),
          (this['hbola.operator_id'] = null),
          (this['hbola.country_id'] = null),
          (this['hbola.token_id'] = null);
      };
    (a['default'] = _),
      (_.TYPE_HLS = 'hls'),
      (_.TYPE_DASH = 'dash'),
      (_.TYPE_MSS = 'smooth'),
      (_.TYPE_OTHER = 'other'),
      (_.CONTENT_VIDEO_LIVE = 'video_live'),
      (_.CONTENT_VIDEO_CLIP = 'video_clip'),
      (_.CONTENT_VIDEO_ON_DEMAND = 'vod'),
      (_.CONTENT_AUDIO_LIVE = 'audio_live'),
      (_.CONTENT_AUDIO_ON_DEMAND = 'audio_podcast');
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(222),
      o(45),
      o(223),
      o(85),
      o(6),
      o(55),
      o(63),
      o(44),
      o(75),
      o(165),
      o(98),
      o(141),
      o(137),
      o(49),
      o(3),
      o(77),
      o(78),
      o(58),
      o(43),
      o(226),
      o(66),
      o(64),
      o(48),
      o(76),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(116)),
      _ = p(o(117));
    o(97);
    var w = p(o(118)),
      x = p(o(140)),
      I = p(o(13)),
      D = p(o(142)),
      j = p(o(15)),
      K = p(o(79)),
      q = p(o(80)),
      $ = p(o(67)),
      Z = p(o(96)),
      be = p(o(95)),
      Se = p(o(291)),
      _e = p(o(65)),
      we = p(o(143)),
      xe = p(o(120));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, $['default'])(i);
        if (a) {
          var m = (0, $['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, q['default'])(this, o);
      };
    }
    var et = 0,
      tt = 1,
      rt = 2,
      nt = 3,
      it = 4,
      at = 5,
      ot = (function (i) {
        (0, K['default'])(Player, i);
        var a,
          o,
          p,
          q = _createSuper(Player);
        function Player(i, a) {
          var o;
          (0, I['default'])(this, Player),
            ((o = q.call(this)).currentPlayer = null),
            (o.element = i),
            (o.reporter = a),
            (o._toggledTracks = []);
          var p = 'veygoSubsDisplayer',
            m = o.element.parentNode.getElementsByClassName(p);
          return (
            m.length && o.element.parentNode.removeChild(m[0]),
            (o.subsContainer = document.createElement('div')),
            o.subsContainer.classList.add(p),
            o.element.parentNode.insertBefore(
              o.subsContainer,
              o.element.nextSibling
            ),
            (o.reporter = a),
            (o.playerIdx = 0),
            Player._ensureSetup(),
            o.element.addEventListener(
              'ended',
              o._onMediaElementEnded.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'loadedmetadata',
              o._onMediaElementLoadedMetadata.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'canplay',
              o._onMediaElementCanPlay.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'play',
              o._onMediaElementPlay.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'playing',
              o._onMediaElementPlaying.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'pause',
              o._onMediaElementPause.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'seeking',
              o._onMediaElementSeeking.bind((0, D['default'])(o))
            ),
            o.element.addEventListener(
              'seeked',
              o._onMediaElementSeeked.bind((0, D['default'])(o))
            ),
            (o.plugins = []),
            (o.defaults = {}),
            o
          );
        }
        return (
          (0, j['default'])(Player, null, [
            {
              key: 'registerPlayer',
              value: function registerPlayer(i) {
                Player.playerClasses[i.id] = i;
              },
            },
            {
              key: '_ensureSetup',
              value: function _ensureSetup() {
                Player.__ensureSetupDone ||
                  (Object.keys(Player.playerClasses).forEach(function (i) {
                    try {
                      Player.playerClasses[i].setup();
                    } catch (a) {
                      delete Player.playerClasses[i];
                    }
                  }),
                  Object.keys(Player.playerClasses).forEach(function (i) {
                    Player._defaultPlayerId === undefined &&
                      (Player._defaultPlayerId = i);
                  }),
                  (Player.__ensureSetupDone = !0));
              },
            },
            {
              key: '_navigatorFamily',
              value: function _navigatorFamily() {
                var i;
                if (Player.__navigatorFamily) return Player.__navigatorFamily;
                var a = navigator.userAgent.toLowerCase();
                return (
                  a.indexOf(' edge/') > -1
                    ? (i = it)
                    : -1 !== a.indexOf('safari')
                    ? (i =
                        a.indexOf('chrome') > -1
                          ? tt
                          : /ipad|iphone|ipod/.test(a)
                          ? rt
                          : nt)
                    : -1 !== a.indexOf('applewebkit')
                    ? (i = /ipad|iphone|ipod/.test(a) ? rt : nt)
                    : a.indexOf('trident') > -1
                    ? (i = at)
                    : (a.indexOf('firefox') > -1 ||
                        console.error('vip-player: unknown browser '.concat(a)),
                      (i = et)),
                  (Player.__navigatorFamily = i),
                  i
                );
              },
            },
          ]),
          (0, j['default'])(
            Player,
            [
              {
                key: 'destroy',
                value: function destroy() {
                  this.stream &&
                    this.reporter.reportStop(
                      this.playerIdx,
                      this._getAnalyticsPosition()
                    ),
                    this.plugins.forEach(function (i) {
                      return i.unlinkPlayer();
                    }),
                    null !== this.currentPlayer &&
                      (this.currentPlayer.destroy(),
                      (this.currentPlayer = null));
                },
              },
              {
                key: 'registerPlugin',
                value: function registerPlugin(i) {
                  i.linkPlayer(this), this.plugins.push(i);
                },
              },
              {
                key: 'dispatchError',
                value: function dispatchError(i) {
                  this.dispatchEvent(
                    i instanceof be['default']
                      ? i
                      : new be['default']('error', i)
                  );
                },
              },
              {
                key: 'start',
                value: function start() {
                  var i = new be['default']('status', {
                    status: 'initialized',
                  });
                  this.dispatchEvent(i);
                },
              },
              {
                key: 'setup',
                value: function setup(i) {
                  return (
                    (0, x['default'])(this.defaults, i),
                    (this.setupDone = !0),
                    Promise.resolve()
                  );
                },
              },
              {
                key: 'getDrmProperty',
                value: function getDrmProperty() {
                  return Promise.resolve(null);
                },
              },
              {
                key: 'setMaxResolution',
                value: function setMaxResolution(i, a) {
                  (this.maxResolution = { width: i, height: a }),
                    this.currentPlayer &&
                      this.currentPlayer.setMaxResolution(i, a);
                },
              },
              {
                key: 'setAbrRestrictions',
                value: function setAbrRestrictions() {
                  var i,
                    a =
                      arguments.length > 0 && arguments[0] !== undefined
                        ? arguments[0]
                        : {};
                  (i = a.playbackQuality
                    ? { playbackQuality: a.playbackQuality }
                    : a.max_height !== undefined || a.min_height !== undefined
                    ? { min_height: a.min_height, max_height: a.max_height }
                    : a.min_bandwidth !== undefined ||
                      a.max_bandwidth !== undefined
                    ? {
                        min_bandwidth: a.min_bandwidth,
                        max_bandwidth: a.max_bandwidth,
                      }
                    : {}),
                    (this._restrictions = a),
                    this.currentPlayer &&
                      this.currentPlayer.setAbrRestrictions(i);
                },
              },
              {
                key: 'getAbrRestrictions',
                value: function getAbrRestrictions() {
                  return this.currentPlayer.getAbrRestrictions
                    ? this.currentPlayer.getAbrRestrictions()
                    : Promise.resolve(
                        this._restrictions
                          ? {
                              min_height: this._restrictions.min_height,
                              max_height: this._restrictions.max_height,
                            }
                          : { min_height: 0, max_height: Infinity }
                      );
                },
              },
              {
                key: 'getTrackSelection',
                value: function getTrackSelection() {
                  if (!this.currentPlayer) return {};
                  var i = this.currentPlayer.getTracks();
                  return Object.keys(i).reduce(function (a, o) {
                    var p = i[o].find(function (i) {
                      return i['is-active'];
                    });
                    return p && (a[o] = p), a;
                  }, {});
                },
              },
              {
                key: 'setTrackSelection',
                value: function setTrackSelection(i) {
                  var a = this;
                  this.currentPlayer &&
                    (['audio', 'text'].forEach(function (o) {
                      i[o] && a.toggleTrack(i[o], !0);
                    }),
                    this.applyTracks());
                },
              },
              {
                key: 'notifyStartStreamConfiguration',
                value: function notifyStartStreamConfiguration(i) {
                  this._pluginDispatch('notifyStartStreamConfiguration', i);
                },
              },
              {
                key: 'setSource',
                value:
                  ((p = (0, w['default'])(
                    _['default'].mark(function _callee(i) {
                      var a,
                        o,
                        p,
                        m,
                        w,
                        I,
                        D,
                        j,
                        K,
                        q,
                        $,
                        Z,
                        be,
                        Se,
                        _e = this,
                        et = arguments;
                      return _['default'].wrap(
                        function _callee$(_) {
                          for (;;)
                            switch ((_.prev = _.next)) {
                              case 0:
                                if (
                                  ((a =
                                    et.length > 1 && et[1] !== undefined
                                      ? et[1]
                                      : {}),
                                  (this.stream = i),
                                  (o = we['default'].UNKNOWN),
                                  (this.element.autoplay =
                                    a.autoplay !== undefined
                                      ? a.autoplay
                                      : this.element.autoplay),
                                  delete this.restrictions_,
                                  a.streaming || (a.streaming = {}),
                                  a.abr || (a.abr = {}),
                                  (this.firstPlayingDone = !1),
                                  (p =
                                    i.liveDelay ||
                                    a.liveDelay ||
                                    a.streaming.liveDelay),
                                  'youtube' === (m = Player._guessStreamType(i))
                                    ? (o = we['default'].YOUTUBE)
                                    : Player._navigatorFamily() === rt
                                    ? ('hls' !== m && 'mp4' !== m) ||
                                      (o = we['default'].HTML5)
                                    : Player.playerClasses[
                                        we['default'].VEYGOD
                                      ] &&
                                      p &&
                                      p < 12
                                    ? ((o = we['default'].VEYGOD),
                                      (Player._navigatorFamily() !== at &&
                                        Player._navigatorFamily() !== it) ||
                                        (delete (i = (0, x['default'])({}, i))
                                          .liveDelay,
                                        delete (a = (0, x['default'])({}, a))
                                          .liveDelay))
                                    : Player._navigatorFamily() === nt &&
                                      'hls' === m
                                    ? (o = we['default'].HTML5)
                                    : 'hls' === m &&
                                      Player.playerClasses[we['default'].HLSJS]
                                    ? (o = we['default'].HLSJS)
                                    : 'mp4' !== m ||
                                      i.clear_keys ||
                                      (o = we['default'].HTML5),
                                  Player.playerClasses[o] === undefined &&
                                    (o = Player.playerClasses[
                                      we['default'].VEYGA
                                    ]
                                      ? we['default'].VEYGA
                                      : Player.playerClasses[
                                          we['default'].HLSJS
                                        ] && 'hls' === m
                                      ? we['default'].HLSJS
                                      : Player.playerClasses[
                                          we['default'].VEYGOD
                                        ] && 'dash' === m
                                      ? we['default'].VEYGOD
                                      : Player._defaultPlayerId),
                                  this.currentPlayerId !== undefined &&
                                    o === this.currentPlayerId)
                                ) {
                                  _.next = 33;
                                  break;
                                }
                                if (null === this.currentPlayer) {
                                  _.next = 16;
                                  break;
                                }
                                return (
                                  (_.next = 16), this.currentPlayer.destroy()
                                );
                              case 16:
                                (_.prev = 16),
                                  (this.currentPlayer =
                                    new Player.playerClasses[o](
                                      this,
                                      this.element,
                                      this.subsContainer
                                    )),
                                  (_.next = 23);
                                break;
                              case 20:
                                throw (
                                  ((_.prev = 20),
                                  (_.t0 = _['catch'](16)),
                                  new xe['default'](
                                    xe['default'].Severity.CRITICAL,
                                    xe['default'].Category.PLAYER,
                                    xe['default'].Code.FAILED_TO_CREATE_SESSION,
                                    'stream_not_supported'
                                  ))
                                );
                              case 23:
                                (this.currentPlayerId = o),
                                  this.currentPlayer.addEventListener(
                                    'error',
                                    this._onPlayerError.bind(this)
                                  ),
                                  this.currentPlayer.addEventListener(
                                    'buffering',
                                    this._onPlayerBuffering.bind(this)
                                  ),
                                  this.currentPlayer.addEventListener(
                                    'trackschanged',
                                    this._onPlayerTracksChanged.bind(this)
                                  ),
                                  this.currentPlayer.addEventListener(
                                    'adaptation',
                                    this._onPlayerAdaptation.bind(this)
                                  ),
                                  this.currentPlayer.addEventListener(
                                    'streaming',
                                    this._onPlayerStreaming.bind(this)
                                  ),
                                  this.currentPlayer.addEventListener(
                                    'emsg',
                                    this._onPlayerEmsg.bind(this)
                                  ),
                                  this._restrictions &&
                                    this.currentPlayer.setRestrictions(
                                      this._restrictions
                                    ),
                                  this.maxResolution &&
                                    ((w = this.maxResolution),
                                    (I = w.width),
                                    (D = w.height),
                                    this.currentPlayer.setMaxResolution(I, D)),
                                  this.defaults[
                                    'abr.initial_bandwidth_estimate'
                                  ] &&
                                    this.currentPlayer.setInitialBandwidthEstimate(
                                      this.defaults[
                                        'abr.initial_bandwidth_estimate'
                                      ]
                                    );
                              case 33:
                                K = 0;
                              case 34:
                                if (!(K < this.plugins.length)) {
                                  _.next = 43;
                                  break;
                                }
                                if (!(q = this.plugins[K]).proxy) {
                                  _.next = 40;
                                  break;
                                }
                                if (!(j = q.proxy(i))) {
                                  _.next = 40;
                                  break;
                                }
                                return _.abrupt('break', 43);
                              case 40:
                                (K += 1), (_.next = 34);
                                break;
                              case 43:
                                if (!j) {
                                  _.next = 49;
                                  break;
                                }
                                return (_.next = 46), j;
                              case 46:
                                (_.t1 = _.sent), (_.next = 50);
                                break;
                              case 49:
                                _.t1 = i;
                              case 50:
                                return (
                                  ($ = _.t1),
                                  (_.next = 53),
                                  this.reporter.needSdkStatus()
                                );
                              case 53:
                                if (_.sent) {
                                  _.next = 56;
                                  break;
                                }
                                throw new xe['default'](
                                  xe['default'].Severity.CRITICAL,
                                  xe['default'].Category.PLAYER,
                                  xe['default'].Code.VIP_SDK_NOT_ACTIVE
                                );
                              case 56:
                                return (
                                  (Z = $.content_type),
                                  (be = a.origin || 'unreported'),
                                  this.reporter.reportView(
                                    this.playerIdx,
                                    $.name,
                                    $.uri,
                                    Z,
                                    be
                                  ),
                                  (_.next = 61),
                                  this.currentPlayer
                                    .setSource($, a || {})
                                    ['catch'](function (i) {
                                      throw (_e.dispatchError(i), i);
                                    })
                                );
                              case 61:
                                return (Se = _.sent), _.abrupt('return', Se);
                              case 63:
                              case 'end':
                                return _.stop();
                            }
                        },
                        _callee,
                        this,
                        [[16, 20]]
                      );
                    })
                  )),
                  function setSource(i) {
                    return p.apply(this, arguments);
                  }),
              },
              {
                key: 'getSource',
                value: function getSource() {
                  return this.stream;
                },
              },
              {
                key: 'getTimeInfo',
                value: function getTimeInfo() {
                  return this.currentPlayer
                    ? Promise.resolve(this.currentPlayer.getTimeInfo())
                    : null;
                },
              },
              {
                key: 'isBuffering',
                value: function isBuffering() {
                  return this.buffering;
                },
              },
              {
                key: 'freeze',
                value: function freeze(i) {
                  return (
                    this.offlineDb && this.offlineDb.bookmark(this.stream, i),
                    this._pluginDispatch('onPlayerStreamingEnd'),
                    this.reporter.reportStop(
                      this.playerIdx,
                      this._getAnalyticsPosition()
                    ),
                    this.currentPlayer
                      ? this.currentPlayer.freeze()
                      : ((this.stream = null), null)
                  );
                },
              },
              {
                key: 'play',
                value: function play() {
                  return (
                    (this.paused = !1),
                    (this.currentPlayer.play && this.currentPlayer.play()) ||
                      this.element.play() ||
                      Promise.resolve()
                  );
                },
              },
              {
                key: 'pause',
                value: function pause() {
                  return (
                    (this.paused = !0),
                    (this.currentPlayer &&
                      this.currentPlayer.pause &&
                      this.currentPlayer.pause()) ||
                      this.element.pause() ||
                      Promise.resolve()
                  );
                },
              },
              {
                key: 'seekTo',
                value: function seekTo(i) {
                  if (!this.currentPlayer)
                    throw new xe['default'](
                      xe['default'].Severity.CRITICAL,
                      xe['default'].Category.PLAYER,
                      xe['default'].Code.SOURCE_NOT_SET
                    );
                  return (
                    (this.seeking = !0),
                    this._pluginDispatch('onPlayerSeeking', {
                      to: i,
                      speed: 0,
                    }),
                    this.currentPlayer.seek(i)
                  );
                },
              },
              {
                key: 'getTracks',
                value: function getTracks() {
                  if (!this.currentPlayer)
                    throw new xe['default'](
                      xe['default'].Severity.CRITICAL,
                      xe['default'].Category.PLAYER,
                      xe['default'].Code.SOURCE_NOT_SET
                    );
                  return this.currentPlayer.getTracks();
                },
              },
              {
                key: 'toggleTrack',
                value: function toggleTrack(i, a) {
                  this._toggledTracks.push({ track: i, enable: a });
                },
              },
              {
                key: 'applyTracks',
                value:
                  ((o = (0, w['default'])(
                    _['default'].mark(function _callee2() {
                      var i,
                        a,
                        o = this;
                      return _['default'].wrap(
                        function _callee2$(p) {
                          for (;;)
                            switch ((p.prev = p.next)) {
                              case 0:
                                if (this.currentPlayer) {
                                  p.next = 2;
                                  break;
                                }
                                return p.abrupt('return', null);
                              case 2:
                                return (
                                  (i = this.currentPlayer.getTracks()),
                                  (p.next = 5),
                                  this.currentPlayer.applyTracks(
                                    this._toggledTracks
                                  )
                                );
                              case 5:
                                return (
                                  (a = p.sent),
                                  ['audio', 'text'].forEach(function (p) {
                                    var m = i[p].find(function (i) {
                                        return i['is-active'];
                                      }),
                                      _ = a[p].find(function (i) {
                                        return i['is-active'];
                                      });
                                    if (
                                      (m || {}).reference !==
                                      (_ || {}).reference
                                    ) {
                                      var w = _ ? _.language : '',
                                        x = o._getAnalyticsPosition();
                                      'text' === p
                                        ? o.reporter.reportSelectSubtitles(
                                            o.playerIdx,
                                            x,
                                            w
                                          )
                                        : o.reporter.reportSelectAudioTrack(
                                            o.playerIdx,
                                            x,
                                            w
                                          );
                                    }
                                  }),
                                  (this._toggledTracks = []),
                                  p.abrupt('return', a)
                                );
                              case 9:
                              case 'end':
                                return p.stop();
                            }
                        },
                        _callee2,
                        this
                      );
                    })
                  )),
                  function applyTracks() {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: 'getVolume',
                value: function getVolume() {
                  return {
                    muted: this.element.muted,
                    volume: this.element.volume,
                  };
                },
              },
              {
                key: 'setVolume',
                value: function setVolume(i) {
                  if (
                    ('number' == typeof i &&
                      (_e['default'].deprecated(
                        'setVolume API with number is deprecated, please use { volumed, muted } object'
                      ),
                      (i = { muted: 0 === i, volume: i })),
                    this.currentPlayer && this.currentPlayer.setVolume)
                  )
                    i = this.currentPlayer.setVolume(i);
                  else {
                    var a = i,
                      o = a.volume,
                      p = a.muted;
                    o !== undefined && (this.element.volume = o),
                      p !== undefined &&
                        ((this.element.muted = p),
                        (i.volume = this.element.volume));
                  }
                  this._pluginDispatch('onPlayerVolume', i);
                },
              },
              {
                key: 'getThumbnail',
                value: function getThumbnail(i) {
                  return this.currentPlayer && this.currentPlayer.getThumbnail
                    ? this.currentPlayer.getThumbnail(i)
                    : Promise.resolve(null);
                },
              },
              {
                key: 'getStats',
                value: function getStats() {
                  return this.currentPlayer
                    ? this.currentPlayer.getStats()
                    : null;
                },
              },
              {
                key: '_pluginDispatch',
                value: function _pluginDispatch(i, a) {
                  var o = Player._toShortEventName(i);
                  'emsg' !== i && this.dispatchEvent(new be['default'](o, a));
                  for (var p = 0; p < this.plugins.length; p += 1) {
                    var m = this.plugins[p];
                    m[i] && m[i](a);
                  }
                },
              },
              {
                key: '_onPlayerError',
                value: function _onPlayerError(i) {
                  var a = i.error;
                  this.reporter.reportPlayerError(
                    this.playerIdx,
                    this._getAnalyticsPosition(),
                    ''
                      .concat(a.category, ':')
                      .concat(a.code, ':')
                      .concat(a.message)
                  ),
                    this._dispatchStatus('error', a);
                },
              },
              {
                key: '_onPlayerStreaming',
                value: function _onPlayerStreaming() {
                  this._pluginDispatch('onPlayerPeriod');
                },
              },
              {
                key: '_onPlayerEmsg',
                value: function _onPlayerEmsg(i) {
                  this._pluginDispatch('onPlayerEmsg', i);
                },
              },
              {
                key: '_onMediaElementLoadedMetadata',
                value: function _onMediaElementLoadedMetadata() {
                  (this.earlyOnLoadedMetadataCanPlay =
                    Player._navigatorFamily() === rt ||
                    Player._navigatorFamily() === nt ||
                    Player._navigatorFamily() === it ||
                    Player._navigatorFamily() === at),
                    this.earlyOnLoadedMetadataCanPlay &&
                      (this._dispatchStatus('ready'),
                      this._pluginDispatch('onPlayerCanPlay'));
                },
              },
              {
                key: '_onMediaElementCanPlay',
                value: function _onMediaElementCanPlay() {
                  this.firstPlayingDone ||
                    this.earlyOnLoadedMetadataCanPlay ||
                    (this._dispatchStatus('ready'),
                    this._pluginDispatch('onPlayerCanPlay'));
                },
              },
              {
                key: '_onMediaElementEnded',
                value: function _onMediaElementEnded() {
                  var i = this.currentPlayer.getStats();
                  !Number.isNaN(i.droppedFrames) &&
                    i.droppedFrames > 0 &&
                    this.reporter.reportFrameDropped(
                      this.playerIdx,
                      this._getAnalyticsPosition(),
                      i.droppedFrames
                    ),
                    this._pluginDispatch('onPlayerEndReached', { speed: 0 }),
                    this._dispatchStatus('ended');
                },
              },
              {
                key: '_onMediaElementPlay',
                value: function _onMediaElementPlay() {
                  this._pluginDispatch('onPlayerPlay'),
                    null === this.currentPlayer ||
                      this.playing ||
                      this.reporter.reportPlay(
                        this.playerIdx,
                        this._getAnalyticsPosition()
                      ),
                    (this.playing = !0);
                },
              },
              {
                key: '_onMediaElementPlaying',
                value: function _onMediaElementPlaying() {
                  var i;
                  this.firstPlayingDone
                    ? this.seeking
                      ? ((this.seeking = !1), (i = 'seeked'))
                      : (i = 'unpaused')
                    : ((i = 'firstPlay'),
                      (this.firstPlayingDone = !0),
                      this._dispatchStatus('playing')),
                    this._pluginDispatch('onPlayerPlaying', {
                      reason: i,
                      speed: 1,
                    }),
                    this.playing ||
                      this.reporter.reportPlay(
                        this.playerIdx,
                        this._getAnalyticsPosition()
                      ),
                    (this.playing = !0);
                },
              },
              {
                key: '_onMediaElementPause',
                value: function _onMediaElementPause() {
                  this._pluginDispatch('onPlayerPause', { speed: 0 }),
                    this.playing &&
                      this.reporter.reportPause(
                        this.playerIdx,
                        this._getAnalyticsPosition()
                      ),
                    (this.playing = !1);
                },
              },
              {
                key: '_onMediaElementSeeking',
                value: function _onMediaElementSeeking() {
                  this.firstPlayingDone && (this.seeking = !0);
                },
              },
              {
                key: '_onMediaElementSeeked',
                value: function _onMediaElementSeeked() {
                  this._pluginDispatch('onPlayerSeeked', {
                    speed: this.paused ? 0 : 1,
                  }),
                    this.paused && (this.seeking = !1);
                },
              },
              {
                key: '_onPlayerBuffering',
                value: function _onPlayerBuffering(i) {
                  var a,
                    o,
                    p = i.buffering;
                  p
                    ? (this.buffering ||
                        (this.reporter.reportStartBuffering(
                          this.playerIdx,
                          this._getAnalyticsPosition()
                        ),
                        this._dispatchStatus('buffering')),
                      (this.buffering = !0))
                    : (this.buffering &&
                        this.reporter.reportStopBuffering(
                          this.playerIdx,
                          this._getAnalyticsPosition()
                        ),
                      (this.buffering = !1)),
                    this.firstPlayingDone
                      ? this.seeking ||
                        (p
                          ? ((this.stalled = !0),
                            (o = 'onPlayerStalled'),
                            (a = 'underflow'))
                          : !0 === this.stalled &&
                            ((this.stalled = !1),
                            (o = 'onPlayerPlaying'),
                            (a = 'underflow'),
                            this._dispatchStatus('playing')))
                      : p && ((o = 'onPlayerBuffering'), (a = 'firstPlay')),
                    o &&
                      a &&
                      this._pluginDispatch(o, {
                        reason: a,
                        speed: this.buffering ? 0 : 1,
                      });
                },
              },
              {
                key: '_onPlayerTracksChanged',
                value: function _onPlayerTracksChanged() {
                  this._pluginDispatch('onPlayerTracksChanged');
                },
              },
              {
                key: '_onPlayerAdaptation',
                value: function _onPlayerAdaptation() {
                  var i = this.currentPlayer.getStats();
                  if (i.streamBandwidth) {
                    if (this.lastStreamBandwidth === i.streamBandwidth) return;
                    var a = this._getAnalyticsPosition();
                    this.reporter.reportProfileSwitch(
                      this.playerIdx,
                      a,
                      i.width,
                      i.height,
                      i.streamBandwidth
                    ),
                      this.reporter.reportBandwidth(
                        this.playerIdx,
                        a,
                        i.estimatedBandwidth
                      ),
                      this._pluginDispatch('onPlayerAdaptation', {
                        detail: {
                          video: {
                            id: i.variantVideoId,
                            width: i.width,
                            height: i.height,
                          },
                          streamBandwidth: i.streamBandwidth,
                          estimatedBandwidth: i.estimatedBandwidth,
                        },
                      }),
                      (this.lastStreamBandwidth = i.streamBandwidth);
                  } else if (i.playbackQuality) {
                    if (this.lastPlaybackQuality === i.playbackQuality) return;
                    this._pluginDispatch('onPlayerAdaptation', {
                      detail: {
                        video: { id: i.playbackQuality },
                        playbackQuality: i.playbackQuality,
                      },
                    }),
                      (this.lastPlaybackQuality = i.playbackQuality);
                  }
                },
              },
              {
                key: '_getAnalyticsPosition',
                value: function _getAnalyticsPosition() {
                  if (null === this.currentPlayer) return 0;
                  var i = this.currentPlayer.getTimeInfo();
                  if (null === i) return 0;
                  var a = i.position ? i.position : 0;
                  return (
                    i.seekRange && (a -= i.seekRange[0]), Math.round(a / 1e3)
                  );
                },
              },
              {
                key: '_dispatchStatus',
                value: function _dispatchStatus(i, a) {
                  var o = new be['default']('status', { status: i, what: a });
                  this.dispatchEvent(o);
                },
              },
            ],
            [
              {
                key: '_guessStreamType',
                value: function _guessStreamType(i) {
                  if (i.type) return i.type;
                  if (i.uri !== undefined) {
                    if (-1 !== i.uri.indexOf('m3u8')) return 'hls';
                    if (-1 !== i.uri.indexOf('mpd')) return 'dash';
                  }
                  return undefined;
                },
              },
              {
                key: '_toShortEventName',
                value: function _toShortEventName(i) {
                  var a = i.replace(Player._toShortEventNameRegex, '');
                  return ''.concat(a[0].toLowerCase()).concat(a.slice(1));
                },
              },
              {
                key: 'probeDrmSupport',
                value:
                  ((a = (0, w['default'])(
                    _['default'].mark(function _callee4() {
                      var i, a, o, p, x, I, D;
                      return _['default'].wrap(function _callee4$(j) {
                        for (;;)
                          switch ((j.prev = j.next)) {
                            case 0:
                              if ('undefined' == typeof WebKitMediaKeys) {
                                j.next = 4;
                                break;
                              }
                              if (
                                !WebKitMediaKeys.isTypeSupported(
                                  'com.apple.fps.1_0',
                                  'video/mp4'
                                )
                              ) {
                                j.next = 3;
                                break;
                              }
                              return j.abrupt('return', {
                                fairplay: {
                                  persistentMediaFiles: !1,
                                  persistentLicense: !1,
                                },
                              });
                            case 3:
                              return j.abrupt('return', {});
                            case 4:
                              return (
                                (i = {
                                  'com.widevine.alpha': 'widevine',
                                  'com.apple.fps.2_0': 'fairplay',
                                  'com.apple.fps.1_0': 'fairplay',
                                  'com.apple.fps': 'fairplay',
                                  'com.adobe.primetime': 'primetime',
                                }),
                                (o = [
                                  {
                                    videoCapabilities: (a = [
                                      {
                                        robustness: 'SW_SECURE_CRYPTO',
                                        contentType:
                                          'video/mp4; codecs="avc1.42E01E"',
                                      },
                                      {
                                        robustness: 'SW_SECURE_CRYPTO',
                                        contentType: 'video/webm; codecs="vp8"',
                                      },
                                    ]),
                                    persistentState: 'required',
                                    sessionTypes: ['persistent-license'],
                                  },
                                  { videoCapabilities: a },
                                ]),
                                (p = new Map()),
                                (x = (function () {
                                  var i = (0, w['default'])(
                                    _['default'].mark(function _callee3(i) {
                                      var a, m, w, x;
                                      return _['default'].wrap(
                                        function _callee3$(_) {
                                          for (;;)
                                            switch ((_.prev = _.next)) {
                                              case 0:
                                                return (
                                                  (_.prev = 0),
                                                  (_.next = 3),
                                                  navigator.requestMediaKeySystemAccess(
                                                    i,
                                                    o
                                                  )
                                                );
                                              case 3:
                                                return (
                                                  (a = _.sent),
                                                  (m = a.getConfiguration()),
                                                  (w = m.sessionTypes),
                                                  (x =
                                                    !!w &&
                                                    w.includes(
                                                      'persistent-license'
                                                    )),
                                                  p.set(i, {
                                                    persistentLicense: x,
                                                    persistentMediaFiles: !0,
                                                  }),
                                                  (_.next = 9),
                                                  a.createMediaKeys()
                                                );
                                              case 9:
                                                _.next = 13;
                                                break;
                                              case 11:
                                                (_.prev = 11),
                                                  (_.t0 = _['catch'](0));
                                              case 13:
                                              case 'end':
                                                return _.stop();
                                            }
                                        },
                                        _callee3,
                                        null,
                                        [[0, 11]]
                                      );
                                    })
                                  );
                                  return function testSystem(a) {
                                    return i.apply(this, arguments);
                                  };
                                })()),
                                (I = Object.keys(i).map(x)),
                                (j.next = 15),
                                Promise.all(I)
                              );
                            case 15:
                              return (
                                (D = Se['default'].asObject(p)),
                                j.abrupt(
                                  'return',
                                  Object.entries(D).reduce(function (a, o) {
                                    var p = (0, m['default'])(o, 2),
                                      _ = p[0],
                                      w = p[1];
                                    return (a[i[_]] = w), a;
                                  }, {})
                                )
                              );
                            case 17:
                            case 'end':
                              return j.stop();
                          }
                      }, _callee4);
                    })
                  )),
                  function probeDrmSupport() {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: 'probeSupport',
                value: function probeSupport(i) {
                  var a,
                    o =
                      arguments.length > 1 && arguments[1] !== undefined
                        ? arguments[1]
                        : {};
                  Player._ensureSetup();
                  var p = Player._guessStreamType(i);
                  return (
                    Player._navigatorFamily() === rt
                      ? ('hls' !== p && 'mp4' !== p) ||
                        (a = we['default'].HTML5)
                      : Player.playerClasses[we['default'].VEYGOD] &&
                        (i.liveDelay || o.liveDelay)
                      ? (a = we['default'].VEYGOD)
                      : 'mp4' === p
                      ? (a = we['default'].HTML5)
                      : Player._navigatorFamily() === nt
                      ? 'hls' === p
                        ? (a = we['default'].HTML5)
                        : Player.playerClasses[we['default'].VEYGA] &&
                          (a = we['default'].VEYGA)
                      : (a = Player.playerClasses[we['default'].VEYGA]
                          ? we['default'].VEYGA
                          : Player._defaultPlayerId),
                    {
                      canStream: a !== undefined,
                      persistentMediaFiles: a === we['default'].VEYGA,
                    }
                  );
                },
              },
            ]
          ),
          Player
        );
      })(Z['default']);
    (ot.playerClasses = {}),
      (ot.playerPluginClasses = {}),
      (ot._toShortEventNameRegex = /^onPlayer/);
    var st = ot;
    a['default'] = st;
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).find,
      _ = o(123),
      w = o(52),
      x = 'find',
      I = !0,
      D = w(x);
    x in [] &&
      Array(1).find(function () {
        I = !1;
      }),
      p(
        { target: 'Array', proto: !0, forced: I || !D },
        {
          find: function find(i) {
            return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
          },
        }
      ),
      _(x);
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(102).includes,
      _ = o(123);
    p(
      {
        target: 'Array',
        proto: !0,
        forced: !o(52)('indexOf', { ACCESSORS: !0, 1: 0 }),
      },
      {
        includes: function includes(i) {
          return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    ),
      _('includes');
  },
  function (i, a, o) {
    var p = o(1);
    i.exports = !p(function () {
      return Object.isExtensible(Object.preventExtensions({}));
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(16).f,
      m = o(69),
      _ = o(88),
      w = o(84),
      x = o(70),
      I = o(138),
      D = o(154),
      j = o(113),
      K = o(9),
      q = o(119).fastKey,
      $ = o(51),
      Z = $.set,
      be = $.getterFor;
    i.exports = {
      getConstructor: function (i, a, o, D) {
        var j = i(function (i, p) {
            x(i, j, a),
              Z(i, {
                type: a,
                index: m(null),
                first: undefined,
                last: undefined,
                size: 0,
              }),
              K || (i.size = 0),
              p != undefined && I(p, i[D], i, o);
          }),
          $ = be(a),
          define = function (i, a, o) {
            var p,
              m,
              _ = $(i),
              w = getEntry(i, a);
            return (
              w
                ? (w.value = o)
                : ((_.last = w =
                    {
                      index: (m = q(a, !0)),
                      key: a,
                      value: o,
                      previous: (p = _.last),
                      next: undefined,
                      removed: !1,
                    }),
                  _.first || (_.first = w),
                  p && (p.next = w),
                  K ? _.size++ : i.size++,
                  'F' !== m && (_.index[m] = w)),
              i
            );
          },
          getEntry = function (i, a) {
            var o,
              p = $(i),
              m = q(a);
            if ('F' !== m) return p.index[m];
            for (o = p.first; o; o = o.next) if (o.key == a) return o;
          };
        return (
          _(j.prototype, {
            clear: function clear() {
              for (var i = $(this), a = i.index, o = i.first; o; )
                (o.removed = !0),
                  o.previous && (o.previous = o.previous.next = undefined),
                  delete a[o.index],
                  (o = o.next);
              (i.first = i.last = undefined),
                K ? (i.size = 0) : (this.size = 0);
            },
            delete: function (i) {
              var a = this,
                o = $(a),
                p = getEntry(a, i);
              if (p) {
                var m = p.next,
                  _ = p.previous;
                delete o.index[p.index],
                  (p.removed = !0),
                  _ && (_.next = m),
                  m && (m.previous = _),
                  o.first == p && (o.first = m),
                  o.last == p && (o.last = _),
                  K ? o.size-- : a.size--;
              }
              return !!p;
            },
            forEach: function forEach(i) {
              for (
                var a,
                  o = $(this),
                  p = w(i, arguments.length > 1 ? arguments[1] : undefined, 3);
                (a = a ? a.next : o.first);

              )
                for (p(a.value, a.key, this); a && a.removed; ) a = a.previous;
            },
            has: function has(i) {
              return !!getEntry(this, i);
            },
          }),
          _(
            j.prototype,
            o
              ? {
                  get: function get(i) {
                    var a = getEntry(this, i);
                    return a && a.value;
                  },
                  set: function set(i, a) {
                    return define(this, 0 === i ? 0 : i, a);
                  },
                }
              : {
                  add: function add(i) {
                    return define(this, (i = 0 === i ? 0 : i), i);
                  },
                }
          ),
          K &&
            p(j.prototype, 'size', {
              get: function () {
                return $(this).size;
              },
            }),
          j
        );
      },
      setStrong: function (i, a, o) {
        var p = a + ' Iterator',
          m = be(a),
          _ = be(p);
        D(
          i,
          a,
          function (i, a) {
            Z(this, {
              type: p,
              target: i,
              state: m(i),
              kind: a,
              last: undefined,
            });
          },
          function () {
            for (var i = _(this), a = i.kind, o = i.last; o && o.removed; )
              o = o.previous;
            return i.target && (i.last = o = o ? o.next : i.state.first)
              ? 'keys' == a
                ? { value: o.key, done: !1 }
                : 'values' == a
                ? { value: o.value, done: !1 }
                : { value: [o.key, o.value], done: !1 }
              : ((i.target = undefined), { value: undefined, done: !0 });
          },
          o ? 'entries' : 'values',
          !o,
          !0
        ),
          j(a);
      },
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(227),
      _ = o(54);
    p(
      { target: 'String', proto: !0, forced: !o(228)('includes') },
      {
        includes: function includes(i) {
          return !!~String(_(this)).indexOf(
            m(i),
            arguments.length > 1 ? arguments[1] : undefined
          );
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(167);
    i.exports = function (i) {
      if (p(i))
        throw TypeError("The method doesn't accept regular expressions");
      return i;
    };
  },
  function (i, a, o) {
    var p = o(5)('match');
    i.exports = function (i) {
      var a = /./;
      try {
        '/./'[i](a);
      } catch (o) {
        try {
          return (a[p] = !1), '/./'[i](a);
        } catch (m) {}
      }
      return !1;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(130),
      m = o(11),
      _ = o(54),
      w = o(230),
      x = o(131);
    p('search', 1, function (i, a, o) {
      return [
        function search(a) {
          var o = _(this),
            p = a == undefined ? undefined : a[i];
          return p !== undefined ? p.call(a, o) : new RegExp(a)[i](String(o));
        },
        function (i) {
          var p = o(a, i, this);
          if (p.done) return p.value;
          var _ = m(i),
            I = String(this),
            D = _.lastIndex;
          w(D, 0) || (_.lastIndex = 0);
          var j = x(_, I);
          return (
            w(_.lastIndex, D) || (_.lastIndex = D), null === j ? -1 : j.index
          );
        },
      ];
    });
  },
  function (i, a) {
    i.exports =
      Object.is ||
      function is(i, a) {
        return i === a ? 0 !== i || 1 / i == 1 / a : i != i && a != a;
      };
  },
  function (i, a, o) {
    o(111)('Uint16', function (i) {
      return function Uint16Array(a, o, p) {
        return i(this, a, o, p);
      };
    });
  },
  function (i, a, o) {
    var p = o(1),
      m = o(5),
      _ = o(68),
      w = m('iterator');
    i.exports = !p(function () {
      var i = new URL('b?a=1&b=2&c=3', 'http://a'),
        a = i.searchParams,
        o = '';
      return (
        (i.pathname = 'c%20d'),
        a.forEach(function (i, p) {
          a['delete']('b'), (o += p + i);
        }),
        (_ && !i.toJSON) ||
          !a.sort ||
          'http://a/c%20d?a=1&c=3' !== i.href ||
          '3' !== a.get('c') ||
          'a=1' !== String(new URLSearchParams('?a=1')) ||
          !a[w] ||
          'a' !== new URL('https://a@b').username ||
          'b' !== new URLSearchParams(new URLSearchParams('a=b')).get('a') ||
          'xn--e1aybc' !== new URL('http://').host ||
          '#%D0%B1' !== new URL('http://a#').hash ||
          'a1c3' !== o ||
          'x' !== new URL('http://x', undefined).host
      );
    });
  },
  function (i, a, o) {
    var p = o(0),
      m = o(1),
      _ = o(53),
      w = o(61).f,
      x = o(9),
      I = m(function () {
        w(1);
      });
    p(
      { target: 'Object', stat: !0, forced: !x || I, sham: !x },
      {
        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(i, a) {
          return w(_(i), a);
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(0),
      m = o(9),
      _ = o(181),
      w = o(53),
      x = o(61),
      I = o(105);
    p(
      { target: 'Object', stat: !0, sham: !m },
      {
        getOwnPropertyDescriptors: function getOwnPropertyDescriptors(i) {
          for (
            var a, o, p = w(i), m = x.f, D = _(p), j = {}, K = 0;
            D.length > K;

          )
            (o = m(p, (a = D[K++]))) !== undefined && I(j, a, o);
          return j;
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).every,
      _ = o(73),
      w = o(52),
      x = _('every'),
      I = w('every');
    p(
      { target: 'Array', proto: !0, forced: !x || !I },
      {
        every: function every(i) {
          return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(0),
      m = o(193);
    p(
      { target: 'Array', proto: !0, forced: m !== [].lastIndexOf },
      { lastIndexOf: m }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).some,
      _ = o(73),
      w = o(52),
      x = _('some'),
      I = w('some');
    p(
      { target: 'Array', proto: !0, forced: !x || !I },
      {
        some: function some(i) {
          return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(9),
      m = o(2),
      _ = o(103),
      w = o(128),
      x = o(16).f,
      I = o(82).f,
      D = o(167),
      j = o(126),
      K = o(157),
      q = o(46),
      $ = o(1),
      Z = o(51).set,
      be = o(113),
      Se = o(5)('match'),
      _e = m.RegExp,
      we = _e.prototype,
      xe = /a/g,
      et = /a/g,
      tt = new _e(xe) !== xe,
      rt = K.UNSUPPORTED_Y;
    if (
      p &&
      _(
        'RegExp',
        !tt ||
          rt ||
          $(function () {
            return (
              (et[Se] = !1),
              _e(xe) != xe || _e(et) == et || '/a/i' != _e(xe, 'i')
            );
          })
      )
    ) {
      for (
        var nt = function RegExp(i, a) {
            var o,
              p = this instanceof nt,
              m = D(i),
              _ = a === undefined;
            if (!p && m && i.constructor === nt && _) return i;
            tt
              ? m && !_ && (i = i.source)
              : i instanceof nt && (_ && (a = j.call(i)), (i = i.source)),
              rt &&
                (o = !!a && a.indexOf('y') > -1) &&
                (a = a.replace(/y/g, ''));
            var x = w(tt ? new _e(i, a) : _e(i, a), p ? this : we, nt);
            return rt && o && Z(x, { sticky: o }), x;
          },
          proxy = function (i) {
            (i in nt) ||
              x(nt, i, {
                configurable: !0,
                get: function () {
                  return _e[i];
                },
                set: function (a) {
                  _e[i] = a;
                },
              });
          },
          it = I(_e),
          at = 0;
        it.length > at;

      )
        proxy(it[at++]);
      (we.constructor = nt), (nt.prototype = we), q(m, 'RegExp', nt);
    }
    be('RegExp');
  },
  ,
  ,
  function (i, a, o) {
    i.exports = o(242);
  },
  function (i, a, o) {
    'use strict';
    var p = o(4),
      m = p(o(243)),
      _ = p(o(95)),
      w = p(o(96)),
      x = p(o(282)),
      I = p(o(164)),
      D = p(o(219)),
      j = p(o(289)),
      K = p(o(220)),
      q = p(o(221)),
      $ = p(o(120)),
      Z = (p(o(169)), p(o(296)));
    window.muxjs = m['default'];
    var be = {
        CONFIG_VIP_VERSION: '5.4.50',
        CONFIG_VIP_BUILD_ID: 'alphanetworks-beemix-5.4.50-release',
        Utils: I['default'],
        internal: {
          FakeEvent: _['default'],
          FakeEventTarget: w['default'],
          PlayerError: $['default'],
          PublicPromise: x['default'],
        },
        Reporter: D['default'],
        Stream: K['default'],
        Player: q['default'],
        setup: Z['default'],
      },
      Se = o(169)['default'];
    be.PlayerContent = Se;
    var _e = o(297)['default'];
    q['default'].registerPlayer(_e);
    var we = o(302)['default'];
    q['default'].registerPlayer(we);
    var xe = o(323)['default'];
    if (
      (q['default'].registerPlayer(xe),
      Object({
        IS_BROWSER: !0,
        IS_SERVERLESS: !1,
        NODE_ENV: 'production',
        NODE_DEBUG: !1,
        BUILD_ID: 'alphanetworks-beemix-5.4.50-release',
        VEYGOD_DEBUG: !1,
        VEYGOD_LOWBITRATE: !1,
        CONFIG_VIP_PROJECT: 'alphanetworks-beemix',
        CONFIG_VIP_VERSION: '5.4.50',
        CONFIG_VIP_VERSION_SUFFIX: '',
        CONFIG_VIP_NO_DOCS: !0,
        CONFIG_ENABLE_PLATFORM_ANDROID: !0,
        CONFIG_ENABLE_ANDROID_ABI_ARMEABI_V7A: !1,
        CONFIG_ENABLE_ANDROID_ABI_ARM64_V8A: !0,
        CONFIG_ENABLE_ANDROID_ABI_X86: !1,
        CONFIG_ENABLE_ANDROID_ABI_X86_64: !1,
        CONFIG_ENABLE_PLATFORM_IOS: !1,
        CONFIG_ENABLE_PLATFORM_TVOS: !1,
        CONFIG_ENABLE_PLATFORM_LOCAL: !1,
        CONFIG_ENABLE_VENDOR_CMAKE_ANDROID: !0,
        CONFIG_ENABLE_VENDOR_CMAKE_IOS: !0,
        CONFIG_ENABLE_VENDOR_DJINNI: !0,
        CONFIG_ENABLE_VENDOR_JSON11: !0,
        CONFIG_ENABLE_VENDOR_VIEW_RIGHT: !1,
        CONFIG_ENABLE_VENDOR_WIDEVINE_IOS: !1,
        CONFIG_ENABLE_VENDOR_EXOPLAYER: !0,
        CONFIG_ENABLE_VENDOR_EXOPLAYER_DEMO: !1,
        CONFIG_ENABLE_VENDOR_PLAYREADY_DEVICEKIT: !1,
        CONFIG_ENABLE_VENDOR_NIELSEN: !1,
        CONFIG_ENABLE_VENDOR_BANDIT: !1,
        CONFIG_ENABLE_VENDOR_FMT: !0,
        CONFIG_ENABLE_VENDOR_PUGIXML: !0,
        CONFIG_ENABLE_VENDOR_MUXJS: !0,
        CONFIG_ENABLE_VENDOR_HLSJS: !1,
        CONFIG_ENABLE_VENDOR_VEYGA_PLAYER: !0,
        CONFIG_ENABLE_VENDOR_VEYGOD: !1,
        CONFIG_ENABLE_VIP_BASE: !0,
        CONFIG_ENABLE_VIP_HTTP: !0,
        CONFIG_ENABLE_VIP_HLS: !0,
        CONFIG_ENABLE_VIP_PLAYER: !0,
        CONFIG_ENABLE_VIP_PLAYER_ADS_IMA: !1,
        CONFIG_ENABLE_VIP_PLAYER_GOOGLECAST_PROXY: !1,
        CONFIG_ENABLE_VIP_PLAYER_HTML5: !0,
        CONFIG_ENABLE_VIP_PLAYER_VEYGA_PLAYER: !0,
        CONFIG_ENABLE_VIP_PLAYER_VEYGOD: !1,
        CONFIG_ENABLE_VIP_PLAYER_HLSJS: !0,
        CONFIG_ENABLE_VIP_PLAYER_YOUTUBE_HTML: !1,
        CONFIG_ENABLE_VIP_PLAYER_FORCE_NO_PLAYREADY_SUPPORT: !0,
        CONFIG_VIP_PLAYER_RETRY_TIMEOUT: 0,
        CONFIG_ENABLE_VIP_EXO: !0,
        CONFIG_ENABLE_VIP_AVPLAYER: !0,
        CONFIG_ENABLE_VIP_VERIMATRIX: !1,
        CONFIG_ENABLE_VIP_PLAYREADY: !1,
        CONFIG_ENABLE_VIP_STORAGE: !1,
        CONFIG_ENABLE_VIP_ANALYTICS: !0,
        CONFIG_VIP_ANALYTICS_API_KEY: 'VeygoDemoPlayer',
        CONFIG_VIP_ANALYTICS_SERVER_BASEURL: '',
        CONFIG_VIP_ANALYTICS_ACTIVATE_REPORT_VIEWS: !0,
        CONFIG_ENABLE_VIP_BROADPEAK: !1,
        CONFIG_ENABLE_VIP_NIELSEN: !1,
        CONFIG_ENABLE_VIP_CONTENT: !0,
        CONFIG_ENABLE_VIP_PLATFORM: !0,
        CONFIG_ENABLE_VIP_ANDROID: !0,
        CONFIG_ENABLE_VIP_CORDOVA: !0,
        CONFIG_ENABLE_VIP_WEB: !0,
        CONFIG_ENABLE_VIP_WEBVIEW: !1,
        CONFIG_ENABLE_VIP_ALPHANETWORKS: !0,
        CONFIG_ENABLE_CUSTOMERS_EUTELSAT: !1,
        CONFIG_ENABLE_CUSTOMERS_SHOPLC: !1,
        CONFIG_ENABLE_VIP_TELECENTRO: !1,
        CONFIG_ENABLE_CUSTOMERS_TJC: !1,
        CONFIG_ENABLE_CUSTOMERS_TRINITY_SINGAPORE: !1,
        CONFIG_ENABLE_VIP_VIDGO: !1,
        CONFIG_ENABLE_APP_VEYGODEMO_ANDROID: !0,
        CONFIG_APP_VEYGODEMO_ANDROID_VERSION: '',
        CONFIG_APP_VEYGODEMO_ANDROID_BUILD_NUMBER: 1,
        CONFIG_APP_VEYGODEMO_ANDROID_OBFUSCATE: !0,
        CONFIG_ENABLE_APP_VEYGODEMO_CORDOVA: !0,
        CONFIG_APP_VEYGODEMO_CORDOVA_STREAMS:
          'an-cms-container;an-cms-thema;boxbrazil;an-cms-aramedia',
        CONFIG_ENABLE_APP_VEYGODEMO_WEB: !0,
        CONFIG_APP_VEYGODEMO_WEB_STREAMS:
          'an-cms-container;an-cms-thema;boxbrazil;an-cms-aramedia',
        CONFIG_APP_VEYGODEMO_WEB_INJECT_REWRITE: !1,
        CONFIG_VIP_VERIMATRIX_DEFAULT_COMPANY: !1,
        CONFIG_VIP_VERIMATRIX_DEFAULT_SERVER: !1,
      }).CONFIG_ENABLE_PARTNERS_NAGRA_DRM)
    ) {
      var et = o(339)['default'];
      j['default'].register(et);
    }
    for (var tt in be) a[tt] = be[tt];
    window.vip = be;
  },
  function (i, a, o) {
    'use strict';
    var p = { mp4: o(244) };
    i.exports = p;
  },
  function (i, a, o) {
    'use strict';
    i.exports = {
      generator: o(175),
      probe: o(253),
      Transmuxer: o(162).Transmuxer,
      AudioSegmentStream: o(162).AudioSegmentStream,
      VideoSegmentStream: o(162).VideoSegmentStream,
      CaptionParser: o(272),
    };
  },
  function (i, a, o) {
    var p = o(1);
    i.exports = !p(function () {
      function F() {}
      return (
        (F.prototype.constructor = null),
        Object.getPrototypeOf(new F()) !== F.prototype
      );
    });
  },
  function (i, a, o) {
    var p = o(8);
    i.exports = function (i) {
      if (!p(i) && null !== i)
        throw TypeError("Can't set " + String(i) + ' as a prototype');
      return i;
    };
  },
  function (i, a) {
    var o = 1 / 0,
      p = Math.abs,
      m = Math.pow,
      _ = Math.floor,
      w = Math.log,
      x = Math.LN2;
    i.exports = {
      pack: function (i, a, I) {
        var D,
          j,
          K,
          q = new Array(I),
          $ = 8 * I - a - 1,
          Z = (1 << $) - 1,
          be = Z >> 1,
          Se = 23 === a ? m(2, -24) - m(2, -77) : 0,
          _e = i < 0 || (0 === i && 1 / i < 0) ? 1 : 0,
          we = 0;
        for (
          (i = p(i)) != i || i === o
            ? ((j = i != i ? 1 : 0), (D = Z))
            : ((D = _(w(i) / x)),
              i * (K = m(2, -D)) < 1 && (D--, (K *= 2)),
              (i += D + be >= 1 ? Se / K : Se * m(2, 1 - be)) * K >= 2 &&
                (D++, (K /= 2)),
              D + be >= Z
                ? ((j = 0), (D = Z))
                : D + be >= 1
                ? ((j = (i * K - 1) * m(2, a)), (D += be))
                : ((j = i * m(2, be - 1) * m(2, a)), (D = 0)));
          a >= 8;
          q[we++] = 255 & j, j /= 256, a -= 8
        );
        for (
          D = (D << a) | j, $ += a;
          $ > 0;
          q[we++] = 255 & D, D /= 256, $ -= 8
        );
        return (q[--we] |= 128 * _e), q;
      },
      unpack: function (i, a) {
        var p,
          _ = i.length,
          w = 8 * _ - a - 1,
          x = (1 << w) - 1,
          I = x >> 1,
          D = w - 7,
          j = _ - 1,
          K = i[j--],
          q = 127 & K;
        for (K >>= 7; D > 0; q = 256 * q + i[j], j--, D -= 8);
        for (
          p = q & ((1 << -D) - 1), q >>= -D, D += a;
          D > 0;
          p = 256 * p + i[j], j--, D -= 8
        );
        if (0 === q) q = 1 - I;
        else {
          if (q === x) return p ? NaN : K ? -1 / 0 : o;
          (p += m(2, a)), (q -= I);
        }
        return (K ? -1 : 1) * p * m(2, q - a);
      },
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(156),
      m = o(110);
    i.exports = p
      ? {}.toString
      : function toString() {
          return '[object ' + m(this) + ']';
        };
  },
  function (i, a, o) {
    var p = o(2),
      m = o(1),
      _ = o(127),
      w = o(7).NATIVE_ARRAY_BUFFER_VIEWS,
      x = p.ArrayBuffer,
      I = p.Int8Array;
    i.exports =
      !w ||
      !m(function () {
        I(1);
      }) ||
      !m(function () {
        new I(-1);
      }) ||
      !_(function (i) {
        new I(), new I(null), new I(1.5), new I(i);
      }, !0) ||
      m(function () {
        return 1 !== new I(new x(2), 1, undefined).length;
      });
  },
  function (i, a, o) {
    var p = o(56);
    i.exports = function (i) {
      var a = p(i);
      if (a < 0) throw RangeError("The argument can't be less than 0");
      return a;
    };
  },
  function (i, a, o) {
    var p = o(47),
      m = o(10),
      _ = o(112),
      w = o(158),
      x = o(84),
      I = o(7).aTypedArrayConstructor;
    i.exports = function from(i) {
      var a,
        o,
        D,
        j,
        K,
        q,
        $ = p(i),
        Z = arguments.length,
        be = Z > 1 ? arguments[1] : undefined,
        Se = be !== undefined,
        _e = _($);
      if (_e != undefined && !w(_e))
        for (q = (K = _e.call($)).next, $ = []; !(j = q.call(K)).done; )
          $.push(j.value);
      for (
        Se && Z > 2 && (be = x(be, arguments[2], 2)),
          o = m($.length),
          D = new (I(this))(o),
          a = 0;
        o > a;
        a++
      )
        D[a] = Se ? be($[a], a) : $[a];
      return D;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(47),
      m = o(83),
      _ = o(10),
      w = Math.min;
    i.exports =
      [].copyWithin ||
      function copyWithin(i, a) {
        var o = p(this),
          x = _(o.length),
          I = m(i, x),
          D = m(a, x),
          j = arguments.length > 2 ? arguments[2] : undefined,
          K = w((j === undefined ? x : m(j, x)) - D, x - I),
          q = 1;
        for (
          D < I && I < D + K && ((q = -1), (D += K - 1), (I += K - 1));
          K-- > 0;

        )
          D in o ? (o[I] = o[D]) : delete o[I], (I += q), (D += q);
        return o;
      };
  },
  function (i, a, o) {
    'use strict';
    o(41), o(45), o(55), o(63), o(12), o(57), o(3), o(58), o(64), o(48);
    var p,
      m,
      _,
      w,
      x,
      I,
      D = o(132).toUnsigned,
      j = o(132).toHexString,
      K = o(196),
      q = o(197),
      $ = o(198),
      Z = o(199),
      be = o(200);
    (p = function timescale(i) {
      return K(i, ['moov', 'trak']).reduce(function (i, a) {
        var o, p, m, _, w;
        return (o = K(a, ['tkhd'])[0])
          ? ((p = o[0]),
            (_ = D(
              (o[(m = 0 === p ? 12 : 20)] << 24) |
                (o[m + 1] << 16) |
                (o[m + 2] << 8) |
                o[m + 3]
            )),
            (w = K(a, ['mdia', 'mdhd'])[0])
              ? ((m = 0 === (p = w[0]) ? 12 : 20),
                (i[_] = D(
                  (w[m] << 24) | (w[m + 1] << 16) | (w[m + 2] << 8) | w[m + 3]
                )),
                i)
              : null)
          : null;
      }, {});
    }),
      (m = function startTime(i, a) {
        var o, p, m;
        return (
          (o = K(a, ['moof', 'traf'])),
          (p = [].concat.apply(
            [],
            o.map(function (a) {
              return K(a, ['tfhd']).map(function (o) {
                var p, m, _;
                return (
                  (p = D((o[4] << 24) | (o[5] << 16) | (o[6] << 8) | o[7])),
                  (m = i[p] || 9e4),
                  (_ =
                    'number' !=
                      typeof (_ = K(a, ['tfdt']).map(function (i) {
                        var a, o;
                        return (
                          (a = i[0]),
                          (o = D(
                            (i[4] << 24) | (i[5] << 16) | (i[6] << 8) | i[7]
                          )),
                          1 === a &&
                            ((o *= Math.pow(2, 32)),
                            (o += D(
                              (i[8] << 24) | (i[9] << 16) | (i[10] << 8) | i[11]
                            ))),
                          o
                        );
                      })[0]) || isNaN(_)
                      ? Infinity
                      : _) / m
                );
              });
            })
          )),
          (m = Math.min.apply(null, p)),
          isFinite(m) ? m : 0
        );
      }),
      (_ = function compositionStartTime(i, a) {
        var o,
          p = K(a, ['moof', 'traf']),
          m = 0,
          _ = 0;
        if (p && p.length) {
          var w = K(p[0], ['tfhd'])[0],
            x = K(p[0], ['trun'])[0],
            I = K(p[0], ['tfdt'])[0];
          if (w) o = $(w).trackId;
          if (I) m = be(I).baseMediaDecodeTime;
          if (x) {
            var D = Z(x);
            D.samples &&
              D.samples.length &&
              (_ = D.samples[0].compositionTimeOffset || 0);
          }
        }
        return (m + _) / (i[o] || 9e4);
      }),
      (w = function getVideoTrackIds(i) {
        var a = K(i, ['moov', 'trak']),
          o = [];
        return (
          a.forEach(function (i) {
            var a = K(i, ['mdia', 'hdlr']),
              p = K(i, ['tkhd']);
            a.forEach(function (i, a) {
              var m,
                _,
                w = q(i.subarray(8, 12)),
                x = p[a];
              'vide' === w &&
                ((_ =
                  0 ===
                  (m = new DataView(
                    x.buffer,
                    x.byteOffset,
                    x.byteLength
                  )).getUint8(0)
                    ? m.getUint32(12)
                    : m.getUint32(20)),
                o.push(_));
            });
          }),
          o
        );
      }),
      (I = function getTimescaleFromMediaHeader(i) {
        var a = 0 === i[0] ? 12 : 20;
        return D((i[a] << 24) | (i[a + 1] << 16) | (i[a + 2] << 8) | i[a + 3]);
      }),
      (x = function getTracks(i) {
        var a = K(i, ['moov', 'trak']),
          o = [];
        return (
          a.forEach(function (i) {
            var a,
              p,
              m = {},
              _ = K(i, ['tkhd'])[0];
            _ &&
              ((p = (a = new DataView(
                _.buffer,
                _.byteOffset,
                _.byteLength
              )).getUint8(0)),
              (m.id = 0 === p ? a.getUint32(12) : a.getUint32(20)));
            var w = K(i, ['mdia', 'hdlr'])[0];
            if (w) {
              var x = q(w.subarray(8, 12));
              m.type = 'vide' === x ? 'video' : 'soun' === x ? 'audio' : x;
            }
            var D = K(i, ['mdia', 'minf', 'stbl', 'stsd'])[0];
            if (D) {
              var $ = D.subarray(8);
              m.codec = q($.subarray(4, 8));
              var Z,
                be = K($, [m.codec])[0];
              be &&
                (/^[a-z]vc[1-9]$/i.test(m.codec)
                  ? ((Z = be.subarray(78)),
                    'avcC' === q(Z.subarray(4, 8)) && Z.length > 11
                      ? ((m.codec += '.'),
                        (m.codec += j(Z[9])),
                        (m.codec += j(Z[10])),
                        (m.codec += j(Z[11])))
                      : (m.codec = 'avc1.4d400d'))
                  : /^mp4[a,v]$/i.test(m.codec)
                  ? ((Z = be.subarray(28)),
                    'esds' === q(Z.subarray(4, 8)) &&
                    Z.length > 20 &&
                    0 !== Z[19]
                      ? ((m.codec += '.' + j(Z[19])),
                        (m.codec +=
                          '.' + j((Z[20] >>> 2) & 63).replace(/^0/, '')))
                      : (m.codec = 'mp4a.40.2'))
                  : (m.codec = m.codec.toLowerCase()));
            }
            var Se = K(i, ['mdia', 'mdhd'])[0];
            Se && (m.timescale = I(Se)), o.push(m);
          }),
          o
        );
      }),
      (i.exports = {
        findBox: K,
        parseType: q,
        timescale: p,
        startTime: m,
        compositionStartTime: _,
        videoTrackIds: w,
        tracks: x,
        getTimescaleFromMediaHeader: I,
      });
  },
  function (i, a, o) {
    'use strict';
    i.exports = function parseSampleFlags(i) {
      return {
        isLeading: (12 & i[0]) >>> 2,
        dependsOn: 3 & i[0],
        isDependedOn: (192 & i[1]) >>> 6,
        hasRedundancy: (48 & i[1]) >>> 4,
        paddingValue: (14 & i[1]) >>> 1,
        isNonSyncSample: 1 & i[1],
        degradationPriority: (i[2] << 8) | i[3],
      };
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(57),
      o(3),
      o(89),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p = function sampleForFrame(i, a) {
      var o = {
        size: 0,
        flags: {
          isLeading: 0,
          dependsOn: 1,
          isDependedOn: 0,
          hasRedundancy: 0,
          degradationPriority: 0,
          isNonSyncSample: 1,
        },
      };
      return (
        (o.dataOffset = a),
        (o.compositionTimeOffset = i.pts - i.dts),
        (o.duration = i.duration),
        (o.size = 4 * i.length),
        (o.size += i.byteLength),
        i.keyFrame && ((o.flags.dependsOn = 2), (o.flags.isNonSyncSample = 0)),
        o
      );
    };
    i.exports = {
      groupNalsIntoFrames: function groupNalsIntoFrames(i) {
        var a,
          o,
          p = [],
          m = [];
        for (
          m.byteLength = 0,
            m.nalCount = 0,
            m.duration = 0,
            p.byteLength = 0,
            a = 0;
          a < i.length;
          a++
        )
          'access_unit_delimiter_rbsp' === (o = i[a]).nalUnitType
            ? (p.length &&
                ((p.duration = o.dts - p.dts),
                (m.byteLength += p.byteLength),
                (m.nalCount += p.length),
                (m.duration += p.duration),
                m.push(p)),
              ((p = [o]).byteLength = o.data.byteLength),
              (p.pts = o.pts),
              (p.dts = o.dts))
            : ('slice_layer_without_partitioning_rbsp_idr' === o.nalUnitType &&
                (p.keyFrame = !0),
              (p.duration = o.dts - p.dts),
              (p.byteLength += o.data.byteLength),
              p.push(o));
        return (
          m.length &&
            (!p.duration || p.duration <= 0) &&
            (p.duration = m[m.length - 1].duration),
          (m.byteLength += p.byteLength),
          (m.nalCount += p.length),
          (m.duration += p.duration),
          m.push(p),
          m
        );
      },
      groupFramesIntoGops: function groupFramesIntoGops(i) {
        var a,
          o,
          p = [],
          m = [];
        for (
          p.byteLength = 0,
            p.nalCount = 0,
            p.duration = 0,
            p.pts = i[0].pts,
            p.dts = i[0].dts,
            m.byteLength = 0,
            m.nalCount = 0,
            m.duration = 0,
            m.pts = i[0].pts,
            m.dts = i[0].dts,
            a = 0;
          a < i.length;
          a++
        )
          (o = i[a]).keyFrame
            ? (p.length &&
                (m.push(p),
                (m.byteLength += p.byteLength),
                (m.nalCount += p.nalCount),
                (m.duration += p.duration)),
              ((p = [o]).nalCount = o.length),
              (p.byteLength = o.byteLength),
              (p.pts = o.pts),
              (p.dts = o.dts),
              (p.duration = o.duration))
            : ((p.duration += o.duration),
              (p.nalCount += o.length),
              (p.byteLength += o.byteLength),
              p.push(o));
        return (
          m.length &&
            p.duration <= 0 &&
            (p.duration = m[m.length - 1].duration),
          (m.byteLength += p.byteLength),
          (m.nalCount += p.nalCount),
          (m.duration += p.duration),
          m.push(p),
          m
        );
      },
      extendFirstKeyFrame: function extendFirstKeyFrame(i) {
        var a;
        return (
          !i[0][0].keyFrame &&
            i.length > 1 &&
            ((a = i.shift()),
            (i.byteLength -= a.byteLength),
            (i.nalCount -= a.nalCount),
            (i[0][0].dts = a.dts),
            (i[0][0].pts = a.pts),
            (i[0][0].duration += a.duration)),
          i
        );
      },
      generateSampleTable: function generateSampleTable(i, a) {
        var o,
          m,
          _,
          w,
          x,
          I = a || 0,
          D = [];
        for (o = 0; o < i.length; o++)
          for (w = i[o], m = 0; m < w.length; m++)
            (x = w[m]), (I += (_ = p(x, I)).size), D.push(_);
        return D;
      },
      concatenateNalData: function concatenateNalData(i) {
        var a,
          o,
          p,
          m,
          _,
          w,
          x = 0,
          I = i.byteLength,
          D = i.nalCount,
          j = new Uint8Array(I + 4 * D),
          K = new DataView(j.buffer);
        for (a = 0; a < i.length; a++)
          for (m = i[a], o = 0; o < m.length; o++)
            for (_ = m[o], p = 0; p < _.length; p++)
              (w = _[p]),
                K.setUint32(x, w.data.byteLength),
                (x += 4),
                j.set(w.data, x),
                (x += w.data.byteLength);
        return j;
      },
      generateSampleTableForFrame: function generateSampleTableForFrame(i, a) {
        var o,
          m = [];
        return (o = p(i, a || 0)), m.push(o), m;
      },
      concatenateNalDataForFrame: function concatenateNalDataForFrame(i) {
        var a,
          o,
          p = 0,
          m = i.byteLength,
          _ = i.length,
          w = new Uint8Array(m + 4 * _),
          x = new DataView(w.buffer);
        for (a = 0; a < i.length; a++)
          (o = i[a]),
            x.setUint32(p, o.data.byteLength),
            (p += 4),
            w.set(o.data, p),
            (p += o.data.byteLength);
        return w;
      },
    };
  },
  function (i, a, o) {
    'use strict';
    o(91),
      o(6),
      o(90),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p = o(257),
      m = o(114);
    i.exports = {
      prefixWithSilence: function prefixWithSilence(i, a, o, _) {
        var w,
          x,
          I,
          D,
          j,
          K = 0,
          q = 0,
          $ = 0;
        if (
          a.length &&
          ((w = m.audioTsToVideoTs(i.baseMediaDecodeTime, i.samplerate)),
          (x = Math.ceil(m.ONE_SECOND_IN_TS / (i.samplerate / 1024))),
          o &&
            _ &&
            ((K = w - Math.max(o, _)), ($ = (q = Math.floor(K / x)) * x)),
          !(q < 1 || $ > m.ONE_SECOND_IN_TS / 2))
        ) {
          for ((I = p()[i.samplerate]) || (I = a[0].data), D = 0; D < q; D++)
            (j = a[0]),
              a.splice(0, 0, { data: I, dts: j.dts - x, pts: j.pts - x });
          return (
            (i.baseMediaDecodeTime -= Math.floor(
              m.videoTsToAudioTs($, i.samplerate)
            )),
            $
          );
        }
      },
      trimAdtsFramesByEarliestDts: function trimAdtsFramesByEarliestDts(
        i,
        a,
        o
      ) {
        return a.minSegmentDts >= o
          ? i
          : ((a.minSegmentDts = Infinity),
            i.filter(function (i) {
              return (
                i.dts >= o &&
                ((a.minSegmentDts = Math.min(a.minSegmentDts, i.dts)),
                (a.minSegmentPts = a.minSegmentDts),
                !0)
              );
            }));
      },
      generateSampleTable: function generateSampleTable(i) {
        var a,
          o,
          p = [];
        for (a = 0; a < i.length; a++)
          (o = i[a]), p.push({ size: o.data.byteLength, duration: 1024 });
        return p;
      },
      concatenateFrameData: function concatenateFrameData(i) {
        var a,
          o,
          p = 0,
          m = new Uint8Array(
            (function sumFrameByteLengths(i) {
              var a,
                o = 0;
              for (a = 0; a < i.length; a++) o += i[a].data.byteLength;
              return o;
            })(i)
          );
        for (a = 0; a < i.length; a++)
          (o = i[a]), m.set(o.data, p), (p += o.data.byteLength);
        return m;
      },
    };
  },
  function (i, a, o) {
    'use strict';
    o(41),
      o(6),
      o(63),
      o(12),
      o(49),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m = [33, 16, 5, 32, 164, 27],
      _ = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
      w = function zeroFill(i) {
        for (var a = []; i--; ) a.push(0);
        return a;
      };
    i.exports = function () {
      if (!p) {
        var i = {
          96e3: [m, [227, 64], w(154), [56]],
          88200: [m, [231], w(170), [56]],
          64e3: [m, [248, 192], w(240), [56]],
          48e3: [m, [255, 192], w(268), [55, 148, 128], w(54), [112]],
          44100: [m, [255, 192], w(268), [55, 163, 128], w(84), [112]],
          32e3: [m, [255, 192], w(268), [55, 234], w(226), [112]],
          24e3: [
            m,
            [255, 192],
            w(268),
            [55, 255, 128],
            w(268),
            [111, 112],
            w(126),
            [224],
          ],
          16e3: [
            m,
            [255, 192],
            w(268),
            [55, 255, 128],
            w(268),
            [111, 255],
            w(269),
            [223, 108],
            w(195),
            [1, 192],
          ],
          12e3: [
            _,
            w(268),
            [3, 127, 248],
            w(268),
            [6, 255, 240],
            w(268),
            [13, 255, 224],
            w(268),
            [27, 253, 128],
            w(259),
            [56],
          ],
          11025: [
            _,
            w(268),
            [3, 127, 248],
            w(268),
            [6, 255, 240],
            w(268),
            [13, 255, 224],
            w(268),
            [27, 255, 192],
            w(268),
            [55, 175, 128],
            w(108),
            [112],
          ],
          8e3: [_, w(268), [3, 121, 16], w(47), [7]],
        };
        p = (function makeTable(i) {
          return Object.keys(i).reduce(function (a, o) {
            return (
              (a[o] = new Uint8Array(
                i[o].reduce(function (i, a) {
                  return i.concat(a);
                }, [])
              )),
              a
            );
          }, {});
        })(i);
      }
      return p;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(114).ONE_SECOND_IN_TS;
    i.exports = {
      clearDtsInfo: function clearDtsInfo(i) {
        delete i.minSegmentDts,
          delete i.maxSegmentDts,
          delete i.minSegmentPts,
          delete i.maxSegmentPts;
      },
      calculateTrackBaseMediaDecodeTime:
        function calculateTrackBaseMediaDecodeTime(i, a) {
          var o,
            m = i.minSegmentDts;
          return (
            a || (m -= i.timelineStartInfo.dts),
            (o = i.timelineStartInfo.baseMediaDecodeTime),
            (o += m),
            (o = Math.max(0, o)),
            'audio' === i.type &&
              ((o *= i.samplerate / p), (o = Math.floor(o))),
            o
          );
        },
      collectDtsInfo: function collectDtsInfo(i, a) {
        'number' == typeof a.pts &&
          (i.timelineStartInfo.pts === undefined &&
            (i.timelineStartInfo.pts = a.pts),
          i.minSegmentPts === undefined
            ? (i.minSegmentPts = a.pts)
            : (i.minSegmentPts = Math.min(i.minSegmentPts, a.pts)),
          i.maxSegmentPts === undefined
            ? (i.maxSegmentPts = a.pts)
            : (i.maxSegmentPts = Math.max(i.maxSegmentPts, a.pts))),
          'number' == typeof a.dts &&
            (i.timelineStartInfo.dts === undefined &&
              (i.timelineStartInfo.dts = a.dts),
            i.minSegmentDts === undefined
              ? (i.minSegmentDts = a.dts)
              : (i.minSegmentDts = Math.min(i.minSegmentDts, a.dts)),
            i.maxSegmentDts === undefined
              ? (i.maxSegmentDts = a.dts)
              : (i.maxSegmentDts = Math.max(i.maxSegmentDts, a.dts)));
      },
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m,
      _,
      w = o(74),
      x = o(201),
      I = o(204),
      D = o(263).TimestampRolloverStream,
      j = 188;
    ((p = function TransportPacketStream() {
      var i = new Uint8Array(j),
        a = 0;
      p.prototype.init.call(this),
        (this.push = function (o) {
          var p,
            m = 0,
            _ = j;
          for (
            a
              ? ((p = new Uint8Array(o.byteLength + a)).set(i.subarray(0, a)),
                p.set(o, a),
                (a = 0))
              : (p = o);
            _ < p.byteLength;

          )
            71 !== p[m] || 71 !== p[_]
              ? (m++, _++)
              : (this.trigger('data', p.subarray(m, _)), (m += j), (_ += j));
          m < p.byteLength && (i.set(p.subarray(m), 0), (a = p.byteLength - m));
        }),
        (this.flush = function () {
          a === j && 71 === i[0] && (this.trigger('data', i), (a = 0)),
            this.trigger('done');
        }),
        (this.endTimeline = function () {
          this.flush(), this.trigger('endedtimeline');
        }),
        (this.reset = function () {
          (a = 0), this.trigger('reset');
        });
    }).prototype = new w()),
      ((m = function TransportParseStream() {
        var i, a, o, p;
        m.prototype.init.call(this),
          (p = this),
          (this.packetsWaitingForPmt = []),
          (this.programMapTable = undefined),
          (i = function parsePsi(i, p) {
            var m = 0;
            p.payloadUnitStartIndicator && (m += i[m] + 1),
              'pat' === p.type ? a(i.subarray(m), p) : o(i.subarray(m), p);
          }),
          (a = function parsePat(i, a) {
            (a.section_number = i[7]),
              (a.last_section_number = i[8]),
              (p.pmtPid = ((31 & i[10]) << 8) | i[11]),
              (a.pmtPid = p.pmtPid);
          }),
          (o = function parsePmt(i, a) {
            var o, m;
            if (1 & i[5]) {
              for (
                p.programMapTable = {
                  video: null,
                  audio: null,
                  'timed-metadata': {},
                },
                  o = 3 + (((15 & i[1]) << 8) | i[2]) - 4,
                  m = 12 + (((15 & i[10]) << 8) | i[11]);
                m < o;

              ) {
                var _ = i[m],
                  w = ((31 & i[m + 1]) << 8) | i[m + 2];
                _ === I.H264_STREAM_TYPE && null === p.programMapTable.video
                  ? (p.programMapTable.video = w)
                  : _ === I.ADTS_STREAM_TYPE && null === p.programMapTable.audio
                  ? (p.programMapTable.audio = w)
                  : _ === I.METADATA_STREAM_TYPE &&
                    (p.programMapTable['timed-metadata'][w] = _),
                  (m += 5 + (((15 & i[m + 3]) << 8) | i[m + 4]));
              }
              a.programMapTable = p.programMapTable;
            }
          }),
          (this.push = function (a) {
            var o = {},
              p = 4;
            if (
              ((o.payloadUnitStartIndicator = !!(64 & a[1])),
              (o.pid = 31 & a[1]),
              (o.pid <<= 8),
              (o.pid |= a[2]),
              (48 & a[3]) >>> 4 > 1 && (p += a[p] + 1),
              0 === o.pid)
            )
              (o.type = 'pat'), i(a.subarray(p), o), this.trigger('data', o);
            else if (o.pid === this.pmtPid)
              for (
                o.type = 'pmt', i(a.subarray(p), o), this.trigger('data', o);
                this.packetsWaitingForPmt.length;

              )
                this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
            else
              this.programMapTable === undefined
                ? this.packetsWaitingForPmt.push([a, p, o])
                : this.processPes_(a, p, o);
          }),
          (this.processPes_ = function (i, a, o) {
            o.pid === this.programMapTable.video
              ? (o.streamType = I.H264_STREAM_TYPE)
              : o.pid === this.programMapTable.audio
              ? (o.streamType = I.ADTS_STREAM_TYPE)
              : (o.streamType = this.programMapTable['timed-metadata'][o.pid]),
              (o.type = 'pes'),
              (o.data = i.subarray(a)),
              this.trigger('data', o);
          });
      }).prototype = new w()),
      (m.STREAM_TYPES = { h264: 27, adts: 15 }),
      ((_ = function ElementaryStream() {
        var i,
          a = this,
          o = { data: [], size: 0 },
          p = { data: [], size: 0 },
          m = { data: [], size: 0 },
          w = function flushStream(i, o, p) {
            var m,
              _,
              w = new Uint8Array(i.size),
              x = { type: o },
              I = 0,
              D = 0;
            if (i.data.length && !(i.size < 9)) {
              for (x.trackId = i.data[0].pid, I = 0; I < i.data.length; I++)
                (_ = i.data[I]), w.set(_.data, D), (D += _.data.byteLength);
              !(function parsePes(i, a) {
                var o,
                  p = (i[0] << 16) | (i[1] << 8) | i[2];
                (a.data = new Uint8Array()),
                  1 === p &&
                    ((a.packetLength = 6 + ((i[4] << 8) | i[5])),
                    (a.dataAlignmentIndicator = 0 != (4 & i[6])),
                    192 & (o = i[7]) &&
                      ((a.pts =
                        ((14 & i[9]) << 27) |
                        ((255 & i[10]) << 20) |
                        ((254 & i[11]) << 12) |
                        ((255 & i[12]) << 5) |
                        ((254 & i[13]) >>> 3)),
                      (a.pts *= 4),
                      (a.pts += (6 & i[13]) >>> 1),
                      (a.dts = a.pts),
                      64 & o &&
                        ((a.dts =
                          ((14 & i[14]) << 27) |
                          ((255 & i[15]) << 20) |
                          ((254 & i[16]) << 12) |
                          ((255 & i[17]) << 5) |
                          ((254 & i[18]) >>> 3)),
                        (a.dts *= 4),
                        (a.dts += (6 & i[18]) >>> 1))),
                    (a.data = i.subarray(9 + i[8])));
              })(w, x),
                (m = 'video' === o || x.packetLength <= i.size),
                (p || m) && ((i.size = 0), (i.data.length = 0)),
                m && a.trigger('data', x);
            }
          };
        _.prototype.init.call(this),
          (this.push = function (_) {
            ({
              pat: function pat() {},
              pes: function pes() {
                var i, a;
                switch (_.streamType) {
                  case I.H264_STREAM_TYPE:
                    (i = o), (a = 'video');
                    break;
                  case I.ADTS_STREAM_TYPE:
                    (i = p), (a = 'audio');
                    break;
                  case I.METADATA_STREAM_TYPE:
                    (i = m), (a = 'timed-metadata');
                    break;
                  default:
                    return;
                }
                _.payloadUnitStartIndicator && w(i, a, !0),
                  i.data.push(_),
                  (i.size += _.data.byteLength);
              },
              pmt: function pmt() {
                var o = { type: 'metadata', tracks: [] };
                null !== (i = _.programMapTable).video &&
                  o.tracks.push({
                    timelineStartInfo: { baseMediaDecodeTime: 0 },
                    id: +i.video,
                    codec: 'avc',
                    type: 'video',
                  }),
                  null !== i.audio &&
                    o.tracks.push({
                      timelineStartInfo: { baseMediaDecodeTime: 0 },
                      id: +i.audio,
                      codec: 'adts',
                      type: 'audio',
                    }),
                  a.trigger('data', o);
              },
            }[_.type]());
          }),
          (this.reset = function () {
            (o.size = 0),
              (o.data.length = 0),
              (p.size = 0),
              (p.data.length = 0),
              this.trigger('reset');
          }),
          (this.flushStreams_ = function () {
            w(o, 'video'), w(p, 'audio'), w(m, 'timed-metadata');
          }),
          (this.flush = function () {
            this.flushStreams_(), this.trigger('done');
          });
      }).prototype = new w());
    var K = {
      PAT_PID: 0,
      MP2T_PACKET_LENGTH: j,
      TransportPacketStream: p,
      TransportParseStream: m,
      ElementaryStream: _,
      TimestampRolloverStream: D,
      CaptionStream: x.CaptionStream,
      Cea608Stream: x.Cea608Stream,
      Cea708Stream: x.Cea708Stream,
      MetadataStream: o(264),
    };
    for (var q in I) I.hasOwnProperty(q) && (K[q] = I[q]);
    i.exports = K;
  },
  function (i, a, o) {
    var p = o(1),
      m = o(134);
    i.exports = function (i) {
      return p(function () {
        return !!m[i]() || '' != ''[i]() || m[i].name !== i;
      });
    };
  },
  function (i, a, o) {
    var p = o(54),
      m = /"/g;
    i.exports = function (i, a, o, _) {
      var w = String(p(i)),
        x = '<' + a;
      return (
        '' !== o &&
          (x += ' ' + o + '="' + String(_).replace(m, '&quot;') + '"'),
        x + '>' + w + '</' + a + '>'
      );
    };
  },
  function (i, a, o) {
    var p = o(1);
    i.exports = function (i) {
      return p(function () {
        var a = ''[i]('"');
        return a !== a.toLowerCase() || a.split('"').length > 3;
      });
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(74),
      m = 'shared',
      _ = function handleRollover(i, a) {
        var o = 1;
        for (i > a && (o = -1); Math.abs(a - i) > 4294967296; )
          i += 8589934592 * o;
        return i;
      },
      w = function TimestampRolloverStream(i) {
        var a, o;
        TimestampRolloverStream.prototype.init.call(this),
          (this.type_ = i || m),
          (this.push = function (i) {
            (this.type_ !== m && i.type !== this.type_) ||
              (o === undefined && (o = i.dts),
              (i.dts = _(i.dts, o)),
              (i.pts = _(i.pts, o)),
              (a = i.dts),
              this.trigger('data', i));
          }),
          (this.flush = function () {
            (o = a), this.trigger('done');
          }),
          (this.endTimeline = function () {
            this.flush(), this.trigger('endedtimeline');
          }),
          (this.discontinuity = function () {
            (o = void 0), (a = void 0);
          }),
          (this.reset = function () {
            this.discontinuity(), this.trigger('reset');
          });
      };
    (w.prototype = new p()),
      (i.exports = { TimestampRolloverStream: w, handleRollover: _ });
  },
  function (i, a, o) {
    'use strict';
    o(115),
      o(136),
      o(6),
      o(44),
      o(12),
      o(3),
      o(58),
      o(43),
      o(64),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m = o(74),
      _ = o(204),
      w = function percentEncode(i, a, o) {
        var p,
          m = '';
        for (p = a; p < o; p++) m += '%' + ('00' + i[p].toString(16)).slice(-2);
        return m;
      },
      x = function parseUtf8(i, a, o) {
        return decodeURIComponent(w(i, a, o));
      },
      I = function parseIso88591(i, a, o) {
        return unescape(w(i, a, o));
      },
      D = function parseSyncSafeInteger(i) {
        return (i[0] << 21) | (i[1] << 14) | (i[2] << 7) | i[3];
      },
      j = {
        TXXX: function TXXX(i) {
          var a;
          if (3 === i.data[0]) {
            for (a = 1; a < i.data.length; a++)
              if (0 === i.data[a]) {
                (i.description = x(i.data, 1, a)),
                  (i.value = x(i.data, a + 1, i.data.length).replace(
                    /\0*$/,
                    ''
                  ));
                break;
              }
            i.data = i.value;
          }
        },
        WXXX: function WXXX(i) {
          var a;
          if (3 === i.data[0])
            for (a = 1; a < i.data.length; a++)
              if (0 === i.data[a]) {
                (i.description = x(i.data, 1, a)),
                  (i.url = x(i.data, a + 1, i.data.length));
                break;
              }
        },
        PRIV: function PRIV(i) {
          var a;
          for (a = 0; a < i.data.length; a++)
            if (0 === i.data[a]) {
              i.owner = I(i.data, 0, a);
              break;
            }
          (i.privateData = i.data.subarray(a + 1)), (i.data = i.privateData);
        },
      };
    ((p = function MetadataStream(i) {
      var a,
        o = { debug: !(!i || !i.debug), descriptor: i && i.descriptor },
        m = 0,
        w = [],
        x = 0;
      if (
        (p.prototype.init.call(this),
        (this.dispatchType = _.METADATA_STREAM_TYPE.toString(16)),
        o.descriptor)
      )
        for (a = 0; a < o.descriptor.length; a++)
          this.dispatchType += ('00' + o.descriptor[a].toString(16)).slice(-2);
      this.push = function (i) {
        var a, p, _, I, K;
        if ('timed-metadata' === i.type)
          if (
            (i.dataAlignmentIndicator && ((x = 0), (w.length = 0)),
            0 === w.length &&
              (i.data.length < 10 ||
                i.data[0] !== 'I'.charCodeAt(0) ||
                i.data[1] !== 'D'.charCodeAt(0) ||
                i.data[2] !== '3'.charCodeAt(0)))
          )
            o.debug && console.log('Skipping unrecognized metadata packet');
          else if (
            (w.push(i),
            (x += i.data.byteLength),
            1 === w.length && ((m = D(i.data.subarray(6, 10))), (m += 10)),
            !(x < m))
          ) {
            for (
              a = {
                data: new Uint8Array(m),
                frames: [],
                pts: w[0].pts,
                dts: w[0].dts,
              },
                K = 0;
              K < m;

            )
              a.data.set(w[0].data.subarray(0, m - K), K),
                (K += w[0].data.byteLength),
                (x -= w[0].data.byteLength),
                w.shift();
            (p = 10),
              64 & a.data[5] &&
                ((p += 4),
                (p += D(a.data.subarray(10, 14))),
                (m -= D(a.data.subarray(16, 20))));
            do {
              if ((_ = D(a.data.subarray(p + 4, p + 8))) < 1)
                return console.log(
                  'Malformed ID3 frame encountered. Skipping metadata parsing.'
                );
              if (
                (((I = {
                  id: String.fromCharCode(
                    a.data[p],
                    a.data[p + 1],
                    a.data[p + 2],
                    a.data[p + 3]
                  ),
                  data: a.data.subarray(p + 10, p + _ + 10),
                }).key = I.id),
                j[I.id] &&
                  (j[I.id](I),
                  'com.apple.streaming.transportStreamTimestamp' === I.owner))
              ) {
                var q = I.data,
                  $ =
                    ((1 & q[3]) << 30) |
                    (q[4] << 22) |
                    (q[5] << 14) |
                    (q[6] << 6) |
                    (q[7] >>> 2);
                ($ *= 4),
                  ($ += 3 & q[7]),
                  (I.timeStamp = $),
                  a.pts === undefined &&
                    a.dts === undefined &&
                    ((a.pts = I.timeStamp), (a.dts = I.timeStamp)),
                  this.trigger('timestamp', I);
              }
              a.frames.push(I), (p += 10), (p += _);
            } while (p < m);
            this.trigger('data', a);
          }
      };
    }).prototype = new m()),
      (i.exports = p);
  },
  function (i, a, o) {
    var p = o(53),
      m = o(82).f,
      _ = {}.toString,
      w =
        'object' == typeof window && window && Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [];
    i.exports.f = function getOwnPropertyNames(i) {
      return w && '[object Window]' == _.call(i)
        ? (function (i) {
            try {
              return m(i);
            } catch (a) {
              return w.slice();
            }
          })(i)
        : m(p(i));
    };
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m = o(74),
      _ = o(114).ONE_SECOND_IN_TS,
      w = [
        96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025,
        8e3, 7350,
      ];
    ((p = function AdtsStream(i) {
      var a,
        o = 0;
      p.prototype.init.call(this),
        (this.push = function (p) {
          var m,
            x,
            I,
            D,
            j,
            K,
            q = 0;
          if ((i || (o = 0), 'audio' === p.type))
            for (
              a
                ? ((D = a),
                  (a = new Uint8Array(D.byteLength + p.data.byteLength)).set(D),
                  a.set(p.data, D.byteLength))
                : (a = p.data);
              q + 5 < a.length;

            )
              if (255 === a[q] && 240 == (246 & a[q + 1])) {
                if (
                  ((x = 2 * (1 & ~a[q + 1])),
                  (m =
                    ((3 & a[q + 3]) << 11) |
                    (a[q + 4] << 3) |
                    ((224 & a[q + 5]) >> 5)),
                  (K =
                    ((j = 1024 * (1 + (3 & a[q + 6]))) * _) /
                    w[(60 & a[q + 2]) >>> 2]),
                  (I = q + m),
                  a.byteLength < I)
                )
                  return;
                if (
                  (this.trigger('data', {
                    pts: p.pts + o * K,
                    dts: p.dts + o * K,
                    sampleCount: j,
                    audioobjecttype: 1 + ((a[q + 2] >>> 6) & 3),
                    channelcount:
                      ((1 & a[q + 2]) << 2) | ((192 & a[q + 3]) >>> 6),
                    samplerate: w[(60 & a[q + 2]) >>> 2],
                    samplingfrequencyindex: (60 & a[q + 2]) >>> 2,
                    samplesize: 16,
                    data: a.subarray(q + 7 + x, I),
                  }),
                  o++,
                  a.byteLength === I)
                )
                  return void (a = undefined);
                a = a.subarray(I);
              } else q++;
        }),
        (this.flush = function () {
          (o = 0), this.trigger('done');
        }),
        (this.reset = function () {
          (a = void 0), this.trigger('reset');
        }),
        (this.endTimeline = function () {
          (a = void 0), this.trigger('endedtimeline');
        });
    }).prototype = new m()),
      (i.exports = p);
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m,
      _,
      w = o(74),
      x = o(268);
    ((m = function NalByteStream() {
      var i,
        a,
        o = 0;
      m.prototype.init.call(this),
        (this.push = function (p) {
          var m;
          a
            ? ((m = new Uint8Array(a.byteLength + p.data.byteLength)).set(a),
              m.set(p.data, a.byteLength),
              (a = m))
            : (a = p.data);
          for (var _ = a.byteLength; o < _ - 3; o++)
            if (1 === a[o + 2]) {
              i = o + 5;
              break;
            }
          for (; i < _; )
            switch (a[i]) {
              case 0:
                if (0 !== a[i - 1]) {
                  i += 2;
                  break;
                }
                if (0 !== a[i - 2]) {
                  i++;
                  break;
                }
                o + 3 !== i - 2 &&
                  this.trigger('data', a.subarray(o + 3, i - 2));
                do {
                  i++;
                } while (1 !== a[i] && i < _);
                (o = i - 2), (i += 3);
                break;
              case 1:
                if (0 !== a[i - 1] || 0 !== a[i - 2]) {
                  i += 3;
                  break;
                }
                this.trigger('data', a.subarray(o + 3, i - 2)),
                  (o = i - 2),
                  (i += 3);
                break;
              default:
                i += 3;
            }
          (a = a.subarray(o)), (i -= o), (o = 0);
        }),
        (this.reset = function () {
          (a = null), (o = 0), this.trigger('reset');
        }),
        (this.flush = function () {
          a && a.byteLength > 3 && this.trigger('data', a.subarray(o + 3)),
            (a = null),
            (o = 0),
            this.trigger('done');
        }),
        (this.endTimeline = function () {
          this.flush(), this.trigger('endedtimeline');
        });
    }).prototype = new w()),
      (_ = {
        100: !0,
        110: !0,
        122: !0,
        244: !0,
        44: !0,
        83: !0,
        86: !0,
        118: !0,
        128: !0,
        138: !0,
        139: !0,
        134: !0,
      }),
      ((p = function H264Stream() {
        var i,
          a,
          o,
          w,
          I,
          D,
          j,
          K = new m();
        p.prototype.init.call(this),
          (i = this),
          (this.push = function (i) {
            'video' === i.type &&
              ((a = i.trackId), (o = i.pts), (w = i.dts), K.push(i));
          }),
          K.on('data', function (p) {
            var m = { trackId: a, pts: o, dts: w, data: p };
            switch (31 & p[0]) {
              case 5:
                m.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';
                break;
              case 6:
                (m.nalUnitType = 'sei_rbsp'),
                  (m.escapedRBSP = I(p.subarray(1)));
                break;
              case 7:
                (m.nalUnitType = 'seq_parameter_set_rbsp'),
                  (m.escapedRBSP = I(p.subarray(1))),
                  (m.config = D(m.escapedRBSP));
                break;
              case 8:
                m.nalUnitType = 'pic_parameter_set_rbsp';
                break;
              case 9:
                m.nalUnitType = 'access_unit_delimiter_rbsp';
            }
            i.trigger('data', m);
          }),
          K.on('done', function () {
            i.trigger('done');
          }),
          K.on('partialdone', function () {
            i.trigger('partialdone');
          }),
          K.on('reset', function () {
            i.trigger('reset');
          }),
          K.on('endedtimeline', function () {
            i.trigger('endedtimeline');
          }),
          (this.flush = function () {
            K.flush();
          }),
          (this.partialFlush = function () {
            K.partialFlush();
          }),
          (this.reset = function () {
            K.reset();
          }),
          (this.endTimeline = function () {
            K.endTimeline();
          }),
          (j = function skipScalingList(i, a) {
            var o,
              p = 8,
              m = 8;
            for (o = 0; o < i; o++)
              0 !== m && (m = (p + a.readExpGolomb() + 256) % 256),
                (p = 0 === m ? p : m);
          }),
          (I = function discardEmulationPreventionBytes(i) {
            for (var a, o, p = i.byteLength, m = [], _ = 1; _ < p - 2; )
              0 === i[_] && 0 === i[_ + 1] && 3 === i[_ + 2]
                ? (m.push(_ + 2), (_ += 2))
                : _++;
            if (0 === m.length) return i;
            (a = p - m.length), (o = new Uint8Array(a));
            var w = 0;
            for (_ = 0; _ < a; w++, _++)
              w === m[0] && (w++, m.shift()), (o[_] = i[w]);
            return o;
          }),
          (D = function readSequenceParameterSet(i) {
            var a,
              o,
              p,
              m,
              w,
              I,
              D,
              K,
              q,
              $,
              Z,
              be,
              Se,
              _e = 0,
              we = 0,
              xe = 0,
              et = 0,
              tt = 1;
            if (
              ((o = (a = new x(i)).readUnsignedByte()),
              (m = a.readUnsignedByte()),
              (p = a.readUnsignedByte()),
              a.skipUnsignedExpGolomb(),
              _[o] &&
                (3 === (w = a.readUnsignedExpGolomb()) && a.skipBits(1),
                a.skipUnsignedExpGolomb(),
                a.skipUnsignedExpGolomb(),
                a.skipBits(1),
                a.readBoolean()))
            )
              for (Z = 3 !== w ? 8 : 12, Se = 0; Se < Z; Se++)
                a.readBoolean() && j(Se < 6 ? 16 : 64, a);
            if (
              (a.skipUnsignedExpGolomb(), 0 === (I = a.readUnsignedExpGolomb()))
            )
              a.readUnsignedExpGolomb();
            else if (1 === I)
              for (
                a.skipBits(1),
                  a.skipExpGolomb(),
                  a.skipExpGolomb(),
                  D = a.readUnsignedExpGolomb(),
                  Se = 0;
                Se < D;
                Se++
              )
                a.skipExpGolomb();
            if (
              (a.skipUnsignedExpGolomb(),
              a.skipBits(1),
              (K = a.readUnsignedExpGolomb()),
              (q = a.readUnsignedExpGolomb()),
              0 === ($ = a.readBits(1)) && a.skipBits(1),
              a.skipBits(1),
              a.readBoolean() &&
                ((_e = a.readUnsignedExpGolomb()),
                (we = a.readUnsignedExpGolomb()),
                (xe = a.readUnsignedExpGolomb()),
                (et = a.readUnsignedExpGolomb())),
              a.readBoolean() && a.readBoolean())
            ) {
              switch (a.readUnsignedByte()) {
                case 1:
                  be = [1, 1];
                  break;
                case 2:
                  be = [12, 11];
                  break;
                case 3:
                  be = [10, 11];
                  break;
                case 4:
                  be = [16, 11];
                  break;
                case 5:
                  be = [40, 33];
                  break;
                case 6:
                  be = [24, 11];
                  break;
                case 7:
                  be = [20, 11];
                  break;
                case 8:
                  be = [32, 11];
                  break;
                case 9:
                  be = [80, 33];
                  break;
                case 10:
                  be = [18, 11];
                  break;
                case 11:
                  be = [15, 11];
                  break;
                case 12:
                  be = [64, 33];
                  break;
                case 13:
                  be = [160, 99];
                  break;
                case 14:
                  be = [4, 3];
                  break;
                case 15:
                  be = [3, 2];
                  break;
                case 16:
                  be = [2, 1];
                  break;
                case 255:
                  be = [
                    (a.readUnsignedByte() << 8) | a.readUnsignedByte(),
                    (a.readUnsignedByte() << 8) | a.readUnsignedByte(),
                  ];
              }
              be && (tt = be[0] / be[1]);
            }
            return {
              profileIdc: o,
              levelIdc: p,
              profileCompatibility: m,
              width: Math.ceil((16 * (K + 1) - 2 * _e - 2 * we) * tt),
              height: (2 - $) * (q + 1) * 16 - 2 * xe - 2 * et,
              sarRatio: be,
            };
          });
      }).prototype = new w()),
      (i.exports = { H264Stream: p, NalByteStream: m });
  },
  function (i, a, o) {
    'use strict';
    var p;
    o(6),
      o(12),
      o(57),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40),
      (p = function ExpGolomb(i) {
        var a = i.byteLength,
          o = 0,
          p = 0;
        (this.length = function () {
          return 8 * a;
        }),
          (this.bitsAvailable = function () {
            return 8 * a + p;
          }),
          (this.loadWord = function () {
            var m = i.byteLength - a,
              _ = new Uint8Array(4),
              w = Math.min(4, a);
            if (0 === w) throw new Error('no bytes available');
            _.set(i.subarray(m, m + w)),
              (o = new DataView(_.buffer).getUint32(0)),
              (p = 8 * w),
              (a -= w);
          }),
          (this.skipBits = function (i) {
            var m;
            p > i
              ? ((o <<= i), (p -= i))
              : ((i -= p),
                (i -= 8 * (m = Math.floor(i / 8))),
                (a -= m),
                this.loadWord(),
                (o <<= i),
                (p -= i));
          }),
          (this.readBits = function (i) {
            var m = Math.min(p, i),
              _ = o >>> (32 - m);
            return (
              (p -= m) > 0 ? (o <<= m) : a > 0 && this.loadWord(),
              (m = i - m) > 0 ? (_ << m) | this.readBits(m) : _
            );
          }),
          (this.skipLeadingZeros = function () {
            var i;
            for (i = 0; i < p; ++i)
              if (0 != (o & (2147483648 >>> i))) return (o <<= i), (p -= i), i;
            return this.loadWord(), i + this.skipLeadingZeros();
          }),
          (this.skipUnsignedExpGolomb = function () {
            this.skipBits(1 + this.skipLeadingZeros());
          }),
          (this.skipExpGolomb = function () {
            this.skipBits(1 + this.skipLeadingZeros());
          }),
          (this.readUnsignedExpGolomb = function () {
            var i = this.skipLeadingZeros();
            return this.readBits(i + 1) - 1;
          }),
          (this.readExpGolomb = function () {
            var i = this.readUnsignedExpGolomb();
            return 1 & i ? (1 + i) >>> 1 : -1 * (i >>> 1);
          }),
          (this.readBoolean = function () {
            return 1 === this.readBits(1);
          }),
          (this.readUnsignedByte = function () {
            return this.readBits(8);
          }),
          this.loadWord();
      }),
      (i.exports = p);
  },
  function (i, a, o) {
    'use strict';
    o(6),
      o(12),
      o(3),
      o(17),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40);
    var p,
      m = o(74),
      _ = o(206);
    ((p = function AacStream() {
      var i = new Uint8Array(),
        a = 0;
      p.prototype.init.call(this),
        (this.setTimestamp = function (i) {
          a = i;
        }),
        (this.push = function (o) {
          var p,
            m,
            w,
            x,
            I = 0,
            D = 0;
          for (
            i.length
              ? ((x = i.length),
                (i = new Uint8Array(o.byteLength + x)).set(i.subarray(0, x)),
                i.set(o, x))
              : (i = o);
            i.length - D >= 3;

          )
            if (
              i[D] !== 'I'.charCodeAt(0) ||
              i[D + 1] !== 'D'.charCodeAt(0) ||
              i[D + 2] !== '3'.charCodeAt(0)
            )
              if (255 != (255 & i[D]) || 240 != (240 & i[D + 1])) D++;
              else {
                if (i.length - D < 7) break;
                if (D + (I = _.parseAdtsSize(i, D)) > i.length) break;
                (w = {
                  type: 'audio',
                  data: i.subarray(D, D + I),
                  pts: a,
                  dts: a,
                }),
                  this.trigger('data', w),
                  (D += I);
              }
            else {
              if (i.length - D < 10) break;
              if (D + (I = _.parseId3TagSize(i, D)) > i.length) break;
              (m = { type: 'timed-metadata', data: i.subarray(D, D + I) }),
                this.trigger('data', m),
                (D += I);
            }
          (p = i.length - D), (i = p > 0 ? i.subarray(D) : new Uint8Array());
        }),
        (this.reset = function () {
          (i = new Uint8Array()), this.trigger('reset');
        }),
        (this.endTimeline = function () {
          (i = new Uint8Array()), this.trigger('endedtimeline');
        });
    }).prototype = new m()),
      (i.exports = p);
  },
  function (i, a, o) {
    'use strict';
    i.exports = [
      'audioobjecttype',
      'channelcount',
      'samplerate',
      'samplingfrequencyindex',
      'samplesize',
    ];
  },
  function (i, a, o) {
    'use strict';
    i.exports = [
      'width',
      'height',
      'profileIdc',
      'levelIdc',
      'profileCompatibility',
      'sarRatio',
    ];
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41), o(45), o(12), o(57), o(49), o(3), o(48);
    var m = p(o(94)),
      _ = o(203).discardEmulationPreventionBytes,
      w = o(201).CaptionStream,
      x = o(196),
      I = o(200),
      D = o(199),
      j = o(198),
      K = function mapToSample(i, a) {
        for (var o = i, p = 0; p < a.length; p++) {
          var m = a[p];
          if (o < m.size) return m;
          o -= m.size;
        }
        return null;
      },
      q = function parseCaptionNals(i, a) {
        var o = x(i, ['moof', 'traf']),
          p = x(i, ['mdat']),
          m = {},
          w = [];
        return (
          p.forEach(function (i, a) {
            var p = o[a];
            w.push({ mdat: i, traf: p });
          }),
          w.forEach(function (i) {
            var o,
              p = i.mdat,
              w = i.traf,
              q = x(w, ['tfhd']),
              $ = j(q[0]),
              Z = $.trackId,
              be = x(w, ['tfdt']),
              Se = be.length > 0 ? I(be[0]).baseMediaDecodeTime : 0,
              _e = x(w, ['trun']);
            a === Z &&
              _e.length > 0 &&
              ((o = (function findSeiNals(i, a, o) {
                var p,
                  m,
                  w,
                  x,
                  I = new DataView(i.buffer, i.byteOffset, i.byteLength),
                  D = [];
                for (m = 0; m + 4 < i.length; m += w)
                  if (((w = I.getUint32(m)), (m += 4), !(w <= 0)))
                    switch (31 & i[m]) {
                      case 6:
                        var j = i.subarray(m + 1, m + 1 + w),
                          q = K(m, a);
                        if (
                          ((p = {
                            nalUnitType: 'sei_rbsp',
                            size: w,
                            data: j,
                            escapedRBSP: _(j),
                            trackId: o,
                          }),
                          q)
                        )
                          (p.pts = q.pts), (p.dts = q.dts), (x = q);
                        else {
                          if (!x) {
                            console.log(
                              "We've encountered a nal unit without data. See mux.js#233."
                            );
                            break;
                          }
                          (p.pts = x.pts), (p.dts = x.dts);
                        }
                        D.push(p);
                    }
                return D;
              })(
                p,
                (function parseSamples(i, a, o) {
                  var p = a,
                    m = o.defaultSampleDuration || 0,
                    _ = o.defaultSampleSize || 0,
                    w = o.trackId,
                    x = [];
                  return (
                    i.forEach(function (i) {
                      var a = D(i).samples;
                      a.forEach(function (i) {
                        i.duration === undefined && (i.duration = m),
                          i.size === undefined && (i.size = _),
                          (i.trackId = w),
                          (i.dts = p),
                          i.compositionTimeOffset === undefined &&
                            (i.compositionTimeOffset = 0),
                          (i.pts = p + i.compositionTimeOffset),
                          (p += i.duration);
                      }),
                        (x = x.concat(a));
                    }),
                    x
                  );
                })(_e, Se, $),
                Z
              )),
              m[Z] || (m[Z] = []),
              (m[Z] = m[Z].concat(o)));
          }),
          m
        );
      };
    i.exports = function CaptionParser(i) {
      var a,
        o,
        p,
        _,
        x,
        I,
        D = !1;
      (this.isInitialized = function () {
        return D;
      }),
        (this.init = function (o) {
          a ||
            ((a = new w({ cea608parser: i ? i() : undefined })),
            (D = !0),
            (I = !!o && o.isPartial),
            a.on('data', function (i) {
              (i.startTime = i.startPts / _),
                (i.endTime = i.endPts / _),
                x.captions.push(i),
                (x.captionStreams[i.stream] = !0);
            }));
        }),
        (this.isNewInit = function (i, a) {
          return (
            !(
              (i && 0 === i.length) ||
              (a &&
                'object' === (0, m['default'])(a) &&
                0 === Object.keys(a).length)
            ) &&
            (p !== i[0] || _ !== a[p])
          );
        }),
        (this.parse = function (i, a, m) {
          var w;
          if (!this.isInitialized()) return null;
          if (!a || !m) return null;
          if (this.isNewInit(a, m)) (p = a[0]), (_ = m[p]);
          else if (null === p || !_) return o.push(i), null;
          for (; o.length > 0; ) {
            var I = o.shift();
            this.parse(I, a, m);
          }
          return null !==
            (w = (function parseEmbeddedCaptions(i, a, o) {
              return null === a ? null : { seiNals: q(i, a)[a], timescale: o };
            })(i, p, _)) && w.seiNals
            ? (this.pushNals(w.seiNals), this.flushStream(), x)
            : null;
        }),
        (this.pushNals = function (i) {
          if (!this.isInitialized() || !i || 0 === i.length) return null;
          i.forEach(function (i) {
            a.push(i);
          });
        }),
        (this.flushStream = function () {
          if (!this.isInitialized()) return null;
          I ? a.partialFlush() : a.flush();
        }),
        (this.clearParsedCaptions = function () {
          (x.captions = []), (x.captionStreams = {});
        }),
        (this.resetCaptionStream = function () {
          if (!this.isInitialized()) return null;
          a.reset();
        }),
        (this.clearAllCaptions = function () {
          this.clearParsedCaptions(), this.resetCaptionStream();
        }),
        (this.reset = function () {
          (o = []),
            (p = null),
            (_ = null),
            x
              ? this.clearParsedCaptions()
              : (x = { captions: [], captionStreams: {} }),
            this.resetCaptionStream();
        }),
        this.reset();
    };
  },
  function (i, a, o) {
    'use strict';
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = function assert(i, a) {
        i || console.error(a, new Error().stack);
      });
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(115),
      o(136),
      o(207),
      o(208),
      o(6),
      o(44),
      o(90),
      o(75),
      o(137),
      o(3),
      o(43),
      o(66),
      o(76),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(275)),
      _ = p(o(116)),
      w = p(o(13)),
      x = p(o(15));
    function _createForOfIteratorHelper(i, a) {
      var o;
      if ('undefined' == typeof Symbol || null == i[Symbol.iterator]) {
        if (
          Array.isArray(i) ||
          (o = (function _unsupportedIterableToArray(i, a) {
            if (!i) return;
            if ('string' == typeof i) return _arrayLikeToArray(i, a);
            var o = Object.prototype.toString.call(i).slice(8, -1);
            'Object' === o && i.constructor && (o = i.constructor.name);
            if ('Map' === o || 'Set' === o) return Array.from(i);
            if (
              'Arguments' === o ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)
            )
              return _arrayLikeToArray(i, a);
          })(i)) ||
          (a && i && 'number' == typeof i.length)
        ) {
          o && (i = o);
          var p = 0,
            m = function F() {};
          return {
            s: m,
            n: function n() {
              return p >= i.length ? { done: !0 } : { done: !1, value: i[p++] };
            },
            e: function e(i) {
              throw i;
            },
            f: m,
          };
        }
        throw new TypeError(
          'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      }
      var _,
        w = !0,
        x = !1;
      return {
        s: function s() {
          o = i[Symbol.iterator]();
        },
        n: function n() {
          var i = o.next();
          return (w = i.done), i;
        },
        e: function e(i) {
          (x = !0), (_ = i);
        },
        f: function f() {
          try {
            w || null == o['return'] || o['return']();
          } finally {
            if (x) throw _;
          }
        },
      };
    }
    function _arrayLikeToArray(i, a) {
      (null == a || a > i.length) && (a = i.length);
      for (var o = 0, p = new Array(a); o < a; o++) p[o] = i[o];
      return p;
    }
    var I = (function () {
      function MultiMap() {
        (0, w['default'])(this, MultiMap), (this.map_ = {});
      }
      return (
        (0, x['default'])(MultiMap, [
          {
            key: 'push',
            value: function push(i, a) {
              Object.prototype.hasOwnProperty.call(this.map_, i)
                ? this.map_[i].push(a)
                : (this.map_[i] = [a]);
            },
          },
          {
            key: 'get',
            value: function get(i) {
              var a = this.map_[i];
              return a ? a.slice() : null;
            },
          },
          {
            key: 'getAll',
            value: function getAll() {
              for (
                var i = [], a = 0, o = Object.entries(this.map_);
                a < o.length;
                a++
              ) {
                var p = (0, _['default'])(o[a], 2)[1];
                i.push.apply(i, (0, m['default'])(p));
              }
              return i;
            },
          },
          {
            key: 'remove',
            value: function remove(i, a) {
              var o = this.map_[i];
              if (o)
                for (var p = 0; p < o.length; p += 1)
                  o[p] === a && (o.splice(p, 1), (p -= 1));
            },
          },
          {
            key: 'clear',
            value: function clear() {
              this.map_ = {};
            },
          },
          {
            key: 'forEach',
            value: function forEach(i) {
              var a,
                o = _createForOfIteratorHelper(Object.enttries(this.map_));
              try {
                for (o.s(); !(a = o.n()).done; ) {
                  var p = (0, _['default'])(a.value, 2);
                  i(p[0], p[1]);
                }
              } catch (m) {
                o.e(m);
              } finally {
                o.f();
              }
            },
          },
        ]),
        MultiMap
      );
    })();
    a['default'] = I;
  },
  function (i, a, o) {
    var p = o(276),
      m = o(277),
      _ = o(213),
      w = o(278);
    i.exports = function _toConsumableArray(i) {
      return p(i) || m(i) || _(i) || w();
    };
  },
  function (i, a, o) {
    var p = o(212);
    i.exports = function _arrayWithoutHoles(i) {
      if (Array.isArray(i)) return p(i);
    };
  },
  function (i, a) {
    i.exports = function _iterableToArray(i) {
      if ('undefined' != typeof Symbol && Symbol.iterator in Object(i))
        return Array.from(i);
    };
  },
  function (i, a) {
    i.exports = function _nonIterableSpread() {
      throw new TypeError(
        'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    };
  },
  function (i, a) {
    i.exports = function _arrayWithHoles(i) {
      if (Array.isArray(i)) return i;
    };
  },
  function (i, a) {
    i.exports = function _iterableToArrayLimit(i, a) {
      if ('undefined' != typeof Symbol && Symbol.iterator in Object(i)) {
        var o = [],
          p = !0,
          m = !1,
          _ = undefined;
        try {
          for (
            var w, x = i[Symbol.iterator]();
            !(p = (w = x.next()).done) &&
            (o.push(w.value), !a || o.length !== a);
            p = !0
          );
        } catch (I) {
          (m = !0), (_ = I);
        } finally {
          try {
            p || null == x['return'] || x['return']();
          } finally {
            if (m) throw _;
          }
        }
        return o;
      }
    };
  },
  function (i, a) {
    i.exports = function _nonIterableRest() {
      throw new TypeError(
        'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(3),
      o(77),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function PublicPromise() {
          (0, m['default'])(this, PublicPromise);
        }
        return (
          (0, _['default'])(PublicPromise, null, [
            {
              key: 'new',
              value: function _new() {
                var i,
                  a,
                  o = new Promise(function (o, p) {
                    (i = o), (a = p);
                  });
                return (o.resolve = i), (o.reject = a), o;
              },
            },
          ]),
          PublicPromise
        );
      })();
    a['default'] = w;
  },
  function (i, a, o) {
    var p,
      m,
      _,
      w,
      x,
      I,
      D,
      j,
      K = o(2),
      q = o(61).f,
      $ = o(59),
      Z = o(215).set,
      be = o(216),
      Se = K.MutationObserver || K.WebKitMutationObserver,
      _e = K.process,
      we = K.Promise,
      xe = 'process' == $(_e),
      et = q(K, 'queueMicrotask'),
      tt = et && et.value;
    tt ||
      ((p = function () {
        var i, a;
        for (xe && (i = _e.domain) && i.exit(); m; ) {
          (a = m.fn), (m = m.next);
          try {
            a();
          } catch (o) {
            throw (m ? w() : (_ = undefined), o);
          }
        }
        (_ = undefined), i && i.enter();
      }),
      xe
        ? (w = function () {
            _e.nextTick(p);
          })
        : Se && !be
        ? ((x = !0),
          (I = document.createTextNode('')),
          new Se(p).observe(I, { characterData: !0 }),
          (w = function () {
            I.data = x = !x;
          }))
        : we && we.resolve
        ? ((D = we.resolve(undefined)),
          (j = D.then),
          (w = function () {
            j.call(D, p);
          }))
        : (w = function () {
            Z.call(K, p);
          })),
      (i.exports =
        tt ||
        function (i) {
          var a = { fn: i, next: undefined };
          _ && (_.next = a), m || ((m = a), w()), (_ = a);
        });
  },
  function (i, a, o) {
    var p = o(2);
    i.exports = function (i, a) {
      var o = p.console;
      o && o.error && (1 === arguments.length ? o.error(i) : o.error(i, a));
    };
  },
  function (i, a) {
    i.exports = function (i) {
      try {
        return { error: !1, value: i() };
      } catch (a) {
        return { error: !0, value: a };
      }
    };
  },
  function (i, a, o) {
    !(function (i) {
      'use strict';
      var a =
          ('undefined' != typeof globalThis && globalThis) ||
          ('undefined' != typeof self && self) ||
          (void 0 !== a && a),
        o = {
          searchParams: 'URLSearchParams' in a,
          iterable: 'Symbol' in a && 'iterator' in Symbol,
          blob:
            'FileReader' in a &&
            'Blob' in a &&
            (function () {
              try {
                return new Blob(), !0;
              } catch (i) {
                return !1;
              }
            })(),
          formData: 'FormData' in a,
          arrayBuffer: 'ArrayBuffer' in a,
        };
      function isDataView(i) {
        return i && DataView.prototype.isPrototypeOf(i);
      }
      if (o.arrayBuffer)
        var p = [
            '[object Int8Array]',
            '[object Uint8Array]',
            '[object Uint8ClampedArray]',
            '[object Int16Array]',
            '[object Uint16Array]',
            '[object Int32Array]',
            '[object Uint32Array]',
            '[object Float32Array]',
            '[object Float64Array]',
          ],
          m =
            ArrayBuffer.isView ||
            function (i) {
              return i && p.indexOf(Object.prototype.toString.call(i)) > -1;
            };
      function normalizeName(i) {
        if (
          ('string' != typeof i && (i = String(i)),
          /[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(i) || '' === i)
        )
          throw new TypeError('Invalid character in header field name');
        return i.toLowerCase();
      }
      function normalizeValue(i) {
        return 'string' != typeof i && (i = String(i)), i;
      }
      function iteratorFor(i) {
        var a = {
          next: function () {
            var a = i.shift();
            return { done: a === undefined, value: a };
          },
        };
        return (
          o.iterable &&
            (a[Symbol.iterator] = function () {
              return a;
            }),
          a
        );
      }
      function Headers(i) {
        (this.map = {}),
          i instanceof Headers
            ? i.forEach(function (i, a) {
                this.append(a, i);
              }, this)
            : Array.isArray(i)
            ? i.forEach(function (i) {
                this.append(i[0], i[1]);
              }, this)
            : i &&
              Object.getOwnPropertyNames(i).forEach(function (a) {
                this.append(a, i[a]);
              }, this);
      }
      function consumed(i) {
        if (i.bodyUsed) return Promise.reject(new TypeError('Already read'));
        i.bodyUsed = !0;
      }
      function fileReaderReady(i) {
        return new Promise(function (a, o) {
          (i.onload = function () {
            a(i.result);
          }),
            (i.onerror = function () {
              o(i.error);
            });
        });
      }
      function readBlobAsArrayBuffer(i) {
        var a = new FileReader(),
          o = fileReaderReady(a);
        return a.readAsArrayBuffer(i), o;
      }
      function readBlobAsText(i) {
        var a = new FileReader(),
          o = fileReaderReady(a);
        return a.readAsText(i), o;
      }
      function readArrayBufferAsText(i) {
        for (
          var a = new Uint8Array(i), o = new Array(a.length), p = 0;
          p < a.length;
          p++
        )
          o[p] = String.fromCharCode(a[p]);
        return o.join('');
      }
      function bufferClone(i) {
        if (i.slice) return i.slice(0);
        var a = new Uint8Array(i.byteLength);
        return a.set(new Uint8Array(i)), a.buffer;
      }
      function Body() {
        return (
          (this.bodyUsed = !1),
          (this._initBody = function (i) {
            (this.bodyUsed = this.bodyUsed),
              (this._bodyInit = i),
              i
                ? 'string' == typeof i
                  ? (this._bodyText = i)
                  : o.blob && Blob.prototype.isPrototypeOf(i)
                  ? (this._bodyBlob = i)
                  : o.formData && FormData.prototype.isPrototypeOf(i)
                  ? (this._bodyFormData = i)
                  : o.searchParams && URLSearchParams.prototype.isPrototypeOf(i)
                  ? (this._bodyText = i.toString())
                  : o.arrayBuffer && o.blob && isDataView(i)
                  ? ((this._bodyArrayBuffer = bufferClone(i.buffer)),
                    (this._bodyInit = new Blob([this._bodyArrayBuffer])))
                  : o.arrayBuffer &&
                    (ArrayBuffer.prototype.isPrototypeOf(i) || m(i))
                  ? (this._bodyArrayBuffer = bufferClone(i))
                  : (this._bodyText = i = Object.prototype.toString.call(i))
                : (this._bodyText = ''),
              this.headers.get('content-type') ||
                ('string' == typeof i
                  ? this.headers.set('content-type', 'text/plain;charset=UTF-8')
                  : this._bodyBlob && this._bodyBlob.type
                  ? this.headers.set('content-type', this._bodyBlob.type)
                  : o.searchParams &&
                    URLSearchParams.prototype.isPrototypeOf(i) &&
                    this.headers.set(
                      'content-type',
                      'application/x-www-form-urlencoded;charset=UTF-8'
                    ));
          }),
          o.blob &&
            ((this.blob = function () {
              var i = consumed(this);
              if (i) return i;
              if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
              if (this._bodyArrayBuffer)
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              if (this._bodyFormData)
                throw new Error('could not read FormData body as blob');
              return Promise.resolve(new Blob([this._bodyText]));
            }),
            (this.arrayBuffer = function () {
              if (this._bodyArrayBuffer) {
                var i = consumed(this);
                return (
                  i ||
                  (ArrayBuffer.isView(this._bodyArrayBuffer)
                    ? Promise.resolve(
                        this._bodyArrayBuffer.buffer.slice(
                          this._bodyArrayBuffer.byteOffset,
                          this._bodyArrayBuffer.byteOffset +
                            this._bodyArrayBuffer.byteLength
                        )
                      )
                    : Promise.resolve(this._bodyArrayBuffer))
                );
              }
              return this.blob().then(readBlobAsArrayBuffer);
            })),
          (this.text = function () {
            var i = consumed(this);
            if (i) return i;
            if (this._bodyBlob) return readBlobAsText(this._bodyBlob);
            if (this._bodyArrayBuffer)
              return Promise.resolve(
                readArrayBufferAsText(this._bodyArrayBuffer)
              );
            if (this._bodyFormData)
              throw new Error('could not read FormData body as text');
            return Promise.resolve(this._bodyText);
          }),
          o.formData &&
            (this.formData = function () {
              return this.text().then(decode);
            }),
          (this.json = function () {
            return this.text().then(JSON.parse);
          }),
          this
        );
      }
      (Headers.prototype.append = function (i, a) {
        (i = normalizeName(i)), (a = normalizeValue(a));
        var o = this.map[i];
        this.map[i] = o ? o + ', ' + a : a;
      }),
        (Headers.prototype['delete'] = function (i) {
          delete this.map[normalizeName(i)];
        }),
        (Headers.prototype.get = function (i) {
          return (i = normalizeName(i)), this.has(i) ? this.map[i] : null;
        }),
        (Headers.prototype.has = function (i) {
          return this.map.hasOwnProperty(normalizeName(i));
        }),
        (Headers.prototype.set = function (i, a) {
          this.map[normalizeName(i)] = normalizeValue(a);
        }),
        (Headers.prototype.forEach = function (i, a) {
          for (var o in this.map)
            this.map.hasOwnProperty(o) && i.call(a, this.map[o], o, this);
        }),
        (Headers.prototype.keys = function () {
          var i = [];
          return (
            this.forEach(function (a, o) {
              i.push(o);
            }),
            iteratorFor(i)
          );
        }),
        (Headers.prototype.values = function () {
          var i = [];
          return (
            this.forEach(function (a) {
              i.push(a);
            }),
            iteratorFor(i)
          );
        }),
        (Headers.prototype.entries = function () {
          var i = [];
          return (
            this.forEach(function (a, o) {
              i.push([o, a]);
            }),
            iteratorFor(i)
          );
        }),
        o.iterable &&
          (Headers.prototype[Symbol.iterator] = Headers.prototype.entries);
      var _ = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];
      function normalizeMethod(i) {
        var a = i.toUpperCase();
        return _.indexOf(a) > -1 ? a : i;
      }
      function Request(i, a) {
        if (!(this instanceof Request))
          throw new TypeError(
            'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
          );
        var o = (a = a || {}).body;
        if (i instanceof Request) {
          if (i.bodyUsed) throw new TypeError('Already read');
          (this.url = i.url),
            (this.credentials = i.credentials),
            a.headers || (this.headers = new Headers(i.headers)),
            (this.method = i.method),
            (this.mode = i.mode),
            (this.signal = i.signal),
            o || null == i._bodyInit || ((o = i._bodyInit), (i.bodyUsed = !0));
        } else this.url = String(i);
        if (
          ((this.credentials =
            a.credentials || this.credentials || 'same-origin'),
          (!a.headers && this.headers) ||
            (this.headers = new Headers(a.headers)),
          (this.method = normalizeMethod(a.method || this.method || 'GET')),
          (this.mode = a.mode || this.mode || null),
          (this.signal = a.signal || this.signal),
          (this.referrer = null),
          ('GET' === this.method || 'HEAD' === this.method) && o)
        )
          throw new TypeError('Body not allowed for GET or HEAD requests');
        if (
          (this._initBody(o),
          !(
            ('GET' !== this.method && 'HEAD' !== this.method) ||
            ('no-store' !== a.cache && 'no-cache' !== a.cache)
          ))
        ) {
          var p = /([?&])_=[^&]*/;
          if (p.test(this.url))
            this.url = this.url.replace(p, '$1_=' + new Date().getTime());
          else {
            var m = /\?/;
            this.url +=
              (m.test(this.url) ? '&' : '?') + '_=' + new Date().getTime();
          }
        }
      }
      function decode(i) {
        var a = new FormData();
        return (
          i
            .trim()
            .split('&')
            .forEach(function (i) {
              if (i) {
                var o = i.split('='),
                  p = o.shift().replace(/\+/g, ' '),
                  m = o.join('=').replace(/\+/g, ' ');
                a.append(decodeURIComponent(p), decodeURIComponent(m));
              }
            }),
          a
        );
      }
      function parseHeaders(i) {
        var a = new Headers();
        return (
          i
            .replace(/\r?\n[\t ]+/g, ' ')
            .split(/\r?\n/)
            .forEach(function (i) {
              var o = i.split(':'),
                p = o.shift().trim();
              if (p) {
                var m = o.join(':').trim();
                a.append(p, m);
              }
            }),
          a
        );
      }
      function Response(i, a) {
        if (!(this instanceof Response))
          throw new TypeError(
            'Please use the "new" operator, this DOM object constructor cannot be called as a function.'
          );
        a || (a = {}),
          (this.type = 'default'),
          (this.status = a.status === undefined ? 200 : a.status),
          (this.ok = this.status >= 200 && this.status < 300),
          (this.statusText = 'statusText' in a ? a.statusText : ''),
          (this.headers = new Headers(a.headers)),
          (this.url = a.url || ''),
          this._initBody(i);
      }
      (Request.prototype.clone = function () {
        return new Request(this, { body: this._bodyInit });
      }),
        Body.call(Request.prototype),
        Body.call(Response.prototype),
        (Response.prototype.clone = function () {
          return new Response(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers(this.headers),
            url: this.url,
          });
        }),
        (Response.error = function () {
          var i = new Response(null, { status: 0, statusText: '' });
          return (i.type = 'error'), i;
        });
      var w = [301, 302, 303, 307, 308];
      (Response.redirect = function (i, a) {
        if (-1 === w.indexOf(a)) throw new RangeError('Invalid status code');
        return new Response(null, { status: a, headers: { location: i } });
      }),
        (i.DOMException = a.DOMException);
      try {
        new i.DOMException();
      } catch (x) {
        (i.DOMException = function (i, a) {
          (this.message = i), (this.name = a);
          var o = Error(i);
          this.stack = o.stack;
        }),
          (i.DOMException.prototype = Object.create(Error.prototype)),
          (i.DOMException.prototype.constructor = i.DOMException);
      }
      function fetch(p, m) {
        return new Promise(function (_, w) {
          var x = new Request(p, m);
          if (x.signal && x.signal.aborted)
            return w(new i.DOMException('Aborted', 'AbortError'));
          var I = new XMLHttpRequest();
          function abortXhr() {
            I.abort();
          }
          function fixUrl(i) {
            try {
              return '' === i && a.location.href ? a.location.href : i;
            } catch (o) {
              return i;
            }
          }
          (I.onload = function () {
            var i = {
              status: I.status,
              statusText: I.statusText,
              headers: parseHeaders(I.getAllResponseHeaders() || ''),
            };
            i.url =
              'responseURL' in I
                ? I.responseURL
                : i.headers.get('X-Request-URL');
            var a = 'response' in I ? I.response : I.responseText;
            setTimeout(function () {
              _(new Response(a, i));
            }, 0);
          }),
            (I.onerror = function () {
              setTimeout(function () {
                w(new TypeError('Network request failed'));
              }, 0);
            }),
            (I.ontimeout = function () {
              setTimeout(function () {
                w(new TypeError('Network request failed'));
              }, 0);
            }),
            (I.onabort = function () {
              setTimeout(function () {
                w(new i.DOMException('Aborted', 'AbortError'));
              }, 0);
            }),
            I.open(x.method, fixUrl(x.url), !0),
            'include' === x.credentials
              ? (I.withCredentials = !0)
              : 'omit' === x.credentials && (I.withCredentials = !1),
            'responseType' in I &&
              (o.blob
                ? (I.responseType = 'blob')
                : o.arrayBuffer &&
                  x.headers.get('Content-Type') &&
                  -1 !==
                    x.headers
                      .get('Content-Type')
                      .indexOf('application/octet-stream') &&
                  (I.responseType = 'arraybuffer')),
            !m || 'object' != typeof m.headers || m.headers instanceof Headers
              ? x.headers.forEach(function (i, a) {
                  I.setRequestHeader(a, i);
                })
              : Object.getOwnPropertyNames(m.headers).forEach(function (i) {
                  I.setRequestHeader(i, normalizeValue(m.headers[i]));
                }),
            x.signal &&
              (x.signal.addEventListener('abort', abortXhr),
              (I.onreadystatechange = function () {
                4 === I.readyState &&
                  x.signal.removeEventListener('abort', abortXhr);
              })),
            I.send('undefined' == typeof x._bodyInit ? null : x._bodyInit);
        });
      }
      (fetch.polyfill = !0),
        a.fetch ||
          ((a.fetch = fetch),
          (a.Headers = Headers),
          (a.Request = Request),
          (a.Response = Response)),
        (i.Headers = Headers),
        (i.Request = Request),
        (i.Response = Response),
        (i.fetch = fetch),
        Object.defineProperty(i, '__esModule', { value: !0 });
    })(a),
      (i.exports = self.fetch);
  },
  function (i, a, o) {
    var p, m;
    !(function (_, w, x) {
      'use strict';
      'undefined' != typeof window && o(288)
        ? (m = 'function' == typeof (p = x) ? p.call(a, o, a, i) : p) ===
            undefined || (i.exports = m)
        : i.exports
        ? (i.exports = x())
        : w.exports
        ? (w.exports = x())
        : (w.Fingerprint2 = x());
    })(0, this, function () {
      'use strict';
      'undefined' == typeof Array.isArray &&
        (Array.isArray = function (i) {
          return '[object Array]' === Object.prototype.toString.call(i);
        });
      var x64Add = function (i, a) {
          (i = [i[0] >>> 16, 65535 & i[0], i[1] >>> 16, 65535 & i[1]]),
            (a = [a[0] >>> 16, 65535 & a[0], a[1] >>> 16, 65535 & a[1]]);
          var o = [0, 0, 0, 0];
          return (
            (o[3] += i[3] + a[3]),
            (o[2] += o[3] >>> 16),
            (o[3] &= 65535),
            (o[2] += i[2] + a[2]),
            (o[1] += o[2] >>> 16),
            (o[2] &= 65535),
            (o[1] += i[1] + a[1]),
            (o[0] += o[1] >>> 16),
            (o[1] &= 65535),
            (o[0] += i[0] + a[0]),
            (o[0] &= 65535),
            [(o[0] << 16) | o[1], (o[2] << 16) | o[3]]
          );
        },
        x64Multiply = function (i, a) {
          (i = [i[0] >>> 16, 65535 & i[0], i[1] >>> 16, 65535 & i[1]]),
            (a = [a[0] >>> 16, 65535 & a[0], a[1] >>> 16, 65535 & a[1]]);
          var o = [0, 0, 0, 0];
          return (
            (o[3] += i[3] * a[3]),
            (o[2] += o[3] >>> 16),
            (o[3] &= 65535),
            (o[2] += i[2] * a[3]),
            (o[1] += o[2] >>> 16),
            (o[2] &= 65535),
            (o[2] += i[3] * a[2]),
            (o[1] += o[2] >>> 16),
            (o[2] &= 65535),
            (o[1] += i[1] * a[3]),
            (o[0] += o[1] >>> 16),
            (o[1] &= 65535),
            (o[1] += i[2] * a[2]),
            (o[0] += o[1] >>> 16),
            (o[1] &= 65535),
            (o[1] += i[3] * a[1]),
            (o[0] += o[1] >>> 16),
            (o[1] &= 65535),
            (o[0] += i[0] * a[3] + i[1] * a[2] + i[2] * a[1] + i[3] * a[0]),
            (o[0] &= 65535),
            [(o[0] << 16) | o[1], (o[2] << 16) | o[3]]
          );
        },
        x64Rotl = function (i, a) {
          return 32 === (a %= 64)
            ? [i[1], i[0]]
            : a < 32
            ? [
                (i[0] << a) | (i[1] >>> (32 - a)),
                (i[1] << a) | (i[0] >>> (32 - a)),
              ]
            : ((a -= 32),
              [
                (i[1] << a) | (i[0] >>> (32 - a)),
                (i[0] << a) | (i[1] >>> (32 - a)),
              ]);
        },
        x64LeftShift = function (i, a) {
          return 0 === (a %= 64)
            ? i
            : a < 32
            ? [(i[0] << a) | (i[1] >>> (32 - a)), i[1] << a]
            : [i[1] << (a - 32), 0];
        },
        x64Xor = function (i, a) {
          return [i[0] ^ a[0], i[1] ^ a[1]];
        },
        x64Fmix = function (i) {
          return (
            (i = x64Xor(i, [0, i[0] >>> 1])),
            (i = x64Multiply(i, [4283543511, 3981806797])),
            (i = x64Xor(i, [0, i[0] >>> 1])),
            (i = x64Multiply(i, [3301882366, 444984403])),
            (i = x64Xor(i, [0, i[0] >>> 1]))
          );
        },
        x64hash128 = function (i, a) {
          a = a || 0;
          for (
            var o = (i = i || '').length % 16,
              p = i.length - o,
              m = [0, a],
              _ = [0, a],
              w = [0, 0],
              x = [0, 0],
              I = [2277735313, 289559509],
              D = [1291169091, 658871167],
              j = 0;
            j < p;
            j += 16
          )
            (w = [
              (255 & i.charCodeAt(j + 4)) |
                ((255 & i.charCodeAt(j + 5)) << 8) |
                ((255 & i.charCodeAt(j + 6)) << 16) |
                ((255 & i.charCodeAt(j + 7)) << 24),
              (255 & i.charCodeAt(j)) |
                ((255 & i.charCodeAt(j + 1)) << 8) |
                ((255 & i.charCodeAt(j + 2)) << 16) |
                ((255 & i.charCodeAt(j + 3)) << 24),
            ]),
              (x = [
                (255 & i.charCodeAt(j + 12)) |
                  ((255 & i.charCodeAt(j + 13)) << 8) |
                  ((255 & i.charCodeAt(j + 14)) << 16) |
                  ((255 & i.charCodeAt(j + 15)) << 24),
                (255 & i.charCodeAt(j + 8)) |
                  ((255 & i.charCodeAt(j + 9)) << 8) |
                  ((255 & i.charCodeAt(j + 10)) << 16) |
                  ((255 & i.charCodeAt(j + 11)) << 24),
              ]),
              (w = x64Multiply(w, I)),
              (w = x64Rotl(w, 31)),
              (w = x64Multiply(w, D)),
              (m = x64Xor(m, w)),
              (m = x64Rotl(m, 27)),
              (m = x64Add(m, _)),
              (m = x64Add(x64Multiply(m, [0, 5]), [0, 1390208809])),
              (x = x64Multiply(x, D)),
              (x = x64Rotl(x, 33)),
              (x = x64Multiply(x, I)),
              (_ = x64Xor(_, x)),
              (_ = x64Rotl(_, 31)),
              (_ = x64Add(_, m)),
              (_ = x64Add(x64Multiply(_, [0, 5]), [0, 944331445]));
          switch (((w = [0, 0]), (x = [0, 0]), o)) {
            case 15:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 14)], 48));
            case 14:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 13)], 40));
            case 13:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 12)], 32));
            case 12:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 11)], 24));
            case 11:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 10)], 16));
            case 10:
              x = x64Xor(x, x64LeftShift([0, i.charCodeAt(j + 9)], 8));
            case 9:
              (x = x64Xor(x, [0, i.charCodeAt(j + 8)])),
                (x = x64Multiply(x, D)),
                (x = x64Rotl(x, 33)),
                (x = x64Multiply(x, I)),
                (_ = x64Xor(_, x));
            case 8:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 7)], 56));
            case 7:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 6)], 48));
            case 6:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 5)], 40));
            case 5:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 4)], 32));
            case 4:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 3)], 24));
            case 3:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 2)], 16));
            case 2:
              w = x64Xor(w, x64LeftShift([0, i.charCodeAt(j + 1)], 8));
            case 1:
              (w = x64Xor(w, [0, i.charCodeAt(j)])),
                (w = x64Multiply(w, I)),
                (w = x64Rotl(w, 31)),
                (w = x64Multiply(w, D)),
                (m = x64Xor(m, w));
          }
          return (
            (m = x64Xor(m, [0, i.length])),
            (_ = x64Xor(_, [0, i.length])),
            (m = x64Add(m, _)),
            (_ = x64Add(_, m)),
            (m = x64Fmix(m)),
            (_ = x64Fmix(_)),
            (m = x64Add(m, _)),
            (_ = x64Add(_, m)),
            ('00000000' + (m[0] >>> 0).toString(16)).slice(-8) +
              ('00000000' + (m[1] >>> 0).toString(16)).slice(-8) +
              ('00000000' + (_[0] >>> 0).toString(16)).slice(-8) +
              ('00000000' + (_[1] >>> 0).toString(16)).slice(-8)
          );
        },
        i = {
          preprocessor: null,
          audio: { timeout: 1e3, excludeIOS11: !0 },
          fonts: {
            swfContainerId: 'fingerprintjs2',
            swfPath: 'flash/compiled/FontList.swf',
            userDefinedFonts: [],
            extendedJsFonts: !1,
          },
          screen: { detectScreenOrientation: !0 },
          plugins: { sortPluginsFor: [/palemoon/i], excludeIE: !1 },
          extraComponents: [],
          excludes: {
            enumerateDevices: !0,
            pixelRatio: !0,
            doNotTrack: !0,
            fontsFlash: !0,
          },
          NOT_AVAILABLE: 'not available',
          ERROR: 'error',
          EXCLUDED: 'excluded',
        },
        each = function (i, a) {
          if (Array.prototype.forEach && i.forEach === Array.prototype.forEach)
            i.forEach(a);
          else if (i.length === +i.length)
            for (var o = 0, p = i.length; o < p; o++) a(i[o], o, i);
          else for (var m in i) i.hasOwnProperty(m) && a(i[m], m, i);
        },
        map = function (i, a) {
          var o = [];
          return null == i
            ? o
            : Array.prototype.map && i.map === Array.prototype.map
            ? i.map(a)
            : (each(i, function (i, p, m) {
                o.push(a(i, p, m));
              }),
              o);
        },
        isEnumerateDevicesSupported = function () {
          return (
            navigator.mediaDevices && navigator.mediaDevices.enumerateDevices
          );
        },
        getScreenResolution = function (i) {
          var a = [window.screen.width, window.screen.height];
          return i.screen.detectScreenOrientation && a.sort().reverse(), a;
        },
        getAvailableScreenResolution = function (i) {
          if (window.screen.availWidth && window.screen.availHeight) {
            var a = [window.screen.availHeight, window.screen.availWidth];
            return i.screen.detectScreenOrientation && a.sort().reverse(), a;
          }
          return i.NOT_AVAILABLE;
        },
        getRegularPlugins = function (i) {
          if (null == navigator.plugins) return i.NOT_AVAILABLE;
          for (var a = [], o = 0, p = navigator.plugins.length; o < p; o++)
            navigator.plugins[o] && a.push(navigator.plugins[o]);
          return (
            pluginsShouldBeSorted(i) &&
              (a = a.sort(function (i, a) {
                return i.name > a.name ? 1 : i.name < a.name ? -1 : 0;
              })),
            map(a, function (i) {
              var a = map(i, function (i) {
                return [i.type, i.suffixes];
              });
              return [i.name, i.description, a];
            })
          );
        },
        getIEPlugins = function (i) {
          var a = [];
          if (
            (Object.getOwnPropertyDescriptor &&
              Object.getOwnPropertyDescriptor(window, 'ActiveXObject')) ||
            'ActiveXObject' in window
          ) {
            a = map(
              [
                'AcroPDF.PDF',
                'Adodb.Stream',
                'AgControl.AgControl',
                'DevalVRXCtrl.DevalVRXCtrl.1',
                'MacromediaFlashPaper.MacromediaFlashPaper',
                'Msxml2.DOMDocument',
                'Msxml2.XMLHTTP',
                'PDF.PdfCtrl',
                'QuickTime.QuickTime',
                'QuickTimeCheckObject.QuickTimeCheck.1',
                'RealPlayer',
                'RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)',
                'RealVideo.RealVideo(tm) ActiveX Control (32-bit)',
                'Scripting.Dictionary',
                'SWCtl.SWCtl',
                'Shell.UIHelper',
                'ShockwaveFlash.ShockwaveFlash',
                'Skype.Detection',
                'TDCCtl.TDCCtl',
                'WMPlayer.OCX',
                'rmocx.RealPlayer G2 Control',
                'rmocx.RealPlayer G2 Control.1',
              ],
              function (a) {
                try {
                  return new window.ActiveXObject(a), a;
                } catch (o) {
                  return i.ERROR;
                }
              }
            );
          } else a.push(i.NOT_AVAILABLE);
          return navigator.plugins && (a = a.concat(getRegularPlugins(i))), a;
        },
        pluginsShouldBeSorted = function (i) {
          for (
            var a = !1, o = 0, p = i.plugins.sortPluginsFor.length;
            o < p;
            o++
          ) {
            var m = i.plugins.sortPluginsFor[o];
            if (navigator.userAgent.match(m)) {
              a = !0;
              break;
            }
          }
          return a;
        },
        hasSessionStorage = function (i) {
          try {
            return !!window.sessionStorage;
          } catch (a) {
            return i.ERROR;
          }
        },
        hasLocalStorage = function (i) {
          try {
            return !!window.localStorage;
          } catch (a) {
            return i.ERROR;
          }
        },
        hasIndexedDB = function (i) {
          try {
            return !!window.indexedDB;
          } catch (a) {
            return i.ERROR;
          }
        },
        getHardwareConcurrency = function (i) {
          return navigator.hardwareConcurrency
            ? navigator.hardwareConcurrency
            : i.NOT_AVAILABLE;
        },
        getNavigatorCpuClass = function (i) {
          return navigator.cpuClass || i.NOT_AVAILABLE;
        },
        getNavigatorPlatform = function (i) {
          return navigator.platform ? navigator.platform : i.NOT_AVAILABLE;
        },
        getDoNotTrack = function (i) {
          return navigator.doNotTrack
            ? navigator.doNotTrack
            : navigator.msDoNotTrack
            ? navigator.msDoNotTrack
            : window.doNotTrack
            ? window.doNotTrack
            : i.NOT_AVAILABLE;
        },
        getTouchSupport = function () {
          var i,
            a = 0;
          'undefined' != typeof navigator.maxTouchPoints
            ? (a = navigator.maxTouchPoints)
            : 'undefined' != typeof navigator.msMaxTouchPoints &&
              (a = navigator.msMaxTouchPoints);
          try {
            document.createEvent('TouchEvent'), (i = !0);
          } catch (o) {
            i = !1;
          }
          return [a, i, 'ontouchstart' in window];
        },
        getCanvasFp = function (i) {
          var a = [],
            o = document.createElement('canvas');
          (o.width = 2e3), (o.height = 200), (o.style.display = 'inline');
          var p = o.getContext('2d');
          return (
            p.rect(0, 0, 10, 10),
            p.rect(2, 2, 6, 6),
            a.push(
              'canvas winding:' +
                (!1 === p.isPointInPath(5, 5, 'evenodd') ? 'yes' : 'no')
            ),
            (p.textBaseline = 'alphabetic'),
            (p.fillStyle = '#f60'),
            p.fillRect(125, 1, 62, 20),
            (p.fillStyle = '#069'),
            i.dontUseFakeFontInCanvas
              ? (p.font = '11pt Arial')
              : (p.font = '11pt no-real-font-123'),
            p.fillText('Cwm fjordbank glyphs vext quiz, ', 2, 15),
            (p.fillStyle = 'rgba(102, 204, 0, 0.2)'),
            (p.font = '18pt Arial'),
            p.fillText('Cwm fjordbank glyphs vext quiz, ', 4, 45),
            (p.globalCompositeOperation = 'multiply'),
            (p.fillStyle = 'rgb(255,0,255)'),
            p.beginPath(),
            p.arc(50, 50, 50, 0, 2 * Math.PI, !0),
            p.closePath(),
            p.fill(),
            (p.fillStyle = 'rgb(0,255,255)'),
            p.beginPath(),
            p.arc(100, 50, 50, 0, 2 * Math.PI, !0),
            p.closePath(),
            p.fill(),
            (p.fillStyle = 'rgb(255,255,0)'),
            p.beginPath(),
            p.arc(75, 100, 50, 0, 2 * Math.PI, !0),
            p.closePath(),
            p.fill(),
            (p.fillStyle = 'rgb(255,0,255)'),
            p.arc(75, 75, 75, 0, 2 * Math.PI, !0),
            p.arc(75, 75, 25, 0, 2 * Math.PI, !0),
            p.fill('evenodd'),
            o.toDataURL && a.push('canvas fp:' + o.toDataURL()),
            a
          );
        },
        getWebglFp = function () {
          var i,
            fa2s = function (a) {
              return (
                i.clearColor(0, 0, 0, 1),
                i.enable(i.DEPTH_TEST),
                i.depthFunc(i.LEQUAL),
                i.clear(i.COLOR_BUFFER_BIT | i.DEPTH_BUFFER_BIT),
                '[' + a[0] + ', ' + a[1] + ']'
              );
            };
          if (!(i = getWebglCanvas())) return null;
          var a = [],
            o = i.createBuffer();
          i.bindBuffer(i.ARRAY_BUFFER, o);
          var p = new Float32Array([
            -0.2, -0.9, 0, 0.4, -0.26, 0, 0, 0.732134444, 0,
          ]);
          i.bufferData(i.ARRAY_BUFFER, p, i.STATIC_DRAW),
            (o.itemSize = 3),
            (o.numItems = 3);
          var m = i.createProgram(),
            _ = i.createShader(i.VERTEX_SHADER);
          i.shaderSource(
            _,
            'attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}'
          ),
            i.compileShader(_);
          var w = i.createShader(i.FRAGMENT_SHADER);
          i.shaderSource(
            w,
            'precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}'
          ),
            i.compileShader(w),
            i.attachShader(m, _),
            i.attachShader(m, w),
            i.linkProgram(m),
            i.useProgram(m),
            (m.vertexPosAttrib = i.getAttribLocation(m, 'attrVertex')),
            (m.offsetUniform = i.getUniformLocation(m, 'uniformOffset')),
            i.enableVertexAttribArray(m.vertexPosArray),
            i.vertexAttribPointer(
              m.vertexPosAttrib,
              o.itemSize,
              i.FLOAT,
              !1,
              0,
              0
            ),
            i.uniform2f(m.offsetUniform, 1, 1),
            i.drawArrays(i.TRIANGLE_STRIP, 0, o.numItems);
          try {
            a.push(i.canvas.toDataURL());
          } catch (I) {}
          a.push('extensions:' + (i.getSupportedExtensions() || []).join(';')),
            a.push(
              'webgl aliased line width range:' +
                fa2s(i.getParameter(i.ALIASED_LINE_WIDTH_RANGE))
            ),
            a.push(
              'webgl aliased point size range:' +
                fa2s(i.getParameter(i.ALIASED_POINT_SIZE_RANGE))
            ),
            a.push('webgl alpha bits:' + i.getParameter(i.ALPHA_BITS)),
            a.push(
              'webgl antialiasing:' +
                (i.getContextAttributes().antialias ? 'yes' : 'no')
            ),
            a.push('webgl blue bits:' + i.getParameter(i.BLUE_BITS)),
            a.push('webgl depth bits:' + i.getParameter(i.DEPTH_BITS)),
            a.push('webgl green bits:' + i.getParameter(i.GREEN_BITS)),
            a.push(
              'webgl max anisotropy:' +
                (function (i) {
                  var a =
                    i.getExtension('EXT_texture_filter_anisotropic') ||
                    i.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||
                    i.getExtension('MOZ_EXT_texture_filter_anisotropic');
                  if (a) {
                    var o = i.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                    return 0 === o && (o = 2), o;
                  }
                  return null;
                })(i)
            ),
            a.push(
              'webgl max combined texture image units:' +
                i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS)
            ),
            a.push(
              'webgl max cube map texture size:' +
                i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE)
            ),
            a.push(
              'webgl max fragment uniform vectors:' +
                i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS)
            ),
            a.push(
              'webgl max render buffer size:' +
                i.getParameter(i.MAX_RENDERBUFFER_SIZE)
            ),
            a.push(
              'webgl max texture image units:' +
                i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)
            ),
            a.push(
              'webgl max texture size:' + i.getParameter(i.MAX_TEXTURE_SIZE)
            ),
            a.push(
              'webgl max varying vectors:' +
                i.getParameter(i.MAX_VARYING_VECTORS)
            ),
            a.push(
              'webgl max vertex attribs:' + i.getParameter(i.MAX_VERTEX_ATTRIBS)
            ),
            a.push(
              'webgl max vertex texture image units:' +
                i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)
            ),
            a.push(
              'webgl max vertex uniform vectors:' +
                i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS)
            ),
            a.push(
              'webgl max viewport dims:' +
                fa2s(i.getParameter(i.MAX_VIEWPORT_DIMS))
            ),
            a.push('webgl red bits:' + i.getParameter(i.RED_BITS)),
            a.push('webgl renderer:' + i.getParameter(i.RENDERER)),
            a.push(
              'webgl shading language version:' +
                i.getParameter(i.SHADING_LANGUAGE_VERSION)
            ),
            a.push('webgl stencil bits:' + i.getParameter(i.STENCIL_BITS)),
            a.push('webgl vendor:' + i.getParameter(i.VENDOR)),
            a.push('webgl version:' + i.getParameter(i.VERSION));
          try {
            var x = i.getExtension('WEBGL_debug_renderer_info');
            x &&
              (a.push(
                'webgl unmasked vendor:' +
                  i.getParameter(x.UNMASKED_VENDOR_WEBGL)
              ),
              a.push(
                'webgl unmasked renderer:' +
                  i.getParameter(x.UNMASKED_RENDERER_WEBGL)
              ));
          } catch (I) {}
          return i.getShaderPrecisionFormat
            ? (each(['FLOAT', 'INT'], function (o) {
                each(['VERTEX', 'FRAGMENT'], function (p) {
                  each(['HIGH', 'MEDIUM', 'LOW'], function (m) {
                    each(['precision', 'rangeMin', 'rangeMax'], function (_) {
                      var w = i.getShaderPrecisionFormat(
                        i[p + '_SHADER'],
                        i[m + '_' + o]
                      )[_];
                      'precision' !== _ && (_ = 'precision ' + _);
                      var x = [
                        'webgl ',
                        p.toLowerCase(),
                        ' shader ',
                        m.toLowerCase(),
                        ' ',
                        o.toLowerCase(),
                        ' ',
                        _,
                        ':',
                        w,
                      ].join('');
                      a.push(x);
                    });
                  });
                });
              }),
              loseWebglContext(i),
              a)
            : (loseWebglContext(i), a);
        },
        getWebglVendorAndRenderer = function () {
          try {
            var i = getWebglCanvas(),
              a = i.getExtension('WEBGL_debug_renderer_info'),
              o =
                i.getParameter(a.UNMASKED_VENDOR_WEBGL) +
                '~' +
                i.getParameter(a.UNMASKED_RENDERER_WEBGL);
            return loseWebglContext(i), o;
          } catch (p) {
            return null;
          }
        },
        getAdBlock = function () {
          var i = document.createElement('div');
          (i.innerHTML = '&nbsp;'), (i.className = 'adsbox');
          var a = !1;
          try {
            document.body.appendChild(i),
              (a =
                0 ===
                document.getElementsByClassName('adsbox')[0].offsetHeight),
              document.body.removeChild(i);
          } catch (o) {
            a = !1;
          }
          return a;
        },
        getHasLiedLanguages = function () {
          if ('undefined' != typeof navigator.languages)
            try {
              if (
                navigator.languages[0].substr(0, 2) !==
                navigator.language.substr(0, 2)
              )
                return !0;
            } catch (i) {
              return !0;
            }
          return !1;
        },
        getHasLiedResolution = function () {
          return (
            window.screen.width < window.screen.availWidth ||
            window.screen.height < window.screen.availHeight
          );
        },
        getHasLiedOs = function () {
          var i,
            a = navigator.userAgent.toLowerCase(),
            o = navigator.oscpu,
            p = navigator.platform.toLowerCase();
          if (
            ((i =
              a.indexOf('windows phone') >= 0
                ? 'Windows Phone'
                : a.indexOf('windows') >= 0 ||
                  a.indexOf('win16') >= 0 ||
                  a.indexOf('win32') >= 0 ||
                  a.indexOf('win64') >= 0 ||
                  a.indexOf('win95') >= 0 ||
                  a.indexOf('win98') >= 0 ||
                  a.indexOf('winnt') >= 0 ||
                  a.indexOf('wow64') >= 0
                ? 'Windows'
                : a.indexOf('android') >= 0
                ? 'Android'
                : a.indexOf('linux') >= 0 ||
                  a.indexOf('cros') >= 0 ||
                  a.indexOf('x11') >= 0
                ? 'Linux'
                : a.indexOf('iphone') >= 0 ||
                  a.indexOf('ipad') >= 0 ||
                  a.indexOf('ipod') >= 0 ||
                  a.indexOf('crios') >= 0 ||
                  a.indexOf('fxios') >= 0
                ? 'iOS'
                : a.indexOf('macintosh') >= 0 || a.indexOf('mac_powerpc)') >= 0
                ? 'Mac'
                : 'Other'),
            ('ontouchstart' in window ||
              navigator.maxTouchPoints > 0 ||
              navigator.msMaxTouchPoints > 0) &&
              'Windows' !== i &&
              'Windows Phone' !== i &&
              'Android' !== i &&
              'iOS' !== i &&
              'Other' !== i &&
              -1 === a.indexOf('cros'))
          )
            return !0;
          if (void 0 !== o) {
            if (
              (o = o.toLowerCase()).indexOf('win') >= 0 &&
              'Windows' !== i &&
              'Windows Phone' !== i
            )
              return !0;
            if (o.indexOf('linux') >= 0 && 'Linux' !== i && 'Android' !== i)
              return !0;
            if (o.indexOf('mac') >= 0 && 'Mac' !== i && 'iOS' !== i) return !0;
            if (
              (-1 === o.indexOf('win') &&
                -1 === o.indexOf('linux') &&
                -1 === o.indexOf('mac')) !=
              ('Other' === i)
            )
              return !0;
          }
          return (
            (p.indexOf('win') >= 0 &&
              'Windows' !== i &&
              'Windows Phone' !== i) ||
            ((p.indexOf('linux') >= 0 ||
              p.indexOf('android') >= 0 ||
              p.indexOf('pike') >= 0) &&
              'Linux' !== i &&
              'Android' !== i) ||
            ((p.indexOf('mac') >= 0 ||
              p.indexOf('ipad') >= 0 ||
              p.indexOf('ipod') >= 0 ||
              p.indexOf('iphone') >= 0) &&
              'Mac' !== i &&
              'iOS' !== i) ||
            (!(p.indexOf('arm') >= 0 && 'Windows Phone' === i) &&
              !(p.indexOf('pike') >= 0 && a.indexOf('opera mini') >= 0) &&
              ((p.indexOf('win') < 0 &&
                p.indexOf('linux') < 0 &&
                p.indexOf('mac') < 0 &&
                p.indexOf('iphone') < 0 &&
                p.indexOf('ipad') < 0 &&
                p.indexOf('ipod') < 0) !==
                ('Other' === i) ||
                ('undefined' == typeof navigator.plugins &&
                  'Windows' !== i &&
                  'Windows Phone' !== i)))
          );
        },
        getHasLiedBrowser = function () {
          var i,
            a = navigator.userAgent.toLowerCase(),
            o = navigator.productSub;
          if (a.indexOf('edge/') >= 0 || a.indexOf('iemobile/') >= 0) return !1;
          if (a.indexOf('opera mini') >= 0) return !1;
          if (
            ('Chrome' ===
              (i =
                a.indexOf('firefox/') >= 0
                  ? 'Firefox'
                  : a.indexOf('opera/') >= 0 || a.indexOf(' opr/') >= 0
                  ? 'Opera'
                  : a.indexOf('chrome/') >= 0
                  ? 'Chrome'
                  : a.indexOf('safari/') >= 0
                  ? a.indexOf('android 1.') >= 0 ||
                    a.indexOf('android 2.') >= 0 ||
                    a.indexOf('android 3.') >= 0 ||
                    a.indexOf('android 4.') >= 0
                    ? 'AOSP'
                    : 'Safari'
                  : a.indexOf('trident/') >= 0
                  ? 'Internet Explorer'
                  : 'Other') ||
              'Safari' === i ||
              'Opera' === i) &&
            '20030107' !== o
          )
            return !0;
          var p,
            m = eval.toString().length;
          if (37 === m && 'Safari' !== i && 'Firefox' !== i && 'Other' !== i)
            return !0;
          if (39 === m && 'Internet Explorer' !== i && 'Other' !== i) return !0;
          if (
            33 === m &&
            'Chrome' !== i &&
            'AOSP' !== i &&
            'Opera' !== i &&
            'Other' !== i
          )
            return !0;
          try {
            throw 'a';
          } catch (_) {
            try {
              _.toSource(), (p = !0);
            } catch (w) {
              p = !1;
            }
          }
          return p && 'Firefox' !== i && 'Other' !== i;
        },
        isCanvasSupported = function () {
          var i = document.createElement('canvas');
          return !(!i.getContext || !i.getContext('2d'));
        },
        isWebGlSupported = function () {
          if (!isCanvasSupported()) return !1;
          var i = getWebglCanvas(),
            a = !!window.WebGLRenderingContext && !!i;
          return loseWebglContext(i), a;
        },
        isIE = function () {
          return (
            'Microsoft Internet Explorer' === navigator.appName ||
            !(
              'Netscape' !== navigator.appName ||
              !/Trident/.test(navigator.userAgent)
            )
          );
        },
        hasSwfObjectLoaded = function () {
          return 'undefined' != typeof window.swfobject;
        },
        hasMinFlashInstalled = function () {
          return window.swfobject.hasFlashPlayerVersion('9.0.0');
        },
        loadSwfAndDetectFonts = function (i, a) {
          var o = '___fp_swf_loaded';
          window[o] = function (a) {
            i(a);
          };
          var p = a.fonts.swfContainerId;
          !(function (i) {
            var a = document.createElement('div');
            a.setAttribute('id', i.fonts.swfContainerId),
              document.body.appendChild(a);
          })();
          var m = { onReady: o };
          window.swfobject.embedSWF(
            a.fonts.swfPath,
            p,
            '1',
            '1',
            '9.0.0',
            !1,
            m,
            { allowScriptAccess: 'always', menu: 'false' },
            {}
          );
        },
        getWebglCanvas = function () {
          var i = document.createElement('canvas'),
            a = null;
          try {
            a = i.getContext('webgl') || i.getContext('experimental-webgl');
          } catch (o) {}
          return a || (a = null), a;
        },
        loseWebglContext = function (i) {
          var a = i.getExtension('WEBGL_lose_context');
          null != a && a.loseContext();
        },
        a = [
          {
            key: 'userAgent',
            getData: function (i) {
              i(navigator.userAgent);
            },
          },
          {
            key: 'webdriver',
            getData: function (i, a) {
              i(
                null == navigator.webdriver
                  ? a.NOT_AVAILABLE
                  : navigator.webdriver
              );
            },
          },
          {
            key: 'language',
            getData: function (i, a) {
              i(
                navigator.language ||
                  navigator.userLanguage ||
                  navigator.browserLanguage ||
                  navigator.systemLanguage ||
                  a.NOT_AVAILABLE
              );
            },
          },
          {
            key: 'colorDepth',
            getData: function (i, a) {
              i(window.screen.colorDepth || a.NOT_AVAILABLE);
            },
          },
          {
            key: 'deviceMemory',
            getData: function (i, a) {
              i(navigator.deviceMemory || a.NOT_AVAILABLE);
            },
          },
          {
            key: 'pixelRatio',
            getData: function (i, a) {
              i(window.devicePixelRatio || a.NOT_AVAILABLE);
            },
          },
          {
            key: 'hardwareConcurrency',
            getData: function (i, a) {
              i(getHardwareConcurrency(a));
            },
          },
          {
            key: 'screenResolution',
            getData: function (i, a) {
              i(getScreenResolution(a));
            },
          },
          {
            key: 'availableScreenResolution',
            getData: function (i, a) {
              i(getAvailableScreenResolution(a));
            },
          },
          {
            key: 'timezoneOffset',
            getData: function (i) {
              i(new Date().getTimezoneOffset());
            },
          },
          {
            key: 'timezone',
            getData: function (i, a) {
              window.Intl && window.Intl.DateTimeFormat
                ? i(new window.Intl.DateTimeFormat().resolvedOptions().timeZone)
                : i(a.NOT_AVAILABLE);
            },
          },
          {
            key: 'sessionStorage',
            getData: function (i, a) {
              i(hasSessionStorage(a));
            },
          },
          {
            key: 'localStorage',
            getData: function (i, a) {
              i(hasLocalStorage(a));
            },
          },
          {
            key: 'indexedDb',
            getData: function (i, a) {
              i(hasIndexedDB(a));
            },
          },
          {
            key: 'addBehavior',
            getData: function (i) {
              i(!(!document.body || !document.body.addBehavior));
            },
          },
          {
            key: 'openDatabase',
            getData: function (i) {
              i(!!window.openDatabase);
            },
          },
          {
            key: 'cpuClass',
            getData: function (i, a) {
              i(getNavigatorCpuClass(a));
            },
          },
          {
            key: 'platform',
            getData: function (i, a) {
              i(getNavigatorPlatform(a));
            },
          },
          {
            key: 'doNotTrack',
            getData: function (i, a) {
              i(getDoNotTrack(a));
            },
          },
          {
            key: 'plugins',
            getData: function (i, a) {
              isIE()
                ? a.plugins.excludeIE
                  ? i(a.EXCLUDED)
                  : i(getIEPlugins(a))
                : i(getRegularPlugins(a));
            },
          },
          {
            key: 'canvas',
            getData: function (i, a) {
              isCanvasSupported() ? i(getCanvasFp(a)) : i(a.NOT_AVAILABLE);
            },
          },
          {
            key: 'webgl',
            getData: function (i, a) {
              isWebGlSupported() ? i(getWebglFp()) : i(a.NOT_AVAILABLE);
            },
          },
          {
            key: 'webglVendorAndRenderer',
            getData: function (i) {
              isWebGlSupported() ? i(getWebglVendorAndRenderer()) : i();
            },
          },
          {
            key: 'adBlock',
            getData: function (i) {
              i(getAdBlock());
            },
          },
          {
            key: 'hasLiedLanguages',
            getData: function (i) {
              i(getHasLiedLanguages());
            },
          },
          {
            key: 'hasLiedResolution',
            getData: function (i) {
              i(getHasLiedResolution());
            },
          },
          {
            key: 'hasLiedOs',
            getData: function (i) {
              i(getHasLiedOs());
            },
          },
          {
            key: 'hasLiedBrowser',
            getData: function (i) {
              i(getHasLiedBrowser());
            },
          },
          {
            key: 'touchSupport',
            getData: function (i) {
              i(getTouchSupport());
            },
          },
          {
            key: 'fonts',
            getData: function (i, a) {
              var o = ['monospace', 'sans-serif', 'serif'],
                p = [
                  'Andale Mono',
                  'Arial',
                  'Arial Black',
                  'Arial Hebrew',
                  'Arial MT',
                  'Arial Narrow',
                  'Arial Rounded MT Bold',
                  'Arial Unicode MS',
                  'Bitstream Vera Sans Mono',
                  'Book Antiqua',
                  'Bookman Old Style',
                  'Calibri',
                  'Cambria',
                  'Cambria Math',
                  'Century',
                  'Century Gothic',
                  'Century Schoolbook',
                  'Comic Sans',
                  'Comic Sans MS',
                  'Consolas',
                  'Courier',
                  'Courier New',
                  'Geneva',
                  'Georgia',
                  'Helvetica',
                  'Helvetica Neue',
                  'Impact',
                  'Lucida Bright',
                  'Lucida Calligraphy',
                  'Lucida Console',
                  'Lucida Fax',
                  'LUCIDA GRANDE',
                  'Lucida Handwriting',
                  'Lucida Sans',
                  'Lucida Sans Typewriter',
                  'Lucida Sans Unicode',
                  'Microsoft Sans Serif',
                  'Monaco',
                  'Monotype Corsiva',
                  'MS Gothic',
                  'MS Outlook',
                  'MS PGothic',
                  'MS Reference Sans Serif',
                  'MS Sans Serif',
                  'MS Serif',
                  'MYRIAD',
                  'MYRIAD PRO',
                  'Palatino',
                  'Palatino Linotype',
                  'Segoe Print',
                  'Segoe Script',
                  'Segoe UI',
                  'Segoe UI Light',
                  'Segoe UI Semibold',
                  'Segoe UI Symbol',
                  'Tahoma',
                  'Times',
                  'Times New Roman',
                  'Times New Roman PS',
                  'Trebuchet MS',
                  'Verdana',
                  'Wingdings',
                  'Wingdings 2',
                  'Wingdings 3',
                ];
              if (a.fonts.extendedJsFonts) {
                p = p.concat([
                  'Abadi MT Condensed Light',
                  'Academy Engraved LET',
                  'ADOBE CASLON PRO',
                  'Adobe Garamond',
                  'ADOBE GARAMOND PRO',
                  'Agency FB',
                  'Aharoni',
                  'Albertus Extra Bold',
                  'Albertus Medium',
                  'Algerian',
                  'Amazone BT',
                  'American Typewriter',
                  'American Typewriter Condensed',
                  'AmerType Md BT',
                  'Andalus',
                  'Angsana New',
                  'AngsanaUPC',
                  'Antique Olive',
                  'Aparajita',
                  'Apple Chancery',
                  'Apple Color Emoji',
                  'Apple SD Gothic Neo',
                  'Arabic Typesetting',
                  'ARCHER',
                  'ARNO PRO',
                  'Arrus BT',
                  'Aurora Cn BT',
                  'AvantGarde Bk BT',
                  'AvantGarde Md BT',
                  'AVENIR',
                  'Ayuthaya',
                  'Bandy',
                  'Bangla Sangam MN',
                  'Bank Gothic',
                  'BankGothic Md BT',
                  'Baskerville',
                  'Baskerville Old Face',
                  'Batang',
                  'BatangChe',
                  'Bauer Bodoni',
                  'Bauhaus 93',
                  'Bazooka',
                  'Bell MT',
                  'Bembo',
                  'Benguiat Bk BT',
                  'Berlin Sans FB',
                  'Berlin Sans FB Demi',
                  'Bernard MT Condensed',
                  'BernhardFashion BT',
                  'BernhardMod BT',
                  'Big Caslon',
                  'BinnerD',
                  'Blackadder ITC',
                  'BlairMdITC TT',
                  'Bodoni 72',
                  'Bodoni 72 Oldstyle',
                  'Bodoni 72 Smallcaps',
                  'Bodoni MT',
                  'Bodoni MT Black',
                  'Bodoni MT Condensed',
                  'Bodoni MT Poster Compressed',
                  'Bookshelf Symbol 7',
                  'Boulder',
                  'Bradley Hand',
                  'Bradley Hand ITC',
                  'Bremen Bd BT',
                  'Britannic Bold',
                  'Broadway',
                  'Browallia New',
                  'BrowalliaUPC',
                  'Brush Script MT',
                  'Californian FB',
                  'Calisto MT',
                  'Calligrapher',
                  'Candara',
                  'CaslonOpnface BT',
                  'Castellar',
                  'Centaur',
                  'Cezanne',
                  'CG Omega',
                  'CG Times',
                  'Chalkboard',
                  'Chalkboard SE',
                  'Chalkduster',
                  'Charlesworth',
                  'Charter Bd BT',
                  'Charter BT',
                  'Chaucer',
                  'ChelthmITC Bk BT',
                  'Chiller',
                  'Clarendon',
                  'Clarendon Condensed',
                  'CloisterBlack BT',
                  'Cochin',
                  'Colonna MT',
                  'Constantia',
                  'Cooper Black',
                  'Copperplate',
                  'Copperplate Gothic',
                  'Copperplate Gothic Bold',
                  'Copperplate Gothic Light',
                  'CopperplGoth Bd BT',
                  'Corbel',
                  'Cordia New',
                  'CordiaUPC',
                  'Cornerstone',
                  'Coronet',
                  'Cuckoo',
                  'Curlz MT',
                  'DaunPenh',
                  'Dauphin',
                  'David',
                  'DB LCD Temp',
                  'DELICIOUS',
                  'Denmark',
                  'DFKai-SB',
                  'Didot',
                  'DilleniaUPC',
                  'DIN',
                  'DokChampa',
                  'Dotum',
                  'DotumChe',
                  'Ebrima',
                  'Edwardian Script ITC',
                  'Elephant',
                  'English 111 Vivace BT',
                  'Engravers MT',
                  'EngraversGothic BT',
                  'Eras Bold ITC',
                  'Eras Demi ITC',
                  'Eras Light ITC',
                  'Eras Medium ITC',
                  'EucrosiaUPC',
                  'Euphemia',
                  'Euphemia UCAS',
                  'EUROSTILE',
                  'Exotc350 Bd BT',
                  'FangSong',
                  'Felix Titling',
                  'Fixedsys',
                  'FONTIN',
                  'Footlight MT Light',
                  'Forte',
                  'FrankRuehl',
                  'Fransiscan',
                  'Freefrm721 Blk BT',
                  'FreesiaUPC',
                  'Freestyle Script',
                  'French Script MT',
                  'FrnkGothITC Bk BT',
                  'Fruitger',
                  'FRUTIGER',
                  'Futura',
                  'Futura Bk BT',
                  'Futura Lt BT',
                  'Futura Md BT',
                  'Futura ZBlk BT',
                  'FuturaBlack BT',
                  'Gabriola',
                  'Galliard BT',
                  'Gautami',
                  'Geeza Pro',
                  'Geometr231 BT',
                  'Geometr231 Hv BT',
                  'Geometr231 Lt BT',
                  'GeoSlab 703 Lt BT',
                  'GeoSlab 703 XBd BT',
                  'Gigi',
                  'Gill Sans',
                  'Gill Sans MT',
                  'Gill Sans MT Condensed',
                  'Gill Sans MT Ext Condensed Bold',
                  'Gill Sans Ultra Bold',
                  'Gill Sans Ultra Bold Condensed',
                  'Gisha',
                  'Gloucester MT Extra Condensed',
                  'GOTHAM',
                  'GOTHAM BOLD',
                  'Goudy Old Style',
                  'Goudy Stout',
                  'GoudyHandtooled BT',
                  'GoudyOLSt BT',
                  'Gujarati Sangam MN',
                  'Gulim',
                  'GulimChe',
                  'Gungsuh',
                  'GungsuhChe',
                  'Gurmukhi MN',
                  'Haettenschweiler',
                  'Harlow Solid Italic',
                  'Harrington',
                  'Heather',
                  'Heiti SC',
                  'Heiti TC',
                  'HELV',
                  'Herald',
                  'High Tower Text',
                  'Hiragino Kaku Gothic ProN',
                  'Hiragino Mincho ProN',
                  'Hoefler Text',
                  'Humanst 521 Cn BT',
                  'Humanst521 BT',
                  'Humanst521 Lt BT',
                  'Imprint MT Shadow',
                  'Incised901 Bd BT',
                  'Incised901 BT',
                  'Incised901 Lt BT',
                  'INCONSOLATA',
                  'Informal Roman',
                  'Informal011 BT',
                  'INTERSTATE',
                  'IrisUPC',
                  'Iskoola Pota',
                  'JasmineUPC',
                  'Jazz LET',
                  'Jenson',
                  'Jester',
                  'Jokerman',
                  'Juice ITC',
                  'Kabel Bk BT',
                  'Kabel Ult BT',
                  'Kailasa',
                  'KaiTi',
                  'Kalinga',
                  'Kannada Sangam MN',
                  'Kartika',
                  'Kaufmann Bd BT',
                  'Kaufmann BT',
                  'Khmer UI',
                  'KodchiangUPC',
                  'Kokila',
                  'Korinna BT',
                  'Kristen ITC',
                  'Krungthep',
                  'Kunstler Script',
                  'Lao UI',
                  'Latha',
                  'Leelawadee',
                  'Letter Gothic',
                  'Levenim MT',
                  'LilyUPC',
                  'Lithograph',
                  'Lithograph Light',
                  'Long Island',
                  'Lydian BT',
                  'Magneto',
                  'Maiandra GD',
                  'Malayalam Sangam MN',
                  'Malgun Gothic',
                  'Mangal',
                  'Marigold',
                  'Marion',
                  'Marker Felt',
                  'Market',
                  'Marlett',
                  'Matisse ITC',
                  'Matura MT Script Capitals',
                  'Meiryo',
                  'Meiryo UI',
                  'Microsoft Himalaya',
                  'Microsoft JhengHei',
                  'Microsoft New Tai Lue',
                  'Microsoft PhagsPa',
                  'Microsoft Tai Le',
                  'Microsoft Uighur',
                  'Microsoft YaHei',
                  'Microsoft Yi Baiti',
                  'MingLiU',
                  'MingLiU_HKSCS',
                  'MingLiU_HKSCS-ExtB',
                  'MingLiU-ExtB',
                  'Minion',
                  'Minion Pro',
                  'Miriam',
                  'Miriam Fixed',
                  'Mistral',
                  'Modern',
                  'Modern No. 20',
                  'Mona Lisa Solid ITC TT',
                  'Mongolian Baiti',
                  'MONO',
                  'MoolBoran',
                  'Mrs Eaves',
                  'MS LineDraw',
                  'MS Mincho',
                  'MS PMincho',
                  'MS Reference Specialty',
                  'MS UI Gothic',
                  'MT Extra',
                  'MUSEO',
                  'MV Boli',
                  'Nadeem',
                  'Narkisim',
                  'NEVIS',
                  'News Gothic',
                  'News GothicMT',
                  'NewsGoth BT',
                  'Niagara Engraved',
                  'Niagara Solid',
                  'Noteworthy',
                  'NSimSun',
                  'Nyala',
                  'OCR A Extended',
                  'Old Century',
                  'Old English Text MT',
                  'Onyx',
                  'Onyx BT',
                  'OPTIMA',
                  'Oriya Sangam MN',
                  'OSAKA',
                  'OzHandicraft BT',
                  'Palace Script MT',
                  'Papyrus',
                  'Parchment',
                  'Party LET',
                  'Pegasus',
                  'Perpetua',
                  'Perpetua Titling MT',
                  'PetitaBold',
                  'Pickwick',
                  'Plantagenet Cherokee',
                  'Playbill',
                  'PMingLiU',
                  'PMingLiU-ExtB',
                  'Poor Richard',
                  'Poster',
                  'PosterBodoni BT',
                  'PRINCETOWN LET',
                  'Pristina',
                  'PTBarnum BT',
                  'Pythagoras',
                  'Raavi',
                  'Rage Italic',
                  'Ravie',
                  'Ribbon131 Bd BT',
                  'Rockwell',
                  'Rockwell Condensed',
                  'Rockwell Extra Bold',
                  'Rod',
                  'Roman',
                  'Sakkal Majalla',
                  'Santa Fe LET',
                  'Savoye LET',
                  'Sceptre',
                  'Script',
                  'Script MT Bold',
                  'SCRIPTINA',
                  'Serifa',
                  'Serifa BT',
                  'Serifa Th BT',
                  'ShelleyVolante BT',
                  'Sherwood',
                  'Shonar Bangla',
                  'Showcard Gothic',
                  'Shruti',
                  'Signboard',
                  'SILKSCREEN',
                  'SimHei',
                  'Simplified Arabic',
                  'Simplified Arabic Fixed',
                  'SimSun',
                  'SimSun-ExtB',
                  'Sinhala Sangam MN',
                  'Sketch Rockwell',
                  'Skia',
                  'Small Fonts',
                  'Snap ITC',
                  'Snell Roundhand',
                  'Socket',
                  'Souvenir Lt BT',
                  'Staccato222 BT',
                  'Steamer',
                  'Stencil',
                  'Storybook',
                  'Styllo',
                  'Subway',
                  'Swis721 BlkEx BT',
                  'Swiss911 XCm BT',
                  'Sylfaen',
                  'Synchro LET',
                  'System',
                  'Tamil Sangam MN',
                  'Technical',
                  'Teletype',
                  'Telugu Sangam MN',
                  'Tempus Sans ITC',
                  'Terminal',
                  'Thonburi',
                  'Traditional Arabic',
                  'Trajan',
                  'TRAJAN PRO',
                  'Tristan',
                  'Tubular',
                  'Tunga',
                  'Tw Cen MT',
                  'Tw Cen MT Condensed',
                  'Tw Cen MT Condensed Extra Bold',
                  'TypoUpright BT',
                  'Unicorn',
                  'Univers',
                  'Univers CE 55 Medium',
                  'Univers Condensed',
                  'Utsaah',
                  'Vagabond',
                  'Vani',
                  'Vijaya',
                  'Viner Hand ITC',
                  'VisualUI',
                  'Vivaldi',
                  'Vladimir Script',
                  'Vrinda',
                  'Westminster',
                  'WHITNEY',
                  'Wide Latin',
                  'ZapfEllipt BT',
                  'ZapfHumnst BT',
                  'ZapfHumnst Dm BT',
                  'Zapfino',
                  'Zurich BlkEx BT',
                  'Zurich Ex BT',
                  'ZWAdobeF',
                ]);
              }
              p = (p = p.concat(a.fonts.userDefinedFonts)).filter(function (
                i,
                a
              ) {
                return p.indexOf(i) === a;
              });
              var m = document.getElementsByTagName('body')[0],
                _ = document.createElement('div'),
                w = document.createElement('div'),
                x = {},
                I = {},
                createSpan = function () {
                  var i = document.createElement('span');
                  return (
                    (i.style.position = 'absolute'),
                    (i.style.left = '-9999px'),
                    (i.style.fontSize = '72px'),
                    (i.style.fontStyle = 'normal'),
                    (i.style.fontWeight = 'normal'),
                    (i.style.letterSpacing = 'normal'),
                    (i.style.lineBreak = 'auto'),
                    (i.style.lineHeight = 'normal'),
                    (i.style.textTransform = 'none'),
                    (i.style.textAlign = 'left'),
                    (i.style.textDecoration = 'none'),
                    (i.style.textShadow = 'none'),
                    (i.style.whiteSpace = 'normal'),
                    (i.style.wordBreak = 'normal'),
                    (i.style.wordSpacing = 'normal'),
                    (i.innerHTML = 'mmmmmmmmmmlli'),
                    i
                  );
                },
                createSpanWithFonts = function (i, a) {
                  var o = createSpan();
                  return (o.style.fontFamily = "'" + i + "'," + a), o;
                },
                isFontAvailable = function (i) {
                  for (var a = !1, p = 0; p < o.length; p++)
                    if (
                      (a =
                        i[p].offsetWidth !== x[o[p]] ||
                        i[p].offsetHeight !== I[o[p]])
                    )
                      return a;
                  return a;
                },
                D = (function () {
                  for (var i = [], a = 0, p = o.length; a < p; a++) {
                    var m = createSpan();
                    (m.style.fontFamily = o[a]), _.appendChild(m), i.push(m);
                  }
                  return i;
                })();
              m.appendChild(_);
              for (var j = 0, K = o.length; j < K; j++)
                (x[o[j]] = D[j].offsetWidth), (I[o[j]] = D[j].offsetHeight);
              var q = (function () {
                for (var i = {}, a = 0, m = p.length; a < m; a++) {
                  for (var _ = [], x = 0, I = o.length; x < I; x++) {
                    var D = createSpanWithFonts(p[a], o[x]);
                    w.appendChild(D), _.push(D);
                  }
                  i[p[a]] = _;
                }
                return i;
              })();
              m.appendChild(w);
              for (var $ = [], Z = 0, be = p.length; Z < be; Z++)
                isFontAvailable(q[p[Z]]) && $.push(p[Z]);
              m.removeChild(w), m.removeChild(_), i($);
            },
            pauseBefore: !0,
          },
          {
            key: 'fontsFlash',
            getData: function (i, a) {
              return hasSwfObjectLoaded()
                ? hasMinFlashInstalled()
                  ? a.fonts.swfPath
                    ? void loadSwfAndDetectFonts(function (a) {
                        i(a);
                      }, a)
                    : i('missing options.fonts.swfPath')
                  : i('flash not installed')
                : i('swf object not loaded');
            },
            pauseBefore: !0,
          },
          {
            key: 'audio',
            getData: function (i, a) {
              var o = a.audio;
              if (
                o.excludeIOS11 &&
                navigator.userAgent.match(/OS 11.+Version\/11.+Safari/)
              )
                return i(a.EXCLUDED);
              var p =
                window.OfflineAudioContext || window.webkitOfflineAudioContext;
              if (null == p) return i(a.NOT_AVAILABLE);
              var m = new p(1, 44100, 44100),
                _ = m.createOscillator();
              (_.type = 'triangle'),
                _.frequency.setValueAtTime(1e4, m.currentTime);
              var w = m.createDynamicsCompressor();
              each(
                [
                  ['threshold', -50],
                  ['knee', 40],
                  ['ratio', 12],
                  ['reduction', -20],
                  ['attack', 0],
                  ['release', 0.25],
                ],
                function (i) {
                  w[i[0]] !== undefined &&
                    'function' == typeof w[i[0]].setValueAtTime &&
                    w[i[0]].setValueAtTime(i[1], m.currentTime);
                }
              ),
                _.connect(w),
                w.connect(m.destination),
                _.start(0),
                m.startRendering();
              var x = setTimeout(function () {
                return (
                  console.warn(
                    'Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "' +
                      navigator.userAgent +
                      '".'
                  ),
                  (m.oncomplete = function () {}),
                  (m = null),
                  i('audioTimeout')
                );
              }, o.timeout);
              m.oncomplete = function (a) {
                var o;
                try {
                  clearTimeout(x),
                    (o = a.renderedBuffer
                      .getChannelData(0)
                      .slice(4500, 5e3)
                      .reduce(function (i, a) {
                        return i + Math.abs(a);
                      }, 0)
                      .toString()),
                    _.disconnect(),
                    w.disconnect();
                } catch (p) {
                  return void i(p);
                }
                i(o);
              };
            },
          },
          {
            key: 'enumerateDevices',
            getData: function (i, a) {
              if (!isEnumerateDevicesSupported()) return i(a.NOT_AVAILABLE);
              navigator.mediaDevices
                .enumerateDevices()
                .then(function (a) {
                  i(
                    a.map(function (i) {
                      return (
                        'id=' +
                        i.deviceId +
                        ';gid=' +
                        i.groupId +
                        ';' +
                        i.kind +
                        ';' +
                        i.label
                      );
                    })
                  );
                })
                ['catch'](function (a) {
                  i(a);
                });
            },
          },
        ],
        Fingerprint2 = function (i) {
          throw new Error(
            "'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200"
          );
        };
      return (
        (Fingerprint2.get = function (o, p) {
          p ? o || (o = {}) : ((p = o), (o = {})),
            (function (i, a) {
              if (null == a) return i;
              var o, p;
              for (p in a)
                null == (o = a[p]) ||
                  Object.prototype.hasOwnProperty.call(i, p) ||
                  (i[p] = o);
            })(o, i),
            (o.components = o.extraComponents.concat(a));
          var m = {
              data: [],
              addPreprocessedComponent: function (i, a) {
                'function' == typeof o.preprocessor &&
                  (a = o.preprocessor(i, a)),
                  m.data.push({ key: i, value: a });
              },
            },
            _ = -1,
            chainComponents = function (i) {
              if ((_ += 1) >= o.components.length) p(m.data);
              else {
                var a = o.components[_];
                if (o.excludes[a.key]) chainComponents(!1);
                else {
                  if (!i && a.pauseBefore)
                    return (
                      (_ -= 1),
                      void setTimeout(function () {
                        chainComponents(!0);
                      }, 1)
                    );
                  try {
                    a.getData(function (i) {
                      m.addPreprocessedComponent(a.key, i), chainComponents(!1);
                    }, o);
                  } catch (w) {
                    m.addPreprocessedComponent(a.key, String(w)),
                      chainComponents(!1);
                  }
                }
              }
            };
          chainComponents(!1);
        }),
        (Fingerprint2.getPromise = function (i) {
          return new Promise(function (a, o) {
            Fingerprint2.get(i, a);
          });
        }),
        (Fingerprint2.getV18 = function (i, a) {
          return (
            null == a && ((a = i), (i = {})),
            Fingerprint2.get(i, function (o) {
              for (var p = [], m = 0; m < o.length; m++) {
                var _ = o[m];
                if (_.value === (i.NOT_AVAILABLE || 'not available'))
                  p.push({ key: _.key, value: 'unknown' });
                else if ('plugins' === _.key)
                  p.push({
                    key: 'plugins',
                    value: map(_.value, function (i) {
                      var a = map(i[2], function (i) {
                        return i.join ? i.join('~') : i;
                      }).join(',');
                      return [i[0], i[1], a].join('::');
                    }),
                  });
                else if (
                  -1 !== ['canvas', 'webgl'].indexOf(_.key) &&
                  Array.isArray(_.value)
                )
                  p.push({ key: _.key, value: _.value.join('~') });
                else if (
                  -1 !==
                  [
                    'sessionStorage',
                    'localStorage',
                    'indexedDb',
                    'addBehavior',
                    'openDatabase',
                  ].indexOf(_.key)
                ) {
                  if (!_.value) continue;
                  p.push({ key: _.key, value: 1 });
                } else
                  _.value
                    ? p.push(
                        _.value.join
                          ? { key: _.key, value: _.value.join(';') }
                          : _
                      )
                    : p.push({ key: _.key, value: _.value });
              }
              var w = x64hash128(
                map(p, function (i) {
                  return i.value;
                }).join('~~~'),
                31
              );
              a(w, p);
            })
          );
        }),
        (Fingerprint2.x64hash128 = x64hash128),
        (Fingerprint2.VERSION = '2.1.2'),
        Fingerprint2
      );
    });
  },
  function (i, a) {
    (function (a) {
      i.exports = a;
    }.call(this, {}));
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function DrmPluginManager() {
          (0, m['default'])(this, DrmPluginManager);
        }
        return (
          (0, _['default'])(DrmPluginManager, null, [
            {
              key: 'register',
              value: function register(i, a) {
                DrmPluginManager.pluginMap_[i] = a;
              },
            },
            {
              key: 'unregister',
              value: function unregister(i) {
                delete DrmPluginManager.pluginMap_[i];
              },
            },
            {
              key: 'newSession',
              value: function newSession(i) {
                var a = DrmPluginManager.pluginMap_[i];
                return a === undefined ? null : a.newSession();
              },
            },
          ]),
          DrmPluginManager
        );
      })();
    (a['default'] = w), (w.pluginMap_ = {});
  },
  function (i, a, o) {
    'use strict';
    var p = o(72),
      m = o(8),
      _ = [].slice,
      w = {},
      construct = function (i, a, o) {
        if (!(a in w)) {
          for (var p = [], m = 0; m < a; m++) p[m] = 'a[' + m + ']';
          w[a] = Function('C,a', 'return new C(' + p.join(',') + ')');
        }
        return w[a](i, o);
      };
    i.exports =
      Function.bind ||
      function bind(i) {
        var a = p(this),
          o = _.call(arguments, 1),
          w = function bound() {
            var p = o.concat(_.call(arguments));
            return this instanceof w
              ? construct(a, p.length, p)
              : a.apply(i, p);
          };
        return m(a.prototype) && (w.prototype = a.prototype), w;
      };
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(45),
      o(6),
      o(55),
      o(165),
      o(49),
      o(3),
      o(66),
      o(48),
      o(76),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function MapUtils() {
          (0, m['default'])(this, MapUtils);
        }
        return (
          (0, _['default'])(MapUtils, null, [
            {
              key: 'values',
              value: function values(i) {
                return Object.keys(i).map(function (a) {
                  return i[a];
                });
              },
            },
            {
              key: 'asMap',
              value: function asMap(i) {
                var a = new Map();
                return (
                  Object.keys(i).forEach(function (o) {
                    a.set(o, i[o]);
                  }),
                  a
                );
              },
            },
            {
              key: 'asObject',
              value: function asObject(i) {
                var a = {};
                return (
                  i.forEach(function (i, o) {
                    a[o] = i;
                  }),
                  a
                );
              },
            },
            {
              key: 'asMap_',
              value: function asMap_(i) {
                var a = new Map();
                return (
                  Object.keys(i).forEach(function (o) {
                    a.set(o, i[o]);
                  }),
                  a
                );
              },
            },
            {
              key: 'asObject_',
              value: function asObject_(i) {
                var a = {};
                return (
                  i.forEach(function (i, o) {
                    a[o] = i;
                  }),
                  a
                );
              },
            },
          ]),
          MapUtils
        );
      })();
    a['default'] = w;
  },
  function (i, a, o) {
    var p = o(67),
      m = o(168),
      _ = o(293),
      w = o(294);
    function _wrapNativeSuper(a) {
      var o = 'function' == typeof Map ? new Map() : undefined;
      return (
        (i.exports = _wrapNativeSuper =
          function _wrapNativeSuper(i) {
            if (null === i || !_(i)) return i;
            if ('function' != typeof i)
              throw new TypeError(
                'Super expression must either be null or a function'
              );
            if (void 0 !== o) {
              if (o.has(i)) return o.get(i);
              o.set(i, Wrapper);
            }
            function Wrapper() {
              return w(i, arguments, p(this).constructor);
            }
            return (
              (Wrapper.prototype = Object.create(i.prototype, {
                constructor: {
                  value: Wrapper,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
              m(Wrapper, i)
            );
          }),
        _wrapNativeSuper(a)
      );
    }
    i.exports = _wrapNativeSuper;
  },
  function (i, a) {
    i.exports = function _isNativeFunction(i) {
      return -1 !== Function.toString.call(i).indexOf('[native code]');
    };
  },
  function (i, a, o) {
    var p = o(168),
      m = o(295);
    function _construct(a, o, _) {
      return (
        m()
          ? (i.exports = _construct = Reflect.construct)
          : (i.exports = _construct =
              function _construct(i, a, o) {
                var m = [null];
                m.push.apply(m, a);
                var _ = new (Function.bind.apply(i, m))();
                return o && p(_, o.prototype), _;
              }),
        _construct.apply(null, arguments)
      );
    }
    i.exports = _construct;
  },
  function (i, a) {
    i.exports = function _isNativeReflectConstruct() {
      if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
      if (Reflect.construct.sham) return !1;
      if ('function' == typeof Proxy) return !0;
      try {
        return (
          Date.prototype.toString.call(
            Reflect.construct(Date, [], function () {})
          ),
          !0
        );
      } catch (i) {
        return !1;
      }
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = function setup(i, a, o) {
        'function' == typeof i &&
          m['default'].deprecated(
            'setup: callback API deprecated, now returns a Promise'
          );
        'undefined' != typeof i.userid &&
          m['default'].deprecated(
            'setup: options.userid API deprecated, use userid as second argument'
          );
        'undefined' != typeof i.element &&
          m['default'].deprecated(
            'setup: options.element API deprecated, use element as third argument'
          );
        var p = new _['default'](i),
          x = new w(i.element || o, p, i);
        return p.openSession(a, { app: i.app }).then(function () {
          return { player: x, reporter: p };
        });
      });
    var m = p(o(65)),
      _ = p(o(219)),
      w = o(169)['default'];
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(45),
      o(85),
      o(6),
      o(92),
      o(55),
      o(44),
      o(139),
      o(12),
      o(57),
      o(98),
      o(141),
      o(137),
      o(49),
      o(3),
      o(77),
      o(78),
      o(58),
      o(43),
      o(66),
      o(229),
      o(170),
      o(93),
      o(17),
      o(231),
      o(18),
      o(19),
      o(20),
      o(21),
      o(22),
      o(23),
      o(24),
      o(25),
      o(26),
      o(27),
      o(28),
      o(29),
      o(30),
      o(31),
      o(32),
      o(33),
      o(34),
      o(35),
      o(36),
      o(37),
      o(38),
      o(39),
      o(40),
      o(48),
      o(76),
      o(144),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(116)),
      _ = p(o(117));
    o(97);
    var w = p(o(118)),
      x = p(o(13)),
      I = p(o(15)),
      D = p(o(79)),
      j = p(o(80)),
      K = p(o(67)),
      q = p(o(96)),
      $ = p(o(65)),
      Z = p(o(143)),
      be = p(o(120));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, K['default'])(i);
        if (a) {
          var m = (0, K['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, j['default'])(this, o);
      };
    }
    var Se = (function (i) {
      (0, D['default'])(PlayerHTML5, i);
      var a,
        o,
        p = _createSuper(PlayerHTML5);
      function PlayerHTML5(i, a, o) {
        var m;
        (0, x['default'])(this, PlayerHTML5), (m = p.call(this));
        var _ = a.autoplay;
        return (
          (m.initialAutoplay = _),
          (m._playerInterface = i),
          (m.element = a),
          (m.subsContainer = o),
          (m.listeners = []),
          m.waitForEvent(
            'canplay',
            function () {
              m.setSourcePromise &&
                (m.setSourcePromise.resolve(), (m.setSourcePromise = null));
            },
            m.element
          ),
          m.waitForEvent('pause', function () {}, m.element),
          m.waitForEvent(
            'error',
            function () {
              var i = m.element.error;
              $['default'].error(
                'error on media element '
                  .concat(i, ' ')
                  .concat(i.code, ' ')
                  .concat(i.message)
              ),
                m._playerInterface.dispatchError(
                  new be['default'](
                    be['default'].Category.CRITICAL,
                    be['default'].Category.MEDIA,
                    'html_element',
                    ''.concat(i.code, ':').concat(i.message)
                  )
                );
            },
            m.element
          ),
          m.waitForEvent('webkitneedkey', m.onNeedKey, m.element),
          m
        );
      }
      return (
        (0, I['default'])(PlayerHTML5, null, [
          { key: 'setup', value: function setup() {} },
          {
            key: 'stringToArray',
            value: function stringToArray(i) {
              for (
                var a = new ArrayBuffer(2 * i.length),
                  o = new Uint16Array(a),
                  p = 0,
                  m = i.length;
                p < m;
                p += 1
              )
                o[p] = i.charCodeAt(p);
              return o;
            },
          },
          {
            key: 'buffer16ToString',
            value: function buffer16ToString(i) {
              var a = new Uint16Array(i);
              return String.fromCharCode.apply(null, a);
            },
          },
          {
            key: 'buffer8ToString',
            value: function buffer8ToString(i) {
              var a = new Uint8Array(i);
              return String.fromCharCode.apply(null, a);
            },
          },
          {
            key: 'base64DecodeUint8Array',
            value: function base64DecodeUint8Array(i) {
              for (
                var a = window.atob(i),
                  o = a.length,
                  p = new Uint8Array(new ArrayBuffer(o)),
                  m = 0;
                m < o;
                m += 1
              )
                p[m] = a.charCodeAt(m);
              return p;
            },
          },
          {
            key: 'base64EncodeUint8Array',
            value: function base64EncodeUint8Array(i) {
              for (
                var a,
                  o,
                  p,
                  m,
                  _,
                  w,
                  x,
                  I =
                    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',
                  D = '',
                  j = 0;
                j < i.length;

              )
                (m = (a = i[j++]) >> 2),
                  (_ =
                    ((3 & a) << 4) |
                    ((o = j < i.length ? i[j++] : Number.NaN) >> 4)),
                  (w =
                    ((15 & o) << 2) |
                    ((p = j < i.length ? i[j++] : Number.NaN) >> 6)),
                  (x = 63 & p),
                  Number.isNaN(o) ? (w = x = 64) : Number.isNaN(p) && (x = 64),
                  (D += I.charAt(m) + I.charAt(_) + I.charAt(w) + I.charAt(x));
              return D;
            },
          },
        ]),
        (0, I['default'])(
          PlayerHTML5,
          [
            {
              key: 'destroy',
              value:
                ((o = (0, w['default'])(
                  _['default'].mark(function _callee() {
                    return _['default'].wrap(
                      function _callee$(i) {
                        for (;;)
                          switch ((i.prev = i.next)) {
                            case 0:
                              return (i.next = 2), this.freeze();
                            case 2:
                              this.listeners.forEach(function (i) {
                                var a = i.type,
                                  o = i.target,
                                  p = i.bindedAction;
                                return o.removeEventListener(a, p);
                              });
                            case 3:
                            case 'end':
                              return i.stop();
                          }
                      },
                      _callee,
                      this
                    );
                  })
                )),
                function destroy() {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: 'waitForEvent',
              value: function waitForEvent(i, a, o) {
                var p = a.bind(this);
                this.listeners.push({ type: i, target: o, bindedAction: p }),
                  o.addEventListener(i, p, !1);
              },
            },
            {
              key: 'loadCertificate',
              value: function loadCertificate() {
                var i = this,
                  a =
                    PlayerHTML5.fpsCertificates[
                      this.stream['fairplay.certificate_uri']
                    ];
                return (
                  a ||
                  new Promise(function (a, o) {
                    var p = new XMLHttpRequest();
                    (p.responseType = 'arraybuffer'),
                      p.addEventListener(
                        'load',
                        function (o) {
                          var p = o.target,
                            m = new Uint8Array(p.response);
                          (PlayerHTML5.fpsCertificates[
                            i.stream['fairplay.certificate_uri']
                          ] = m),
                            a(m);
                        },
                        !1
                      ),
                      p.addEventListener(
                        'error',
                        function () {
                          var a = new be['default'](
                            be['default'].Severity.CRITICAL,
                            be['default'].Category.DRM,
                            be['default'].Code.LICENSE_REQUEST_FAILED,
                            'com.apple.fps.1_0'
                          );
                          i._playerInterface.dispatchError(a), o(a);
                        },
                        !1
                      ),
                      p.open('GET', i.stream['fairplay.certificate_uri'], !0),
                      p.setRequestHeader('Pragma', 'Cache-Control: no-cache'),
                      p.setRequestHeader('Cache-Control', 'max-age=0'),
                      p.send();
                  })
                );
              },
            },
            {
              key: 'onNeedKey',
              value:
                ((a = (0, w['default'])(
                  _['default'].mark(function _callee2(i) {
                    var a,
                      o,
                      p,
                      m,
                      w,
                      x,
                      I,
                      D,
                      j = this;
                    return _['default'].wrap(
                      function _callee2$(_) {
                        for (;;)
                          switch ((_.prev = _.next)) {
                            case 0:
                              return (
                                (a = i.target),
                                (o = i.initData),
                                (p = this.authMethod),
                                (m = this.stream['fairplay.content_id']
                                  ? this.stream['fairplay.content_id']
                                  : 'foxlatam' === p
                                  ? PlayerHTML5.extractFoxContentId(o)
                                  : 'nagra' === p
                                  ? PlayerHTML5.extractNagraContentId(o)
                                  : PlayerHTML5.extractContentId(o)),
                                (_.next = 6),
                                this.loadCertificate()
                              );
                            case 6:
                              if (
                                ((w = _.sent),
                                (x = PlayerHTML5.concatInitDataIdAndCertificate(
                                  o,
                                  m,
                                  w
                                )),
                                (this.stream.contentId = m),
                                this.element.webkitKeys)
                              ) {
                                _.next = 15;
                                break;
                              }
                              if (
                                (WebKitMediaKeys.isTypeSupported(
                                  'com.apple.fps.1_0',
                                  'video/mp4'
                                ) && (I = 'com.apple.fps.1_0'),
                                I !== undefined)
                              ) {
                                _.next = 14;
                                break;
                              }
                              return (
                                this._playerInterface.dispatchError(
                                  new be['default'](
                                    be['default'].Severity.CRITICAL,
                                    be['default'].Category.DRM,
                                    be[
                                      'default'
                                    ].Code.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE
                                  )
                                ),
                                _.abrupt('return')
                              );
                            case 14:
                              a.webkitSetMediaKeys(new WebKitMediaKeys(I));
                            case 15:
                              if (a.webkitKeys) {
                                _.next = 18;
                                break;
                              }
                              return (
                                this._playerInterface.dispatchError(
                                  new be['default'](
                                    be['default'].Severity.CRITICAL,
                                    be['default'].Category.DRM,
                                    be['default'].Code.FAILED_TO_CREATE_CDM,
                                    'com.apple.fps.1_0'
                                  )
                                ),
                                _.abrupt('return')
                              );
                            case 18:
                              if (
                                (D = a.webkitKeys.createSession('video/mp4', x))
                              ) {
                                _.next = 22;
                                break;
                              }
                              return (
                                this._playerInterface.dispatchError(
                                  new be['default'](
                                    be['default'].Severity.CRITICAL,
                                    be['default'].Category.DRM,
                                    be['default'].Code.FAILED_TO_CREATE_SESSION,
                                    'com.apple.fps.1_0'
                                  )
                                ),
                                _.abrupt('return')
                              );
                            case 22:
                              (D.contentId = m),
                                this.waitForEvent(
                                  'webkitkeymessage',
                                  this.licenseRequestReady.bind(this),
                                  D
                                ),
                                this.waitForEvent(
                                  'webkitkeyadded',
                                  function () {},
                                  D
                                ),
                                this.waitForEvent(
                                  'webkitkeyerror',
                                  function (i) {
                                    $['default'].error(
                                      'A decryption key error was encountered',
                                      i
                                    ),
                                      j._playerInterface.dispatchError(
                                        new be['default'](
                                          be['default'].Severity.CRITICAL,
                                          be['default'].Category.DRM,
                                          be[
                                            'default'
                                          ].Code.INTERNAL_ERROR_KEY_STATUS,
                                          'com.apple.fps.1_0 webkitkeyerror'
                                        )
                                      );
                                  },
                                  D
                                );
                            case 26:
                            case 'end':
                              return _.stop();
                          }
                      },
                      _callee2,
                      this
                    );
                  })
                )),
                function onNeedKey(i) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: 'licenseRequestReady',
              value: function licenseRequestReady(i) {
                var a,
                  o = this,
                  p = i.target,
                  _ = i.message,
                  w = new XMLHttpRequest();
                if (
                  ((w.responseType = 'arraybuffer'),
                  (w.session = p),
                  w.addEventListener(
                    'load',
                    function (i) {
                      var a,
                        m = i.target;
                      if (m.status >= 300) {
                        var _ = PlayerHTML5.buffer8ToString(m.response);
                        o._playerInterface.dispatchError(
                          new be['default'](
                            be['default'].Severity.CRITICAL,
                            be['default'].Category.DRM,
                            be['default'].Code.LICENSE_REQUEST_FAILED,
                            _
                          )
                        );
                      } else {
                        var w = m.getResponseHeader('Content-Type');
                        if (
                          null === w ||
                          0 !== w.indexOf('application/octet-stream') ||
                          'nagra' === o.authMethod
                        ) {
                          var x = PlayerHTML5.buffer8ToString(m.response);
                          if ('hbola' === o.authMethod)
                            a = JSON.parse(x).License;
                          else if ('foxlatam' === o.authMethod) a = x;
                          else if ('nagra' === o.authMethod) {
                            a = JSON.parse(x).CkcMessage;
                          } else
                            try {
                              a = JSON.parse(x).ckc;
                            } catch (j) {
                              '<ckc>' === (a = x.trim()).substr(0, 5) &&
                                '</ckc>' === a.substr(-6) &&
                                (a = a.slice(5, -6));
                            }
                          var I = PlayerHTML5.base64DecodeUint8Array(a);
                          p.update(I);
                        } else {
                          var D = new Uint8Array(m.response);
                          p.update(D);
                        }
                      }
                    },
                    !1
                  ),
                  w.addEventListener(
                    'error',
                    function (i) {
                      $['default'].error(
                        'The license request failed '.concat(i)
                      );
                    },
                    !1
                  ),
                  'irdeto' === this.stream['fairplay.auth_method'])
                ) {
                  var x = new URL(this.stream['fairplay.license_server']),
                    I = new URLSearchParams(x.search);
                  (null !== I.get('keyId') && 0 !== I.get('keyId').length) ||
                    I.set('keyId', this.stream.contentId),
                    (x.search = I.toString()),
                    (a = x.toString());
                } else a = this.stream['fairplay.license_server'];
                if (
                  (w.open('POST', a, !0),
                  this.stream['fairplay.license_request_headers'] &&
                    Object.entries(
                      this.stream['fairplay.license_request_headers']
                    ).forEach(function (i) {
                      var a = (0, m['default'])(i, 2),
                        o = a[0],
                        p = a[1];
                      w.setRequestHeader(o, p);
                    }),
                  'hbola' === this.authMethod)
                ) {
                  w.setRequestHeader(
                    'Content-type',
                    'text/plain;charset=UTF-8'
                  );
                  var D = 'tokenID='
                      .concat(this.stream['hbola.token_id'], '|skd://')
                      .concat(this.stream.contentId, '|operatorID=')
                      .concat(this.stream['hbola.operator_id'], '|countryID=')
                      .concat(this.stream['hbola.country_id']),
                    j = PlayerHTML5.stringToArray(D),
                    K = PlayerHTML5.base64EncodeUint8Array(j);
                  w.setRequestHeader('dt-custom-data', K);
                  var q = PlayerHTML5.base64EncodeUint8Array(_),
                    Z =
                      '<LicenseRequest xmlns="go:v6:interop"><PlaybackCtx><![CDATA['.concat(
                        q,
                        ']]></PlaybackCtx></LicenseRequest>'
                      );
                  w.send(Z);
                } else if (
                  this.stream['fairplay.raw_request'] ||
                  'irdeto' === this.authMethod ||
                  'foxlatam' === this.authMethod ||
                  'nagra' === this.authMethod ||
                  -1 !==
                    this.stream['fairplay.license_server'].indexOf(
                      'quickplay.com'
                    ) ||
                  -1 !==
                    this.stream['fairplay.license_server'].indexOf('irdeto.com')
                )
                  w.setRequestHeader(
                    'Content-type',
                    'application/octet-stream'
                  ),
                    w.send(_);
                else {
                  var Se = 'spc='.concat(
                    encodeURIComponent(PlayerHTML5.base64EncodeUint8Array(_))
                  );
                  w.setRequestHeader(
                    'Content-type',
                    'application/x-www-form-urlencoded; charset=UTF-8'
                  ),
                    w.send(Se);
                }
              },
            },
            {
              key: 'setSource',
              value: function setSource(i, a) {
                var o = this;
                return (
                  a.autoplay !== undefined &&
                    (this.element.autoplay = a.autoplay),
                  (this.stream = i),
                  (this.authMethod = this.stream['fairplay.auth_method']),
                  this.authMethod === undefined &&
                    this.stream['fairplay.license_server'] &&
                    -1 !==
                      this.stream['fairplay.license_server'].indexOf(
                        'foxsyndicationlatam'
                      ) &&
                    (this.authMethod = 'foxlatam'),
                  this.loadCertificate(),
                  (this.element.src = i.uri),
                  new Promise(function (i, a) {
                    o.setSourcePromise = { resolve: i, reject: a };
                  })
                );
              },
            },
            {
              key: 'setMaxResolution',
              value: function setMaxResolution(i, a) {
                this._maxResolution = { width: i, height: a };
              },
            },
            {
              key: 'setAbrRestrictions',
              value: function setAbrRestrictions() {
                throw new Error('not implemented in this context');
              },
            },
            {
              key: 'freeze',
              value: function freeze() {
                return (
                  (this.stream = null),
                  this.element.pause(),
                  this.element.removeAttribute('src'),
                  this.element.load(),
                  (this.element.autoplay = this.initialAutoplay),
                  this.setSourcePromise &&
                    (this.setSourcePromise.reject(new Error('aborted')),
                    (this.setSourcePromise = null)),
                  Promise.resolve()
                );
              },
            },
            {
              key: 'getTimeInfo',
              value: function getTimeInfo() {
                if (!this.stream) return null;
                var i = this.element,
                  a = i.currentTime,
                  o = i.duration;
                if (Number.isNaN(o)) return null;
                var p = !1,
                  m = 0,
                  _ = 0 + o;
                return {
                  isLive: p,
                  position: 1e3 * (0 + a),
                  duration: 1e3 * (_ - m),
                  seekRange: [1e3 * m, 1e3 * _],
                };
              },
            },
            {
              key: 'play',
              value: function play() {
                this.element.play();
              },
            },
            {
              key: 'pause',
              value: function pause() {
                this.element.pause();
              },
            },
            {
              key: 'seek',
              value: function seek(i) {
                this.element.currentTime = i / 1e3;
              },
            },
            {
              key: 'getTracks',
              value: function getTracks() {
                var i = [];
                this.element.videoHeight &&
                  i.push({
                    reference: 'video',
                    'is-active': !0,
                    name: 'video',
                    playable: !0,
                    representations: [
                      {
                        width: this.element.videoWidth,
                        height: this.element.videoHeight,
                      },
                    ],
                  });
                var a = this.element,
                  o = a.audioTracks,
                  p = a.textTracks,
                  m = [];
                if (o)
                  for (var _ = 0; _ < o.length; _ += 1) {
                    var w = o[_];
                    m.push({
                      reference: w.id || 'text-'.concat(w.language),
                      name: w.label || w.language,
                      playable: !0,
                      'is-active': w.enabled,
                      'is-closed-caption': 'caption' === w.kind,
                      type: 'text',
                      language: w.language,
                    });
                  }
                else
                  m.push({
                    reference: 'audio',
                    'is-active': !0,
                    name: 'audio',
                    playable: !0,
                  });
                var x = [];
                if (p)
                  for (var I = 0; I < p.length; I += 1) {
                    var D = p[I];
                    x.push({
                      reference: D.id || 'text-'.concat(D.language),
                      name: D.label || D.language,
                      playable: !0,
                      'is-active': D.enabled,
                      'is-closed-caption': 'caption' === D.kind,
                      type: 'text',
                      language: D.language,
                    });
                  }
                return { video: i, audio: m, text: x };
              },
            },
            {
              key: 'applyTracks',
              value: function applyTracks(i) {
                var a = this;
                return (
                  i.forEach(function (i) {
                    var o = i.track,
                      p = i.enable;
                    Object.keys(a.element.textTracks).forEach(function (i) {
                      a.element.textTracks[i].label === o
                        ? (a.element.textTracks[i].mode = p
                            ? 'showing'
                            : 'disabled')
                        : (a.element.textTracks[i].mode = 'disabled');
                    });
                  }),
                  this.getTracks()
                );
              },
            },
            {
              key: 'getStats',
              value: function getStats() {
                return {};
              },
            },
          ],
          [
            {
              key: 'extractContentId',
              value: function extractContentId(i) {
                var a = PlayerHTML5.buffer16ToString(i.buffer),
                  o = a.indexOf('skd://');
                return a.substr(o + 6, a.length);
              },
            },
            {
              key: 'extractFoxContentId',
              value: function extractFoxContentId(i) {
                var a = PlayerHTML5.buffer16ToString(i.buffer),
                  o = a.indexOf('skd://');
                return a
                  .substr(a.indexOf('?', o) + 1)
                  .split('&')
                  .map(function (i) {
                    return i.substr(i.indexOf('=') + 1);
                  })
                  .join('')
                  .substr(0, 100);
              },
            },
            {
              key: 'extractNagraContentId',
              value: function extractNagraContentId(i) {
                var a = PlayerHTML5.buffer16ToString(i.buffer),
                  o = a.indexOf('skd://'),
                  p = a.substr(o + 6, a.length).split('?')[0];
                return window.atob(p);
              },
            },
            {
              key: 'concatInitDataIdAndCertificate',
              value: function concatInitDataIdAndCertificate(i, a, o) {
                'string' == typeof a && (a = PlayerHTML5.stringToArray(a));
                var p = 0,
                  m = new ArrayBuffer(
                    i.byteLength + 4 + a.byteLength + 4 + o.byteLength
                  ),
                  _ = new DataView(m);
                new Uint8Array(m, p, i.byteLength).set(i),
                  (p += i.byteLength),
                  _.setUint32(p, a.byteLength, !0),
                  (p += 4);
                var w = new Uint16Array(m, p, a.length);
                return (
                  w.set(a),
                  (p += w.byteLength),
                  _.setUint32(p, o.byteLength, !0),
                  (p += 4),
                  new Uint8Array(m, p, o.byteLength).set(o),
                  new Uint8Array(m, 0, m.byteLength)
                );
              },
            },
          ]
        ),
        PlayerHTML5
      );
    })(q['default']);
    (Se.fpsCertificates = {}), (Se.id = Z['default'].HTML5);
    var _e = Se;
    a['default'] = _e;
  },
  function (i, a, o) {
    'use strict';
    var p = o(9),
      m = o(1),
      _ = o(107),
      w = o(150),
      x = o(121),
      I = o(47),
      D = o(99),
      j = Object.assign,
      K = Object.defineProperty;
    i.exports =
      !j ||
      m(function () {
        if (
          p &&
          1 !==
            j(
              { b: 1 },
              j(
                K({}, 'a', {
                  enumerable: !0,
                  get: function () {
                    K(this, 'b', { value: 3, enumerable: !1 });
                  },
                }),
                { b: 2 }
              )
            ).b
        )
          return !0;
        var i = {},
          a = {},
          o = Symbol(),
          m = 'abcdefghijklmnopqrst';
        return (
          (i[o] = 7),
          m.split('').forEach(function (i) {
            a[i] = i;
          }),
          7 != j({}, i)[o] || _(j({}, a)).join('') != m
        );
      })
        ? function assign(i, a) {
            for (
              var o = I(i), m = arguments.length, j = 1, K = w.f, q = x.f;
              m > j;

            )
              for (
                var $,
                  Z = D(arguments[j++]),
                  be = K ? _(Z).concat(K(Z)) : _(Z),
                  Se = be.length,
                  _e = 0;
                Se > _e;

              )
                ($ = be[_e++]), (p && !q.call(Z, $)) || (o[$] = Z[$]);
            return o;
          }
        : j;
  },
  function (i, a, o) {
    'use strict';
    var p = 2147483647,
      m = /[^\0-\u007E]/,
      _ = /[.\u3002\uFF0E\uFF61]/g,
      w = 'Overflow: input needs wider integers to process',
      x = Math.floor,
      I = String.fromCharCode,
      digitToBasic = function (i) {
        return i + 22 + 75 * (i < 26);
      },
      adapt = function (i, a, o) {
        var p = 0;
        for (i = o ? x(i / 700) : i >> 1, i += x(i / a); i > 455; p += 36)
          i = x(i / 35);
        return x(p + (36 * i) / (i + 38));
      },
      encode = function (i) {
        var a,
          o,
          m = [],
          _ = (i = (function (i) {
            for (var a = [], o = 0, p = i.length; o < p; ) {
              var m = i.charCodeAt(o++);
              if (m >= 55296 && m <= 56319 && o < p) {
                var _ = i.charCodeAt(o++);
                56320 == (64512 & _)
                  ? a.push(((1023 & m) << 10) + (1023 & _) + 65536)
                  : (a.push(m), o--);
              } else a.push(m);
            }
            return a;
          })(i)).length,
          D = 128,
          j = 0,
          K = 72;
        for (a = 0; a < i.length; a++) (o = i[a]) < 128 && m.push(I(o));
        var q = m.length,
          $ = q;
        for (q && m.push('-'); $ < _; ) {
          var Z = p;
          for (a = 0; a < i.length; a++) (o = i[a]) >= D && o < Z && (Z = o);
          var be = $ + 1;
          if (Z - D > x((p - j) / be)) throw RangeError(w);
          for (j += (Z - D) * be, D = Z, a = 0; a < i.length; a++) {
            if ((o = i[a]) < D && ++j > p) throw RangeError(w);
            if (o == D) {
              for (var Se = j, _e = 36; ; _e += 36) {
                var we = _e <= K ? 1 : _e >= K + 26 ? 26 : _e - K;
                if (Se < we) break;
                var xe = Se - we,
                  et = 36 - we;
                m.push(I(digitToBasic(we + (xe % et)))), (Se = x(xe / et));
              }
              m.push(I(digitToBasic(Se))),
                (K = adapt(j, be, $ == q)),
                (j = 0),
                ++$;
            }
          }
          ++j, ++D;
        }
        return m.join('');
      };
    i.exports = function (i) {
      var a,
        o,
        p = [],
        w = i.toLowerCase().replace(_, '.').split('.');
      for (a = 0; a < w.length; a++)
        (o = w[a]), p.push(m.test(o) ? 'xn--' + encode(o) : o);
      return p.join('.');
    };
  },
  function (i, a, o) {
    'use strict';
    o(6);
    var p = o(0),
      m = o(62),
      _ = o(232),
      w = o(46),
      x = o(88),
      I = o(60),
      D = o(188),
      j = o(51),
      K = o(70),
      q = o(14),
      $ = o(84),
      Z = o(110),
      be = o(11),
      Se = o(8),
      _e = o(69),
      we = o(81),
      xe = o(301),
      et = o(112),
      tt = o(5),
      rt = m('fetch'),
      nt = m('Headers'),
      it = tt('iterator'),
      at = 'URLSearchParams',
      ot = 'URLSearchParamsIterator',
      st = j.set,
      ut = j.getterFor(at),
      lt = j.getterFor(ot),
      ct = /\+/g,
      dt = Array(4),
      percentSequence = function (i) {
        return (
          dt[i - 1] ||
          (dt[i - 1] = RegExp('((?:%[\\da-f]{2}){' + i + '})', 'gi'))
        );
      },
      percentDecode = function (i) {
        try {
          return decodeURIComponent(i);
        } catch (a) {
          return i;
        }
      },
      deserialize = function (i) {
        var a = i.replace(ct, ' '),
          o = 4;
        try {
          return decodeURIComponent(a);
        } catch (p) {
          for (; o; ) a = a.replace(percentSequence(o--), percentDecode);
          return a;
        }
      },
      ft = /[!'()~]|%20/g,
      ht = {
        '!': '%21',
        "'": '%27',
        '(': '%28',
        ')': '%29',
        '~': '%7E',
        '%20': '+',
      },
      replacer = function (i) {
        return ht[i];
      },
      serialize = function (i) {
        return encodeURIComponent(i).replace(ft, replacer);
      },
      parseSearchParams = function (i, a) {
        if (a)
          for (var o, p, m = a.split('&'), _ = 0; _ < m.length; )
            (o = m[_++]).length &&
              ((p = o.split('=')),
              i.push({
                key: deserialize(p.shift()),
                value: deserialize(p.join('=')),
              }));
      },
      updateSearchParams = function (i) {
        (this.entries.length = 0), parseSearchParams(this.entries, i);
      },
      validateArgumentsLength = function (i, a) {
        if (i < a) throw TypeError('Not enough arguments');
      },
      pt = D(
        function Iterator(i, a) {
          st(this, { type: ot, iterator: xe(ut(i).entries), kind: a });
        },
        'Iterator',
        function next() {
          var i = lt(this),
            a = i.kind,
            o = i.iterator.next(),
            p = o.value;
          return (
            o.done ||
              (o.value =
                'keys' === a
                  ? p.key
                  : 'values' === a
                  ? p.value
                  : [p.key, p.value]),
            o
          );
        }
      ),
      gt = function URLSearchParams() {
        K(this, gt, at);
        var i,
          a,
          o,
          p,
          m,
          _,
          w,
          x,
          I,
          D = arguments.length > 0 ? arguments[0] : undefined,
          j = this,
          $ = [];
        if (
          (st(j, {
            type: at,
            entries: $,
            updateURL: function () {},
            updateSearchParams: updateSearchParams,
          }),
          D !== undefined)
        )
          if (Se(D))
            if ('function' == typeof (i = et(D)))
              for (o = (a = i.call(D)).next; !(p = o.call(a)).done; ) {
                if (
                  (w = (_ = (m = xe(be(p.value))).next).call(m)).done ||
                  (x = _.call(m)).done ||
                  !_.call(m).done
                )
                  throw TypeError('Expected sequence with length 2');
                $.push({ key: w.value + '', value: x.value + '' });
              }
            else for (I in D) q(D, I) && $.push({ key: I, value: D[I] + '' });
          else
            parseSearchParams(
              $,
              'string' == typeof D
                ? '?' === D.charAt(0)
                  ? D.slice(1)
                  : D
                : D + ''
            );
      },
      mt = gt.prototype;
    x(
      mt,
      {
        append: function append(i, a) {
          validateArgumentsLength(arguments.length, 2);
          var o = ut(this);
          o.entries.push({ key: i + '', value: a + '' }), o.updateURL();
        },
        delete: function (i) {
          validateArgumentsLength(arguments.length, 1);
          for (
            var a = ut(this), o = a.entries, p = i + '', m = 0;
            m < o.length;

          )
            o[m].key === p ? o.splice(m, 1) : m++;
          a.updateURL();
        },
        get: function get(i) {
          validateArgumentsLength(arguments.length, 1);
          for (var a = ut(this).entries, o = i + '', p = 0; p < a.length; p++)
            if (a[p].key === o) return a[p].value;
          return null;
        },
        getAll: function getAll(i) {
          validateArgumentsLength(arguments.length, 1);
          for (
            var a = ut(this).entries, o = i + '', p = [], m = 0;
            m < a.length;
            m++
          )
            a[m].key === o && p.push(a[m].value);
          return p;
        },
        has: function has(i) {
          validateArgumentsLength(arguments.length, 1);
          for (var a = ut(this).entries, o = i + '', p = 0; p < a.length; )
            if (a[p++].key === o) return !0;
          return !1;
        },
        set: function set(i, a) {
          validateArgumentsLength(arguments.length, 1);
          for (
            var o,
              p = ut(this),
              m = p.entries,
              _ = !1,
              w = i + '',
              x = a + '',
              I = 0;
            I < m.length;
            I++
          )
            (o = m[I]).key === w &&
              (_ ? m.splice(I--, 1) : ((_ = !0), (o.value = x)));
          _ || m.push({ key: w, value: x }), p.updateURL();
        },
        sort: function sort() {
          var i,
            a,
            o,
            p = ut(this),
            m = p.entries,
            _ = m.slice();
          for (m.length = 0, o = 0; o < _.length; o++) {
            for (i = _[o], a = 0; a < o; a++)
              if (m[a].key > i.key) {
                m.splice(a, 0, i);
                break;
              }
            a === o && m.push(i);
          }
          p.updateURL();
        },
        forEach: function forEach(i) {
          for (
            var a,
              o = ut(this).entries,
              p = $(i, arguments.length > 1 ? arguments[1] : undefined, 3),
              m = 0;
            m < o.length;

          )
            p((a = o[m++]).value, a.key, this);
        },
        keys: function keys() {
          return new pt(this, 'keys');
        },
        values: function values() {
          return new pt(this, 'values');
        },
        entries: function entries() {
          return new pt(this, 'entries');
        },
      },
      { enumerable: !0 }
    ),
      w(mt, it, mt.entries),
      w(
        mt,
        'toString',
        function toString() {
          for (var i, a = ut(this).entries, o = [], p = 0; p < a.length; )
            (i = a[p++]), o.push(serialize(i.key) + '=' + serialize(i.value));
          return o.join('&');
        },
        { enumerable: !0 }
      ),
      I(gt, at),
      p({ global: !0, forced: !_ }, { URLSearchParams: gt }),
      _ ||
        'function' != typeof rt ||
        'function' != typeof nt ||
        p(
          { global: !0, enumerable: !0, forced: !0 },
          {
            fetch: function fetch(i) {
              var a,
                o,
                p,
                m = [i];
              return (
                arguments.length > 1 &&
                  (Se((a = arguments[1])) &&
                    ((o = a.body),
                    Z(o) === at &&
                      ((p = a.headers ? new nt(a.headers) : new nt()).has(
                        'content-type'
                      ) ||
                        p.set(
                          'content-type',
                          'application/x-www-form-urlencoded;charset=UTF-8'
                        ),
                      (a = _e(a, {
                        body: we(0, String(o)),
                        headers: we(0, p),
                      })))),
                  m.push(a)),
                rt.apply(this, m)
              );
            },
          }
        ),
      (i.exports = { URLSearchParams: gt, getState: ut });
  },
  function (i, a, o) {
    var p = o(11),
      m = o(112);
    i.exports = function (i) {
      var a = m(i);
      if ('function' != typeof a)
        throw TypeError(String(i) + ' is not iterable');
      return p(a.call(i));
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(303),
      m = o(4);
    o(115),
      o(41),
      o(91),
      o(45),
      o(6),
      o(55),
      o(86),
      o(233),
      o(234),
      o(49),
      o(3),
      o(78),
      o(43),
      o(66),
      o(48),
      o(76),
      o(144),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var _ = m(o(304)),
      w = m(o(140)),
      x = m(o(117));
    o(97);
    var I = m(o(118)),
      D = m(o(13)),
      j = m(o(15)),
      K = m(o(142)),
      q = m(o(79)),
      $ = m(o(80)),
      Z = m(o(67)),
      be = m(o(95)),
      Se = m(o(96)),
      _e = m(o(164)),
      we = m(o(171)),
      xe = m(o(143)),
      et = p(o(120)),
      tt = m(o(315)),
      rt = m(o(318)),
      nt = m(o(320));
    function ownKeys(i, a) {
      var o = Object.keys(i);
      if (Object.getOwnPropertySymbols) {
        var p = Object.getOwnPropertySymbols(i);
        a &&
          (p = p.filter(function (a) {
            return Object.getOwnPropertyDescriptor(i, a).enumerable;
          })),
          o.push.apply(o, p);
      }
      return o;
    }
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, Z['default'])(i);
        if (a) {
          var m = (0, Z['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, $['default'])(this, o);
      };
    }
    var it = _e['default'].objectApiToCamel;
    function veyga() {
      return window.veyga ? window.veyga : we['default'];
    }
    var at = {
        maxBandwidth: Infinity,
        maxHeight: Infinity,
        maxPixels: Infinity,
        maxWidth: Infinity,
        minBandwidth: 0,
        minHeight: 0,
        minPixels: 0,
        minWidth: 0,
      },
      ot = (function (i) {
        (0, q['default'])(PlayerVeyga, i);
        var a,
          o,
          p = _createSuper(PlayerVeyga);
        function PlayerVeyga(i, a, o) {
          var m;
          return (
            (0, D['default'])(this, PlayerVeyga),
            ((m = p.call(this)).veyga = veyga()),
            (m.playerInterface = i),
            (m.element = a),
            (m.subsContainer = o),
            (m.player = new m.veyga.Player()),
            [
              'error',
              'streaming',
              'adaptation',
              'buffering',
              'trackschanged',
              'emsg',
            ].forEach(function (i) {
              m.player.addEventListener(i, function (a) {
                m.emit(i, a);
              });
            }),
            m.player
              .getNetworkingEngine()
              .registerRequestFilter(
                m._requestFilter.bind((0, K['default'])(m))
              ),
            (0, $['default'])(m, (0, K['default'])(m))
          );
        }
        return (
          (0, j['default'])(
            PlayerVeyga,
            [
              {
                key: 'destroy',
                value:
                  ((o = (0, I['default'])(
                    x['default'].mark(function _callee() {
                      return x['default'].wrap(
                        function _callee$(i) {
                          for (;;)
                            switch ((i.prev = i.next)) {
                              case 0:
                                return (i.next = 2), this.player.destroy();
                              case 2:
                                this.player = null;
                              case 3:
                              case 'end':
                                return i.stop();
                            }
                        },
                        _callee,
                        this
                      );
                    })
                  )),
                  function destroy() {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: '_requestFilter',
                value: function _requestFilter(i, a) {
                  if (
                    i === this.veyga.net.NetworkingEngine.RequestType.LICENSE
                  ) {
                    var o,
                      p = a.uris[0];
                    if ('/' === p.charAt(0)) return;
                    try {
                      o = new URL(p);
                    } catch (w) {
                      return;
                    }
                    if ('veygo:' !== o.protocol) return;
                    var m = o.searchParams.get('id'),
                      _ = ''
                        .concat(this.stream['veygo.license_server'], '/keys/')
                        .concat(m, '?token=')
                        .concat(this.stream['veygo.license_token'], '&device=')
                        .concat(this.stream['veygo.device'], '&user_name=')
                        .concat(this.stream['veygo.user_name'], '&user_token=')
                        .concat(this.stream['veygo.user_token']);
                    a.uris.pop(), a.uris.push(_);
                  }
                },
              },
              {
                key: 'onPlayerError',
                value: function onPlayerError(i) {
                  this.dispatchError(i);
                },
              },
              {
                key: 'dispatchError',
                value: function dispatchError(i) {
                  i.detail && (i = i.detail);
                  var a = i.category
                      ? (0, et.veygaToVipError)(i)
                      : new et['default'](
                          et['default'].Severity.CRITICAL,
                          'generic',
                          'js_error',
                          i.message
                        ),
                    o = new be['default']('error', { error: a });
                  return this.dispatchEvent(o), a;
                },
              },
              {
                key: 'emit',
                value: function emit(i, a) {
                  if ('error' !== i) {
                    var o = new be['default'](i, a);
                    this.dispatchEvent(o);
                  } else this.dispatchError(a.detail);
                },
              },
              {
                key: 'start',
                value: function start() {
                  this.dispatchStatus('initialized');
                },
              },
              {
                key: 'getTimeInfo',
                value: function getTimeInfo() {
                  if (null === this.player) throw new Error('no_player');
                  var i = this.player.isLive();
                  if (null === i) return null;
                  var a = this.player.seekRange(),
                    o = this.player.getManifest(),
                    p = o ? o.presentationTimeline : 0,
                    m = i ? p.getPresentationStartTime() : 0,
                    _ = [1e3 * (m + a.start), 1e3 * (m + a.end)],
                    x = this.player.getBufferedInfo();
                  return (0, w['default'])(
                    {
                      isLive: i,
                      duration: 1e3 * (a.end - a.start),
                      seekRange: _,
                      buffers: x.total.map(function (i) {
                        return {
                          start: 1e3 * (m + i.start),
                          end: 1e3 * (m + i.end),
                        };
                      }),
                    },
                    0 === this.element.currentTime
                      ? undefined
                      : {
                          position:
                            1e3 * (m + this.player.getPresentationTime()),
                        }
                  );
                },
              },
              {
                key: 'seek',
                value: function seek(i) {
                  var a = this.player.isLive(),
                    o = this.player.getManifest(),
                    p = o ? o.presentationTimeline : 0,
                    m = a ? p.getPresentationStartTime() : 0;
                  this.element.currentTime = i / 1e3 - m;
                },
              },
              {
                key: 'isLive',
                value: function isLive() {
                  if (!this.player) throw new Error('setup_not_done');
                  return this.player.isLive();
                },
              },
              {
                key: 'isBuffering',
                value: function isBuffering() {
                  if (!this.player) throw new Error('setup_not_done');
                  return this.player.isBuffering();
                },
              },
              {
                key: 'freeze',
                value: function freeze() {
                  return this.player.unload(!1);
                },
              },
              {
                key: 'getTracks',
                value: function getTracks() {
                  var i = this.player.getVideoTracks().map(function (i) {
                      return (function _objectSpread(i) {
                        for (var a = 1; a < arguments.length; a++) {
                          var o = null != arguments[a] ? arguments[a] : {};
                          a % 2
                            ? ownKeys(Object(o), !0).forEach(function (a) {
                                (0, _['default'])(i, a, o[a]);
                              })
                            : Object.getOwnPropertyDescriptors
                            ? Object.defineProperties(
                                i,
                                Object.getOwnPropertyDescriptors(o)
                              )
                            : ownKeys(Object(o)).forEach(function (a) {
                                Object.defineProperty(
                                  i,
                                  a,
                                  Object.getOwnPropertyDescriptor(o, a)
                                );
                              });
                        }
                        return i;
                      })(
                        {
                          reference: i.id,
                          'is-active': i.active,
                          name: i.id,
                          playable: !0,
                        },
                        i
                      );
                    }),
                    a = this.player.getVariantTracks(),
                    o = this.player.getAudioLanguages().map(function (i) {
                      var o = a.filter(function (a) {
                          return a.language === i;
                        }),
                        p =
                          a.filter(function (a) {
                            return a.language === i && a.active;
                          }).length > 0;
                      return {
                        reference: o[0].id || 'audio-'.concat(i),
                        name: o[0].label || i,
                        playable: !0,
                        'is-active': p,
                        'is-closed-caption': !1,
                        roles: o[0].roles,
                        type: 'audio',
                        language: i,
                      };
                    }),
                    p = this.player.isTextTrackVisible();
                  return {
                    audio: o,
                    text: this.player.getTextTracks().map(function (i) {
                      return {
                        reference: i.id || 'text-'.concat(i.language),
                        name: i.label || i.language,
                        playable: !0,
                        'is-active': p && i.active,
                        'is-closed-caption': 'caption' === i.kind,
                        roles: i.roles,
                        type: 'text',
                        language: i.language,
                      };
                    }),
                    video: i,
                  };
                },
              },
              {
                key: 'applyTracks',
                value:
                  ((a = (0, I['default'])(
                    x['default'].mark(function _callee2(i) {
                      var a, o, p, m;
                      return x['default'].wrap(
                        function _callee2$(_) {
                          for (;;)
                            switch ((_.prev = _.next)) {
                              case 0:
                                (a = i.sort(function (i, a) {
                                  return i.enable - a.enable;
                                })),
                                  (p = 0);
                              case 2:
                                if (!(p < a.length)) {
                                  _.next = 20;
                                  break;
                                }
                                if (!(m = a[p]).enable) {
                                  _.next = 16;
                                  break;
                                }
                                if ('text' !== m.track.type) {
                                  _.next = 11;
                                  break;
                                }
                                return (
                                  (_.next = 8),
                                  this.player.selectTextLanguage(
                                    m.track.language,
                                    m.track.roles[0]
                                  )
                                );
                              case 8:
                                (o = !0), (_.next = 14);
                                break;
                              case 11:
                                if ('audio' !== m.track.type) {
                                  _.next = 14;
                                  break;
                                }
                                return (
                                  (_.next = 14),
                                  this.player.selectAudioLanguage(
                                    m.track.language
                                  )
                                );
                              case 14:
                                _.next = 17;
                                break;
                              case 16:
                                'text' === m.track.type && (o = !1);
                              case 17:
                                (p += 1), (_.next = 2);
                                break;
                              case 20:
                                if (o === undefined) {
                                  _.next = 23;
                                  break;
                                }
                                return (
                                  (_.next = 23),
                                  this.player.setTextTrackVisibility(o || !1)
                                );
                              case 23:
                                return _.abrupt('return', this.getTracks());
                              case 24:
                              case 'end':
                                return _.stop();
                            }
                        },
                        _callee2,
                        this
                      );
                    })
                  )),
                  function applyTracks(i) {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: 'setSource',
                value: function setSource(i, a) {
                  if (!this.player)
                    throw new et['default'](
                      et['default'].Severity.RECOVERABLE,
                      et['default'].Category.PLAYER,
                      et['default'].Code.FAILED_TO_CREATE_SESSION,
                      'player_was_destroyed'
                    );
                  (this.stream = i),
                    (this.restrictions_ = at),
                    this.player.resetConfiguration();
                  var o = {
                    textDisplayFactory: function textDisplayFactory(i, a, o) {
                      return new nt['default'](a, o);
                    }.bind(null, this, this.element, this.subsContainer),
                    closedCaptionParserFactory:
                      function closedCaptionParserFactory() {
                        return new rt['default']();
                      },
                    manifest: {
                      retryParameters: { timeout: 0 },
                      dash: {
                        defaultPresentationDelay:
                          a.liveDelay ||
                          (a.streaming.liveDelay &&
                            a.streaming.liveDelay / 1e3),
                        autoCorrectDrift: !0,
                      },
                    },
                    streaming: {
                      startAtSegmentBoundary: !0,
                      forceTransmuxTS: !0,
                      jumpLargeGaps: !0,
                      retryParameters: { timeout: 0 },
                      rebufferingGoal:
                        a.streaming.rebufferingGoal &&
                        a.streaming.rebufferingGoal / 1e3,
                      bufferingGoal:
                        a.streaming.bufferingGoal &&
                        a.streaming.bufferingGoal / 1e3,
                      bufferBehind:
                        a.streaming.bufferBehind &&
                        a.streaming.bufferBehind / 1e3,
                    },
                    drm: { retryParameters: { timeout: 0 } },
                    abr: {
                      switchInterval:
                        a.abr.switchInterval && a.abr.switchInterval / 1e3,
                      keepAudioQualityConstant: a.abr.keepAudioQualityConstant,
                      keepAudioQualityConstantBitrate:
                        a.abr.keepAudioQualityConstantBitrate,
                    },
                    abrFactory: tt['default'],
                    preferredAudioLanguage: a.preferredAudioLanguages
                      ? a.preferredAudioLanguages[0]
                      : '',
                    preferredTextLanguage: a.preferredTextLanguages
                      ? a.preferredTextLanguages[0]
                      : '',
                    preferredTextRole: a.preferredTextRoles
                      ? a.preferredTextRoles[0]
                      : '',
                  };
                  (o.restrictions = it(this.restrictions_)),
                    this.initialBandwidthEstimate_ &&
                      (o.abr.defaultBandwidthEstimate =
                        this.initialBandwidthEstimate_);
                  var p = { servers: {}, advanced: {} };
                  return (
                    (i['hbola.operator_id'] ||
                      i['hbola.country_id'] ||
                      i['hbola.token_id']) &&
                      (p.hbola = {
                        operatorID: i['hbola.operator_id'],
                        countryID: i['hbola.country_id'],
                        tokenID: i['hbola.token_id'],
                      }),
                    (i['widevine.license_server'] || 'widevine' === i.scheme) &&
                      ((p.servers['com.widevine.alpha'] =
                        i['widevine.license_server'] || i.server),
                      (p.advanced['com.widevine.alpha'] = {
                        videoRobustness: 'SW_SECURE_CRYPTO',
                        audioRobustness: 'SW_SECURE_CRYPTO',
                        authMethod: i['widevine.auth_method'],
                        serverCertificate: i['widevine.certificate'],
                      }),
                      (p.licenseRequestExtraHeaders =
                        i['widevine.license_request_headers'] || {})),
                    i.clear_keys && (p.clearKeys = i.clear_keys),
                    (o.drm = p),
                    this.player.configure(o),
                    this.player.attach(this.element, !1),
                    this.player
                      .load(
                        i.uri,
                        a.startPosition ? a.startPosition / 1e3 : undefined
                      )
                      ['catch'](function (i) {
                        throw (
                          (i.detail && (i = i.detail),
                          (0, et.veygaToVipError)(i))
                        );
                      })
                  );
                },
              },
              {
                key: 'setMaxResolution',
                value: function setMaxResolution(i, a) {
                  this.player.setMaxHardwareResolution(i, a);
                },
              },
              {
                key: 'setAbrRestrictions',
                value: function setAbrRestrictions(i) {
                  var a = (0, w['default'])({}, at, it(i));
                  this.restrictions_ = a;
                  var o = { restrictions: a };
                  this.player.configure(o);
                },
              },
              {
                key: 'setInitialBandwidthEstimate',
                value: function setInitialBandwidthEstimate(i) {
                  this.initialBandwidthEstimate_ = i;
                  var a = { abr: { defaultBandwidthEstimate: i } };
                  this.player.configure(a);
                },
              },
              {
                key: 'getStats',
                value: function getStats() {
                  return this.player.getStats();
                },
              },
            ],
            [
              {
                key: 'setup',
                value: function setup() {
                  var i = veyga();
                  if ((i.polyfill.installAll(), !i.Player.isBrowserSupported()))
                    throw new Error('browser_not_supported');
                },
              },
            ]
          ),
          PlayerVeyga
        );
      })(Se['default']);
    (a['default'] = ot), (ot.id = xe['default'].VEYGA);
  },
  function (i, a, o) {
    var p = o(94);
    function _getRequireWildcardCache() {
      if ('function' != typeof WeakMap) return null;
      var i = new WeakMap();
      return (
        (_getRequireWildcardCache = function _getRequireWildcardCache() {
          return i;
        }),
        i
      );
    }
    i.exports = function _interopRequireWildcard(i) {
      if (i && i.__esModule) return i;
      if (null === i || ('object' !== p(i) && 'function' != typeof i))
        return { default: i };
      var a = _getRequireWildcardCache();
      if (a && a.has(i)) return a.get(i);
      var o = {},
        m = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var _ in i)
        if (Object.prototype.hasOwnProperty.call(i, _)) {
          var w = m ? Object.getOwnPropertyDescriptor(i, _) : null;
          w && (w.get || w.set)
            ? Object.defineProperty(o, _, w)
            : (o[_] = i[_]);
        }
      return (o['default'] = i), a && a.set(i, o), o;
    };
  },
  function (i, a) {
    i.exports = function _defineProperty(i, a, o) {
      return (
        a in i
          ? Object.defineProperty(i, a, {
              value: o,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (i[a] = o),
        i
      );
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(42).findIndex,
      _ = o(123),
      w = o(52),
      x = 'findIndex',
      I = !0,
      D = w(x);
    x in [] &&
      Array(1).findIndex(function () {
        I = !1;
      }),
      p(
        { target: 'Array', proto: !0, forced: I || !D },
        {
          findIndex: function findIndex(i) {
            return m(this, i, arguments.length > 1 ? arguments[1] : undefined);
          },
        }
      ),
      _(x);
  },
  function (i, a, o) {
    o(0)({ target: 'Object', stat: !0 }, { is: o(230) });
  },
  function (i, a, o) {
    var p = o(0),
      m = o(8),
      _ = o(119).onFreeze,
      w = o(224),
      x = o(1),
      I = Object.seal;
    p(
      {
        target: 'Object',
        stat: !0,
        forced: x(function () {
          I(1);
        }),
        sham: !w,
      },
      {
        seal: function seal(i) {
          return I && m(i) ? I(_(i)) : i;
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(2),
      m = o(133).trim,
      _ = o(134),
      w = p.parseFloat,
      x = 1 / w(_ + '-0') != -Infinity;
    i.exports = x
      ? function parseFloat(i) {
          var a = m(String(i)),
            o = w(a);
          return 0 === o && '-' == a.charAt(0) ? -0 : o;
        }
      : w;
  },
  function (i, a, o) {
    var p = o(2),
      m = o(133).trim,
      _ = o(134),
      w = p.parseInt,
      x = /^[+-]?0[Xx]/,
      I = 8 !== w(_ + '08') || 22 !== w(_ + '0x16');
    i.exports = I
      ? function parseInt(i, a) {
          var o = m(String(i));
          return w(o, a >>> 0 || (x.test(o) ? 16 : 10));
        }
      : w;
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(68),
      _ = o(214),
      w = o(1),
      x = o(62),
      I = o(71),
      D = o(217),
      j = o(46);
    p(
      {
        target: 'Promise',
        proto: !0,
        real: !0,
        forced:
          !!_ &&
          w(function () {
            _.prototype['finally'].call(
              { then: function () {} },
              function () {}
            );
          }),
      },
      {
        finally: function (i) {
          var a = I(this, x('Promise')),
            o = 'function' == typeof i;
          return this.then(
            o
              ? function (o) {
                  return D(a, i()).then(function () {
                    return o;
                  });
                }
              : i,
            o
              ? function (o) {
                  return D(a, i()).then(function () {
                    throw o;
                  });
                }
              : i
          );
        },
      }
    ),
      m ||
        'function' != typeof _ ||
        _.prototype['finally'] ||
        j(_.prototype, 'finally', x('Promise').prototype['finally']);
  },
  function (i, a, o) {
    'use strict';
    var p = o(166),
      m = o(225);
    i.exports = p(
      'Set',
      function (i) {
        return function Set() {
          return i(this, arguments.length ? arguments[0] : undefined);
        };
      },
      m
    );
  },
  function (i, a, o) {
    'use strict';
    var p,
      m = o(0),
      _ = o(61).f,
      w = o(10),
      x = o(227),
      I = o(54),
      D = o(228),
      j = o(68),
      K = ''.startsWith,
      q = Math.min,
      $ = D('startsWith');
    m(
      {
        target: 'String',
        proto: !0,
        forced:
          !!(
            j ||
            $ ||
            ((p = _(String.prototype, 'startsWith')), !p || p.writable)
          ) && !$,
      },
      {
        startsWith: function startsWith(i) {
          var a = String(I(this));
          x(i);
          var o = w(
              q(arguments.length > 1 ? arguments[1] : undefined, a.length)
            ),
            p = String(i);
          return K ? K.call(a, p, o) : a.slice(o, o + p.length) === p;
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    var p,
      m = o(2),
      _ = o(88),
      w = o(119),
      x = o(166),
      I = o(314),
      D = o(8),
      j = o(51).enforce,
      K = o(179),
      q = !m.ActiveXObject && 'ActiveXObject' in m,
      $ = Object.isExtensible,
      wrapper = function (i) {
        return function WeakMap() {
          return i(this, arguments.length ? arguments[0] : undefined);
        };
      },
      Z = (i.exports = x('WeakMap', wrapper, I));
    if (K && q) {
      (p = I.getConstructor(wrapper, 'WeakMap', !0)), (w.REQUIRED = !0);
      var be = Z.prototype,
        Se = be['delete'],
        _e = be.has,
        we = be.get,
        xe = be.set;
      _(be, {
        delete: function (i) {
          if (D(i) && !$(i)) {
            var a = j(this);
            return (
              a.frozen || (a.frozen = new p()),
              Se.call(this, i) || a.frozen['delete'](i)
            );
          }
          return Se.call(this, i);
        },
        has: function has(i) {
          if (D(i) && !$(i)) {
            var a = j(this);
            return (
              a.frozen || (a.frozen = new p()),
              _e.call(this, i) || a.frozen.has(i)
            );
          }
          return _e.call(this, i);
        },
        get: function get(i) {
          if (D(i) && !$(i)) {
            var a = j(this);
            return (
              a.frozen || (a.frozen = new p()),
              _e.call(this, i) ? we.call(this, i) : a.frozen.get(i)
            );
          }
          return we.call(this, i);
        },
        set: function set(i, a) {
          if (D(i) && !$(i)) {
            var o = j(this);
            o.frozen || (o.frozen = new p()),
              _e.call(this, i) ? xe.call(this, i, a) : o.frozen.set(i, a);
          } else xe.call(this, i, a);
          return this;
        },
      });
    }
  },
  function (i, a, o) {
    'use strict';
    var p = o(88),
      m = o(119).getWeakData,
      _ = o(11),
      w = o(8),
      x = o(70),
      I = o(138),
      D = o(42),
      j = o(14),
      K = o(51),
      q = K.set,
      $ = K.getterFor,
      Z = D.find,
      be = D.findIndex,
      Se = 0,
      uncaughtFrozenStore = function (i) {
        return i.frozen || (i.frozen = new UncaughtFrozenStore());
      },
      UncaughtFrozenStore = function () {
        this.entries = [];
      },
      findUncaughtFrozen = function (i, a) {
        return Z(i.entries, function (i) {
          return i[0] === a;
        });
      };
    (UncaughtFrozenStore.prototype = {
      get: function (i) {
        var a = findUncaughtFrozen(this, i);
        if (a) return a[1];
      },
      has: function (i) {
        return !!findUncaughtFrozen(this, i);
      },
      set: function (i, a) {
        var o = findUncaughtFrozen(this, i);
        o ? (o[1] = a) : this.entries.push([i, a]);
      },
      delete: function (i) {
        var a = be(this.entries, function (a) {
          return a[0] === i;
        });
        return ~a && this.entries.splice(a, 1), !!~a;
      },
    }),
      (i.exports = {
        getConstructor: function (i, a, o, D) {
          var K = i(function (i, p) {
              x(i, K, a),
                q(i, { type: a, id: Se++, frozen: undefined }),
                p != undefined && I(p, i[D], i, o);
            }),
            Z = $(a),
            define = function (i, a, o) {
              var p = Z(i),
                w = m(_(a), !0);
              return (
                !0 === w ? uncaughtFrozenStore(p).set(a, o) : (w[p.id] = o), i
              );
            };
          return (
            p(K.prototype, {
              delete: function (i) {
                var a = Z(this);
                if (!w(i)) return !1;
                var o = m(i);
                return !0 === o
                  ? uncaughtFrozenStore(a)['delete'](i)
                  : o && j(o, a.id) && delete o[a.id];
              },
              has: function has(i) {
                var a = Z(this);
                if (!w(i)) return !1;
                var o = m(i);
                return !0 === o
                  ? uncaughtFrozenStore(a).has(i)
                  : o && j(o, a.id);
              },
            }),
            p(
              K.prototype,
              o
                ? {
                    get: function get(i) {
                      var a = Z(this);
                      if (w(i)) {
                        var o = m(i);
                        return !0 === o
                          ? uncaughtFrozenStore(a).get(i)
                          : o
                          ? o[a.id]
                          : undefined;
                      }
                    },
                    set: function set(i, a) {
                      return define(this, i, a);
                    },
                  }
                : {
                    add: function add(i) {
                      return define(this, i, !0);
                    },
                  }
            ),
            K
          );
        },
      });
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(91),
      o(55),
      o(86),
      o(49),
      o(3),
      o(173),
      o(78),
      o(43),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(79)),
      x = p(o(80)),
      I = p(o(67)),
      D = p(o(65)),
      j = p(o(171)),
      K = p(o(316));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, I['default'])(i);
        if (a) {
          var m = (0, I['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, x['default'])(this, o);
      };
    }
    var q = (function whichVeyga() {
        return window.veyga ? window.veyga : j['default'];
      })(),
      $ = (function (i) {
        (0, w['default'])(PlayerVeygaAbrFactory, i);
        var a = _createSuper(PlayerVeygaAbrFactory);
        function PlayerVeygaAbrFactory() {
          var i;
          return (
            (0, m['default'])(this, PlayerVeygaAbrFactory),
            ((i = a.call(this)).switch_ = null),
            (i.enabled_ = !1),
            (i.bandwidthEstimator_ = new K['default']()),
            (i.variants_ = []),
            (i.startupComplete_ = !1),
            (i.lastTimeChosenMs_ = null),
            (i.config_ = null),
            i
          );
        }
        return (
          (0, _['default'])(
            PlayerVeygaAbrFactory,
            [
              {
                key: 'stop',
                value: function stop() {
                  (this.switch_ = null),
                    (this.enabled_ = !1),
                    (this.variants_ = []),
                    (this.lastTimeChosenMs_ = null);
                },
              },
              {
                key: 'init',
                value: function init(i) {
                  this.switch_ = i;
                },
              },
              {
                key: 'chooseVariant',
                value: function chooseVariant() {
                  var i = PlayerVeygaAbrFactory.filterAndSortVariants_(
                      this.config_.restrictions,
                      this.variants_
                    ),
                    a = this.bandwidthEstimator_.getBandwidthEstimate(
                      this.config_.defaultBandwidthEstimate
                    );
                  this.variants_.length &&
                    !i.length &&
                    (D['default'].warn(
                      'No variants met the ABR restrictions. Choosing a variant by lowest bandwidth.'
                    ),
                    (i = [
                      (i = PlayerVeygaAbrFactory.filterAndSortVariants_(
                        null,
                        this.variants_
                      ))[0],
                    ]));
                  var o = i[0] || null;
                  PlayerVeygaAbrFactory.LOG_ABR &&
                    D['default'].debug(
                      'bw',
                      a,
                      'variants',
                      i.map(q.abr.SimpleAbrManager.varTag)
                    );
                  for (var p = 0; p < i.length; p += 1) {
                    var m = i[p],
                      _ = i[p + 1] || { bandwidth: Infinity },
                      w = m.bandwidth / this.config_.bandwidthDowngradeTarget,
                      x = _.bandwidth / this.config_.bandwidthUpgradeTarget;
                    a >= w &&
                      a <= x &&
                      (PlayerVeygaAbrFactory.LOG_ABR &&
                        D['default'].debug(
                          'variant #'
                            .concat(p, ' ')
                            .concat(
                              q.abr.SimpleAbrManager.varTag(m),
                              ' ok, min '
                            )
                            .concat(w, ', max ')
                            .concat(x)
                        ),
                      (o = m));
                  }
                  return (
                    PlayerVeygaAbrFactory.LOG_ABR &&
                      D['default'].debug(
                        'chosenVariant',
                        q.abr.SimpleAbrManager.varTag(o)
                      ),
                    (this.lastTimeChosenMs_ = Date.now()),
                    o
                  );
                },
              },
              {
                key: 'enable',
                value: function enable() {
                  this.enabled_ = !0;
                },
              },
              {
                key: 'disable',
                value: function disable() {
                  this.enabled_ = !1;
                },
              },
              {
                key: 'segmentDownloaded',
                value: function segmentDownloaded(i, a) {
                  this.bandwidthEstimator_.sample(i, a),
                    null != this.lastTimeChosenMs_ &&
                      this.enabled_ &&
                      this.suggestStreams_();
                },
              },
              {
                key: 'getBandwidthEstimate',
                value: function getBandwidthEstimate() {
                  return this.bandwidthEstimator_.getBandwidthEstimate(
                    this.config_.defaultBandwidthEstimate
                  );
                },
              },
              {
                key: 'setVariants',
                value: function setVariants(i) {
                  var a = this,
                    o = i.sort(function (i, a) {
                      return i.bandwidth - a.bandwidth;
                    }),
                    p = 0,
                    m = {},
                    _ = {},
                    w = o.filter(function (i) {
                      return (
                        i.audio &&
                          i.audio.bandwidth &&
                          (m[i.audio.bandwidth] = !0),
                        i.video && i.video.bandwidth
                          ? ((_[i.video.bandwidth] = !0),
                            i.video.bandwidth >= p &&
                              ((p = i.video.bandwidth), !0))
                          : ((_[0] = !0), !0)
                      );
                    }),
                    x = Object.keys(m)
                      .map(function (i) {
                        return parseInt(i, 10);
                      })
                      .sort(function (i, a) {
                        return i - a;
                      });
                  if (
                    this.config_.keepAudioQualityConstant ||
                    this.config_.keepAudioQualityConstantBitrate
                  ) {
                    var I;
                    if (this.config_.keepAudioQualityConstantBitrate) {
                      var D = x
                        .map(function (i, o) {
                          return [
                            o,
                            Math.abs(
                              i - a.config_.keepAudioQualityConstantBitrate
                            ),
                          ];
                        })
                        .sort(function (i, a) {
                          return i[1] - a[1];
                        });
                      I = x[D[0][0]];
                    } else {
                      var j = Math.ceil((x.length - 1) / 2);
                      I = x[j];
                    }
                    this.variants_ = w.filter(function (i) {
                      return (
                        !(!i.audio || !i.audio.bandwidth) &&
                        i.audio.bandwidth === I
                      );
                    });
                  } else {
                    for (
                      var K = Object.keys(_)
                          .map(function (i) {
                            return parseInt(i, 10);
                          })
                          .sort(function (i, a) {
                            return i - a;
                          }),
                        q = 0 === _[0] ? 1 : 0,
                        $ = K.length - q,
                        Z = 0;
                      Z < K.length;
                      Z += 1
                    ) {
                      var be = K[Z],
                        Se = Math.ceil(((x.length - 1) * (Z - q)) / $);
                      _[be] = x[Se];
                    }
                    this.variants_ = w.filter(function (i) {
                      return (
                        !i.audio ||
                        !i.audio.bandwidth ||
                        !i.video ||
                        !i.video.bandwidth ||
                        i.audio.bandwidth === _[i.video.bandwidth]
                      );
                    });
                  }
                },
              },
              {
                key: 'configure',
                value: function configure(i) {
                  this.config_ = i;
                },
              },
              {
                key: 'suggestStreams_',
                value: function suggestStreams_() {
                  if (this.startupComplete_) {
                    if (
                      Date.now() - this.lastTimeChosenMs_ <
                      1e3 * this.config_.switchInterval
                    )
                      return;
                  } else {
                    if (!this.bandwidthEstimator_.hasGoodEstimate()) return;
                    this.startupComplete_ = !0;
                  }
                  var i = this.chooseVariant();
                  this.switch_(i);
                },
              },
            ],
            [
              {
                key: 'varTag',
                value: function varTag(i) {
                  return i.video.bandwidth
                    ? 'v:'
                        .concat(i.video.bandwidth, ':a:')
                        .concat(i.audio.bandwidth)
                    : ''.concat(i.bandwidth);
                },
              },
              {
                key: 'filterAndSortVariants_',
                value: function filterAndSortVariants_(i, a) {
                  return (
                    i &&
                      (a = a.filter(function (a) {
                        return q.util.StreamUtils.meetsRestrictions(a, i, {
                          width: Infinity,
                          height: Infinity,
                        });
                      })),
                    a
                  );
                },
              },
            ]
          ),
          PlayerVeygaAbrFactory
        );
      })(q.abr.SimpleAbrManager);
    $.LOG_ABR = !1;
    var Z = $;
    a['default'] = Z;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(317)),
      x = (function () {
        function EwmaBandwidthEstimator() {
          (0, m['default'])(this, EwmaBandwidthEstimator),
            (this.fast_ = new w['default'](2)),
            (this.slow_ = new w['default'](5)),
            (this.bytesSampled_ = 0),
            (this.minTotalBytes_ = 128e3),
            (this.minBytes_ = 16e3);
        }
        return (
          (0, _['default'])(EwmaBandwidthEstimator, [
            {
              key: 'sample',
              value: function sample(i, a) {
                if (!(a < this.minBytes_)) {
                  var o = (8e3 * a) / i,
                    p = i / 1e3;
                  (this.bytesSampled_ += a),
                    this.fast_.sample(p, o),
                    this.slow_.sample(p, o);
                }
              },
            },
            {
              key: 'getBandwidthEstimate',
              value: function getBandwidthEstimate(i) {
                return this.bytesSampled_ < this.minTotalBytes_
                  ? i
                  : Math.min(
                      this.fast_.getEstimate(),
                      this.slow_.getEstimate()
                    );
              },
            },
            {
              key: 'hasGoodEstimate',
              value: function hasGoodEstimate() {
                return this.bytesSampled_ >= this.minTotalBytes_;
              },
            },
          ]),
          EwmaBandwidthEstimator
        );
      })();
    a['default'] = x;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(98),
      o(141),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function Ewma(i) {
          (0, m['default'])(this, Ewma),
            (this.alpha_ = Math.exp(Math.log(0.5) / i)),
            (this.estimate_ = 0),
            (this.totalWeight_ = 0);
        }
        return (
          (0, _['default'])(Ewma, [
            {
              key: 'sample',
              value: function sample(i, a) {
                var o = Math.pow(this.alpha_, i),
                  p = a * (1 - o) + o * this.estimate_;
                Number.isNaN(p) ||
                  ((this.estimate_ = p), (this.totalWeight_ += i));
              },
            },
            {
              key: 'getEstimate',
              value: function getEstimate() {
                var i = 1 - Math.pow(this.alpha_, this.totalWeight_);
                return this.estimate_ / i;
              },
            },
          ]),
          Ewma
        );
      })();
    a['default'] = w;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(45),
      o(3),
      o(78),
      o(43),
      o(48),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = p(o(142)),
      x = p(o(79)),
      I = p(o(80)),
      D = p(o(67)),
      j = p(o(95)),
      K = p(o(96)),
      q = o(319);
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, D['default'])(i);
        if (a) {
          var m = (0, D['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, I['default'])(this, o);
      };
    }
    var $ = (function (i) {
      (0, x['default'])(PlayerVeygaClosedCaptionParser, i);
      var a = _createSuper(PlayerVeygaClosedCaptionParser);
      function PlayerVeygaClosedCaptionParser() {
        var i;
        return (
          (0, m['default'])(this, PlayerVeygaClosedCaptionParser),
          ((i = a.call(this)).parsers = [
            new q.Cea608Parser(
              1,
              { newCue: i.newCue.bind((0, w['default'])(i), 'CC1') },
              { newCue: i.newCue.bind((0, w['default'])(i), 'CC2') }
            ),
            new q.Cea608Parser(
              2,
              { newCue: i.newCue.bind((0, w['default'])(i), 'CC3') },
              { newCue: i.newCue.bind((0, w['default'])(i), 'CC4') }
            ),
          ]),
          i
        );
      }
      return (
        (0, _['default'])(PlayerVeygaClosedCaptionParser, [
          {
            key: 'newCue',
            value: function newCue(i, a, o, p) {
              var m = new q.CaptionScreen();
              m.copy(p),
                this.dispatchEvent(
                  new j['default']('data', {
                    startPts: a,
                    endPts: o,
                    stream: i,
                    text: m,
                  })
                );
            },
          },
          {
            key: 'addData',
            value: function addData(i) {
              var a = this;
              i.forEach(function (i) {
                var o = i.ccData;
                a.parsers[i.type] &&
                  a.parsers[i.type].addData(i.pts, [o >> 8, 255 & o]);
              });
            },
          },
        ]),
        PlayerVeygaClosedCaptionParser
      );
    })(K['default']);
    a['default'] = $;
  },
  function (i, a, o) {
    'use strict';
    o(92),
      o(90),
      o(3),
      o(43),
      o(93),
      o(135),
      (function (i) {
        var a = {
            42: 225,
            92: 233,
            94: 237,
            95: 243,
            96: 250,
            123: 231,
            124: 247,
            125: 209,
            126: 241,
            127: 9608,
            128: 174,
            129: 176,
            130: 189,
            131: 191,
            132: 8482,
            133: 162,
            134: 163,
            135: 9834,
            136: 224,
            137: 32,
            138: 232,
            139: 226,
            140: 234,
            141: 238,
            142: 244,
            143: 251,
            144: 193,
            145: 201,
            146: 211,
            147: 218,
            148: 220,
            149: 252,
            150: 8216,
            151: 161,
            152: 42,
            153: 8217,
            154: 9473,
            155: 169,
            156: 8480,
            157: 8226,
            158: 8220,
            159: 8221,
            160: 192,
            161: 194,
            162: 199,
            163: 200,
            164: 202,
            165: 203,
            166: 235,
            167: 206,
            168: 207,
            169: 239,
            170: 212,
            171: 217,
            172: 249,
            173: 219,
            174: 171,
            175: 187,
            176: 195,
            177: 227,
            178: 205,
            179: 204,
            180: 236,
            181: 210,
            182: 242,
            183: 213,
            184: 245,
            185: 123,
            186: 125,
            187: 92,
            188: 94,
            189: 95,
            190: 124,
            191: 8764,
            192: 196,
            193: 228,
            194: 214,
            195: 246,
            196: 223,
            197: 165,
            198: 164,
            199: 9475,
            200: 197,
            201: 229,
            202: 216,
            203: 248,
            204: 9487,
            205: 9491,
            206: 9495,
            207: 9499,
          },
          o = function getCharForByte(i) {
            var o = i;
            return a.hasOwnProperty(i) && (o = a[i]), String.fromCharCode(o);
          },
          p = 15,
          m = 32,
          _ = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 },
          w = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 },
          x = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 },
          I = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 },
          D = [
            'white',
            'green',
            'blue',
            'cyan',
            'red',
            'yellow',
            'magenta',
            'black',
            'transparent',
          ],
          j = {
            verboseFilter: {
              DATA: 3,
              DEBUG: 3,
              INFO: 2,
              WARNING: 2,
              TEXT: 1,
              ERROR: 0,
            },
            time: null,
            verboseLevel: 0,
            setTime: function setTime(i) {
              this.time = i;
            },
            log: function log(i, a) {
              var o = this.verboseFilter[i];
              this.verboseLevel >= o &&
                console.log(this.time + ' [' + i + '] ' + a);
            },
          },
          K = function numArrayToHexArray(i) {
            for (var a = [], o = 0; o < i.length; o++)
              a.push(i[o].toString(16));
            return a;
          },
          q = function PenState(i, a, o, p, m) {
            (this.foreground = i || 'white'),
              (this.underline = a || !1),
              (this.italics = o || !1),
              (this.background = p || 'black'),
              (this.flash = m || !1);
          };
        q.prototype = {
          reset: function reset() {
            (this.foreground = 'white'),
              (this.underline = !1),
              (this.italics = !1),
              (this.background = 'black'),
              (this.flash = !1);
          },
          setStyles: function setStyles(i) {
            for (
              var a = [
                  'foreground',
                  'underline',
                  'italics',
                  'background',
                  'flash',
                ],
                o = 0;
              o < a.length;
              o++
            ) {
              var p = a[o];
              i.hasOwnProperty(p) && (this[p] = i[p]);
            }
          },
          isDefault: function isDefault() {
            return (
              'white' === this.foreground &&
              !this.underline &&
              !this.italics &&
              'black' === this.background &&
              !this.flash
            );
          },
          equals: function equals(i) {
            return (
              this.foreground === i.foreground &&
              this.underline === i.underline &&
              this.italics === i.italics &&
              this.background === i.background &&
              this.flash === i.flash
            );
          },
          copy: function copy(i) {
            (this.foreground = i.foreground),
              (this.underline = i.underline),
              (this.italics = i.italics),
              (this.background = i.background),
              (this.flash = i.flash);
          },
          toString: function toString() {
            return (
              'color=' +
              this.foreground +
              ', underline=' +
              this.underline +
              ', italics=' +
              this.italics +
              ', background=' +
              this.background +
              ', flash=' +
              this.flash
            );
          },
        };
        var $ = function StyledUnicodeChar(i, a, o, p, m, _) {
          (this.uchar = i || ' '), (this.penState = new q(a, o, p, m, _));
        };
        $.prototype = {
          reset: function reset() {
            (this.uchar = ' '), this.penState.reset();
          },
          setChar: function setChar(i, a) {
            (this.uchar = i), this.penState.copy(a);
          },
          setPenState: function setPenState(i) {
            this.penState.copy(i);
          },
          equals: function equals(i) {
            return this.uchar === i.uchar && this.penState.equals(i.penState);
          },
          copy: function copy(i) {
            (this.uchar = i.uchar), this.penState.copy(i.penState);
          },
          isEmpty: function isEmpty() {
            return ' ' === this.uchar && this.penState.isDefault();
          },
        };
        var Z = function Row() {
          this.chars = [];
          for (var i = 0; i < m; i++) this.chars.push(new $());
          (this.pos = 0), (this.currPenState = new q());
        };
        Z.prototype = {
          equals: function equals(i) {
            for (var a = !0, o = 0; o < m; o++)
              if (!this.chars[o].equals(i.chars[o])) {
                a = !1;
                break;
              }
            return a;
          },
          copy: function copy(i) {
            for (var a = 0; a < m; a++) this.chars[a].copy(i.chars[a]);
          },
          isEmpty: function isEmpty() {
            for (var i = !0, a = 0; a < m; a++)
              if (!this.chars[a].isEmpty()) {
                i = !1;
                break;
              }
            return i;
          },
          setCursor: function setCursor(i) {
            this.pos !== i && (this.pos = i),
              this.pos < 0
                ? (j.log('ERROR', 'Negative cursor position ' + this.pos),
                  (this.pos = 0))
                : this.pos > m &&
                  (j.log('ERROR', 'Too large cursor position ' + this.pos),
                  (this.pos = m));
          },
          moveCursor: function moveCursor(i) {
            var a = this.pos + i;
            if (i > 1)
              for (var o = this.pos + 1; o < a + 1; o++)
                this.chars[o].setPenState(this.currPenState);
            this.setCursor(a);
          },
          backSpace: function backSpace() {
            this.moveCursor(-1),
              this.chars[this.pos].setChar(' ', this.currPenState);
          },
          insertChar: function insertChar(i) {
            i >= 144 && this.backSpace();
            var a = o(i);
            this.pos >= m
              ? j.log(
                  'ERROR',
                  'Cannot insert ' +
                    i.toString(16) +
                    ' (' +
                    a +
                    ') at position ' +
                    this.pos +
                    '. Skipping it!'
                )
              : (this.chars[this.pos].setChar(a, this.currPenState),
                this.moveCursor(1));
          },
          clearFromPos: function clearFromPos(i) {
            var a;
            for (a = i; a < m; a++) this.chars[a].reset();
          },
          clear: function clear() {
            this.clearFromPos(0), (this.pos = 0), this.currPenState.reset();
          },
          clearToEndOfRow: function clearToEndOfRow() {
            this.clearFromPos(this.pos);
          },
          getTextString: function getTextString() {
            for (var i = [], a = !0, o = 0; o < m; o++) {
              var p = this.chars[o].uchar;
              ' ' !== p && (a = !1), i.push(p);
            }
            return a ? '' : i.join('');
          },
          setPenStyles: function setPenStyles(i) {
            this.currPenState.setStyles(i),
              this.chars[this.pos].setPenState(this.currPenState);
          },
        };
        var be = function CaptionScreen() {
          this.rows = [];
          for (var i = 0; i < p; i++) this.rows.push(new Z());
          (this.currRow = 14), (this.nrRollUpRows = null), this.reset();
        };
        be.prototype = {
          reset: function reset() {
            for (var i = 0; i < p; i++) this.rows[i].clear();
            this.currRow = 14;
          },
          equals: function equals(i) {
            for (var a = !0, o = 0; o < p; o++)
              if (!this.rows[o].equals(i.rows[o])) {
                a = !1;
                break;
              }
            return a;
          },
          copy: function copy(i) {
            for (var a = 0; a < p; a++) this.rows[a].copy(i.rows[a]);
          },
          isEmpty: function isEmpty() {
            for (var i = !0, a = 0; a < p; a++)
              if (!this.rows[a].isEmpty()) {
                i = !1;
                break;
              }
            return i;
          },
          backSpace: function backSpace() {
            this.rows[this.currRow].backSpace();
          },
          clearToEndOfRow: function clearToEndOfRow() {
            this.rows[this.currRow].clearToEndOfRow();
          },
          insertChar: function insertChar(i) {
            this.rows[this.currRow].insertChar(i);
          },
          setPen: function setPen(i) {
            this.rows[this.currRow].setPenStyles(i);
          },
          moveCursor: function moveCursor(i) {
            this.rows[this.currRow].moveCursor(i);
          },
          setCursor: function setCursor(i) {
            j.log('INFO', 'setCursor: ' + i),
              this.rows[this.currRow].setCursor(i);
          },
          setPAC: function setPAC(i) {
            j.log('INFO', 'pacData = ' + JSON.stringify(i));
            var a = i.row - 1;
            this.nrRollUpRows &&
              a < this.nrRollUpRows - 1 &&
              (a = this.nrRollUpRows - 1),
              (this.currRow = a);
            var o = this.rows[this.currRow];
            if (null !== i.indent) {
              var p = i.indent,
                m = Math.max(p - 1, 0);
              o.setCursor(i.indent), (i.color = o.chars[m].penState.foreground);
            }
            var _ = {
              foreground: i.color,
              underline: i.underline,
              italics: i.italics,
              background: 'black',
              flash: !1,
            };
            this.setPen(_);
          },
          setBkgData: function setBkgData(i) {
            j.log('INFO', 'bkgData = ' + JSON.stringify(i)),
              this.backSpace(),
              this.setPen(i),
              this.insertChar(32);
          },
          setRollUpRows: function setRollUpRows(i) {
            this.nrRollUpRows = i;
          },
          rollUp: function rollUp() {
            if (null !== this.nrRollUpRows) {
              j.log('TEXT', this.getDisplayText());
              var i = this.currRow + 1 - this.nrRollUpRows,
                a = this.rows.splice(i, 1)[0];
              a.clear(),
                this.rows.splice(this.currRow, 0, a),
                j.log('INFO', 'Rolling up');
            } else j.log('DEBUG', 'roll_up but nrRollUpRows not set yet');
          },
          getDisplayText: function getDisplayText(i) {
            i = i || !1;
            for (var a = [], o = '', m = -1, _ = 0; _ < p; _++) {
              var w = this.rows[_].getTextString();
              w &&
                ((m = _ + 1),
                i ? a.push('Row ' + m + ': "' + w + '"') : a.push(w.trim()));
            }
            return (
              a.length > 0 &&
                (o = i ? '[' + a.join(' | ') + ']' : a.join('\n')),
              o
            );
          },
          getTextAndFormat: function getTextAndFormat() {
            return this.rows;
          },
        };
        var Se = function Cea608Channel(i, a) {
          (this.chNr = i),
            (this.outputFilter = a),
            (this.mode = null),
            (this.verbose = 0),
            (this.displayedMemory = new be()),
            (this.nonDisplayedMemory = new be()),
            (this.lastOutputScreen = new be()),
            (this.currRollUpRow = this.displayedMemory.rows[14]),
            (this.writeScreen = this.displayedMemory),
            (this.mode = null),
            (this.cueStartTime = null);
        };
        Se.prototype = {
          modes: ['MODE_ROLL-UP', 'MODE_POP-ON', 'MODE_PAINT-ON', 'MODE_TEXT'],
          reset: function reset() {
            (this.mode = null),
              this.displayedMemory.reset(),
              this.nonDisplayedMemory.reset(),
              this.lastOutputScreen.reset(),
              (this.currRollUpRow = this.displayedMemory.rows[14]),
              (this.writeScreen = this.displayedMemory),
              (this.mode = null),
              (this.cueStartTime = null),
              (this.lastCueEndTime = null);
          },
          getHandler: function getHandler() {
            return this.outputFilter;
          },
          setHandler: function setHandler(i) {
            this.outputFilter = i;
          },
          setPAC: function setPAC(i) {
            this.writeScreen.setPAC(i);
          },
          setBkgData: function setBkgData(i) {
            this.writeScreen.setBkgData(i);
          },
          setMode: function setMode(i) {
            i !== this.mode &&
              ((this.mode = i),
              j.log('INFO', 'MODE=' + i),
              'MODE_POP-ON' == this.mode
                ? (this.writeScreen = this.nonDisplayedMemory)
                : ((this.writeScreen = this.displayedMemory),
                  this.writeScreen.reset()),
              'MODE_ROLL-UP' !== this.mode &&
                ((this.displayedMemory.nrRollUpRows = null),
                (this.nonDisplayedMemory.nrRollUpRows = null)),
              (this.mode = i));
          },
          insertChars: function insertChars(i) {
            for (var a = 0; a < i.length; a++)
              this.writeScreen.insertChar(i[a]);
            var o =
              this.writeScreen === this.displayedMemory ? 'DISP' : 'NON_DISP';
            j.log('INFO', o + ': ' + this.writeScreen.getDisplayText(!0)),
              ('MODE_PAINT-ON' !== this.mode && 'MODE_ROLL-UP' !== this.mode) ||
                (j.log(
                  'TEXT',
                  'DISPLAYED: ' + this.displayedMemory.getDisplayText(!0)
                ),
                this.outputDataUpdate());
          },
          cc_RCL: function cc_RCL() {
            j.log('INFO', 'RCL - Resume Caption Loading'),
              this.setMode('MODE_POP-ON');
          },
          cc_BS: function cc_BS() {
            j.log('INFO', 'BS - BackSpace'),
              'MODE_TEXT' !== this.mode &&
                (this.writeScreen.backSpace(),
                this.writeScreen === this.displayedMemory &&
                  this.outputDataUpdate());
          },
          cc_AOF: function cc_AOF() {},
          cc_AON: function cc_AON() {},
          cc_DER: function cc_DER() {
            j.log('INFO', 'DER- Delete to End of Row'),
              this.writeScreen.clearToEndOfRow(),
              this.outputDataUpdate();
          },
          cc_RU: function cc_RU(i) {
            j.log('INFO', 'RU(' + i + ') - Roll Up'),
              (this.writeScreen = this.displayedMemory),
              this.setMode('MODE_ROLL-UP'),
              this.writeScreen.setRollUpRows(i);
          },
          cc_FON: function cc_FON() {
            j.log('INFO', 'FON - Flash On'),
              this.writeScreen.setPen({ flash: !0 });
          },
          cc_RDC: function cc_RDC() {
            j.log('INFO', 'RDC - Resume Direct Captioning'),
              this.setMode('MODE_PAINT-ON');
          },
          cc_TR: function cc_TR() {
            j.log('INFO', 'TR'), this.setMode('MODE_TEXT');
          },
          cc_RTD: function cc_RTD() {
            j.log('INFO', 'RTD'), this.setMode('MODE_TEXT');
          },
          cc_EDM: function cc_EDM() {
            j.log('INFO', 'EDM - Erase Displayed Memory'),
              this.displayedMemory.reset(),
              this.outputDataUpdate();
          },
          cc_CR: function cc_CR() {
            j.log('CR - Carriage Return'),
              this.writeScreen.rollUp(),
              this.outputDataUpdate();
          },
          cc_ENM: function cc_ENM() {
            j.log('INFO', 'ENM - Erase Non-displayed Memory'),
              this.nonDisplayedMemory.reset();
          },
          cc_EOC: function cc_EOC() {
            if (
              (j.log('INFO', 'EOC - End Of Caption'),
              'MODE_POP-ON' === this.mode)
            ) {
              var i = this.displayedMemory;
              (this.displayedMemory = this.nonDisplayedMemory),
                (this.nonDisplayedMemory = i),
                (this.writeScreen = this.nonDisplayedMemory),
                j.log('TEXT', 'DISP: ' + this.displayedMemory.getDisplayText());
            }
            this.outputDataUpdate();
          },
          cc_TO: function cc_TO(i) {
            j.log('INFO', 'TO(' + i + ') - Tab Offset'),
              this.writeScreen.moveCursor(i);
          },
          cc_MIDROW: function cc_MIDROW(i) {
            var a = { flash: !1 };
            if (((a.underline = i % 2 == 1), (a.italics = i >= 46), a.italics))
              a.foreground = 'white';
            else {
              var o = Math.floor(i / 2) - 16;
              a.foreground = [
                'white',
                'green',
                'blue',
                'cyan',
                'red',
                'yellow',
                'magenta',
              ][o];
            }
            j.log('INFO', 'MIDROW: ' + JSON.stringify(a)),
              this.writeScreen.setPen(a);
          },
          outputDataUpdate: function outputDataUpdate() {
            var i = j.time;
            null !== i &&
              this.outputFilter &&
              (this.outputFilter.updateData &&
                this.outputFilter.updateData(i, this.displayedMemory),
              null !== this.cueStartTime || this.displayedMemory.isEmpty()
                ? this.displayedMemory.equals(this.lastOutputScreen) ||
                  (this.outputFilter.newCue &&
                    this.outputFilter.newCue(
                      this.cueStartTime,
                      i,
                      this.lastOutputScreen
                    ),
                  (this.cueStartTime = this.displayedMemory.isEmpty()
                    ? null
                    : i))
                : (this.cueStartTime = i),
              this.lastOutputScreen.copy(this.displayedMemory));
          },
          cueSplitAtTime: function cueSplitAtTime(i) {
            this.outputFilter &&
              (this.displayedMemory.isEmpty() ||
                (this.outputFilter.newCue &&
                  this.outputFilter.newCue(
                    this.cueStartTime,
                    i,
                    this.displayedMemory
                  ),
                (this.cueStartTime = i)));
          },
        };
        var _e = function Cea608Parser(i, a, o) {
          (this.field = i || 1),
            (this.outputs = [a, o]),
            (this.channels = [new Se(1, a), new Se(2, o)]),
            (this.currChNr = -1),
            (this.lastCmdA = null),
            (this.lastCmdB = null),
            (this.bufferedData = []),
            (this.startTime = null),
            (this.lastTime = null),
            (this.dataCounters = { padding: 0, char: 0, cmd: 0, other: 0 });
        };
        _e.prototype = {
          getHandler: function getHandler(i) {
            return this.channels[i].getHandler();
          },
          setHandler: function setHandler(i, a) {
            this.channels[i].setHandler(a);
          },
          addData: function addData(i, a) {
            var o,
              p,
              m,
              _ = !1;
            (this.lastTime = i), j.setTime(i);
            for (var w = 0; w < a.length; w += 2)
              if (
                ((p = 127 & a[w]),
                (m = 127 & a[w + 1]),
                p >= 16 &&
                  p <= 31 &&
                  p === this.lastCmdA &&
                  m === this.lastCmdB)
              )
                (this.lastCmdA = null),
                  (this.lastCmdB = null),
                  j.log(
                    'DEBUG',
                    'Repeated command (' + K([p, m]) + ') is dropped'
                  );
              else if (0 !== p || 0 !== m) {
                if (
                  (j.log(
                    'DATA',
                    '[' + K([a[w], a[w + 1]]) + '] -> (' + K([p, m]) + ')'
                  ),
                  (o = this.parseCmd(p, m)) || (o = this.parseMidrow(p, m)),
                  o || (o = this.parsePAC(p, m)),
                  o || (o = this.parseBackgroundAttributes(p, m)),
                  !o)
                )
                  if ((_ = this.parseChars(p, m)))
                    if (this.currChNr && this.currChNr >= 0)
                      this.channels[this.currChNr - 1].insertChars(_);
                    else j.log('WARNING', 'No channel found yet. TEXT-MODE?');
                o
                  ? (this.dataCounters.cmd += 2)
                  : _
                  ? (this.dataCounters.char += 2)
                  : ((this.dataCounters.other += 2),
                    j.log(
                      'WARNING',
                      "Couldn't parse cleaned data " +
                        K([p, m]) +
                        ' orig: ' +
                        K([a[w], a[w + 1]])
                    ));
              } else this.dataCounters.padding += 2;
          },
          parseCmd: function parseCmd(i, a) {
            var o = null;
            if (
              !(
                (20 === i || 21 === i || 28 === i || 29 === i) &&
                32 <= a &&
                a <= 47
              ) &&
              !((23 === i || 31 === i) && 33 <= a && a <= 35)
            )
              return !1;
            o = 20 === i || 21 === i || 23 === i ? 1 : 2;
            var p = this.channels[o - 1];
            return (
              20 === i || 21 === i || 28 === i || 29 === i
                ? 32 === a
                  ? p.cc_RCL()
                  : 33 === a
                  ? p.cc_BS()
                  : 34 === a
                  ? p.cc_AOF()
                  : 35 === a
                  ? p.cc_AON()
                  : 36 === a
                  ? p.cc_DER()
                  : 37 === a
                  ? p.cc_RU(2)
                  : 38 === a
                  ? p.cc_RU(3)
                  : 39 === a
                  ? p.cc_RU(4)
                  : 40 === a
                  ? p.cc_FON()
                  : 41 === a
                  ? p.cc_RDC()
                  : 42 === a
                  ? p.cc_TR()
                  : 43 === a
                  ? p.cc_RTD()
                  : 44 === a
                  ? p.cc_EDM()
                  : 45 === a
                  ? p.cc_CR()
                  : 46 === a
                  ? p.cc_ENM()
                  : 47 === a && p.cc_EOC()
                : p.cc_TO(a - 32),
              (this.lastCmdA = i),
              (this.lastCmdB = a),
              (this.currChNr = o),
              !0
            );
          },
          parseMidrow: function parseMidrow(i, a) {
            var o = null;
            if ((17 === i || 25 === i) && 32 <= a && a <= 47) {
              if ((o = 17 === i ? 1 : 2) !== this.currChNr)
                return j.log('ERROR', 'Mismatch channel in midrow parsing'), !1;
              var p = this.channels[o - 1];
              return (
                p.insertChars([32]),
                p.cc_MIDROW(a),
                j.log('DEBUG', 'MIDROW (' + K([i, a]) + ')'),
                (this.lastCmdA = i),
                (this.lastCmdB = a),
                !0
              );
            }
            return !1;
          },
          parsePAC: function parsePAC(i, a) {
            var o,
              p = null;
            if (
              !(
                ((17 <= i && i <= 23) || (25 <= i && i <= 31)) &&
                64 <= a &&
                a <= 127
              ) &&
              !((16 === i || 24 === i) && 64 <= a && a <= 95)
            )
              return !1;
            (o = i <= 23 ? 1 : 2),
              (p =
                64 <= a && a <= 95
                  ? 1 === o
                    ? _[i]
                    : x[i]
                  : 1 === o
                  ? w[i]
                  : I[i]);
            var m = this.interpretPAC(p, a);
            return (
              this.channels[o - 1].setPAC(m),
              (this.lastCmdA = i),
              (this.lastCmdB = a),
              (this.currChNr = o),
              !0
            );
          },
          interpretPAC: function interpretPAC(i, a) {
            var o = a,
              p = {
                color: null,
                italics: !1,
                indent: null,
                underline: !1,
                row: i,
              };
            return (
              (o = a > 95 ? a - 96 : a - 64),
              (p.underline = 1 == (1 & o)),
              o <= 13
                ? (p.color = [
                    'white',
                    'green',
                    'blue',
                    'cyan',
                    'red',
                    'yellow',
                    'magenta',
                    'white',
                  ][Math.floor(o / 2)])
                : o <= 15
                ? ((p.italics = !0), (p.color = 'white'))
                : (p.indent = 4 * Math.floor((o - 16) / 2)),
              p
            );
          },
          parseChars: function parseChars(i, a) {
            var p = null,
              m = null,
              _ = null;
            if (
              (i >= 25 ? ((p = 2), (_ = i - 8)) : ((p = 1), (_ = i)),
              17 <= _ && _ <= 19)
            ) {
              var w = a;
              (w = 17 === _ ? a + 80 : 18 === _ ? a + 112 : a + 144),
                j.log('INFO', "Special char '" + o(w) + "' in channel " + p),
                (m = [w]),
                (this.lastCmdA = i),
                (this.lastCmdB = a);
            } else
              32 <= i &&
                i <= 127 &&
                ((m = 0 === a ? [i] : [i, a]),
                (this.lastCmdA = null),
                (this.lastCmdB = null));
            if (m) {
              var x = K(m);
              j.log('DEBUG', 'Char codes =  ' + x.join(','));
            }
            return m;
          },
          parseBackgroundAttributes: function parseBackgroundAttributes(i, a) {
            var o, p, m;
            return (
              (((16 === i || 24 === i) && 32 <= a && a <= 47) ||
                ((23 === i || 31 === i) && 45 <= a && a <= 47)) &&
              ((o = {}),
              16 === i || 24 === i
                ? ((p = Math.floor((a - 32) / 2)),
                  (o.background = D[p]),
                  a % 2 == 1 && (o.background = o.background + '_semi'))
                : 45 === a
                ? (o.background = 'transparent')
                : ((o.foreground = 'black'), 47 === a && (o.underline = !0)),
              (m = i < 24 ? 1 : 2),
              this.channels[m - 1].setBkgData(o),
              (this.lastCmdA = i),
              (this.lastCmdB = a),
              !0)
            );
          },
          reset: function reset() {
            for (var i = 0; i < this.channels.length; i++)
              this.channels[i] && this.channels[i].reset();
            (this.lastCmdA = null), (this.lastCmdB = null);
          },
          cueSplitAtTime: function cueSplitAtTime(i) {
            for (var a = 0; a < this.channels.length; a++)
              this.channels[a] && this.channels[a].cueSplitAtTime(i);
          },
        };
        (i.logger = j),
          (i.PenState = q),
          (i.CaptionScreen = be),
          (i.Cea608Parser = _e),
          (i.findCea608Nalus = function findCea608Nalus(i, a, o) {
            for (
              var p = 0,
                m = a,
                _ = [],
                w = function isCEA608SEI(i, a, o, p) {
                  if (4 !== i || a < 8) return null;
                  var m = o.getUint8(p),
                    _ = o.getUint16(p + 1),
                    w = o.getUint32(p + 3),
                    x = o.getUint8(p + 7);
                  return 181 == m && 49 == _ && 1195456820 == w && 3 == x;
                };
              m < a + o;

            ) {
              if (((p = i.getUint32(m)), 6 === (31 & i.getUint8(m + 4))))
                for (var x = m + 5, I = -1; x < m + 4 + p - 1; ) {
                  I = 0;
                  for (var D = 255; 255 === D; ) (I += D = i.getUint8(x)), x++;
                  var j = 0;
                  for (D = 255; 255 === D; ) (j += D = i.getUint8(x)), x++;
                  w(I, j, i, x) && _.push([x, j]), (x += j);
                }
              m += p + 4;
            }
            return _;
          }),
          (i.extractCea608DataFromRange = function extractCea608DataFromRange(
            i,
            a
          ) {
            var o = a[0],
              p = [[], []];
            o += 8;
            var m = 31 & i.getUint8(o);
            o += 2;
            for (var _ = 0; _ < m; _++) {
              var w = i.getUint8(o),
                x = 4 & w,
                I = 3 & w;
              o++;
              var D = i.getUint8(o);
              o++;
              var j = i.getUint8(o);
              o++,
                x &&
                  (127 & D) + (127 & j) != 0 &&
                  (0 === I
                    ? (p[0].push(D), p[0].push(j))
                    : 1 === I && (p[1].push(D), p[1].push(j)));
            }
            return p;
          });
      })(a);
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(45),
      o(85),
      o(44),
      o(86),
      o(3),
      o(172),
      o(77),
      o(58),
      o(174),
      o(64),
      o(48),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(94)),
      _ = (p(o(65)), p(o(171))),
      w = p(o(321)),
      x = p(o(322));
    var I = (function whichVeyga() {
        return window.veyga ? window.veyga : _['default'];
      })(),
      D = I.text.Cue;
    function PlayerVeygaTextDisplayer(i, a) {
      (this.textTrack_ = null),
        (this.video_ = i),
        a === undefined
          ? (((a = document.createElement('div')).id = 'veygoTextDisplayer0'),
            a.classList.add('veygoTextDisplayer'),
            this.video_.parentNode.insertBefore(a, this.video_.nextSibling),
            (this.subContainerAdded_ = !0))
          : (this.subContainerAdded_ = !1),
        (a.style.position = 'absolute'),
        (a.style.display = 'block'),
        (this.subContainer_ = a),
        (this.subContainerRect_ = null),
        (this.subContent_ = null),
        (this.visibility_ = !1);
      for (var o = 0; o < i.textTracks.length; ++o) {
        var p = i.textTracks[o];
        (p.mode = 'disabled'),
          p.label == PlayerVeygaTextDisplayer.TextTrackLabel_ &&
            (this.textTrack_ = p);
      }
      this.textTrack_ ||
        (this.textTrack_ = i.addTextTrack(
          'subtitles',
          PlayerVeygaTextDisplayer.TextTrackLabel_
        )),
        (this.textTrack_.oncuechange = this.onCueChange.bind(this)),
        (this.textTrack_.mode = 'hidden'),
        (this.sensorCb_ = this.onVideoElementResize_.bind(this)),
        (this.sensor_ = new w['default'](i.parentNode, this.sensorCb_)),
        (this.videoCb_ = this.onVideoResize_.bind(this)),
        i.addEventListener('loadedmetadata', this.videoCb_),
        this.repositionText_();
    }
    var j = /([\d.]+)%/;
    (PlayerVeygaTextDisplayer.prototype.onCueChange = function () {
      var i = this;
      if (this.textTrack_) {
        var a = this.textTrack_.activeCues;
        if (null != a && 0 !== a.length) {
          var o,
            p = this.subContainer_,
            _ = a[0],
            w = _.veygaCue;
          if ('object' !== (0, m['default'])(w.payload)) {
            for (var I = this.subContainer_; I.firstChild; )
              I.removeChild(I.firstChild);
            this.subContent_ = null;
            var K = p.style;
            if (
              (delete K.left,
              delete K.top,
              delete K.width,
              delete K.height,
              w.image)
            )
              if (w.telecentroPatch) {
                (o = document.createElement('div')).className = 'genericSub';
                var q = document.createElement('img'),
                  $ = 'data:image/png;base64,' + w.image;
                (q.style.display = 'none'),
                  (q.src = $),
                  (q.onload = function () {
                    if (1920 === q.width) q.style.width = '100%';
                    else {
                      var a =
                        (i.subContainerRect_.width * w.region.width) /
                        100 /
                        1e3;
                      (q.style.height = ''.concat(a * q.height, 'px')),
                        (q.style.width = ''.concat(a * q.width, 'px'));
                    }
                    q.style.display = 'initial';
                  }),
                  o.appendChild(q);
              } else {
                o = document.createElement('img');
                var Z = 'data:image/png;base64,' + w.image;
                o.src = Z;
              }
            else {
              (o = document.createElement('div')).className = 'genericSub';
              var be = document.createElement('div');
              be.className = 'genericSubPadded';
              var Se = document.createElement('span');
              if (
                ((Se.className = 'genericSubSpan'),
                (o.style.display = 'flex'),
                (o.style.flexDirection = 'column'),
                (o.style.alignItems = 'center'),
                w.padding && 2 === w.padding.length)
              ) {
                var _e = w.padding[1],
                  we = _e.match(j),
                  xe = we ? (we[1] * this.subContainerRect_.height) / 100 : _e;
                be.style.paddingBottom = ''.concat(xe, 'px');
              }
              w.displayAlign === D.displayAlign.CENTER
                ? (o.style.justifyContent = 'center')
                : w.displayAlign === D.displayAlign.AFTER
                ? (o.style.justifyContent = 'flex-end')
                : w.displayAlign === D.displayAlign.BEFORE &&
                  (o.style.justifyContent = 'flex-start'),
                'center' == w.textAlign && (o.style.textAlign = 'center');
              var et = (w.fontSize || '4%').match(j);
              if (et) {
                var tt = parseFloat(et[1]) / 100;
                (o.style.fontSize = ''.concat(
                  this.subContainerRect_.height * tt,
                  'px'
                )),
                  (Se.style.backgroundColor = 'black');
              } else o.style.fontSize = w.fontSize;
              if ('proportionalSansSerif' === w.fontFamily) {
                o.style.fontFamily = 'Sans Serif';
                var rt =
                  (this.subContainerRect_.height * w.region.height) / 100;
                o.style.fontSize = ''.concat((rt / 2) * 0.8, 'px');
              } else o.style.fontFamily = 'Sans Serif';
              w.color ? (Se.style.color = w.color) : (Se.style.color = 'white'),
                Se.style.backgroundColor ||
                  (w.backgroundColor
                    ? (Se.style.backgroundColor = w.backgroundColor)
                    : (Se.style.backgroundColor = 'rgba(0,0,0,68)')),
                (Se.innerHTML = _.text.replace(/\n/g, '<br/>')),
                be.appendChild(Se),
                o.appendChild(be);
            }
            (o.style.position = 'absolute'),
              (o.style.height = w.region.height + '%'),
              (o.style.top = w.region.viewportAnchorY + '%'),
              (o.style.left = w.region.viewportAnchorX + '%'),
              (o.style.width = w.region.width + '%'),
              this.subContainer_.appendChild(o),
              (this.subContent_ = o);
          } else {
            var nt = this.video_,
              it = nt.videoWidth,
              at = nt.offsetWidth;
            if (0 === it || 0 === at) return;
            var ot = this.video_,
              st = ot.videoHeight,
              ut = (function getVideoVisibleVideoSize(i, a, o, p, m, _) {
                var w = 0,
                  x = 0;
                i / a > o / p
                  ? (w = ((x = a) / p) * o)
                  : (x = ((w = i) / o) * p);
                var I,
                  D,
                  j = 0,
                  K = 0;
                return (
                  w / x > m ? ((K = x), (j = x * m)) : ((j = w), (K = w / m)),
                  (I = (i - j) / 2),
                  (D = (a - K) / 2),
                  _
                    ? { x: I + 0.1 * j, y: D + 0.1 * K, w: 0.8 * j, h: 0.8 * K }
                    : { x: I, y: D, w: j, h: K }
                );
              })(at, ot.offsetHeight, it, st, 4 / 3, !0),
              lt = ut.w,
              ct = ut.h,
              dt = ut.x + 0,
              ft = ut.y + 0,
              ht = lt,
              pt = ct;
            if (p) {
              var gt = p.style;
              (gt.left = dt + 'px'),
                (gt.top = ft + 'px'),
                (gt.width = ht + 'px'),
                (gt.height = pt + 'px');
            }
            for (var mt = this.subContainer_; mt.firstChild; )
              mt.removeChild(mt.firstChild);
            this.subContent_ = null;
            for (var vt = a.length, yt = 0; yt < vt; yt += 1) {
              var bt = a[yt].veygaCue;
              bt.payload;
              x['default']
                .createHTMLCaptionsFromScreen(lt, ct, 0, 0, bt.payload)
                .forEach(function (a) {
                  var o = a.cueHTMLElement;
                  i.subContainer_.appendChild(o);
                });
            }
          }
        } else {
          for (var Tt = this.subContainer_; Tt.firstChild; )
            Tt.removeChild(Tt.firstChild);
          this.subContent_ = null;
        }
      }
    }),
      (PlayerVeygaTextDisplayer.prototype.remove = function (i, a) {
        if (!this.textTrack_) return !1;
        return (
          PlayerVeygaTextDisplayer.removeWhere_(
            this.textTrack_,
            function removeInRange(o) {
              return o.startTime < a && o.endTime > i;
            }
          ),
          !0
        );
      }),
      (PlayerVeygaTextDisplayer.prototype.append = function (i) {
        for (
          var a = PlayerVeygaTextDisplayer.convertToTextTrackCue_,
            o = [],
            p = 0;
          p < i.length;
          p++
        ) {
          var m = a(i[p]);
          m && (m.image && !0, o.push(m));
        }
        o.slice()
          .sort(function (i, a) {
            return i.startTime != a.startTime
              ? i.startTime - a.startTime
              : i.endTime != a.endTime
              ? i.endTime - a.startTime
              : o.indexOf(a) - o.indexOf(i);
          })
          .forEach(
            function (i) {
              this.textTrack_.addCue(i);
            }.bind(this)
          );
      }),
      (PlayerVeygaTextDisplayer.prototype.destroy = function () {
        if (this.textTrack_) {
          PlayerVeygaTextDisplayer.removeWhere_(
            this.textTrack_,
            function removeIt(i) {
              return !0;
            }
          );
        }
        if (this.subContainerAdded_)
          this.subContainer_.parentNode &&
            this.subContainer_.parentNode.removeChild(this.subContainer_),
            (this.subContainer_ = null),
            (this.subContainerAdded_ = !1);
        else
          for (var i = this.subContainer_; i.firstChild; )
            i.removeChild(i.firstChild);
        return (
          this.sensor_ &&
            (this.sensor_.detach(this.sensorCb_),
            (this.sensor_ = null),
            (this.sensorCb_ = null)),
          this.videoCb_ &&
            (this.video_.removeEventListener('loadedmetadata', this.videoCb_),
            (this.videoCb_ = null)),
          (this.textTrack_ = null),
          Promise.resolve()
        );
      }),
      (PlayerVeygaTextDisplayer.prototype.isTextVisible = function () {
        return this.visibility_;
      }),
      (PlayerVeygaTextDisplayer.prototype.setTextVisibility = function (i) {
        this.subContainer_ &&
          (this.subContainer_.style.display = i ? 'block' : 'none'),
          (this.textTrack_.mode = 'hidden'),
          (this.visibility_ = i);
      }),
      (PlayerVeygaTextDisplayer.convertToTextTrackCue_ = function (i) {
        if (i.startTime >= i.endTime)
          return (
            i.startTime !== i.endTime &&
              I.log.warning(
                'Invalid cue times: ' + i.startTime + ' - ' + i.endTime
              ),
            null
          );
        var a = I.text.Cue,
          o = new VTTCue(i.startTime, i.endTime, i.payload + '\n');
        (o.veygaCue = i),
          (o.lineAlign = i.lineAlign),
          (o.positionAlign = i.positionAlign),
          (o.size = i.size),
          (o.telecentroPatch = i.telecentroPatch);
        try {
          o.align = i.textAlign;
        } catch (p) {}
        return (
          'center' == i.textAlign &&
            'center' != o.align &&
            (o.align = 'middle'),
          i.writingMode == a.writingMode.VERTICAL_LEFT_TO_RIGHT
            ? (o.vertical = 'lr')
            : i.writingMode == a.writingMode.VERTICAL_RIGHT_TO_LEFT &&
              (o.vertical = 'rl'),
          i.lineInterpretation == a.lineInterpretation.PERCENTAGE &&
            (o.snapToLines = !1),
          null != i.line && (o.line = i.line),
          null != i.position && (o.position = i.position),
          null != i.image && (o.image = i.image),
          o
        );
      }),
      (PlayerVeygaTextDisplayer.removeWhere_ = function (i, a) {
        var o = i.mode,
          p = 'showing' == o ? 'showing' : 'hidden';
        i.mode = p;
        for (var m = i.cues, _ = m.length - 1; _ >= 0; _--) {
          var w = m[_];
          w && a(w) && i.removeCue(w);
        }
        i.mode = o;
      }),
      (PlayerVeygaTextDisplayer.prototype.onVideoElementResize_ = function (i) {
        this.repositionText_();
      }),
      (PlayerVeygaTextDisplayer.prototype.onVideoResize_ = function (i) {
        this.repositionText_();
      }),
      (PlayerVeygaTextDisplayer.prototype.repositionText_ = function () {
        var i = this.video_,
          a = i.videoWidth,
          o = i.offsetWidth;
        if (0 !== a && 0 !== o) {
          var p,
            m = this.video_,
            _ = m.videoHeight,
            w = m.offsetHeight;
          if (a / _ < o / w) {
            var x = (w * a) / _;
            p = { width: x, height: w, left: (o - x) / 2, top: 0 };
          } else {
            p = {
              width: o,
              height: (o * _) / a,
              left: 0,
              top: (w - (o * _) / a) / 2,
            };
          }
          (this.subContainer_.style.width = ''.concat(p.width, 'px')),
            (this.subContainer_.style.height = ''.concat(p.height, 'px')),
            (this.subContainer_.style.left = ''.concat(p.left, 'px')),
            (this.subContainer_.style.top = ''.concat(p.top, 'px')),
            (this.subContainerRect_ = p),
            this.textTrack_.oncuechange();
        }
      }),
      (PlayerVeygaTextDisplayer.TextTrackLabel_ = 'TextTrack');
    var K = PlayerVeygaTextDisplayer;
    a['default'] = K;
  },
  function (i, a, o) {
    'use strict';
    function forEachElement(i, a) {
      var o = Object.prototype.toString.call(i),
        p =
          '[object Array]' === o ||
          '[object NodeList]' === o ||
          '[object HTMLCollection]' === o ||
          '[object Object]' === o,
        m = 0,
        _ = i.length;
      if (p) for (; m < _; m++) a(i[m]);
      else a(i);
    }
    function getElementSize(i) {
      if (!i.getBoundingClientRect)
        return { width: i.offsetWidth, height: i.offsetHeight };
      var a = i.getBoundingClientRect();
      return { width: Math.round(a.width), height: Math.round(a.height) };
    }
    function ResizeSensor(i, a) {
      function EventQueue() {
        var i,
          a,
          o = [];
        (this.add = function (i) {
          o.push(i);
        }),
          (this.call = function (p) {
            for (i = 0, a = o.length; i < a; i++) o[i].call(this, p);
          }),
          (this.remove = function (p) {
            var m = [];
            for (i = 0, a = o.length; i < a; i++) o[i] !== p && m.push(o[i]);
            o = m;
          }),
          (this.length = function () {
            return o.length;
          });
      }
      function attachResizeEvent(i, a) {
        if (i)
          if (i.resizedAttached) i.resizedAttached.add(a);
          else {
            (i.resizedAttached = new EventQueue()),
              i.resizedAttached.add(a),
              (i.resizeSensor = document.createElement('div')),
              (i.resizeSensor.dir = 'ltr'),
              (i.resizeSensor.className = 'resize-sensor');
            var o =
                'pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;',
              p = 'position: absolute; left: 0; top: 0; transition: 0s;';
            (i.resizeSensor.style.cssText = o),
              (i.resizeSensor.innerHTML =
                '<div class="resize-sensor-expand" style="' +
                o +
                '"><div style="' +
                p +
                '"></div></div><div class="resize-sensor-shrink" style="' +
                o +
                '"><div style="' +
                p +
                ' width: 200%; height: 200%"></div></div>'),
              i.appendChild(i.resizeSensor);
            var m,
              _,
              w = window.getComputedStyle(i),
              x =
                (w && w.getPropertyValue('position'),
                i.resizeSensor.childNodes[0]),
              I = x.childNodes[0],
              D = i.resizeSensor.childNodes[1],
              j = getElementSize(i),
              K = j.width,
              q = j.height,
              $ = !0,
              Z = 0,
              be = function reset() {
                if ($) {
                  if (0 === i.offsetWidth && 0 === i.offsetHeight)
                    return void (
                      Z ||
                      (Z = requestAnimationFrame(function () {
                        (Z = 0), reset();
                      }))
                    );
                  $ = !1;
                }
                !(function resetExpandShrink() {
                  var a = i.offsetWidth,
                    o = i.offsetHeight;
                  (I.style.width = a + 10 + 'px'),
                    (I.style.height = o + 10 + 'px'),
                    (x.scrollLeft = a + 10),
                    (x.scrollTop = o + 10),
                    (D.scrollLeft = a + 10),
                    (D.scrollTop = o + 10);
                })();
              };
            i.resizeSensor.resetSensor = be;
            var Se = function onResized() {
                (_ = 0),
                  m &&
                    ((K = j.width),
                    (q = j.height),
                    i.resizedAttached && i.resizedAttached.call(j));
              },
              _e = function onScroll() {
                (j = getElementSize(i)),
                  (m = j.width !== K || j.height !== q) &&
                    !_ &&
                    (_ = requestAnimationFrame(Se)),
                  be();
              },
              we = function addEvent(i, a, o) {
                i.attachEvent
                  ? i.attachEvent('on' + a, o)
                  : i.addEventListener(a, o);
              };
            we(x, 'scroll', _e), we(D, 'scroll', _e), requestAnimationFrame(be);
          }
      }
      forEachElement(i, function (i) {
        attachResizeEvent(i, a);
      }),
        (this.element = i);
    }
    if (
      (o(3),
      o(43),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0),
      (ResizeSensor.prototype.detach = function (i) {
        ResizeSensor.detach(this.element, i);
      }),
      (ResizeSensor.prototype.reset = function () {
        this.element.resizeSensor.resetSensor();
      }),
      (ResizeSensor.reset = function (i) {
        forEachElement(i, function (i) {
          i.resizeSensor.resetSensor();
        });
      }),
      (ResizeSensor.detach = function (i, a) {
        forEachElement(i, function (i) {
          i &&
            ((i.resizedAttached &&
              'function' == typeof a &&
              (i.resizedAttached.remove(a), i.resizedAttached.length())) ||
              (i.resizeSensor &&
                (i.contains(i.resizeSensor) && i.removeChild(i.resizeSensor),
                delete i.resizeSensor,
                delete i.resizedAttached)));
        });
      }),
      'undefined' != typeof MutationObserver)
    ) {
      var p = new MutationObserver(function (i) {
        for (var a in i)
          if (i.hasOwnProperty(a))
            for (var o = i[a].addedNodes, p = 0; p < o.length; p++)
              o[p].resizeSensor && ResizeSensor.reset(o[p]);
      });
      'interactive' === document.readyState ||
      'complete' === document.readyState
        ? p.observe(document.body, { childList: !0, subtree: !0 })
        : document.addEventListener('loaded', function (i) {
            p.observe(document.body, { childList: !0, subtree: !0 });
          });
    }
    var m = ResizeSensor;
    a['default'] = m;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(55),
      o(75),
      o(58),
      o(64),
      o(93),
      o(135),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(140)),
      _ = p(o(116)),
      w = p(o(13)),
      x = p(o(15));
    function createRGB(i) {
      return 'red' === i
        ? 'rgb(255, 0, 0)'
        : 'green' === i
        ? 'rgb(0, 255, 0)'
        : 'blue' === i
        ? 'rgb(0, 0, 255)'
        : 'cyan' === i
        ? 'rgb(0, 255, 255)'
        : 'magenta' === i
        ? 'rgb(255, 0, 255)'
        : 'yellow' === i
        ? 'rgb(255, 255, 0)'
        : 'white' === i
        ? 'rgb(255, 255, 255)'
        : 'black' === i
        ? 'rgb(0, 0, 0)'
        : i;
    }
    var I = { bodyStyle: ['%', 90] };
    var D = (function () {
      function EmbeddedTextHtmlRender() {
        (0, w['default'])(this, EmbeddedTextHtmlRender);
      }
      return (
        (0, x['default'])(EmbeddedTextHtmlRender, null, [
          {
            key: 'getRowsWithSpans',
            value: function getRowsWithSpans(i) {
              var a,
                o = null,
                p = {};
              return {
                styleStates: p,
                rows: i.rows.map(function (i, w) {
                  for (
                    var x = '',
                      I = (function checkIndent(i) {
                        for (var a = '', o = 0; o < i.length; o += 1)
                          a += i[o].uchar;
                        var p = a.length,
                          m = (function ltrim(i) {
                            return i.replace(/^\s+/g, '');
                          })(a),
                          _ = m.length;
                        return [
                          p - _,
                          _ -
                            (function rtrim(i) {
                              return i.replace(/\s+$/g, '');
                            })(m).length,
                        ];
                      })(i.chars),
                      D = (0, _['default'])(I, 2),
                      j = D[0],
                      K = D[1],
                      q = [],
                      $ = j;
                    $ < i.chars.length - K;
                    $ += 1
                  ) {
                    var Z = i.chars[$],
                      be = Z.penState;
                    if (null === o || !be.equals(o)) {
                      x.trim().length > 0 &&
                        (q.push({ name: a, line: x, row: w }), (x = ''));
                      var Se = 'style_cea608_'
                        .concat(be.foreground, '_')
                        .concat(be.background);
                      be.underline && (Se += '_underline'),
                        be.italics && (Se += '_italics'),
                        p[Se] === undefined &&
                          (p[Se] = (0, m['default'])({}, be)),
                        (o = be),
                        (a = Se);
                    }
                    x += Z.uchar;
                  }
                  return (
                    x.trim().length > 0 && q.push({ name: a, line: x, row: w }),
                    { leftIndent: j, rightIndent: K, spans: q }
                  );
                }),
              };
            },
          },
          {
            key: 'createHTMLCaptionsFromScreen',
            value: function createHTMLCaptionsFromScreen(i, a, o, p, m) {
              var _ = 'cea608cueID'.concat(EmbeddedTextHtmlRender.captionId);
              EmbeddedTextHtmlRender.captionId += 1;
              var w = EmbeddedTextHtmlRender.getRowsWithSpans(m),
                x = w.styleStates,
                D = w.rows,
                j = [],
                K = document.createElement('div');
              K.className = 'cea608Screen';
              var q;
              K.style.cssText =
                'position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none; '
                  .concat(
                    'top: 0px; height: 100%; left: 0px; width: 100%;  align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;',
                    '; '
                  )
                  .concat(
                    (function getLineStyle(i, a) {
                      return 'font-size: '
                        .concat((0.9 * a) / 15, 'px; letter-spacing: calc(')
                        .concat(i / 32, 'px - 1ch); font-family: ')
                        .concat(
                          '"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',
                          '; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex; flex-direction: column; unicode-bidi: normal; direction: ltr;'
                        );
                    })(i, a)
                  );
              for (var $ = 0; $ < 15; $ += 1) {
                var Z = D[$],
                  be = document.createElement('div');
                if (
                  ((be.className = 'cea608Row'),
                  (be.style.cssText = 'height: '.concat(100 / 15, '%;')),
                  0 === Z.spans.length)
                ) {
                  var Se = document.createElement('span');
                  (Se.textContent = String.fromCharCode(160)),
                    (Se.className = 'cea608Span cea608SpanEmpty'),
                    be.appendChild(Se);
                } else {
                  if (Z.leftIndent) {
                    var _e = document.createElement('span');
                    (_e.textContent = ''),
                      (_e.className = 'cea608Span cea608SpanPadding');
                    for (var we = 0; we < Z.leftIndent; we += 1)
                      _e.textContent = ''.concat(_e.textContent, ' ');
                    be.appendChild(_e);
                  }
                  for (var xe = 0; xe < Z.spans.length; xe += 1) {
                    var et = Z.spans[xe],
                      tt = x[et.name],
                      rt = document.createElement('span');
                    (rt.className = 'cea608Span '.concat(et.name)),
                      (rt.style.cssText = '; '.concat(
                        'color: '
                          .concat(
                            (q = tt).foreground
                              ? createRGB(q.foreground)
                              : 'rgb(255, 255, 255)',
                            '; font-style: '
                          )
                          .concat(
                            q.italics ? 'italic' : 'normal',
                            '; text-decoration: '
                          )
                          .concat(
                            q.underline ? 'underline' : 'none',
                            '; background-color: '
                          )
                          .concat(
                            q.background
                              ? createRGB(q.background)
                              : 'transparent',
                            ';'
                          )
                      )),
                      (rt.textContent = et.line.trim()),
                      be.appendChild(rt);
                  }
                }
                K.appendChild(be);
              }
              return (
                j.push({
                  type: 'html',
                  start: o,
                  end: p,
                  cueHTMLElement: K,
                  cueID: _,
                  cellResolution: [32, 15],
                  isFromCEA608: !0,
                  fontSize: I,
                  lineHeight: {},
                  linePadding: {},
                  captionScreen: m,
                }),
                j
              );
            },
          },
        ]),
        EmbeddedTextHtmlRender
      );
    })();
    D.captionId = 0;
    var j = D;
    a['default'] = j;
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    o(41),
      o(45),
      o(63),
      o(75),
      o(98),
      o(141),
      o(3),
      o(324),
      o(77),
      o(78),
      o(43),
      o(48),
      Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(117));
    o(97);
    var _ = p(o(118)),
      w = p(o(13)),
      x = p(o(15)),
      I = p(o(79)),
      D = p(o(80)),
      j = p(o(67)),
      K = p(o(95)),
      q = p(o(96)),
      $ = p(o(65)),
      Z = p(o(325)),
      be = p(o(143)),
      Se = p(o(120));
    function _createSuper(i) {
      var a = (function _isNativeReflectConstruct() {
        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
        if (Reflect.construct.sham) return !1;
        if ('function' == typeof Proxy) return !0;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {})
            ),
            !0
          );
        } catch (i) {
          return !1;
        }
      })();
      return function _createSuperInternal() {
        var o,
          p = (0, j['default'])(i);
        if (a) {
          var m = (0, j['default'])(this).constructor;
          o = Reflect.construct(p, arguments, m);
        } else o = p.apply(this, arguments);
        return (0, D['default'])(this, o);
      };
    }
    var _e = (function (i) {
      (0, I['default'])(PlayerHlsJs, i);
      var a,
        o = _createSuper(PlayerHlsJs);
      function PlayerHlsJs(i, a, p) {
        var m;
        if (
          ((0, w['default'])(this, PlayerHlsJs),
          (m = o.call(this)),
          !Z['default'].isSupported())
        )
          throw new Error('browser_not_supported');
        var _ = a.autoplay;
        return (
          (m.initialAutoplay = _),
          (m._playerInterface = i),
          (m.element = a),
          (m.subsContainer = p),
          (m.listeners = []),
          m.waitForEvent(
            'canplay',
            function () {
              m.setSourcePromise &&
                (m.setSourcePromise.resolve(), (m.setSourcePromise = null));
            },
            m.element
          ),
          m.waitForEvent('pause', function () {}, m.element),
          m.waitForEvent(
            'error',
            function (i) {
              var a,
                o = m.element.error;
              o
                ? ($['default'].error(
                    'error on media element '
                      .concat(o, ' ')
                      .concat(o.code, ' ')
                      .concat(o.message)
                  ),
                  (a = ''.concat(o.code, ':').concat(o.message)))
                : ($['default'].error('error on media element '.concat(i)),
                  (a = '')),
                m._playerInterface.dispatchError(
                  new Se['default'](
                    Se['default'].Category.CRITICAL,
                    Se['default'].Category.MEDIA,
                    'html_element',
                    a
                  )
                );
            },
            m.element
          ),
          m
        );
      }
      return (
        (0, x['default'])(PlayerHlsJs, null, [
          { key: 'setup', value: function setup() {} },
        ]),
        (0, x['default'])(PlayerHlsJs, [
          {
            key: 'destroy',
            value:
              ((a = (0, _['default'])(
                m['default'].mark(function _callee() {
                  return m['default'].wrap(
                    function _callee$(i) {
                      for (;;)
                        switch ((i.prev = i.next)) {
                          case 0:
                            this.listeners.forEach(function (i) {
                              var a = i.type,
                                o = i.target,
                                p = i.bindedAction;
                              return o.removeEventListener(a, p);
                            }),
                              this.hls.destroy(),
                              (this.hls = null);
                          case 3:
                          case 'end':
                            return i.stop();
                        }
                    },
                    _callee,
                    this
                  );
                })
              )),
              function destroy() {
                return a.apply(this, arguments);
              }),
          },
          {
            key: 'waitForEvent',
            value: function waitForEvent(i, a, o) {
              var p = a.bind(this);
              this.listeners.push({ type: i, target: o, bindedAction: p }),
                o.addEventListener(i, p, !1);
            },
          },
          {
            key: 'emit',
            value: function emit(i, a) {
              if ('error' !== i) {
                var o = new K['default'](i, a);
                this.dispatchEvent(o);
              } else this.dispatchError(a.detail);
            },
          },
          {
            key: 'setSource',
            value: function setSource(i, a) {
              var o = this;
              return (
                a.autoplay !== undefined &&
                  (this.element.autoplay = a.autoplay),
                (this.stream = i),
                this.hls && this.hls.destroy(),
                (this.hls = new Z['default']()),
                this.hls.attachMedia(this.element),
                this.hls.on(
                  Z['default'].Events.MANIFEST_PARSED,
                  function (i, a) {
                    'hlsManifestParsed' === i && (o.manifest = a);
                  }
                ),
                this.hls.loadSource(i.uri),
                new Promise(function (i, a) {
                  o.setSourcePromise = { resolve: i, reject: a };
                })
              );
            },
          },
          {
            key: 'setMaxResolution',
            value: function setMaxResolution(i, a) {
              this._maxResolution = { width: i, height: a };
            },
          },
          {
            key: 'freeze',
            value: function freeze() {
              return (
                (this.stream = null),
                this.element.pause(),
                this.element.removeAttribute('src'),
                this.element.load(),
                (this.element.autoplay = this.initialAutoplay),
                this.setSourcePromise &&
                  (this.setSourcePromise.reject(new Error('aborted')),
                  (this.setSourcePromise = null)),
                Promise.resolve()
              );
            },
          },
          {
            key: 'getTimeInfo',
            value: function getTimeInfo() {
              if (!this.stream) return null;
              var i = this.element,
                a = i.currentTime,
                o = i.duration;
              if (Number.isNaN(o)) return null;
              var p = !1,
                m = 0,
                _ = 0 + o;
              return {
                isLive: p,
                position: 1e3 * (0 + a),
                duration: 1e3 * (_ - m),
                seekRange: [1e3 * m, 1e3 * _],
              };
            },
          },
          {
            key: 'play',
            value: function play() {
              this.element.play();
            },
          },
          {
            key: 'pause',
            value: function pause() {
              this.element.pause();
            },
          },
          {
            key: 'seek',
            value: function seek(i) {
              this.element.currentTime = i / 1e3;
            },
          },
          {
            key: 'getTracks',
            value: function getTracks() {
              var i = this;
              if (!this.manifest) return null;
              var a = [],
                o = [],
                p = [];
              if (this.manifest.audio || this.manifest.video) {
                this.element.videoHeight &&
                  a.push({
                    reference: 'video',
                    'is-active': !0,
                    name: 'video',
                    playable: !0,
                  });
                var m = this.hls.audioTracks.reduce(function (a, o) {
                  return (
                    a[o.lang] === undefined
                      ? (a[o.lang] = {
                          reference: o.lang,
                          subtracks: [{ group: o.groupId, id: o.id }],
                          name: o.name || o.lang,
                          playable: !0,
                          'is-active': i.hls.audioTrack === o.id,
                          'is-closed-caption': 'caption' === o.kind,
                          type: 'audio',
                          language: o.lang,
                        })
                      : a[o.lang].subtracks.push({
                          group: o.groupId,
                          id: o.id,
                        }),
                    a
                  );
                }, {});
                Object.values(m).forEach(function (i) {
                  return o.push(i);
                }),
                  this.hls.subtitleTracks.forEach(function (a) {
                    p.push({
                      reference: a.id,
                      name: a.name || a.lang,
                      playable: !0,
                      'is-active':
                        i.hls.subtitleDisplay && i.hls.subtitleTrack === a.id,
                      'is-closed-caption': 'caption' === a.kind,
                      type: 'text',
                      language: a.lang,
                    });
                  });
              } else
                this.element.videoHeight &&
                  a.push({
                    reference: 'video',
                    'is-active': !0,
                    name: 'video',
                    playable: !0,
                  }),
                  o.push({
                    reference: 'audio',
                    'is-active': !0,
                    name: 'audio',
                    playable: !0,
                  });
              return { video: a, audio: o, text: p };
            },
          },
          {
            key: 'applyTracks',
            value: function applyTracks(i) {
              var a = this;
              return (
                i.forEach(function (i) {
                  var o = i.track,
                    p = i.enable;
                  'text' === o.type &&
                    (a.hls.subtitleTrack = p ? o.reference : -1),
                    'audio' === o.type &&
                      (a.hls.audioTrack = p ? o.reference : -1);
                }),
                this.getTracks()
              );
            },
          },
          {
            key: 'getStats',
            value: function getStats() {
              return {};
            },
          },
        ]),
        PlayerHlsJs
      );
    })(q['default']);
    _e.id = be['default'].HLSJS;
    var we = _e;
    a['default'] = we;
  },
  function (i, a, o) {
    var p = o(0),
      m = o(211).values;
    p(
      { target: 'Object', stat: !0 },
      {
        values: function values(i) {
          return m(i);
        },
      }
    );
  },
  function (i, a, o) {
    'use strict';
    (function (i) {
      var p,
        m,
        _,
        w = o(4);
      o(115),
        o(136),
        o(327),
        o(41),
        o(235),
        o(91),
        o(45),
        o(85),
        o(6),
        o(92),
        o(236),
        o(55),
        o(63),
        o(202),
        o(44),
        o(237),
        o(86),
        o(90),
        o(139),
        o(12),
        o(57),
        o(75),
        o(328),
        o(329),
        o(98),
        o(330),
        o(332),
        o(333),
        o(233),
        o(234),
        o(49),
        o(3),
        o(172),
        o(173),
        o(238),
        o(58),
        o(89),
        o(43),
        o(66),
        o(174),
        o(64),
        o(229),
        o(170),
        o(93),
        o(135),
        o(336),
        o(337),
        o(17),
        o(338),
        o(18),
        o(19),
        o(20),
        o(21),
        o(22),
        o(23),
        o(24),
        o(25),
        o(26),
        o(27),
        o(28),
        o(29),
        o(30),
        o(31),
        o(32),
        o(33),
        o(34),
        o(35),
        o(36),
        o(37),
        o(38),
        o(39),
        o(40),
        o(48),
        o(76),
        o(144);
      var x = w(o(94));
      'undefined' != typeof window &&
        (function webpackUniversalModuleDefinition(o, w) {
          'object' === (0, x['default'])(a) && 'object' === (0, x['default'])(i)
            ? (i.exports = w())
            : ((m = []),
              (_ = 'function' == typeof (p = w) ? p.apply(a, m) : p) ===
                undefined || (i.exports = _));
        })(0, function () {
          return (function (i) {
            var a = {};
            function __webpack_require__(o) {
              if (a[o]) return a[o].exports;
              var p = (a[o] = { i: o, l: !1, exports: {} });
              return (
                i[o].call(p.exports, p, p.exports, __webpack_require__),
                (p.l = !0),
                p.exports
              );
            }
            return (
              (__webpack_require__.m = i),
              (__webpack_require__.c = a),
              (__webpack_require__.d = function (i, a, o) {
                __webpack_require__.o(i, a) ||
                  Object.defineProperty(i, a, { enumerable: !0, get: o });
              }),
              (__webpack_require__.r = function (i) {
                'undefined' != typeof Symbol &&
                  Symbol.toStringTag &&
                  Object.defineProperty(i, Symbol.toStringTag, {
                    value: 'Module',
                  }),
                  Object.defineProperty(i, '__esModule', { value: !0 });
              }),
              (__webpack_require__.t = function (i, a) {
                if ((1 & a && (i = __webpack_require__(i)), 8 & a)) return i;
                if (
                  4 & a &&
                  'object' === (0, x['default'])(i) &&
                  i &&
                  i.__esModule
                )
                  return i;
                var o = Object.create(null);
                if (
                  (__webpack_require__.r(o),
                  Object.defineProperty(o, 'default', {
                    enumerable: !0,
                    value: i,
                  }),
                  2 & a && 'string' != typeof i)
                )
                  for (var p in i)
                    __webpack_require__.d(
                      o,
                      p,
                      function (a) {
                        return i[a];
                      }.bind(null, p)
                    );
                return o;
              }),
              (__webpack_require__.n = function (i) {
                var a =
                  i && i.__esModule
                    ? function getDefault() {
                        return i['default'];
                      }
                    : function getModuleExports() {
                        return i;
                      };
                return __webpack_require__.d(a, 'a', a), a;
              }),
              (__webpack_require__.o = function (i, a) {
                return Object.prototype.hasOwnProperty.call(i, a);
              }),
              (__webpack_require__.p = '/dist/'),
              __webpack_require__((__webpack_require__.s = './src/hls.ts'))
            );
          })({
            './node_modules/eventemitter3/index.js':
              function node_modulesEventemitter3IndexJs(i, a, o) {
                var p = Object.prototype.hasOwnProperty,
                  m = '~';
                function Events() {}
                function EE(i, a, o) {
                  (this.fn = i), (this.context = a), (this.once = o || !1);
                }
                function addListener(i, a, o, p, _) {
                  if ('function' != typeof o)
                    throw new TypeError('The listener must be a function');
                  var w = new EE(o, p || i, _),
                    x = m ? m + a : a;
                  return (
                    i._events[x]
                      ? i._events[x].fn
                        ? (i._events[x] = [i._events[x], w])
                        : i._events[x].push(w)
                      : ((i._events[x] = w), i._eventsCount++),
                    i
                  );
                }
                function clearEvent(i, a) {
                  0 == --i._eventsCount
                    ? (i._events = new Events())
                    : delete i._events[a];
                }
                function EventEmitter() {
                  (this._events = new Events()), (this._eventsCount = 0);
                }
                Object.create &&
                  ((Events.prototype = Object.create(null)),
                  new Events().__proto__ || (m = !1)),
                  (EventEmitter.prototype.eventNames = function eventNames() {
                    var i,
                      a,
                      o = [];
                    if (0 === this._eventsCount) return o;
                    for (a in (i = this._events))
                      p.call(i, a) && o.push(m ? a.slice(1) : a);
                    return Object.getOwnPropertySymbols
                      ? o.concat(Object.getOwnPropertySymbols(i))
                      : o;
                  }),
                  (EventEmitter.prototype.listeners = function listeners(i) {
                    var a = m ? m + i : i,
                      o = this._events[a];
                    if (!o) return [];
                    if (o.fn) return [o.fn];
                    for (var p = 0, _ = o.length, w = new Array(_); p < _; p++)
                      w[p] = o[p].fn;
                    return w;
                  }),
                  (EventEmitter.prototype.listenerCount =
                    function listenerCount(i) {
                      var a = m ? m + i : i,
                        o = this._events[a];
                      return o ? (o.fn ? 1 : o.length) : 0;
                    }),
                  (EventEmitter.prototype.emit = function emit(
                    i,
                    a,
                    o,
                    p,
                    _,
                    w
                  ) {
                    var x = m ? m + i : i;
                    if (!this._events[x]) return !1;
                    var I,
                      D,
                      j = this._events[x],
                      K = arguments.length;
                    if (j.fn) {
                      switch (
                        (j.once && this.removeListener(i, j.fn, undefined, !0),
                        K)
                      ) {
                        case 1:
                          return j.fn.call(j.context), !0;
                        case 2:
                          return j.fn.call(j.context, a), !0;
                        case 3:
                          return j.fn.call(j.context, a, o), !0;
                        case 4:
                          return j.fn.call(j.context, a, o, p), !0;
                        case 5:
                          return j.fn.call(j.context, a, o, p, _), !0;
                        case 6:
                          return j.fn.call(j.context, a, o, p, _, w), !0;
                      }
                      for (D = 1, I = new Array(K - 1); D < K; D++)
                        I[D - 1] = arguments[D];
                      j.fn.apply(j.context, I);
                    } else {
                      var q,
                        $ = j.length;
                      for (D = 0; D < $; D++)
                        switch (
                          (j[D].once &&
                            this.removeListener(i, j[D].fn, undefined, !0),
                          K)
                        ) {
                          case 1:
                            j[D].fn.call(j[D].context);
                            break;
                          case 2:
                            j[D].fn.call(j[D].context, a);
                            break;
                          case 3:
                            j[D].fn.call(j[D].context, a, o);
                            break;
                          case 4:
                            j[D].fn.call(j[D].context, a, o, p);
                            break;
                          default:
                            if (!I)
                              for (q = 1, I = new Array(K - 1); q < K; q++)
                                I[q - 1] = arguments[q];
                            j[D].fn.apply(j[D].context, I);
                        }
                    }
                    return !0;
                  }),
                  (EventEmitter.prototype.on = function on(i, a, o) {
                    return addListener(this, i, a, o, !1);
                  }),
                  (EventEmitter.prototype.once = function once(i, a, o) {
                    return addListener(this, i, a, o, !0);
                  }),
                  (EventEmitter.prototype.removeListener =
                    function removeListener(i, a, o, p) {
                      var _ = m ? m + i : i;
                      if (!this._events[_]) return this;
                      if (!a) return clearEvent(this, _), this;
                      var w = this._events[_];
                      if (w.fn)
                        w.fn !== a ||
                          (p && !w.once) ||
                          (o && w.context !== o) ||
                          clearEvent(this, _);
                      else {
                        for (var x = 0, I = [], D = w.length; x < D; x++)
                          (w[x].fn !== a ||
                            (p && !w[x].once) ||
                            (o && w[x].context !== o)) &&
                            I.push(w[x]);
                        I.length
                          ? (this._events[_] = 1 === I.length ? I[0] : I)
                          : clearEvent(this, _);
                      }
                      return this;
                    }),
                  (EventEmitter.prototype.removeAllListeners =
                    function removeAllListeners(i) {
                      var a;
                      return (
                        i
                          ? ((a = m ? m + i : i),
                            this._events[a] && clearEvent(this, a))
                          : ((this._events = new Events()),
                            (this._eventsCount = 0)),
                        this
                      );
                    }),
                  (EventEmitter.prototype.off =
                    EventEmitter.prototype.removeListener),
                  (EventEmitter.prototype.addListener =
                    EventEmitter.prototype.on),
                  (EventEmitter.prefixed = m),
                  (EventEmitter.EventEmitter = EventEmitter),
                  (i.exports = EventEmitter);
              },
            './node_modules/url-toolkit/src/url-toolkit.js':
              function node_modulesUrlToolkitSrcUrlToolkitJs(i, a, o) {
                var p, m, _, w, x;
                (p =
                  /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/),
                  (m = /^([^\/?#]*)(.*)$/),
                  (_ = /(?:\/|^)\.(?=\/)/g),
                  (w = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g),
                  (x = {
                    buildAbsoluteURL: function buildAbsoluteURL(i, a, o) {
                      if (((o = o || {}), (i = i.trim()), !(a = a.trim()))) {
                        if (!o.alwaysNormalize) return i;
                        var p = x.parseURL(i);
                        if (!p)
                          throw new Error('Error trying to parse base URL.');
                        return (
                          (p.path = x.normalizePath(p.path)),
                          x.buildURLFromParts(p)
                        );
                      }
                      var _ = x.parseURL(a);
                      if (!_)
                        throw new Error('Error trying to parse relative URL.');
                      if (_.scheme)
                        return o.alwaysNormalize
                          ? ((_.path = x.normalizePath(_.path)),
                            x.buildURLFromParts(_))
                          : a;
                      var w = x.parseURL(i);
                      if (!w)
                        throw new Error('Error trying to parse base URL.');
                      if (!w.netLoc && w.path && '/' !== w.path[0]) {
                        var I = m.exec(w.path);
                        (w.netLoc = I[1]), (w.path = I[2]);
                      }
                      w.netLoc && !w.path && (w.path = '/');
                      var D = {
                        scheme: w.scheme,
                        netLoc: _.netLoc,
                        path: null,
                        params: _.params,
                        query: _.query,
                        fragment: _.fragment,
                      };
                      if (
                        !_.netLoc &&
                        ((D.netLoc = w.netLoc), '/' !== _.path[0])
                      )
                        if (_.path) {
                          var j = w.path,
                            K = j.substring(0, j.lastIndexOf('/') + 1) + _.path;
                          D.path = x.normalizePath(K);
                        } else
                          (D.path = w.path),
                            _.params ||
                              ((D.params = w.params),
                              _.query || (D.query = w.query));
                      return (
                        null === D.path &&
                          (D.path = o.alwaysNormalize
                            ? x.normalizePath(_.path)
                            : _.path),
                        x.buildURLFromParts(D)
                      );
                    },
                    parseURL: function parseURL(i) {
                      var a = p.exec(i);
                      return a
                        ? {
                            scheme: a[1] || '',
                            netLoc: a[2] || '',
                            path: a[3] || '',
                            params: a[4] || '',
                            query: a[5] || '',
                            fragment: a[6] || '',
                          }
                        : null;
                    },
                    normalizePath: function normalizePath(i) {
                      for (
                        i = i.split('').reverse().join('').replace(_, '');
                        i.length !== (i = i.replace(w, '')).length;

                      );
                      return i.split('').reverse().join('');
                    },
                    buildURLFromParts: function buildURLFromParts(i) {
                      return (
                        i.scheme +
                        i.netLoc +
                        i.path +
                        i.params +
                        i.query +
                        i.fragment
                      );
                    },
                  }),
                  (i.exports = x);
              },
            './node_modules/webworkify-webpack/index.js':
              function node_modulesWebworkifyWebpackIndexJs(i, a, o) {
                function webpackBootstrapFunc(i) {
                  var a = {};
                  function __webpack_require__(o) {
                    if (a[o]) return a[o].exports;
                    var p = (a[o] = { i: o, l: !1, exports: {} });
                    return (
                      i[o].call(p.exports, p, p.exports, __webpack_require__),
                      (p.l = !0),
                      p.exports
                    );
                  }
                  (__webpack_require__.m = i),
                    (__webpack_require__.c = a),
                    (__webpack_require__.i = function (i) {
                      return i;
                    }),
                    (__webpack_require__.d = function (i, a, o) {
                      __webpack_require__.o(i, a) ||
                        Object.defineProperty(i, a, {
                          configurable: !1,
                          enumerable: !0,
                          get: o,
                        });
                    }),
                    (__webpack_require__.r = function (i) {
                      Object.defineProperty(i, '__esModule', { value: !0 });
                    }),
                    (__webpack_require__.n = function (i) {
                      var a =
                        i && i.__esModule
                          ? function getDefault() {
                              return i['default'];
                            }
                          : function getModuleExports() {
                              return i;
                            };
                      return __webpack_require__.d(a, 'a', a), a;
                    }),
                    (__webpack_require__.o = function (i, a) {
                      return Object.prototype.hasOwnProperty.call(i, a);
                    }),
                    (__webpack_require__.p = '/'),
                    (__webpack_require__.oe = function (i) {
                      throw (console.error(i), i);
                    });
                  var o = __webpack_require__(
                    (__webpack_require__.s = ENTRY_MODULE)
                  );
                  return o['default'] || o;
                }
                var p = '[\\.|\\-|\\+|\\w|/|@]+',
                  m =
                    '\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)';
                function quoteRegExp(i) {
                  return (i + '').replace(/[.?*+^$[\]\\(){}|-]/g, '\\$&');
                }
                function getModuleDependencies(i, a, _) {
                  var w = {};
                  w[_] = [];
                  var x = a.toString(),
                    I = x.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
                  if (!I) return w;
                  for (
                    var D,
                      j = I[1],
                      K = new RegExp('(\\\\n|\\W)' + quoteRegExp(j) + m, 'g');
                    (D = K.exec(x));

                  )
                    'dll-reference' !== D[3] && w[_].push(D[3]);
                  for (
                    K = new RegExp(
                      '\\(' +
                        quoteRegExp(j) +
                        '\\("(dll-reference\\s(' +
                        p +
                        '))"\\)\\)' +
                        m,
                      'g'
                    );
                    (D = K.exec(x));

                  )
                    i[D[2]] || (w[_].push(D[1]), (i[D[2]] = o(D[1]).m)),
                      (w[D[2]] = w[D[2]] || []),
                      w[D[2]].push(D[4]);
                  for (var q, $ = Object.keys(w), Z = 0; Z < $.length; Z++)
                    for (var be = 0; be < w[$[Z]].length; be++)
                      (q = w[$[Z]][be]),
                        isNaN(1 * q) || (w[$[Z]][be] = 1 * w[$[Z]][be]);
                  return w;
                }
                function hasValuesInQueues(i) {
                  return Object.keys(i).reduce(function (a, o) {
                    return a || i[o].length > 0;
                  }, !1);
                }
                i.exports = function (i, a) {
                  a = a || {};
                  var p = { main: o.m },
                    m = a.all
                      ? { main: Object.keys(p.main) }
                      : (function getRequiredModules(i, a) {
                          for (
                            var o = { main: [a] },
                              p = { main: [] },
                              m = { main: {} };
                            hasValuesInQueues(o);

                          )
                            for (
                              var _ = Object.keys(o), w = 0;
                              w < _.length;
                              w++
                            ) {
                              var x = _[w],
                                I = o[x].pop();
                              if (((m[x] = m[x] || {}), !m[x][I] && i[x][I])) {
                                (m[x][I] = !0),
                                  (p[x] = p[x] || []),
                                  p[x].push(I);
                                for (
                                  var D = getModuleDependencies(i, i[x][I], x),
                                    j = Object.keys(D),
                                    K = 0;
                                  K < j.length;
                                  K++
                                )
                                  (o[j[K]] = o[j[K]] || []),
                                    (o[j[K]] = o[j[K]].concat(D[j[K]]));
                              }
                            }
                          return p;
                        })(p, i),
                    _ = '';
                  Object.keys(m)
                    .filter(function (i) {
                      return 'main' !== i;
                    })
                    .forEach(function (i) {
                      for (var a = 0; m[i][a]; ) a++;
                      m[i].push(a),
                        (p[i][a] =
                          '(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })'),
                        (_ =
                          _ +
                          'var ' +
                          i +
                          ' = (' +
                          webpackBootstrapFunc
                            .toString()
                            .replace('ENTRY_MODULE', JSON.stringify(a)) +
                          ')({' +
                          m[i]
                            .map(function (a) {
                              return (
                                JSON.stringify(a) + ': ' + p[i][a].toString()
                              );
                            })
                            .join(',') +
                          '});\n');
                    }),
                    (_ =
                      _ +
                      'new ((' +
                      webpackBootstrapFunc
                        .toString()
                        .replace('ENTRY_MODULE', JSON.stringify(i)) +
                      ')({' +
                      m.main
                        .map(function (i) {
                          return (
                            JSON.stringify(i) + ': ' + p.main[i].toString()
                          );
                        })
                        .join(',') +
                      '}))(self);');
                  var w = new window.Blob([_], { type: 'text/javascript' });
                  if (a.bare) return w;
                  var x = (
                      window.URL ||
                      window.webkitURL ||
                      window.mozURL ||
                      window.msURL
                    ).createObjectURL(w),
                    I = new window.Worker(x);
                  return (I.objectURL = x), I;
                };
              },
            './src/crypt/decrypter.js': function srcCryptDecrypterJs(i, a, o) {
              o.r(a);
              var p = (function () {
                  function AESCrypto(i, a) {
                    (this.subtle = i), (this.aesIV = a);
                  }
                  return (
                    (AESCrypto.prototype.decrypt = function decrypt(i, a) {
                      return this.subtle.decrypt(
                        { name: 'AES-CBC', iv: this.aesIV },
                        a,
                        i
                      );
                    }),
                    AESCrypto
                  );
                })(),
                m = (function () {
                  function FastAESKey(i, a) {
                    (this.subtle = i), (this.key = a);
                  }
                  return (
                    (FastAESKey.prototype.expandKey = function expandKey() {
                      return this.subtle.importKey(
                        'raw',
                        this.key,
                        { name: 'AES-CBC' },
                        !1,
                        ['encrypt', 'decrypt']
                      );
                    }),
                    FastAESKey
                  );
                })();
              var _ = (function () {
                  function AESDecryptor() {
                    (this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]),
                      (this.subMix = [
                        new Uint32Array(256),
                        new Uint32Array(256),
                        new Uint32Array(256),
                        new Uint32Array(256),
                      ]),
                      (this.invSubMix = [
                        new Uint32Array(256),
                        new Uint32Array(256),
                        new Uint32Array(256),
                        new Uint32Array(256),
                      ]),
                      (this.sBox = new Uint32Array(256)),
                      (this.invSBox = new Uint32Array(256)),
                      (this.key = new Uint32Array(0)),
                      this.initTable();
                  }
                  var i = AESDecryptor.prototype;
                  return (
                    (i.uint8ArrayToUint32Array_ =
                      function uint8ArrayToUint32Array_(i) {
                        for (
                          var a = new DataView(i),
                            o = new Uint32Array(4),
                            p = 0;
                          p < 4;
                          p++
                        )
                          o[p] = a.getUint32(4 * p);
                        return o;
                      }),
                    (i.initTable = function initTable() {
                      var i = this.sBox,
                        a = this.invSBox,
                        o = this.subMix,
                        p = o[0],
                        m = o[1],
                        _ = o[2],
                        w = o[3],
                        x = this.invSubMix,
                        I = x[0],
                        D = x[1],
                        j = x[2],
                        K = x[3],
                        q = new Uint32Array(256),
                        $ = 0,
                        Z = 0,
                        be = 0;
                      for (be = 0; be < 256; be++)
                        q[be] = be < 128 ? be << 1 : (be << 1) ^ 283;
                      for (be = 0; be < 256; be++) {
                        var Se = Z ^ (Z << 1) ^ (Z << 2) ^ (Z << 3) ^ (Z << 4);
                        (Se = (Se >>> 8) ^ (255 & Se) ^ 99),
                          (i[$] = Se),
                          (a[Se] = $);
                        var _e = q[$],
                          we = q[_e],
                          xe = q[we],
                          et = (257 * q[Se]) ^ (16843008 * Se);
                        (p[$] = (et << 24) | (et >>> 8)),
                          (m[$] = (et << 16) | (et >>> 16)),
                          (_[$] = (et << 8) | (et >>> 24)),
                          (w[$] = et),
                          (et =
                            (16843009 * xe) ^
                            (65537 * we) ^
                            (257 * _e) ^
                            (16843008 * $)),
                          (I[Se] = (et << 24) | (et >>> 8)),
                          (D[Se] = (et << 16) | (et >>> 16)),
                          (j[Se] = (et << 8) | (et >>> 24)),
                          (K[Se] = et),
                          $
                            ? (($ = _e ^ q[q[q[xe ^ _e]]]), (Z ^= q[q[Z]]))
                            : ($ = Z = 1);
                      }
                    }),
                    (i.expandKey = function expandKey(i) {
                      for (
                        var a = this.uint8ArrayToUint32Array_(i), o = !0, p = 0;
                        p < a.length && o;

                      )
                        (o = a[p] === this.key[p]), p++;
                      if (!o) {
                        this.key = a;
                        var m = (this.keySize = a.length);
                        if (4 !== m && 6 !== m && 8 !== m)
                          throw new Error('Invalid aes key size=' + m);
                        var _,
                          w,
                          x,
                          I,
                          D = (this.ksRows = 4 * (m + 6 + 1)),
                          j = (this.keySchedule = new Uint32Array(D)),
                          K = (this.invKeySchedule = new Uint32Array(D)),
                          q = this.sBox,
                          $ = this.rcon,
                          Z = this.invSubMix,
                          be = Z[0],
                          Se = Z[1],
                          _e = Z[2],
                          we = Z[3];
                        for (_ = 0; _ < D; _++)
                          _ < m
                            ? (x = j[_] = a[_])
                            : ((I = x),
                              _ % m == 0
                                ? ((I =
                                    (q[(I = (I << 8) | (I >>> 24)) >>> 24] <<
                                      24) |
                                    (q[(I >>> 16) & 255] << 16) |
                                    (q[(I >>> 8) & 255] << 8) |
                                    q[255 & I]),
                                  (I ^= $[(_ / m) | 0] << 24))
                                : m > 6 &&
                                  _ % m == 4 &&
                                  (I =
                                    (q[I >>> 24] << 24) |
                                    (q[(I >>> 16) & 255] << 16) |
                                    (q[(I >>> 8) & 255] << 8) |
                                    q[255 & I]),
                              (j[_] = x = (j[_ - m] ^ I) >>> 0));
                        for (w = 0; w < D; w++)
                          (_ = D - w),
                            (I = 3 & w ? j[_] : j[_ - 4]),
                            (K[w] =
                              w < 4 || _ <= 4
                                ? I
                                : be[q[I >>> 24]] ^
                                  Se[q[(I >>> 16) & 255]] ^
                                  _e[q[(I >>> 8) & 255]] ^
                                  we[q[255 & I]]),
                            (K[w] = K[w] >>> 0);
                      }
                    }),
                    (i.networkToHostOrderSwap = function networkToHostOrderSwap(
                      i
                    ) {
                      return (
                        (i << 24) |
                        ((65280 & i) << 8) |
                        ((16711680 & i) >> 8) |
                        (i >>> 24)
                      );
                    }),
                    (i.decrypt = function decrypt(i, a, o, p) {
                      for (
                        var m,
                          _,
                          w,
                          x,
                          I,
                          D,
                          j,
                          K,
                          q,
                          $,
                          Z,
                          be,
                          Se,
                          _e,
                          we = this.keySize + 6,
                          xe = this.invKeySchedule,
                          et = this.invSBox,
                          tt = this.invSubMix,
                          rt = tt[0],
                          nt = tt[1],
                          it = tt[2],
                          at = tt[3],
                          ot = this.uint8ArrayToUint32Array_(o),
                          st = ot[0],
                          ut = ot[1],
                          lt = ot[2],
                          ct = ot[3],
                          dt = new Int32Array(i),
                          ft = new Int32Array(dt.length),
                          ht = this.networkToHostOrderSwap;
                        a < dt.length;

                      ) {
                        for (
                          q = ht(dt[a]),
                            $ = ht(dt[a + 1]),
                            Z = ht(dt[a + 2]),
                            be = ht(dt[a + 3]),
                            I = q ^ xe[0],
                            D = be ^ xe[1],
                            j = Z ^ xe[2],
                            K = $ ^ xe[3],
                            Se = 4,
                            _e = 1;
                          _e < we;
                          _e++
                        )
                          (m =
                            rt[I >>> 24] ^
                            nt[(D >> 16) & 255] ^
                            it[(j >> 8) & 255] ^
                            at[255 & K] ^
                            xe[Se]),
                            (_ =
                              rt[D >>> 24] ^
                              nt[(j >> 16) & 255] ^
                              it[(K >> 8) & 255] ^
                              at[255 & I] ^
                              xe[Se + 1]),
                            (w =
                              rt[j >>> 24] ^
                              nt[(K >> 16) & 255] ^
                              it[(I >> 8) & 255] ^
                              at[255 & D] ^
                              xe[Se + 2]),
                            (x =
                              rt[K >>> 24] ^
                              nt[(I >> 16) & 255] ^
                              it[(D >> 8) & 255] ^
                              at[255 & j] ^
                              xe[Se + 3]),
                            (I = m),
                            (D = _),
                            (j = w),
                            (K = x),
                            (Se += 4);
                        (m =
                          (et[I >>> 24] << 24) ^
                          (et[(D >> 16) & 255] << 16) ^
                          (et[(j >> 8) & 255] << 8) ^
                          et[255 & K] ^
                          xe[Se]),
                          (_ =
                            (et[D >>> 24] << 24) ^
                            (et[(j >> 16) & 255] << 16) ^
                            (et[(K >> 8) & 255] << 8) ^
                            et[255 & I] ^
                            xe[Se + 1]),
                          (w =
                            (et[j >>> 24] << 24) ^
                            (et[(K >> 16) & 255] << 16) ^
                            (et[(I >> 8) & 255] << 8) ^
                            et[255 & D] ^
                            xe[Se + 2]),
                          (x =
                            (et[K >>> 24] << 24) ^
                            (et[(I >> 16) & 255] << 16) ^
                            (et[(D >> 8) & 255] << 8) ^
                            et[255 & j] ^
                            xe[Se + 3]),
                          (Se += 3),
                          (ft[a] = ht(m ^ st)),
                          (ft[a + 1] = ht(x ^ ut)),
                          (ft[a + 2] = ht(w ^ lt)),
                          (ft[a + 3] = ht(_ ^ ct)),
                          (st = q),
                          (ut = $),
                          (lt = Z),
                          (ct = be),
                          (a += 4);
                      }
                      return p
                        ? (function removePadding(i) {
                            var a = i.byteLength,
                              o = a && new DataView(i).getUint8(a - 1);
                            return o ? i.slice(0, a - o) : i;
                          })(ft.buffer)
                        : ft.buffer;
                    }),
                    (i.destroy = function destroy() {
                      (this.key = undefined),
                        (this.keySize = undefined),
                        (this.ksRows = undefined),
                        (this.sBox = undefined),
                        (this.invSBox = undefined),
                        (this.subMix = undefined),
                        (this.invSubMix = undefined),
                        (this.keySchedule = undefined),
                        (this.invKeySchedule = undefined),
                        (this.rcon = undefined);
                    }),
                    AESDecryptor
                  );
                })(),
                w = o('./src/errors.ts'),
                x = o('./src/utils/logger.js'),
                I = o('./src/events.js'),
                D = o('./src/utils/get-self-scope.js'),
                j = Object(D.getSelfScope)(),
                K = (function () {
                  function Decrypter(i, a, o) {
                    var p = (void 0 === o ? {} : o).removePKCS7Padding,
                      m = void 0 === p || p;
                    if (
                      ((this.logEnabled = !0),
                      (this.observer = i),
                      (this.config = a),
                      (this.removePKCS7Padding = m),
                      m)
                    )
                      try {
                        var _ = j.crypto;
                        _ && (this.subtle = _.subtle || _.webkitSubtle);
                      } catch (w) {}
                    this.disableWebCrypto = !this.subtle;
                  }
                  var i = Decrypter.prototype;
                  return (
                    (i.isSync = function isSync() {
                      return (
                        this.disableWebCrypto && this.config.enableSoftwareAES
                      );
                    }),
                    (i.decrypt = function decrypt(i, a, o, w) {
                      var I = this;
                      if (
                        this.disableWebCrypto &&
                        this.config.enableSoftwareAES
                      ) {
                        this.logEnabled &&
                          (x.logger.log('JS AES decrypt'),
                          (this.logEnabled = !1));
                        var D = this.decryptor;
                        D || (this.decryptor = D = new _()),
                          D.expandKey(a),
                          w(D.decrypt(i, 0, o, this.removePKCS7Padding));
                      } else {
                        this.logEnabled &&
                          (x.logger.log('WebCrypto AES decrypt'),
                          (this.logEnabled = !1));
                        var j = this.subtle;
                        this.key !== a &&
                          ((this.key = a), (this.fastAesKey = new m(j, a))),
                          this.fastAesKey
                            .expandKey()
                            .then(function (m) {
                              new p(j, o)
                                .decrypt(i, m)
                                ['catch'](function (p) {
                                  I.onWebCryptoError(p, i, a, o, w);
                                })
                                .then(function (i) {
                                  w(i);
                                });
                            })
                            ['catch'](function (p) {
                              I.onWebCryptoError(p, i, a, o, w);
                            });
                      }
                    }),
                    (i.onWebCryptoError = function onWebCryptoError(
                      i,
                      a,
                      o,
                      p,
                      m
                    ) {
                      this.config.enableSoftwareAES
                        ? (x.logger.log(
                            'WebCrypto Error, disable WebCrypto API'
                          ),
                          (this.disableWebCrypto = !0),
                          (this.logEnabled = !0),
                          this.decrypt(a, o, p, m))
                        : (x.logger.error('decrypting error : ' + i.message),
                          this.observer.trigger(I['default'].ERROR, {
                            type: w.ErrorTypes.MEDIA_ERROR,
                            details: w.ErrorDetails.FRAG_DECRYPT_ERROR,
                            fatal: !0,
                            reason: i.message,
                          }));
                    }),
                    (i.destroy = function destroy() {
                      var i = this.decryptor;
                      i && (i.destroy(), (this.decryptor = undefined));
                    }),
                    Decrypter
                  );
                })();
              a['default'] = K;
            },
            './src/demux/demuxer-inline.js': function srcDemuxDemuxerInlineJs(
              i,
              a,
              o
            ) {
              o.r(a);
              var p = o('./src/events.js'),
                m = o('./src/errors.ts'),
                _ = o('./src/crypt/decrypter.js'),
                w = o('./src/polyfills/number-isFinite.js'),
                x = o('./src/utils/logger.js'),
                I = o('./src/utils/get-self-scope.js');
              function isHeaderPattern(i, a) {
                return 255 === i[a] && 240 == (246 & i[a + 1]);
              }
              function getHeaderLength(i, a) {
                return 1 & i[a + 1] ? 7 : 9;
              }
              function getFullFrameLength(i, a) {
                return (
                  ((3 & i[a + 3]) << 11) |
                  (i[a + 4] << 3) |
                  ((224 & i[a + 5]) >>> 5)
                );
              }
              function isHeader(i, a) {
                return !!(a + 1 < i.length && isHeaderPattern(i, a));
              }
              function adts_probe(i, a) {
                if (isHeader(i, a)) {
                  var o = getHeaderLength(i, a);
                  a + 5 < i.length && (o = getFullFrameLength(i, a));
                  var p = a + o;
                  if (
                    p === i.length ||
                    (p + 1 < i.length && isHeaderPattern(i, p))
                  )
                    return !0;
                }
                return !1;
              }
              function initTrackConfig(i, a, o, _, w) {
                if (!i.samplerate) {
                  var I = (function getAudioConfig(i, a, o, _) {
                    var w,
                      I,
                      D,
                      j,
                      K,
                      q = navigator.userAgent.toLowerCase(),
                      $ = _,
                      Z = [
                        96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3,
                        12e3, 11025, 8e3, 7350,
                      ];
                    if (
                      ((w = 1 + ((192 & a[o + 2]) >>> 6)),
                      !((I = (60 & a[o + 2]) >>> 2) > Z.length - 1))
                    )
                      return (
                        (j = (1 & a[o + 2]) << 2),
                        (j |= (192 & a[o + 3]) >>> 6),
                        x.logger.log(
                          'manifest codec:' +
                            _ +
                            ',ADTS data:type:' +
                            w +
                            ',sampleingIndex:' +
                            I +
                            '[' +
                            Z[I] +
                            'Hz],channelConfig:' +
                            j
                        ),
                        /firefox/i.test(q)
                          ? I >= 6
                            ? ((w = 5), (K = new Array(4)), (D = I - 3))
                            : ((w = 2), (K = new Array(2)), (D = I))
                          : -1 !== q.indexOf('android')
                          ? ((w = 2), (K = new Array(2)), (D = I))
                          : ((w = 5),
                            (K = new Array(4)),
                            (_ &&
                              (-1 !== _.indexOf('mp4a.40.29') ||
                                -1 !== _.indexOf('mp4a.40.5'))) ||
                            (!_ && I >= 6)
                              ? (D = I - 3)
                              : (((_ &&
                                  -1 !== _.indexOf('mp4a.40.2') &&
                                  ((I >= 6 && 1 === j) ||
                                    /vivaldi/i.test(q))) ||
                                  (!_ && 1 === j)) &&
                                  ((w = 2), (K = new Array(2))),
                                (D = I))),
                        (K[0] = w << 3),
                        (K[0] |= (14 & I) >> 1),
                        (K[1] |= (1 & I) << 7),
                        (K[1] |= j << 3),
                        5 === w &&
                          ((K[1] |= (14 & D) >> 1),
                          (K[2] = (1 & D) << 7),
                          (K[2] |= 8),
                          (K[3] = 0)),
                        {
                          config: K,
                          samplerate: Z[I],
                          channelCount: j,
                          codec: 'mp4a.40.' + w,
                          manifestCodec: $,
                        }
                      );
                    i.trigger(p['default'].ERROR, {
                      type: m.ErrorTypes.MEDIA_ERROR,
                      details: m.ErrorDetails.FRAG_PARSING_ERROR,
                      fatal: !0,
                      reason: 'invalid ADTS sampling index:' + I,
                    });
                  })(a, o, _, w);
                  (i.config = I.config),
                    (i.samplerate = I.samplerate),
                    (i.channelCount = I.channelCount),
                    (i.codec = I.codec),
                    (i.manifestCodec = I.manifestCodec),
                    x.logger.log(
                      'parsed codec:' +
                        i.codec +
                        ',rate:' +
                        I.samplerate +
                        ',nb channel:' +
                        I.channelCount
                    );
                }
              }
              function getFrameDuration(i) {
                return 9216e4 / i;
              }
              function appendFrame(i, a, o, p, m) {
                var _ = (function parseFrameHeader(i, a, o, p, m) {
                  var _,
                    w,
                    x = i.length;
                  return (
                    (_ = getHeaderLength(i, a)),
                    (w = getFullFrameLength(i, a)),
                    (w -= _) > 0 && a + _ + w <= x
                      ? { headerLength: _, frameLength: w, stamp: o + p * m }
                      : undefined
                  );
                })(a, o, p, m, getFrameDuration(i.samplerate));
                if (_) {
                  var w = _.stamp,
                    x = _.headerLength,
                    I = _.frameLength,
                    D = { unit: a.subarray(o + x, o + x + I), pts: w, dts: w };
                  return i.samples.push(D), { sample: D, length: I + x };
                }
                return undefined;
              }
              var D = o('./src/demux/id3.js'),
                j = (function () {
                  function AACDemuxer(i, a, o) {
                    (this.observer = i), (this.config = o), (this.remuxer = a);
                  }
                  var i = AACDemuxer.prototype;
                  return (
                    (i.resetInitSegment = function resetInitSegment(
                      i,
                      a,
                      o,
                      p
                    ) {
                      this._audioTrack = {
                        container: 'audio/adts',
                        type: 'audio',
                        id: 0,
                        sequenceNumber: 0,
                        isAAC: !0,
                        samples: [],
                        len: 0,
                        manifestCodec: a,
                        duration: p,
                        inputTimeScale: 9e4,
                      };
                    }),
                    (i.resetTimeStamp = function resetTimeStamp() {}),
                    (AACDemuxer.probe = function probe(i) {
                      if (!i) return !1;
                      for (
                        var a = (D['default'].getID3Data(i, 0) || []).length,
                          o = i.length;
                        a < o;
                        a++
                      )
                        if (adts_probe(i, a))
                          return x.logger.log('ADTS sync word found !'), !0;
                      return !1;
                    }),
                    (i.append = function append(i, a, o, p) {
                      for (
                        var m = this._audioTrack,
                          _ = D['default'].getID3Data(i, 0) || [],
                          I = D['default'].getTimeStamp(_),
                          j = Object(w.isFiniteNumber)(I) ? 90 * I : 9e4 * a,
                          K = 0,
                          q = j,
                          $ = i.length,
                          Z = _.length,
                          be = [{ pts: q, dts: q, data: _ }];
                        Z < $ - 1;

                      )
                        if (isHeader(i, Z) && Z + 5 < $) {
                          initTrackConfig(
                            m,
                            this.observer,
                            i,
                            Z,
                            m.manifestCodec
                          );
                          var Se = appendFrame(m, i, Z, j, K);
                          if (!Se) {
                            x.logger.log('Unable to parse AAC frame');
                            break;
                          }
                          (Z += Se.length), (q = Se.sample.pts), K++;
                        } else
                          D['default'].isHeader(i, Z)
                            ? ((_ = D['default'].getID3Data(i, Z)),
                              be.push({ pts: q, dts: q, data: _ }),
                              (Z += _.length))
                            : Z++;
                      this.remuxer.remux(
                        m,
                        { samples: [] },
                        { samples: be, inputTimeScale: 9e4 },
                        { samples: [] },
                        a,
                        o,
                        p
                      );
                    }),
                    (i.destroy = function destroy() {}),
                    AACDemuxer
                  );
                })(),
                K = o('./src/demux/mp4demuxer.js'),
                q = {
                  BitratesMap: [
                    32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384,
                    416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224,
                    256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160,
                    192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144,
                    160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80,
                    96, 112, 128, 144, 160,
                  ],
                  SamplingRateMap: [
                    44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3,
                  ],
                  SamplesCoefficients: [
                    [0, 72, 144, 12],
                    [0, 0, 0, 0],
                    [0, 72, 144, 12],
                    [0, 144, 144, 12],
                  ],
                  BytesInSlot: [0, 1, 1, 4],
                  appendFrame: function appendFrame(i, a, o, p, m) {
                    if (o + 24 > a.length) return undefined;
                    var _ = this.parseHeader(a, o);
                    if (_ && o + _.frameLength <= a.length) {
                      var w =
                          p + m * ((9e4 * _.samplesPerFrame) / _.sampleRate),
                        x = {
                          unit: a.subarray(o, o + _.frameLength),
                          pts: w,
                          dts: w,
                        };
                      return (
                        (i.config = []),
                        (i.channelCount = _.channelCount),
                        (i.samplerate = _.sampleRate),
                        i.samples.push(x),
                        { sample: x, length: _.frameLength }
                      );
                    }
                    return undefined;
                  },
                  parseHeader: function parseHeader(i, a) {
                    var o = (i[a + 1] >> 3) & 3,
                      p = (i[a + 1] >> 1) & 3,
                      m = (i[a + 2] >> 4) & 15,
                      _ = (i[a + 2] >> 2) & 3,
                      w = (i[a + 2] >> 1) & 1;
                    if (1 !== o && 0 !== m && 15 !== m && 3 !== _) {
                      var x = 3 === o ? 3 - p : 3 === p ? 3 : 4,
                        I = 1e3 * q.BitratesMap[14 * x + m - 1],
                        D = 3 === o ? 0 : 2 === o ? 1 : 2,
                        j = q.SamplingRateMap[3 * D + _],
                        K = i[a + 3] >> 6 == 3 ? 1 : 2,
                        $ = q.SamplesCoefficients[o][p],
                        Z = q.BytesInSlot[p],
                        be = 8 * $ * Z;
                      return {
                        sampleRate: j,
                        channelCount: K,
                        frameLength: parseInt(($ * I) / j + w, 10) * Z,
                        samplesPerFrame: be,
                      };
                    }
                    return undefined;
                  },
                  isHeaderPattern: function isHeaderPattern(i, a) {
                    return (
                      255 === i[a] &&
                      224 == (224 & i[a + 1]) &&
                      0 != (6 & i[a + 1])
                    );
                  },
                  isHeader: function isHeader(i, a) {
                    return !!(a + 1 < i.length && this.isHeaderPattern(i, a));
                  },
                  probe: function probe(i, a) {
                    if (a + 1 < i.length && this.isHeaderPattern(i, a)) {
                      var o = this.parseHeader(i, a),
                        p = 4;
                      o && o.frameLength && (p = o.frameLength);
                      var m = a + p;
                      if (
                        m === i.length ||
                        (m + 1 < i.length && this.isHeaderPattern(i, m))
                      )
                        return !0;
                    }
                    return !1;
                  },
                },
                $ = q,
                Z = (function () {
                  function ExpGolomb(i) {
                    (this.data = i),
                      (this.bytesAvailable = i.byteLength),
                      (this.word = 0),
                      (this.bitsAvailable = 0);
                  }
                  var i = ExpGolomb.prototype;
                  return (
                    (i.loadWord = function loadWord() {
                      var i = this.data,
                        a = this.bytesAvailable,
                        o = i.byteLength - a,
                        p = new Uint8Array(4),
                        m = Math.min(4, a);
                      if (0 === m) throw new Error('no bytes available');
                      p.set(i.subarray(o, o + m)),
                        (this.word = new DataView(p.buffer).getUint32(0)),
                        (this.bitsAvailable = 8 * m),
                        (this.bytesAvailable -= m);
                    }),
                    (i.skipBits = function skipBits(i) {
                      var a;
                      this.bitsAvailable > i
                        ? ((this.word <<= i), (this.bitsAvailable -= i))
                        : ((i -= this.bitsAvailable),
                          (i -= (a = i >> 3) >> 3),
                          (this.bytesAvailable -= a),
                          this.loadWord(),
                          (this.word <<= i),
                          (this.bitsAvailable -= i));
                    }),
                    (i.readBits = function readBits(i) {
                      var a = Math.min(this.bitsAvailable, i),
                        o = this.word >>> (32 - a);
                      return (
                        i > 32 &&
                          x.logger.error(
                            'Cannot read more than 32 bits at a time'
                          ),
                        (this.bitsAvailable -= a),
                        this.bitsAvailable > 0
                          ? (this.word <<= a)
                          : this.bytesAvailable > 0 && this.loadWord(),
                        (a = i - a) > 0 && this.bitsAvailable
                          ? (o << a) | this.readBits(a)
                          : o
                      );
                    }),
                    (i.skipLZ = function skipLZ() {
                      var i;
                      for (i = 0; i < this.bitsAvailable; ++i)
                        if (0 != (this.word & (2147483648 >>> i)))
                          return (
                            (this.word <<= i), (this.bitsAvailable -= i), i
                          );
                      return this.loadWord(), i + this.skipLZ();
                    }),
                    (i.skipUEG = function skipUEG() {
                      this.skipBits(1 + this.skipLZ());
                    }),
                    (i.skipEG = function skipEG() {
                      this.skipBits(1 + this.skipLZ());
                    }),
                    (i.readUEG = function readUEG() {
                      var i = this.skipLZ();
                      return this.readBits(i + 1) - 1;
                    }),
                    (i.readEG = function readEG() {
                      var i = this.readUEG();
                      return 1 & i ? (1 + i) >>> 1 : -1 * (i >>> 1);
                    }),
                    (i.readBoolean = function readBoolean() {
                      return 1 === this.readBits(1);
                    }),
                    (i.readUByte = function readUByte() {
                      return this.readBits(8);
                    }),
                    (i.readUShort = function readUShort() {
                      return this.readBits(16);
                    }),
                    (i.readUInt = function readUInt() {
                      return this.readBits(32);
                    }),
                    (i.skipScalingList = function skipScalingList(i) {
                      var a,
                        o = 8,
                        p = 8;
                      for (a = 0; a < i; a++)
                        0 !== p && (p = (o + this.readEG() + 256) % 256),
                          (o = 0 === p ? o : p);
                    }),
                    (i.readSPS = function readSPS() {
                      var i,
                        a,
                        o,
                        p,
                        m,
                        _,
                        w,
                        x = 0,
                        I = 0,
                        D = 0,
                        j = 0,
                        K = this.readUByte.bind(this),
                        q = this.readBits.bind(this),
                        $ = this.readUEG.bind(this),
                        Z = this.readBoolean.bind(this),
                        be = this.skipBits.bind(this),
                        Se = this.skipEG.bind(this),
                        _e = this.skipUEG.bind(this),
                        we = this.skipScalingList.bind(this);
                      if (
                        (K(),
                        (i = K()),
                        q(5),
                        be(3),
                        K(),
                        _e(),
                        100 === i ||
                          110 === i ||
                          122 === i ||
                          244 === i ||
                          44 === i ||
                          83 === i ||
                          86 === i ||
                          118 === i ||
                          128 === i)
                      ) {
                        var xe = $();
                        if ((3 === xe && be(1), _e(), _e(), be(1), Z()))
                          for (_ = 3 !== xe ? 8 : 12, w = 0; w < _; w++)
                            Z() && we(w < 6 ? 16 : 64);
                      }
                      _e();
                      var et = $();
                      if (0 === et) $();
                      else if (1 === et)
                        for (be(1), Se(), Se(), a = $(), w = 0; w < a; w++)
                          Se();
                      _e(),
                        be(1),
                        (o = $()),
                        (p = $()),
                        0 === (m = q(1)) && be(1),
                        be(1),
                        Z() && ((x = $()), (I = $()), (D = $()), (j = $()));
                      var tt = [1, 1];
                      if (Z() && Z())
                        switch (K()) {
                          case 1:
                            tt = [1, 1];
                            break;
                          case 2:
                            tt = [12, 11];
                            break;
                          case 3:
                            tt = [10, 11];
                            break;
                          case 4:
                            tt = [16, 11];
                            break;
                          case 5:
                            tt = [40, 33];
                            break;
                          case 6:
                            tt = [24, 11];
                            break;
                          case 7:
                            tt = [20, 11];
                            break;
                          case 8:
                            tt = [32, 11];
                            break;
                          case 9:
                            tt = [80, 33];
                            break;
                          case 10:
                            tt = [18, 11];
                            break;
                          case 11:
                            tt = [15, 11];
                            break;
                          case 12:
                            tt = [64, 33];
                            break;
                          case 13:
                            tt = [160, 99];
                            break;
                          case 14:
                            tt = [4, 3];
                            break;
                          case 15:
                            tt = [3, 2];
                            break;
                          case 16:
                            tt = [2, 1];
                            break;
                          case 255:
                            tt = [(K() << 8) | K(), (K() << 8) | K()];
                        }
                      return {
                        width: Math.ceil(16 * (o + 1) - 2 * x - 2 * I),
                        height: (2 - m) * (p + 1) * 16 - (m ? 2 : 4) * (D + j),
                        pixelRatio: tt,
                      };
                    }),
                    (i.readSliceType = function readSliceType() {
                      return this.readUByte(), this.readUEG(), this.readUEG();
                    }),
                    ExpGolomb
                  );
                })(),
                be = (function () {
                  function SampleAesDecrypter(i, a, o, p) {
                    (this.decryptdata = o),
                      (this.discardEPB = p),
                      (this.decrypter = new _['default'](i, a, {
                        removePKCS7Padding: !1,
                      }));
                  }
                  var i = SampleAesDecrypter.prototype;
                  return (
                    (i.decryptBuffer = function decryptBuffer(i, a) {
                      this.decrypter.decrypt(
                        i,
                        this.decryptdata.key.buffer,
                        this.decryptdata.iv.buffer,
                        a
                      );
                    }),
                    (i.decryptAacSample = function decryptAacSample(
                      i,
                      a,
                      o,
                      p
                    ) {
                      var m = i[a].unit,
                        _ = m.subarray(16, m.length - (m.length % 16)),
                        w = _.buffer.slice(
                          _.byteOffset,
                          _.byteOffset + _.length
                        ),
                        x = this;
                      this.decryptBuffer(w, function (_) {
                        (_ = new Uint8Array(_)),
                          m.set(_, 16),
                          p || x.decryptAacSamples(i, a + 1, o);
                      });
                    }),
                    (i.decryptAacSamples = function decryptAacSamples(i, a, o) {
                      for (; ; a++) {
                        if (a >= i.length) return void o();
                        if (!(i[a].unit.length < 32)) {
                          var p = this.decrypter.isSync();
                          if ((this.decryptAacSample(i, a, o, p), !p)) return;
                        }
                      }
                    }),
                    (i.getAvcEncryptedData = function getAvcEncryptedData(i) {
                      for (
                        var a = 16 * Math.floor((i.length - 48) / 160) + 16,
                          o = new Int8Array(a),
                          p = 0,
                          m = 32;
                        m <= i.length - 16;
                        m += 160, p += 16
                      )
                        o.set(i.subarray(m, m + 16), p);
                      return o;
                    }),
                    (i.getAvcDecryptedUnit = function getAvcDecryptedUnit(
                      i,
                      a
                    ) {
                      a = new Uint8Array(a);
                      for (
                        var o = 0, p = 32;
                        p <= i.length - 16;
                        p += 160, o += 16
                      )
                        i.set(a.subarray(o, o + 16), p);
                      return i;
                    }),
                    (i.decryptAvcSample = function decryptAvcSample(
                      i,
                      a,
                      o,
                      p,
                      m,
                      _
                    ) {
                      var w = this.discardEPB(m.data),
                        x = this.getAvcEncryptedData(w),
                        I = this;
                      this.decryptBuffer(x.buffer, function (x) {
                        (m.data = I.getAvcDecryptedUnit(w, x)),
                          _ || I.decryptAvcSamples(i, a, o + 1, p);
                      });
                    }),
                    (i.decryptAvcSamples = function decryptAvcSamples(
                      i,
                      a,
                      o,
                      p
                    ) {
                      for (; ; a++, o = 0) {
                        if (a >= i.length) return void p();
                        for (var m = i[a].units; !(o >= m.length); o++) {
                          var _ = m[o];
                          if (
                            !(_.length <= 48 || (1 !== _.type && 5 !== _.type))
                          ) {
                            var w = this.decrypter.isSync();
                            if ((this.decryptAvcSample(i, a, o, p, _, w), !w))
                              return;
                          }
                        }
                      }
                    }),
                    SampleAesDecrypter
                  );
                })(),
                Se = { video: 1, audio: 2, id3: 3, text: 4 },
                _e = (function () {
                  function TSDemuxer(i, a, o, p) {
                    (this.observer = i),
                      (this.config = o),
                      (this.typeSupported = p),
                      (this.remuxer = a),
                      (this.sampleAes = null);
                  }
                  var i = TSDemuxer.prototype;
                  return (
                    (i.setDecryptData = function setDecryptData(i) {
                      null != i && null != i.key && 'SAMPLE-AES' === i.method
                        ? (this.sampleAes = new be(
                            this.observer,
                            this.config,
                            i,
                            this.discardEPB
                          ))
                        : (this.sampleAes = null);
                    }),
                    (TSDemuxer.probe = function probe(i) {
                      var a = TSDemuxer._syncOffset(i);
                      return (
                        !(a < 0) &&
                        (a &&
                          x.logger.warn(
                            'MPEG2-TS detected but first sync word found @ offset ' +
                              a +
                              ', junk ahead ?'
                          ),
                        !0)
                      );
                    }),
                    (TSDemuxer._syncOffset = function _syncOffset(i) {
                      for (
                        var a = Math.min(1e3, i.length - 564), o = 0;
                        o < a;

                      ) {
                        if (
                          71 === i[o] &&
                          71 === i[o + 188] &&
                          71 === i[o + 376]
                        )
                          return o;
                        o++;
                      }
                      return -1;
                    }),
                    (TSDemuxer.createTrack = function createTrack(i, a) {
                      return {
                        container:
                          'video' === i || 'audio' === i
                            ? 'video/mp2t'
                            : undefined,
                        type: i,
                        id: Se[i],
                        pid: -1,
                        inputTimeScale: 9e4,
                        sequenceNumber: 0,
                        samples: [],
                        dropped: 'video' === i ? 0 : undefined,
                        isAAC: 'audio' === i || undefined,
                        duration: 'audio' === i ? a : undefined,
                      };
                    }),
                    (i.resetInitSegment = function resetInitSegment(
                      i,
                      a,
                      o,
                      p
                    ) {
                      (this.pmtParsed = !1),
                        (this._pmtId = -1),
                        (this._avcTrack = TSDemuxer.createTrack('video', p)),
                        (this._audioTrack = TSDemuxer.createTrack('audio', p)),
                        (this._id3Track = TSDemuxer.createTrack('id3', p)),
                        (this._txtTrack = TSDemuxer.createTrack('text', p)),
                        (this.aacOverFlow = null),
                        (this.aacLastPTS = null),
                        (this.avcSample = null),
                        (this.audioCodec = a),
                        (this.videoCodec = o),
                        (this._duration = p);
                    }),
                    (i.resetTimeStamp = function resetTimeStamp() {}),
                    (i.append = function append(i, a, o, _) {
                      var w,
                        I,
                        D,
                        j,
                        K,
                        q = i.length,
                        $ = !1;
                      this.contiguous = o;
                      var Z = this.pmtParsed,
                        be = this._avcTrack,
                        Se = this._audioTrack,
                        _e = this._id3Track,
                        we = be.pid,
                        xe = Se.pid,
                        et = _e.pid,
                        tt = this._pmtId,
                        rt = be.pesData,
                        nt = Se.pesData,
                        it = _e.pesData,
                        at = this._parsePAT,
                        ot = this._parsePMT,
                        st = this._parsePES,
                        ut = this._parseAVCPES.bind(this),
                        lt = this._parseAACPES.bind(this),
                        ct = this._parseMPEGPES.bind(this),
                        dt = this._parseID3PES.bind(this),
                        ft = TSDemuxer._syncOffset(i);
                      for (q -= (q + ft) % 188, w = ft; w < q; w += 188)
                        if (71 === i[w]) {
                          if (
                            ((I = !!(64 & i[w + 1])),
                            (D = ((31 & i[w + 1]) << 8) + i[w + 2]),
                            (48 & i[w + 3]) >> 4 > 1)
                          ) {
                            if ((j = w + 5 + i[w + 4]) === w + 188) continue;
                          } else j = w + 4;
                          switch (D) {
                            case we:
                              I &&
                                (rt && (K = st(rt)) && ut(K, !1),
                                (rt = { data: [], size: 0 })),
                                rt &&
                                  (rt.data.push(i.subarray(j, w + 188)),
                                  (rt.size += w + 188 - j));
                              break;
                            case xe:
                              I &&
                                (nt &&
                                  (K = st(nt)) &&
                                  (Se.isAAC ? lt(K) : ct(K)),
                                (nt = { data: [], size: 0 })),
                                nt &&
                                  (nt.data.push(i.subarray(j, w + 188)),
                                  (nt.size += w + 188 - j));
                              break;
                            case et:
                              I &&
                                (it && (K = st(it)) && dt(K),
                                (it = { data: [], size: 0 })),
                                it &&
                                  (it.data.push(i.subarray(j, w + 188)),
                                  (it.size += w + 188 - j));
                              break;
                            case 0:
                              I && (j += i[j] + 1),
                                (tt = this._pmtId = at(i, j));
                              break;
                            case tt:
                              I && (j += i[j] + 1);
                              var ht = ot(
                                i,
                                j,
                                !0 === this.typeSupported.mpeg ||
                                  !0 === this.typeSupported.mp3,
                                null != this.sampleAes
                              );
                              (we = ht.avc) > 0 && (be.pid = we),
                                (xe = ht.audio) > 0 &&
                                  ((Se.pid = xe), (Se.isAAC = ht.isAAC)),
                                (et = ht.id3) > 0 && (_e.pid = et),
                                $ &&
                                  !Z &&
                                  (x.logger.log('reparse from beginning'),
                                  ($ = !1),
                                  (w = ft - 188)),
                                (Z = this.pmtParsed = !0);
                              break;
                            case 17:
                            case 8191:
                              break;
                            default:
                              $ = !0;
                          }
                        } else
                          this.observer.trigger(p['default'].ERROR, {
                            type: m.ErrorTypes.MEDIA_ERROR,
                            details: m.ErrorDetails.FRAG_PARSING_ERROR,
                            fatal: !1,
                            reason: 'TS packet did not start with 0x47',
                          });
                      rt && (K = st(rt))
                        ? (ut(K, !0), (be.pesData = null))
                        : (be.pesData = rt),
                        nt && (K = st(nt))
                          ? (Se.isAAC ? lt(K) : ct(K), (Se.pesData = null))
                          : (nt &&
                              nt.size &&
                              x.logger.log(
                                'last AAC PES packet truncated,might overlap between fragments'
                              ),
                            (Se.pesData = nt)),
                        it && (K = st(it))
                          ? (dt(K), (_e.pesData = null))
                          : (_e.pesData = it),
                        null == this.sampleAes
                          ? this.remuxer.remux(
                              Se,
                              be,
                              _e,
                              this._txtTrack,
                              a,
                              o,
                              _
                            )
                          : this.decryptAndRemux(
                              Se,
                              be,
                              _e,
                              this._txtTrack,
                              a,
                              o,
                              _
                            );
                    }),
                    (i.decryptAndRemux = function decryptAndRemux(
                      i,
                      a,
                      o,
                      p,
                      m,
                      _,
                      w
                    ) {
                      if (i.samples && i.isAAC) {
                        var x = this;
                        this.sampleAes.decryptAacSamples(
                          i.samples,
                          0,
                          function () {
                            x.decryptAndRemuxAvc(i, a, o, p, m, _, w);
                          }
                        );
                      } else this.decryptAndRemuxAvc(i, a, o, p, m, _, w);
                    }),
                    (i.decryptAndRemuxAvc = function decryptAndRemuxAvc(
                      i,
                      a,
                      o,
                      p,
                      m,
                      _,
                      w
                    ) {
                      if (a.samples) {
                        var x = this;
                        this.sampleAes.decryptAvcSamples(
                          a.samples,
                          0,
                          0,
                          function () {
                            x.remuxer.remux(i, a, o, p, m, _, w);
                          }
                        );
                      } else this.remuxer.remux(i, a, o, p, m, _, w);
                    }),
                    (i.destroy = function destroy() {
                      (this._initPTS = this._initDTS = undefined),
                        (this._duration = 0);
                    }),
                    (i._parsePAT = function _parsePAT(i, a) {
                      return ((31 & i[a + 10]) << 8) | i[a + 11];
                    }),
                    (i._parsePMT = function _parsePMT(i, a, o, p) {
                      var m,
                        _,
                        w = { audio: -1, avc: -1, id3: -1, isAAC: !0 };
                      for (
                        m = a + 3 + (((15 & i[a + 1]) << 8) | i[a + 2]) - 4,
                          a += 12 + (((15 & i[a + 10]) << 8) | i[a + 11]);
                        a < m;

                      ) {
                        switch (
                          ((_ = ((31 & i[a + 1]) << 8) | i[a + 2]), i[a])
                        ) {
                          case 207:
                            if (!p) {
                              x.logger.log('unknown stream type:' + i[a]);
                              break;
                            }
                          case 15:
                            -1 === w.audio && (w.audio = _);
                            break;
                          case 21:
                            -1 === w.id3 && (w.id3 = _);
                            break;
                          case 219:
                            if (!p) {
                              x.logger.log('unknown stream type:' + i[a]);
                              break;
                            }
                          case 27:
                            -1 === w.avc && (w.avc = _);
                            break;
                          case 3:
                          case 4:
                            o
                              ? -1 === w.audio &&
                                ((w.audio = _), (w.isAAC = !1))
                              : x.logger.log(
                                  'MPEG audio found, not supported in this browser for now'
                                );
                            break;
                          case 36:
                            x.logger.warn(
                              'HEVC stream type found, not supported for now'
                            );
                            break;
                          default:
                            x.logger.log('unknown stream type:' + i[a]);
                        }
                        a += 5 + (((15 & i[a + 3]) << 8) | i[a + 4]);
                      }
                      return w;
                    }),
                    (i._parsePES = function _parsePES(i) {
                      var a,
                        o,
                        p,
                        m,
                        _,
                        w,
                        I,
                        D,
                        j = 0,
                        K = i.data;
                      if (!i || 0 === i.size) return null;
                      for (; K[0].length < 19 && K.length > 1; ) {
                        var q = new Uint8Array(K[0].length + K[1].length);
                        q.set(K[0]),
                          q.set(K[1], K[0].length),
                          (K[0] = q),
                          K.splice(1, 1);
                      }
                      if (1 === ((a = K[0])[0] << 16) + (a[1] << 8) + a[2]) {
                        if ((p = (a[4] << 8) + a[5]) && p > i.size - 6)
                          return null;
                        if (
                          (192 & (o = a[7]) &&
                            ((w =
                              536870912 * (14 & a[9]) +
                              4194304 * (255 & a[10]) +
                              16384 * (254 & a[11]) +
                              128 * (255 & a[12]) +
                              (254 & a[13]) / 2) > 4294967295 &&
                              (w -= 8589934592),
                            64 & o
                              ? ((I =
                                  536870912 * (14 & a[14]) +
                                  4194304 * (255 & a[15]) +
                                  16384 * (254 & a[16]) +
                                  128 * (255 & a[17]) +
                                  (254 & a[18]) / 2) > 4294967295 &&
                                  (I -= 8589934592),
                                w - I > 54e5 &&
                                  (x.logger.warn(
                                    Math.round((w - I) / 9e4) +
                                      's delta between PTS and DTS, align them'
                                  ),
                                  (w = I)))
                              : (I = w)),
                          (D = (m = a[8]) + 9),
                          i.size <= D)
                        )
                          return null;
                        (i.size -= D), (_ = new Uint8Array(i.size));
                        for (var $ = 0, Z = K.length; $ < Z; $++) {
                          var be = (a = K[$]).byteLength;
                          if (D) {
                            if (D > be) {
                              D -= be;
                              continue;
                            }
                            (a = a.subarray(D)), (be -= D), (D = 0);
                          }
                          _.set(a, j), (j += be);
                        }
                        return (
                          p && (p -= m + 3), { data: _, pts: w, dts: I, len: p }
                        );
                      }
                      return null;
                    }),
                    (i.pushAccesUnit = function pushAccesUnit(i, a) {
                      if (i.units.length && i.frame) {
                        var o = a.samples,
                          p = o.length;
                        if (isNaN(i.pts)) {
                          if (!p) return void a.dropped++;
                          var m = o[p - 1];
                          (i.pts = m.pts), (i.dts = m.dts);
                        }
                        !this.config.forceKeyFrameOnDiscontinuity ||
                        !0 === i.key ||
                        (a.sps && (p || this.contiguous))
                          ? ((i.id = p), o.push(i))
                          : a.dropped++;
                      }
                      i.debug.length &&
                        x.logger.log(i.pts + '/' + i.dts + ':' + i.debug);
                    }),
                    (i._parseAVCPES = function _parseAVCPES(i, a) {
                      var o,
                        p,
                        m,
                        _ = this,
                        w = this._avcTrack,
                        x = this._parseAVCNALu(i.data),
                        I = this.avcSample,
                        j = !1,
                        K = this.pushAccesUnit.bind(this),
                        q = function createAVCSample(i, a, o, p) {
                          return {
                            key: i,
                            pts: a,
                            dts: o,
                            units: [],
                            debug: p,
                          };
                        };
                      (i.data = null),
                        I &&
                          x.length &&
                          !w.audFound &&
                          (K(I, w),
                          (I = this.avcSample = q(!1, i.pts, i.dts, ''))),
                        x.forEach(function (a) {
                          switch (a.type) {
                            case 1:
                              (p = !0),
                                I ||
                                  (I = _.avcSample = q(!0, i.pts, i.dts, '')),
                                (I.frame = !0);
                              var x = a.data;
                              if (j && x.length > 4) {
                                var $ = new Z(x).readSliceType();
                                (2 !== $ && 4 !== $ && 7 !== $ && 9 !== $) ||
                                  (I.key = !0);
                              }
                              break;
                            case 5:
                              (p = !0),
                                I ||
                                  (I = _.avcSample = q(!0, i.pts, i.dts, '')),
                                (I.key = !0),
                                (I.frame = !0);
                              break;
                            case 6:
                              (p = !0),
                                (o = new Z(_.discardEPB(a.data))).readUByte();
                              for (
                                var be = 0, Se = 0, _e = !1, we = 0;
                                !_e && o.bytesAvailable > 1;

                              ) {
                                be = 0;
                                do {
                                  be += we = o.readUByte();
                                } while (255 === we);
                                Se = 0;
                                do {
                                  Se += we = o.readUByte();
                                } while (255 === we);
                                if (4 === be && 0 !== o.bytesAvailable) {
                                  if (((_e = !0), 181 === o.readUByte()))
                                    if (49 === o.readUShort())
                                      if (1195456820 === o.readUInt())
                                        if (3 === o.readUByte()) {
                                          var xe = o.readUByte(),
                                            et = 31 & xe,
                                            tt = [xe, o.readUByte()];
                                          for (m = 0; m < et; m++)
                                            tt.push(o.readUByte()),
                                              tt.push(o.readUByte()),
                                              tt.push(o.readUByte());
                                          _._insertSampleInOrder(
                                            _._txtTrack.samples,
                                            { type: 3, pts: i.pts, bytes: tt }
                                          );
                                        }
                                } else if (5 === be && 0 !== o.bytesAvailable) {
                                  if (((_e = !0), Se > 16)) {
                                    var rt = [];
                                    for (m = 0; m < 16; m++)
                                      rt.push(o.readUByte().toString(16)),
                                        (3 !== m &&
                                          5 !== m &&
                                          7 !== m &&
                                          9 !== m) ||
                                          rt.push('-');
                                    var nt = Se - 16,
                                      it = new Uint8Array(nt);
                                    for (m = 0; m < nt; m++)
                                      it[m] = o.readUByte();
                                    _._insertSampleInOrder(
                                      _._txtTrack.samples,
                                      {
                                        pts: i.pts,
                                        payloadType: be,
                                        uuid: rt.join(''),
                                        userDataBytes: it,
                                        userData: Object(D.utf8ArrayToStr)(
                                          it.buffer
                                        ),
                                      }
                                    );
                                  }
                                } else if (Se < o.bytesAvailable)
                                  for (m = 0; m < Se; m++) o.readUByte();
                              }
                              break;
                            case 7:
                              if (((p = !0), (j = !0), !w.sps)) {
                                var at = (o = new Z(a.data)).readSPS();
                                (w.width = at.width),
                                  (w.height = at.height),
                                  (w.pixelRatio = at.pixelRatio),
                                  (w.sps = [a.data]),
                                  (w.duration = _._duration);
                                var ot = a.data.subarray(1, 4),
                                  st = 'avc1.';
                                for (m = 0; m < 3; m++) {
                                  var ut = ot[m].toString(16);
                                  ut.length < 2 && (ut = '0' + ut), (st += ut);
                                }
                                w.codec = st;
                              }
                              break;
                            case 8:
                              (p = !0), w.pps || (w.pps = [a.data]);
                              break;
                            case 9:
                              (p = !1),
                                (w.audFound = !0),
                                I && K(I, w),
                                (I = _.avcSample = q(!1, i.pts, i.dts, ''));
                              break;
                            case 12:
                              p = !1;
                              break;
                            default:
                              (p = !1),
                                I && (I.debug += 'unknown NAL ' + a.type + ' ');
                          }
                          I && p && I.units.push(a);
                        }),
                        a && I && (K(I, w), (this.avcSample = null));
                    }),
                    (i._insertSampleInOrder = function _insertSampleInOrder(
                      i,
                      a
                    ) {
                      var o = i.length;
                      if (o > 0) {
                        if (a.pts >= i[o - 1].pts) i.push(a);
                        else
                          for (var p = o - 1; p >= 0; p--)
                            if (a.pts < i[p].pts) {
                              i.splice(p, 0, a);
                              break;
                            }
                      } else i.push(a);
                    }),
                    (i._getLastNalUnit = function _getLastNalUnit() {
                      var i,
                        a = this.avcSample;
                      if (!a || 0 === a.units.length) {
                        var o = this._avcTrack.samples;
                        a = o[o.length - 1];
                      }
                      if (a) {
                        var p = a.units;
                        i = p[p.length - 1];
                      }
                      return i;
                    }),
                    (i._parseAVCNALu = function _parseAVCNALu(i) {
                      var a,
                        o,
                        p,
                        m,
                        _ = 0,
                        w = i.byteLength,
                        x = this._avcTrack,
                        I = x.naluState || 0,
                        D = I,
                        j = [],
                        K = -1;
                      for (
                        -1 === I &&
                        ((K = 0), (m = 31 & i[0]), (I = 0), (_ = 1));
                        _ < w;

                      )
                        if (((a = i[_++]), I))
                          if (1 !== I)
                            if (a)
                              if (1 === a) {
                                if (K >= 0)
                                  (p = {
                                    data: i.subarray(K, _ - I - 1),
                                    type: m,
                                  }),
                                    j.push(p);
                                else {
                                  var q = this._getLastNalUnit();
                                  if (
                                    q &&
                                    (D &&
                                      _ <= 4 - D &&
                                      q.state &&
                                      (q.data = q.data.subarray(
                                        0,
                                        q.data.byteLength - D
                                      )),
                                    (o = _ - I - 1) > 0)
                                  ) {
                                    var $ = new Uint8Array(
                                      q.data.byteLength + o
                                    );
                                    $.set(q.data, 0),
                                      $.set(
                                        i.subarray(0, o),
                                        q.data.byteLength
                                      ),
                                      (q.data = $);
                                  }
                                }
                                _ < w
                                  ? ((K = _), (m = 31 & i[_]), (I = 0))
                                  : (I = -1);
                              } else I = 0;
                            else I = 3;
                          else I = a ? 0 : 2;
                        else I = a ? 0 : 1;
                      if (
                        (K >= 0 &&
                          I >= 0 &&
                          ((p = { data: i.subarray(K, w), type: m, state: I }),
                          j.push(p)),
                        0 === j.length)
                      ) {
                        var Z = this._getLastNalUnit();
                        if (Z) {
                          var be = new Uint8Array(
                            Z.data.byteLength + i.byteLength
                          );
                          be.set(Z.data, 0),
                            be.set(i, Z.data.byteLength),
                            (Z.data = be);
                        }
                      }
                      return (x.naluState = I), j;
                    }),
                    (i.discardEPB = function discardEPB(i) {
                      for (
                        var a, o, p = i.byteLength, m = [], _ = 1;
                        _ < p - 2;

                      )
                        0 === i[_] && 0 === i[_ + 1] && 3 === i[_ + 2]
                          ? (m.push(_ + 2), (_ += 2))
                          : _++;
                      if (0 === m.length) return i;
                      (a = p - m.length), (o = new Uint8Array(a));
                      var w = 0;
                      for (_ = 0; _ < a; w++, _++)
                        w === m[0] && (w++, m.shift()), (o[_] = i[w]);
                      return o;
                    }),
                    (i._parseAACPES = function _parseAACPES(i) {
                      var a,
                        o,
                        _,
                        w,
                        I,
                        D,
                        j,
                        K = this._audioTrack,
                        q = i.data,
                        $ = i.pts,
                        Z = this.aacOverFlow,
                        be = this.aacLastPTS;
                      if (Z) {
                        var Se = new Uint8Array(Z.byteLength + q.byteLength);
                        Se.set(Z, 0), Se.set(q, Z.byteLength), (q = Se);
                      }
                      for (
                        _ = 0, I = q.length;
                        _ < I - 1 && !isHeader(q, _);
                        _++
                      );
                      if (
                        _ &&
                        (_ < I - 1
                          ? ((D =
                              'AAC PES did not start with ADTS header,offset:' +
                              _),
                            (j = !1))
                          : ((D = 'no ADTS header found in AAC PES'), (j = !0)),
                        x.logger.warn('parsing error:' + D),
                        this.observer.trigger(p['default'].ERROR, {
                          type: m.ErrorTypes.MEDIA_ERROR,
                          details: m.ErrorDetails.FRAG_PARSING_ERROR,
                          fatal: j,
                          reason: D,
                        }),
                        j)
                      )
                        return;
                      if (
                        (initTrackConfig(
                          K,
                          this.observer,
                          q,
                          _,
                          this.audioCodec
                        ),
                        (o = 0),
                        (a = getFrameDuration(K.samplerate)),
                        Z && be)
                      ) {
                        var _e = be + a;
                        Math.abs(_e - $) > 1 &&
                          (x.logger.log(
                            'AAC: align PTS for overlapping frames by ' +
                              Math.round((_e - $) / 90)
                          ),
                          ($ = _e));
                      }
                      for (; _ < I; ) {
                        if (isHeader(q, _)) {
                          if (_ + 5 < I) {
                            var we = appendFrame(K, q, _, $, o);
                            if (we) {
                              (_ += we.length), (w = we.sample.pts), o++;
                              continue;
                            }
                          }
                          break;
                        }
                        _++;
                      }
                      (Z = _ < I ? q.subarray(_, I) : null),
                        (this.aacOverFlow = Z),
                        (this.aacLastPTS = w);
                    }),
                    (i._parseMPEGPES = function _parseMPEGPES(i) {
                      for (
                        var a = i.data, o = a.length, p = 0, m = 0, _ = i.pts;
                        m < o;

                      )
                        if ($.isHeader(a, m)) {
                          var w = $.appendFrame(this._audioTrack, a, m, _, p);
                          if (!w) break;
                          (m += w.length), p++;
                        } else m++;
                    }),
                    (i._parseID3PES = function _parseID3PES(i) {
                      this._id3Track.samples.push(i);
                    }),
                    TSDemuxer
                  );
                })(),
                we = (function () {
                  function MP3Demuxer(i, a, o) {
                    (this.observer = i), (this.config = o), (this.remuxer = a);
                  }
                  var i = MP3Demuxer.prototype;
                  return (
                    (i.resetInitSegment = function resetInitSegment(
                      i,
                      a,
                      o,
                      p
                    ) {
                      this._audioTrack = {
                        container: 'audio/mpeg',
                        type: 'audio',
                        id: -1,
                        sequenceNumber: 0,
                        isAAC: !1,
                        samples: [],
                        len: 0,
                        manifestCodec: a,
                        duration: p,
                        inputTimeScale: 9e4,
                      };
                    }),
                    (i.resetTimeStamp = function resetTimeStamp() {}),
                    (MP3Demuxer.probe = function probe(i) {
                      var a,
                        o,
                        p = D['default'].getID3Data(i, 0);
                      if (p && D['default'].getTimeStamp(p) !== undefined)
                        for (
                          a = p.length, o = Math.min(i.length - 1, a + 100);
                          a < o;
                          a++
                        )
                          if ($.probe(i, a))
                            return (
                              x.logger.log('MPEG Audio sync word found !'), !0
                            );
                      return !1;
                    }),
                    (i.append = function append(i, a, o, p) {
                      for (
                        var m = D['default'].getID3Data(i, 0),
                          _ = D['default'].getTimeStamp(m),
                          w = _ ? 90 * _ : 9e4 * a,
                          x = m.length,
                          I = i.length,
                          j = 0,
                          K = 0,
                          q = this._audioTrack,
                          Z = [{ pts: w, dts: w, data: m }];
                        x < I;

                      )
                        if ($.isHeader(i, x)) {
                          var be = $.appendFrame(q, i, x, w, j);
                          if (!be) break;
                          (x += be.length), (K = be.sample.pts), j++;
                        } else
                          D['default'].isHeader(i, x)
                            ? ((m = D['default'].getID3Data(i, x)),
                              Z.push({ pts: K, dts: K, data: m }),
                              (x += m.length))
                            : x++;
                      this.remuxer.remux(
                        q,
                        { samples: [] },
                        { samples: Z, inputTimeScale: 9e4 },
                        { samples: [] },
                        a,
                        o,
                        p
                      );
                    }),
                    (i.destroy = function destroy() {}),
                    MP3Demuxer
                  );
                })(),
                xe = (function () {
                  function AAC() {}
                  return (
                    (AAC.getSilentFrame = function getSilentFrame(i, a) {
                      switch (i) {
                        case 'mp4a.40.2':
                          if (1 === a)
                            return new Uint8Array([0, 200, 0, 128, 35, 128]);
                          if (2 === a)
                            return new Uint8Array([
                              33, 0, 73, 144, 2, 25, 0, 35, 128,
                            ]);
                          if (3 === a)
                            return new Uint8Array([
                              0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                              142,
                            ]);
                          if (4 === a)
                            return new Uint8Array([
                              0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                              128, 44, 128, 8, 2, 56,
                            ]);
                          if (5 === a)
                            return new Uint8Array([
                              0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                              130, 48, 4, 153, 0, 33, 144, 2, 56,
                            ]);
                          if (6 === a)
                            return new Uint8Array([
                              0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0,
                              130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8,
                              224,
                            ]);
                          break;
                        default:
                          if (1 === a)
                            return new Uint8Array([
                              1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0,
                              0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                            ]);
                          if (2 === a)
                            return new Uint8Array([
                              1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0,
                              0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                            ]);
                          if (3 === a)
                            return new Uint8Array([
                              1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0,
                              0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                              90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                            ]);
                      }
                      return null;
                    }),
                    AAC
                  );
                })(),
                et = Math.pow(2, 32) - 1,
                tt = (function () {
                  function MP4() {}
                  return (
                    (MP4.init = function init() {
                      var i;
                      for (i in ((MP4.types = {
                        avc1: [],
                        avcC: [],
                        btrt: [],
                        dinf: [],
                        dref: [],
                        esds: [],
                        ftyp: [],
                        hdlr: [],
                        mdat: [],
                        mdhd: [],
                        mdia: [],
                        mfhd: [],
                        minf: [],
                        moof: [],
                        moov: [],
                        mp4a: [],
                        '.mp3': [],
                        mvex: [],
                        mvhd: [],
                        pasp: [],
                        sdtp: [],
                        stbl: [],
                        stco: [],
                        stsc: [],
                        stsd: [],
                        stsz: [],
                        stts: [],
                        tfdt: [],
                        tfhd: [],
                        traf: [],
                        trak: [],
                        trun: [],
                        trex: [],
                        tkhd: [],
                        vmhd: [],
                        smhd: [],
                      }),
                      MP4.types))
                        MP4.types.hasOwnProperty(i) &&
                          (MP4.types[i] = [
                            i.charCodeAt(0),
                            i.charCodeAt(1),
                            i.charCodeAt(2),
                            i.charCodeAt(3),
                          ]);
                      var a = new Uint8Array([
                          0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0,
                          0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72,
                          97, 110, 100, 108, 101, 114, 0,
                        ]),
                        o = new Uint8Array([
                          0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0,
                          0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72,
                          97, 110, 100, 108, 101, 114, 0,
                        ]);
                      MP4.HDLR_TYPES = { video: a, audio: o };
                      var p = new Uint8Array([
                          0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108,
                          32, 0, 0, 0, 1,
                        ]),
                        m = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
                      (MP4.STTS = MP4.STSC = MP4.STCO = m),
                        (MP4.STSZ = new Uint8Array([
                          0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        ])),
                        (MP4.VMHD = new Uint8Array([
                          0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
                        ])),
                        (MP4.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                        (MP4.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]));
                      var _ = new Uint8Array([105, 115, 111, 109]),
                        w = new Uint8Array([97, 118, 99, 49]),
                        x = new Uint8Array([0, 0, 0, 1]);
                      (MP4.FTYP = MP4.box(MP4.types.ftyp, _, x, _, w)),
                        (MP4.DINF = MP4.box(
                          MP4.types.dinf,
                          MP4.box(MP4.types.dref, p)
                        ));
                    }),
                    (MP4.box = function box(i) {
                      for (
                        var a,
                          o = Array.prototype.slice.call(arguments, 1),
                          p = 8,
                          m = o.length,
                          _ = m;
                        m--;

                      )
                        p += o[m].byteLength;
                      for (
                        (a = new Uint8Array(p))[0] = (p >> 24) & 255,
                          a[1] = (p >> 16) & 255,
                          a[2] = (p >> 8) & 255,
                          a[3] = 255 & p,
                          a.set(i, 4),
                          m = 0,
                          p = 8;
                        m < _;
                        m++
                      )
                        a.set(o[m], p), (p += o[m].byteLength);
                      return a;
                    }),
                    (MP4.hdlr = function hdlr(i) {
                      return MP4.box(MP4.types.hdlr, MP4.HDLR_TYPES[i]);
                    }),
                    (MP4.mdat = function mdat(i) {
                      return MP4.box(MP4.types.mdat, i);
                    }),
                    (MP4.mdhd = function mdhd(i, a) {
                      a *= i;
                      var o = Math.floor(a / (et + 1)),
                        p = Math.floor(a % (et + 1));
                      return MP4.box(
                        MP4.types.mdhd,
                        new Uint8Array([
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          2,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          3,
                          (i >> 24) & 255,
                          (i >> 16) & 255,
                          (i >> 8) & 255,
                          255 & i,
                          o >> 24,
                          (o >> 16) & 255,
                          (o >> 8) & 255,
                          255 & o,
                          p >> 24,
                          (p >> 16) & 255,
                          (p >> 8) & 255,
                          255 & p,
                          85,
                          196,
                          0,
                          0,
                        ])
                      );
                    }),
                    (MP4.mdia = function mdia(i) {
                      return MP4.box(
                        MP4.types.mdia,
                        MP4.mdhd(i.timescale, i.duration),
                        MP4.hdlr(i.type),
                        MP4.minf(i)
                      );
                    }),
                    (MP4.mfhd = function mfhd(i) {
                      return MP4.box(
                        MP4.types.mfhd,
                        new Uint8Array([
                          0,
                          0,
                          0,
                          0,
                          i >> 24,
                          (i >> 16) & 255,
                          (i >> 8) & 255,
                          255 & i,
                        ])
                      );
                    }),
                    (MP4.minf = function minf(i) {
                      return 'audio' === i.type
                        ? MP4.box(
                            MP4.types.minf,
                            MP4.box(MP4.types.smhd, MP4.SMHD),
                            MP4.DINF,
                            MP4.stbl(i)
                          )
                        : MP4.box(
                            MP4.types.minf,
                            MP4.box(MP4.types.vmhd, MP4.VMHD),
                            MP4.DINF,
                            MP4.stbl(i)
                          );
                    }),
                    (MP4.moof = function moof(i, a, o) {
                      return MP4.box(
                        MP4.types.moof,
                        MP4.mfhd(i),
                        MP4.traf(o, a)
                      );
                    }),
                    (MP4.moov = function moov(i) {
                      for (var a = i.length, o = []; a--; )
                        o[a] = MP4.trak(i[a]);
                      return MP4.box.apply(
                        null,
                        [
                          MP4.types.moov,
                          MP4.mvhd(i[0].timescale, i[0].duration),
                        ]
                          .concat(o)
                          .concat(MP4.mvex(i))
                      );
                    }),
                    (MP4.mvex = function mvex(i) {
                      for (var a = i.length, o = []; a--; )
                        o[a] = MP4.trex(i[a]);
                      return MP4.box.apply(null, [MP4.types.mvex].concat(o));
                    }),
                    (MP4.mvhd = function mvhd(i, a) {
                      a *= i;
                      var o = Math.floor(a / (et + 1)),
                        p = Math.floor(a % (et + 1)),
                        m = new Uint8Array([
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          2,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          3,
                          (i >> 24) & 255,
                          (i >> 16) & 255,
                          (i >> 8) & 255,
                          255 & i,
                          o >> 24,
                          (o >> 16) & 255,
                          (o >> 8) & 255,
                          255 & o,
                          p >> 24,
                          (p >> 16) & 255,
                          (p >> 8) & 255,
                          255 & p,
                          0,
                          1,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          64,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          255,
                          255,
                          255,
                          255,
                        ]);
                      return MP4.box(MP4.types.mvhd, m);
                    }),
                    (MP4.sdtp = function sdtp(i) {
                      var a,
                        o,
                        p = i.samples || [],
                        m = new Uint8Array(4 + p.length);
                      for (o = 0; o < p.length; o++)
                        (a = p[o].flags),
                          (m[o + 4] =
                            (a.dependsOn << 4) |
                            (a.isDependedOn << 2) |
                            a.hasRedundancy);
                      return MP4.box(MP4.types.sdtp, m);
                    }),
                    (MP4.stbl = function stbl(i) {
                      return MP4.box(
                        MP4.types.stbl,
                        MP4.stsd(i),
                        MP4.box(MP4.types.stts, MP4.STTS),
                        MP4.box(MP4.types.stsc, MP4.STSC),
                        MP4.box(MP4.types.stsz, MP4.STSZ),
                        MP4.box(MP4.types.stco, MP4.STCO)
                      );
                    }),
                    (MP4.avc1 = function avc1(i) {
                      var a,
                        o,
                        p,
                        m = [],
                        _ = [];
                      for (a = 0; a < i.sps.length; a++)
                        (p = (o = i.sps[a]).byteLength),
                          m.push((p >>> 8) & 255),
                          m.push(255 & p),
                          (m = m.concat(Array.prototype.slice.call(o)));
                      for (a = 0; a < i.pps.length; a++)
                        (p = (o = i.pps[a]).byteLength),
                          _.push((p >>> 8) & 255),
                          _.push(255 & p),
                          (_ = _.concat(Array.prototype.slice.call(o)));
                      var w = MP4.box(
                          MP4.types.avcC,
                          new Uint8Array(
                            [1, m[3], m[4], m[5], 255, 224 | i.sps.length]
                              .concat(m)
                              .concat([i.pps.length])
                              .concat(_)
                          )
                        ),
                        x = i.width,
                        I = i.height,
                        D = i.pixelRatio[0],
                        j = i.pixelRatio[1];
                      return MP4.box(
                        MP4.types.avc1,
                        new Uint8Array([
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          (x >> 8) & 255,
                          255 & x,
                          (I >> 8) & 255,
                          255 & I,
                          0,
                          72,
                          0,
                          0,
                          0,
                          72,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          18,
                          100,
                          97,
                          105,
                          108,
                          121,
                          109,
                          111,
                          116,
                          105,
                          111,
                          110,
                          47,
                          104,
                          108,
                          115,
                          46,
                          106,
                          115,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          24,
                          17,
                          17,
                        ]),
                        w,
                        MP4.box(
                          MP4.types.btrt,
                          new Uint8Array([
                            0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
                          ])
                        ),
                        MP4.box(
                          MP4.types.pasp,
                          new Uint8Array([
                            D >> 24,
                            (D >> 16) & 255,
                            (D >> 8) & 255,
                            255 & D,
                            j >> 24,
                            (j >> 16) & 255,
                            (j >> 8) & 255,
                            255 & j,
                          ])
                        )
                      );
                    }),
                    (MP4.esds = function esds(i) {
                      var a = i.config.length;
                      return new Uint8Array(
                        [
                          0,
                          0,
                          0,
                          0,
                          3,
                          23 + a,
                          0,
                          1,
                          0,
                          4,
                          15 + a,
                          64,
                          21,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          5,
                        ]
                          .concat([a])
                          .concat(i.config)
                          .concat([6, 1, 2])
                      );
                    }),
                    (MP4.mp4a = function mp4a(i) {
                      var a = i.samplerate;
                      return MP4.box(
                        MP4.types.mp4a,
                        new Uint8Array([
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          i.channelCount,
                          0,
                          16,
                          0,
                          0,
                          0,
                          0,
                          (a >> 8) & 255,
                          255 & a,
                          0,
                          0,
                        ]),
                        MP4.box(MP4.types.esds, MP4.esds(i))
                      );
                    }),
                    (MP4.mp3 = function mp3(i) {
                      var a = i.samplerate;
                      return MP4.box(
                        MP4.types['.mp3'],
                        new Uint8Array([
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          i.channelCount,
                          0,
                          16,
                          0,
                          0,
                          0,
                          0,
                          (a >> 8) & 255,
                          255 & a,
                          0,
                          0,
                        ])
                      );
                    }),
                    (MP4.stsd = function stsd(i) {
                      return 'audio' === i.type
                        ? i.isAAC || 'mp3' !== i.codec
                          ? MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp4a(i))
                          : MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp3(i))
                        : MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(i));
                    }),
                    (MP4.tkhd = function tkhd(i) {
                      var a = i.id,
                        o = i.duration * i.timescale,
                        p = i.width,
                        m = i.height,
                        _ = Math.floor(o / (et + 1)),
                        w = Math.floor(o % (et + 1));
                      return MP4.box(
                        MP4.types.tkhd,
                        new Uint8Array([
                          1,
                          0,
                          0,
                          7,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          2,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          3,
                          (a >> 24) & 255,
                          (a >> 16) & 255,
                          (a >> 8) & 255,
                          255 & a,
                          0,
                          0,
                          0,
                          0,
                          _ >> 24,
                          (_ >> 16) & 255,
                          (_ >> 8) & 255,
                          255 & _,
                          w >> 24,
                          (w >> 16) & 255,
                          (w >> 8) & 255,
                          255 & w,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          64,
                          0,
                          0,
                          0,
                          (p >> 8) & 255,
                          255 & p,
                          0,
                          0,
                          (m >> 8) & 255,
                          255 & m,
                          0,
                          0,
                        ])
                      );
                    }),
                    (MP4.traf = function traf(i, a) {
                      var o = MP4.sdtp(i),
                        p = i.id,
                        m = Math.floor(a / (et + 1)),
                        _ = Math.floor(a % (et + 1));
                      return MP4.box(
                        MP4.types.traf,
                        MP4.box(
                          MP4.types.tfhd,
                          new Uint8Array([
                            0,
                            0,
                            0,
                            0,
                            p >> 24,
                            (p >> 16) & 255,
                            (p >> 8) & 255,
                            255 & p,
                          ])
                        ),
                        MP4.box(
                          MP4.types.tfdt,
                          new Uint8Array([
                            1,
                            0,
                            0,
                            0,
                            m >> 24,
                            (m >> 16) & 255,
                            (m >> 8) & 255,
                            255 & m,
                            _ >> 24,
                            (_ >> 16) & 255,
                            (_ >> 8) & 255,
                            255 & _,
                          ])
                        ),
                        MP4.trun(i, o.length + 16 + 20 + 8 + 16 + 8 + 8),
                        o
                      );
                    }),
                    (MP4.trak = function trak(i) {
                      return (
                        (i.duration = i.duration || 4294967295),
                        MP4.box(MP4.types.trak, MP4.tkhd(i), MP4.mdia(i))
                      );
                    }),
                    (MP4.trex = function trex(i) {
                      var a = i.id;
                      return MP4.box(
                        MP4.types.trex,
                        new Uint8Array([
                          0,
                          0,
                          0,
                          0,
                          a >> 24,
                          (a >> 16) & 255,
                          (a >> 8) & 255,
                          255 & a,
                          0,
                          0,
                          0,
                          1,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          0,
                          1,
                          0,
                          1,
                        ])
                      );
                    }),
                    (MP4.trun = function trun(i, a) {
                      var o,
                        p,
                        m,
                        _,
                        w,
                        x,
                        I = i.samples || [],
                        D = I.length,
                        j = 12 + 16 * D,
                        K = new Uint8Array(j);
                      for (
                        a += 8 + j,
                          K.set(
                            [
                              0,
                              0,
                              15,
                              1,
                              (D >>> 24) & 255,
                              (D >>> 16) & 255,
                              (D >>> 8) & 255,
                              255 & D,
                              (a >>> 24) & 255,
                              (a >>> 16) & 255,
                              (a >>> 8) & 255,
                              255 & a,
                            ],
                            0
                          ),
                          o = 0;
                        o < D;
                        o++
                      )
                        (m = (p = I[o]).duration),
                          (_ = p.size),
                          (w = p.flags),
                          (x = p.cts),
                          K.set(
                            [
                              (m >>> 24) & 255,
                              (m >>> 16) & 255,
                              (m >>> 8) & 255,
                              255 & m,
                              (_ >>> 24) & 255,
                              (_ >>> 16) & 255,
                              (_ >>> 8) & 255,
                              255 & _,
                              (w.isLeading << 2) | w.dependsOn,
                              (w.isDependedOn << 6) |
                                (w.hasRedundancy << 4) |
                                (w.paddingValue << 1) |
                                w.isNonSync,
                              61440 & w.degradPrio,
                              15 & w.degradPrio,
                              (x >>> 24) & 255,
                              (x >>> 16) & 255,
                              (x >>> 8) & 255,
                              255 & x,
                            ],
                            12 + 16 * o
                          );
                      return MP4.box(MP4.types.trun, K);
                    }),
                    (MP4.initSegment = function initSegment(i) {
                      MP4.types || MP4.init();
                      var a,
                        o = MP4.moov(i);
                      return (
                        (a = new Uint8Array(
                          MP4.FTYP.byteLength + o.byteLength
                        )).set(MP4.FTYP),
                        a.set(o, MP4.FTYP.byteLength),
                        a
                      );
                    }),
                    MP4
                  );
                })();
              function toTimescaleFromBase(i, a, o, p) {
                void 0 === o && (o = 1), void 0 === p && (p = !1);
                var m = i * a * o;
                return p ? Math.round(m) : m;
              }
              function toMsFromMpegTsClock(i, a) {
                return (
                  void 0 === a && (a = !1),
                  toTimescaleFromBase(i, 1e3, 1 / 9e4, a)
                );
              }
              function toMpegTsClockFromTimescale(i, a) {
                return (
                  void 0 === a && (a = 1), toTimescaleFromBase(i, 9e4, 1 / a)
                );
              }
              var rt,
                nt = toMpegTsClockFromTimescale(10),
                it = toMpegTsClockFromTimescale(0.2),
                at = (function () {
                  function MP4Remuxer(i, a, o, p) {
                    (this.observer = i),
                      (this.config = a),
                      (this.typeSupported = o);
                    var m = navigator.userAgent;
                    (this.isSafari =
                      p && p.indexOf('Apple') > -1 && m && !m.match('CriOS')),
                      (this.ISGenerated = !1);
                  }
                  var i = MP4Remuxer.prototype;
                  return (
                    (i.destroy = function destroy() {}),
                    (i.resetTimeStamp = function resetTimeStamp(i) {
                      this._initPTS = this._initDTS = i;
                    }),
                    (i.resetInitSegment = function resetInitSegment() {
                      this.ISGenerated = !1;
                    }),
                    (i.remux = function remux(i, a, o, m, _, w, I) {
                      if (
                        (this.ISGenerated || this.generateIS(i, a, _),
                        this.ISGenerated)
                      ) {
                        var D = i.samples.length,
                          j = a.samples.length,
                          K = _,
                          q = _;
                        if (D && j) {
                          var $ =
                            (i.samples[0].pts - a.samples[0].pts) /
                            a.inputTimeScale;
                          (K += Math.max(0, $)), (q += Math.max(0, -$));
                        }
                        if (D) {
                          i.timescale ||
                            (x.logger.warn(
                              'regenerate InitSegment as audio detected'
                            ),
                            this.generateIS(i, a, _));
                          var Z,
                            be = this.remuxAudio(i, K, w, I);
                          if (j)
                            be && (Z = be.endPTS - be.startPTS),
                              a.timescale ||
                                (x.logger.warn(
                                  'regenerate InitSegment as video detected'
                                ),
                                this.generateIS(i, a, _)),
                              this.remuxVideo(a, q, w, Z, I);
                        } else if (j) {
                          var Se = this.remuxVideo(a, q, w, 0, I);
                          Se && i.codec && this.remuxEmptyAudio(i, K, w, Se);
                        }
                      }
                      o.samples.length && this.remuxID3(o, _),
                        m.samples.length && this.remuxText(m, _),
                        this.observer.trigger(p['default'].FRAG_PARSED);
                    }),
                    (i.generateIS = function generateIS(i, a, o) {
                      var _,
                        w,
                        I = this.observer,
                        D = i.samples,
                        j = a.samples,
                        K = this.typeSupported,
                        q = 'audio/mp4',
                        $ = {},
                        Z = { tracks: $ },
                        be = this._initPTS === undefined;
                      if (
                        (be && (_ = w = Infinity),
                        i.config &&
                          D.length &&
                          ((i.timescale = i.samplerate),
                          x.logger.log('audio sampling rate : ' + i.samplerate),
                          i.isAAC ||
                            (K.mpeg
                              ? ((q = 'audio/mpeg'), (i.codec = ''))
                              : K.mp3 && (i.codec = 'mp3')),
                          ($.audio = {
                            container: q,
                            codec: i.codec,
                            initSegment:
                              !i.isAAC && K.mpeg
                                ? new Uint8Array()
                                : tt.initSegment([i]),
                            metadata: { channelCount: i.channelCount },
                          }),
                          be && (_ = w = D[0].pts - i.inputTimeScale * o)),
                        a.sps && a.pps && j.length)
                      ) {
                        var Se = a.inputTimeScale;
                        (a.timescale = Se),
                          ($.video = {
                            container: 'video/mp4',
                            codec: a.codec,
                            initSegment: tt.initSegment([a]),
                            metadata: { width: a.width, height: a.height },
                          }),
                          be &&
                            ((_ = Math.min(_, j[0].pts - Se * o)),
                            (w = Math.min(w, j[0].dts - Se * o)),
                            this.observer.trigger(p['default'].INIT_PTS_FOUND, {
                              initPTS: _,
                            }));
                      }
                      Object.keys($).length
                        ? (I.trigger(p['default'].FRAG_PARSING_INIT_SEGMENT, Z),
                          (this.ISGenerated = !0),
                          be && ((this._initPTS = _), (this._initDTS = w)))
                        : I.trigger(p['default'].ERROR, {
                            type: m.ErrorTypes.MEDIA_ERROR,
                            details: m.ErrorDetails.FRAG_PARSING_ERROR,
                            fatal: !1,
                            reason: 'no audio/video samples found',
                          });
                    }),
                    (i.remuxVideo = function remuxVideo(i, a, o, _, w) {
                      var I,
                        D,
                        j,
                        K,
                        q,
                        $,
                        Z,
                        be = 8,
                        Se = i.timescale,
                        _e = i.samples,
                        we = [],
                        xe = _e.length,
                        et = this._PTSNormalize,
                        rt = this._initPTS,
                        nt = this.nextAvcDts,
                        at = this.isSafari;
                      if (0 !== xe) {
                        at &&
                          (o |=
                            _e.length &&
                            nt &&
                            ((w && Math.abs(a - nt / Se) < 0.1) ||
                              Math.abs(_e[0].pts - nt - rt) < Se / 5)),
                          o || (nt = a * Se),
                          _e.forEach(function (i) {
                            (i.pts = et(i.pts - rt, nt)),
                              (i.dts = et(i.dts - rt, nt));
                          }),
                          _e.sort(function (i, a) {
                            var o = i.dts - a.dts,
                              p = i.pts - a.pts;
                            return o || p || i.id - a.id;
                          });
                        var ot = _e.reduce(function (i, a) {
                          return Math.max(Math.min(i, a.pts - a.dts), -1 * it);
                        }, 0);
                        if (ot < 0) {
                          x.logger.warn(
                            'PTS < DTS detected in video samples, shifting DTS by ' +
                              toMsFromMpegTsClock(ot, !0) +
                              ' ms to overcome this issue'
                          );
                          for (var st = 0; st < _e.length; st++)
                            _e[st].dts += ot;
                        }
                        var ut = _e[0];
                        (q = Math.max(ut.dts, 0)), (K = Math.max(ut.pts, 0));
                        var lt = q - nt;
                        o &&
                          lt &&
                          (lt > 1
                            ? x.logger.log(
                                'AVC: ' +
                                  toMsFromMpegTsClock(lt, !0) +
                                  ' ms hole between fragments detected,filling it'
                              )
                            : lt < -1 &&
                              x.logger.log(
                                'AVC: ' +
                                  toMsFromMpegTsClock(-lt, !0) +
                                  ' ms overlapping between fragments detected'
                              ),
                          (q = nt),
                          (_e[0].dts = q),
                          (K = Math.max(K - lt, nt)),
                          (_e[0].pts = K),
                          x.logger.log(
                            'Video: PTS/DTS adjusted: ' +
                              toMsFromMpegTsClock(K, !0) +
                              '/' +
                              toMsFromMpegTsClock(q, !0) +
                              ', delta: ' +
                              toMsFromMpegTsClock(lt, !0) +
                              ' ms'
                          )),
                          (ut = _e[_e.length - 1]),
                          (Z = Math.max(ut.dts, 0)),
                          ($ = Math.max(ut.pts, 0, Z)),
                          at && (I = Math.round((Z - q) / (_e.length - 1)));
                        for (var ct = 0, dt = 0, ft = 0; ft < xe; ft++) {
                          for (
                            var ht = _e[ft],
                              pt = ht.units,
                              gt = pt.length,
                              mt = 0,
                              vt = 0;
                            vt < gt;
                            vt++
                          )
                            mt += pt[vt].data.length;
                          (dt += mt),
                            (ct += gt),
                            (ht.length = mt),
                            (ht.dts = at ? q + ft * I : Math.max(ht.dts, q)),
                            (ht.pts = Math.max(ht.pts, ht.dts));
                        }
                        var yt = dt + 4 * ct + 8;
                        try {
                          D = new Uint8Array(yt);
                        } catch (Ut) {
                          return void this.observer.trigger(
                            p['default'].ERROR,
                            {
                              type: m.ErrorTypes.MUX_ERROR,
                              details: m.ErrorDetails.REMUX_ALLOC_ERROR,
                              fatal: !1,
                              bytes: yt,
                              reason: 'fail allocating video mdat ' + yt,
                            }
                          );
                        }
                        var bt = new DataView(D.buffer);
                        bt.setUint32(0, yt), D.set(tt.types.mdat, 4);
                        for (var Tt = 0; Tt < xe; Tt++) {
                          for (
                            var St = _e[Tt],
                              Et = St.units,
                              _t = 0,
                              wt = void 0,
                              At = 0,
                              kt = Et.length;
                            At < kt;
                            At++
                          ) {
                            var xt = Et[At],
                              Pt = xt.data,
                              Rt = xt.data.byteLength;
                            bt.setUint32(be, Rt),
                              (be += 4),
                              D.set(Pt, be),
                              (be += Rt),
                              (_t += 4 + Rt);
                          }
                          if (at)
                            wt = Math.max(
                              0,
                              I * Math.round((St.pts - St.dts) / I)
                            );
                          else {
                            if (Tt < xe - 1) I = _e[Tt + 1].dts - St.dts;
                            else {
                              var Ct = this.config,
                                It = St.dts - _e[Tt > 0 ? Tt - 1 : Tt].dts;
                              if (Ct.stretchShortVideoTrack) {
                                var Dt = Ct.maxBufferHole,
                                  Ot = Math.floor(Dt * Se),
                                  Lt =
                                    (_ ? K + _ * Se : this.nextAudioPts) -
                                    St.pts;
                                Lt > Ot
                                  ? ((I = Lt - It) < 0 && (I = It),
                                    x.logger.log(
                                      'It is approximately ' +
                                        toMsFromMpegTsClock(Lt, !1) +
                                        ' ms to the next segment; using duration ' +
                                        toMsFromMpegTsClock(I, !1) +
                                        ' ms for the last video frame.'
                                    ))
                                  : (I = It);
                              } else I = It;
                            }
                            wt = Math.round(St.pts - St.dts);
                          }
                          we.push({
                            size: _t,
                            duration: I,
                            cts: wt,
                            flags: {
                              isLeading: 0,
                              isDependedOn: 0,
                              hasRedundancy: 0,
                              degradPrio: 0,
                              dependsOn: St.key ? 2 : 1,
                              isNonSync: St.key ? 0 : 1,
                            },
                          });
                        }
                        this.nextAvcDts = Z + I;
                        var Mt = i.dropped;
                        if (
                          ((i.nbNalu = 0),
                          (i.dropped = 0),
                          we.length &&
                            navigator.userAgent
                              .toLowerCase()
                              .indexOf('chrome') > -1)
                        ) {
                          var Nt = we[0].flags;
                          (Nt.dependsOn = 2), (Nt.isNonSync = 0);
                        }
                        (i.samples = we),
                          (j = tt.moof(i.sequenceNumber++, q, i)),
                          (i.samples = []);
                        var Ft = {
                          data1: j,
                          data2: D,
                          startPTS: K / Se,
                          endPTS: ($ + I) / Se,
                          startDTS: q / Se,
                          endDTS: this.nextAvcDts / Se,
                          type: 'video',
                          hasAudio: !1,
                          hasVideo: !0,
                          nb: we.length,
                          dropped: Mt,
                        };
                        return (
                          this.observer.trigger(
                            p['default'].FRAG_PARSING_DATA,
                            Ft
                          ),
                          Ft
                        );
                      }
                    }),
                    (i.remuxAudio = function remuxAudio(i, a, o, _) {
                      var w,
                        I,
                        D,
                        j,
                        K,
                        q,
                        $ = i.inputTimeScale,
                        Z = i.timescale,
                        be = $ / Z,
                        Se = (i.isAAC ? 1024 : 1152) * be,
                        _e = this._PTSNormalize,
                        we = this._initPTS,
                        et = !i.isAAC && this.typeSupported.mpeg,
                        rt = et ? 0 : 8,
                        it = i.samples,
                        at = [],
                        ot = this.nextAudioPts;
                      if (
                        ((o |=
                          it.length &&
                          ot &&
                          ((_ && Math.abs(a - ot / $) < 0.1) ||
                            Math.abs(it[0].pts - ot - we) < 20 * Se)),
                        it.forEach(function (i) {
                          i.pts = i.dts = _e(i.pts - we, a * $);
                        }),
                        0 !==
                          (it = it.filter(function (i) {
                            return i.pts >= 0;
                          })).length)
                      ) {
                        if ((o || (ot = _ ? a * $ : it[0].pts), i.isAAC))
                          for (
                            var st = this.config.maxAudioFramesDrift,
                              ut = 0,
                              lt = ot;
                            ut < it.length;

                          ) {
                            var ct,
                              dt = it[ut];
                            if ((ct = dt.pts - lt) <= -st * Se)
                              x.logger.warn(
                                'Dropping 1 audio frame @ ' +
                                  toMsFromMpegTsClock(lt, !0) +
                                  ' ms due to ' +
                                  toMsFromMpegTsClock(ct, !0) +
                                  ' ms overlap.'
                              ),
                                it.splice(ut, 1);
                            else if (ct >= st * Se && ct < nt && lt) {
                              var ft = Math.round(ct / Se);
                              x.logger.warn(
                                'Injecting ' +
                                  ft +
                                  ' audio frames @ ' +
                                  toMsFromMpegTsClock(lt, !0) +
                                  ' ms due to ' +
                                  toMsFromMpegTsClock(lt, !0) +
                                  ' ms gap.'
                              );
                              for (var ht = 0; ht < ft; ht++) {
                                var pt = Math.max(lt, 0);
                                (I = xe.getSilentFrame(
                                  i.manifestCodec || i.codec,
                                  i.channelCount
                                )) ||
                                  (x.logger.log(
                                    'Unable to get silent frame for given audio codec; duplicating last frame instead.'
                                  ),
                                  (I = dt.unit.subarray())),
                                  it.splice(ut, 0, {
                                    unit: I,
                                    pts: pt,
                                    dts: pt,
                                  }),
                                  (lt += Se),
                                  ut++;
                              }
                              (dt.pts = dt.dts = lt), (lt += Se), ut++;
                            } else
                              Math.abs(ct),
                                (dt.pts = dt.dts = lt),
                                (lt += Se),
                                ut++;
                          }
                        for (var gt = it.length, mt = 0; gt--; )
                          mt += it[gt].unit.byteLength;
                        for (var vt = 0, yt = it.length; vt < yt; vt++) {
                          var bt = it[vt],
                            Tt = bt.unit,
                            St = bt.pts;
                          if (q !== undefined)
                            w.duration = Math.round((St - q) / be);
                          else {
                            var Et = St - ot,
                              _t = 0;
                            if (o && i.isAAC && Et) {
                              if (Et > 0 && Et < nt)
                                (_t = Math.round((St - ot) / Se)),
                                  x.logger.log(
                                    toMsFromMpegTsClock(Et, !0) +
                                      ' ms hole between AAC samples detected,filling it'
                                  ),
                                  _t > 0 &&
                                    ((I = xe.getSilentFrame(
                                      i.manifestCodec || i.codec,
                                      i.channelCount
                                    )) || (I = Tt.subarray()),
                                    (mt += _t * I.length));
                              else if (Et < -12) {
                                x.logger.log(
                                  'drop overlapping AAC sample, expected/parsed/delta: ' +
                                    toMsFromMpegTsClock(ot, !0) +
                                    ' ms / ' +
                                    toMsFromMpegTsClock(St, !0) +
                                    ' ms / ' +
                                    toMsFromMpegTsClock(-Et, !0) +
                                    ' ms'
                                ),
                                  (mt -= Tt.byteLength);
                                continue;
                              }
                              St = ot;
                            }
                            if (((K = St), !(mt > 0))) return;
                            mt += rt;
                            try {
                              D = new Uint8Array(mt);
                            } catch (Ct) {
                              return void this.observer.trigger(
                                p['default'].ERROR,
                                {
                                  type: m.ErrorTypes.MUX_ERROR,
                                  details: m.ErrorDetails.REMUX_ALLOC_ERROR,
                                  fatal: !1,
                                  bytes: mt,
                                  reason: 'fail allocating audio mdat ' + mt,
                                }
                              );
                            }
                            et ||
                              (new DataView(D.buffer).setUint32(0, mt),
                              D.set(tt.types.mdat, 4));
                            for (var wt = 0; wt < _t; wt++)
                              (I = xe.getSilentFrame(
                                i.manifestCodec || i.codec,
                                i.channelCount
                              )) ||
                                (x.logger.log(
                                  'Unable to get silent frame for given audio codec; duplicating this frame instead.'
                                ),
                                (I = Tt.subarray())),
                                D.set(I, rt),
                                (rt += I.byteLength),
                                (w = {
                                  size: I.byteLength,
                                  cts: 0,
                                  duration: 1024,
                                  flags: {
                                    isLeading: 0,
                                    isDependedOn: 0,
                                    hasRedundancy: 0,
                                    degradPrio: 0,
                                    dependsOn: 1,
                                  },
                                }),
                                at.push(w);
                          }
                          D.set(Tt, rt);
                          var At = Tt.byteLength;
                          (rt += At),
                            (w = {
                              size: At,
                              cts: 0,
                              duration: 0,
                              flags: {
                                isLeading: 0,
                                isDependedOn: 0,
                                hasRedundancy: 0,
                                degradPrio: 0,
                                dependsOn: 1,
                              },
                            }),
                            at.push(w),
                            (q = St);
                        }
                        var kt = 0;
                        if (
                          ((gt = at.length) >= 2 &&
                            ((kt = at[gt - 2].duration), (w.duration = kt)),
                          gt)
                        ) {
                          (this.nextAudioPts = ot = q + be * kt),
                            (i.samples = at),
                            (j = et
                              ? new Uint8Array()
                              : tt.moof(i.sequenceNumber++, K / be, i)),
                            (i.samples = []);
                          var xt = K / $,
                            Pt = ot / $,
                            Rt = {
                              data1: j,
                              data2: D,
                              startPTS: xt,
                              endPTS: Pt,
                              startDTS: xt,
                              endDTS: Pt,
                              type: 'audio',
                              hasAudio: !0,
                              hasVideo: !1,
                              nb: gt,
                            };
                          return (
                            this.observer.trigger(
                              p['default'].FRAG_PARSING_DATA,
                              Rt
                            ),
                            Rt
                          );
                        }
                        return null;
                      }
                    }),
                    (i.remuxEmptyAudio = function remuxEmptyAudio(i, a, o, p) {
                      var m = i.inputTimeScale,
                        _ = m / (i.samplerate ? i.samplerate : m),
                        w = this.nextAudioPts,
                        I =
                          (w !== undefined ? w : p.startDTS * m) +
                          this._initDTS,
                        D = p.endDTS * m + this._initDTS,
                        j = 1024 * _,
                        K = Math.ceil((D - I) / j),
                        q = xe.getSilentFrame(
                          i.manifestCodec || i.codec,
                          i.channelCount
                        );
                      if ((x.logger.warn('remux empty Audio'), q)) {
                        for (var $ = [], Z = 0; Z < K; Z++) {
                          var be = I + Z * j;
                          $.push({ unit: q, pts: be, dts: be });
                        }
                        (i.samples = $), this.remuxAudio(i, a, o);
                      } else
                        x.logger.trace(
                          'Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!'
                        );
                    }),
                    (i.remuxID3 = function remuxID3(i) {
                      var a,
                        o = i.samples.length,
                        m = i.inputTimeScale,
                        _ = this._initPTS,
                        w = this._initDTS;
                      if (o) {
                        for (var x = 0; x < o; x++)
                          ((a = i.samples[x]).pts = (a.pts - _) / m),
                            (a.dts = (a.dts - w) / m);
                        this.observer.trigger(
                          p['default'].FRAG_PARSING_METADATA,
                          { samples: i.samples }
                        );
                      }
                      i.samples = [];
                    }),
                    (i.remuxText = function remuxText(i) {
                      i.samples.sort(function (i, a) {
                        return i.pts - a.pts;
                      });
                      var a,
                        o = i.samples.length,
                        m = i.inputTimeScale,
                        _ = this._initPTS;
                      if (o) {
                        for (var w = 0; w < o; w++)
                          (a = i.samples[w]).pts = (a.pts - _) / m;
                        this.observer.trigger(
                          p['default'].FRAG_PARSING_USERDATA,
                          { samples: i.samples }
                        );
                      }
                      i.samples = [];
                    }),
                    (i._PTSNormalize = function _PTSNormalize(i, a) {
                      var o;
                      if (a === undefined) return i;
                      for (
                        o = a < i ? -8589934592 : 8589934592;
                        Math.abs(i - a) > 4294967296;

                      )
                        i += o;
                      return i;
                    }),
                    MP4Remuxer
                  );
                })(),
                ot = (function () {
                  function PassThroughRemuxer(i) {
                    this.observer = i;
                  }
                  var i = PassThroughRemuxer.prototype;
                  return (
                    (i.destroy = function destroy() {}),
                    (i.resetTimeStamp = function resetTimeStamp() {}),
                    (i.resetInitSegment = function resetInitSegment() {}),
                    (i.remux = function remux(i, a, o, m, _, w, x, I) {
                      var D = this.observer,
                        j = '';
                      i && (j += 'audio'),
                        a && (j += 'video'),
                        D.trigger(p['default'].FRAG_PARSING_DATA, {
                          data1: I,
                          startPTS: _,
                          startDTS: _,
                          type: j,
                          hasAudio: !!i,
                          hasVideo: !!a,
                          nb: 1,
                          dropped: 0,
                        }),
                        D.trigger(p['default'].FRAG_PARSED);
                    }),
                    PassThroughRemuxer
                  );
                })(),
                st = Object(I.getSelfScope)();
              try {
                rt = st.performance.now.bind(st.performance);
              } catch (lt) {
                x.logger.debug(
                  'Unable to use Performance API on this environment'
                ),
                  (rt = st.Date.now);
              }
              var ut = (function () {
                function DemuxerInline(i, a, o, p) {
                  (this.observer = i),
                    (this.typeSupported = a),
                    (this.config = o),
                    (this.vendor = p);
                }
                var i = DemuxerInline.prototype;
                return (
                  (i.destroy = function destroy() {
                    var i = this.demuxer;
                    i && i.destroy();
                  }),
                  (i.push = function push(i, a, o, m, w, x, I, D, j, K, q, $) {
                    var Z = this;
                    if (
                      i.byteLength > 0 &&
                      null != a &&
                      null != a.key &&
                      'AES-128' === a.method
                    ) {
                      var be = this.decrypter;
                      null == be &&
                        (be = this.decrypter =
                          new _['default'](this.observer, this.config));
                      var Se = rt();
                      be.decrypt(i, a.key.buffer, a.iv.buffer, function (i) {
                        var _ = rt();
                        Z.observer.trigger(p['default'].FRAG_DECRYPTED, {
                          stats: { tstart: Se, tdecrypt: _ },
                        }),
                          Z.pushDecrypted(
                            new Uint8Array(i),
                            a,
                            new Uint8Array(o),
                            m,
                            w,
                            x,
                            I,
                            D,
                            j,
                            K,
                            q,
                            $
                          );
                      });
                    } else
                      this.pushDecrypted(
                        new Uint8Array(i),
                        a,
                        new Uint8Array(o),
                        m,
                        w,
                        x,
                        I,
                        D,
                        j,
                        K,
                        q,
                        $
                      );
                  }),
                  (i.pushDecrypted = function pushDecrypted(
                    i,
                    a,
                    o,
                    _,
                    w,
                    x,
                    I,
                    D,
                    q,
                    $,
                    Z,
                    be
                  ) {
                    var Se = this.demuxer;
                    if (!Se || ((I || D) && !this.probe(i))) {
                      for (
                        var xe = this.observer,
                          et = this.typeSupported,
                          tt = this.config,
                          rt = [
                            { demux: _e, remux: at },
                            { demux: K['default'], remux: ot },
                            { demux: j, remux: at },
                            { demux: we, remux: at },
                          ],
                          nt = 0,
                          it = rt.length;
                        nt < it;
                        nt++
                      ) {
                        var st = rt[nt],
                          ut = st.demux.probe;
                        if (ut(i)) {
                          var lt = (this.remuxer = new st.remux(
                            xe,
                            tt,
                            et,
                            this.vendor
                          ));
                          (Se = new st.demux(xe, lt, tt, et)),
                            (this.probe = ut);
                          break;
                        }
                      }
                      if (!Se)
                        return void xe.trigger(p['default'].ERROR, {
                          type: m.ErrorTypes.MEDIA_ERROR,
                          details: m.ErrorDetails.FRAG_PARSING_ERROR,
                          fatal: !0,
                          reason: 'no demux matching with content found',
                        });
                      this.demuxer = Se;
                    }
                    var ct = this.remuxer;
                    (I || D) &&
                      (Se.resetInitSegment(o, _, w, $), ct.resetInitSegment()),
                      I && (Se.resetTimeStamp(be), ct.resetTimeStamp(be)),
                      'function' == typeof Se.setDecryptData &&
                        Se.setDecryptData(a),
                      Se.append(i, x, q, Z);
                  }),
                  DemuxerInline
                );
              })();
              a['default'] = ut;
            },
            './src/demux/demuxer-worker.js': function srcDemuxDemuxerWorkerJs(
              i,
              a,
              o
            ) {
              o.r(a);
              var p = o('./src/demux/demuxer-inline.js'),
                m = o('./src/events.js'),
                _ = o('./src/utils/logger.js'),
                w = o('./node_modules/eventemitter3/index.js');
              a['default'] = function DemuxerWorker(i) {
                var a = new w.EventEmitter();
                (a.trigger = function trigger(i) {
                  for (
                    var o = arguments.length,
                      p = new Array(o > 1 ? o - 1 : 0),
                      m = 1;
                    m < o;
                    m++
                  )
                    p[m - 1] = arguments[m];
                  a.emit.apply(a, [i, i].concat(p));
                }),
                  (a.off = function off(i) {
                    for (
                      var o = arguments.length,
                        p = new Array(o > 1 ? o - 1 : 0),
                        m = 1;
                      m < o;
                      m++
                    )
                      p[m - 1] = arguments[m];
                    a.removeListener.apply(a, [i].concat(p));
                  });
                var o = function forwardMessage(a, o) {
                  i.postMessage({ event: a, data: o });
                };
                i.addEventListener('message', function (m) {
                  var w = m.data;
                  switch (w.cmd) {
                    case 'init':
                      var x = JSON.parse(w.config);
                      (i.demuxer = new p['default'](
                        a,
                        w.typeSupported,
                        x,
                        w.vendor
                      )),
                        Object(_.enableLogs)(x.debug),
                        o('init', null);
                      break;
                    case 'demux':
                      i.demuxer.push(
                        w.data,
                        w.decryptdata,
                        w.initSegment,
                        w.audioCodec,
                        w.videoCodec,
                        w.timeOffset,
                        w.discontinuity,
                        w.trackSwitch,
                        w.contiguous,
                        w.duration,
                        w.accurateTimeOffset,
                        w.defaultInitPTS
                      );
                  }
                }),
                  a.on(m['default'].FRAG_DECRYPTED, o),
                  a.on(m['default'].FRAG_PARSING_INIT_SEGMENT, o),
                  a.on(m['default'].FRAG_PARSED, o),
                  a.on(m['default'].ERROR, o),
                  a.on(m['default'].FRAG_PARSING_METADATA, o),
                  a.on(m['default'].FRAG_PARSING_USERDATA, o),
                  a.on(m['default'].INIT_PTS_FOUND, o),
                  a.on(m['default'].FRAG_PARSING_DATA, function (a, o) {
                    var p = [],
                      m = { event: a, data: o };
                    o.data1 &&
                      ((m.data1 = o.data1.buffer),
                      p.push(o.data1.buffer),
                      delete o.data1),
                      o.data2 &&
                        ((m.data2 = o.data2.buffer),
                        p.push(o.data2.buffer),
                        delete o.data2),
                      i.postMessage(m, p);
                  });
              };
            },
            './src/demux/id3.js': function srcDemuxId3Js(i, a, o) {
              o.r(a),
                o.d(a, 'utf8ArrayToStr', function () {
                  return w;
                });
              var p,
                m = o('./src/utils/get-self-scope.js'),
                _ = (function () {
                  function ID3() {}
                  return (
                    (ID3.isHeader = function isHeader(i, a) {
                      return (
                        a + 10 <= i.length &&
                        73 === i[a] &&
                        68 === i[a + 1] &&
                        51 === i[a + 2] &&
                        i[a + 3] < 255 &&
                        i[a + 4] < 255 &&
                        i[a + 6] < 128 &&
                        i[a + 7] < 128 &&
                        i[a + 8] < 128 &&
                        i[a + 9] < 128
                      );
                    }),
                    (ID3.isFooter = function isFooter(i, a) {
                      return (
                        a + 10 <= i.length &&
                        51 === i[a] &&
                        68 === i[a + 1] &&
                        73 === i[a + 2] &&
                        i[a + 3] < 255 &&
                        i[a + 4] < 255 &&
                        i[a + 6] < 128 &&
                        i[a + 7] < 128 &&
                        i[a + 8] < 128 &&
                        i[a + 9] < 128
                      );
                    }),
                    (ID3.getID3Data = function getID3Data(i, a) {
                      for (var o = a, p = 0; ID3.isHeader(i, a); ) {
                        (p += 10),
                          (p += ID3._readSize(i, a + 6)),
                          ID3.isFooter(i, a + 10) && (p += 10),
                          (a += p);
                      }
                      return p > 0 ? i.subarray(o, o + p) : undefined;
                    }),
                    (ID3._readSize = function _readSize(i, a) {
                      var o = 0;
                      return (
                        (o = (127 & i[a]) << 21),
                        (o |= (127 & i[a + 1]) << 14),
                        (o |= (127 & i[a + 2]) << 7),
                        (o |= 127 & i[a + 3])
                      );
                    }),
                    (ID3.getTimeStamp = function getTimeStamp(i) {
                      for (
                        var a = ID3.getID3Frames(i), o = 0;
                        o < a.length;
                        o++
                      ) {
                        var p = a[o];
                        if (ID3.isTimeStampFrame(p))
                          return ID3._readTimeStamp(p);
                      }
                      return undefined;
                    }),
                    (ID3.isTimeStampFrame = function isTimeStampFrame(i) {
                      return (
                        i &&
                        'PRIV' === i.key &&
                        'com.apple.streaming.transportStreamTimestamp' ===
                          i.info
                      );
                    }),
                    (ID3._getFrameData = function _getFrameData(i) {
                      var a = String.fromCharCode(i[0], i[1], i[2], i[3]),
                        o = ID3._readSize(i, 4);
                      return { type: a, size: o, data: i.subarray(10, 10 + o) };
                    }),
                    (ID3.getID3Frames = function getID3Frames(i) {
                      for (var a = 0, o = []; ID3.isHeader(i, a); ) {
                        for (
                          var p = ID3._readSize(i, a + 6), m = (a += 10) + p;
                          a + 8 < m;

                        ) {
                          var _ = ID3._getFrameData(i.subarray(a)),
                            w = ID3._decodeFrame(_);
                          w && o.push(w), (a += _.size + 10);
                        }
                        ID3.isFooter(i, a) && (a += 10);
                      }
                      return o;
                    }),
                    (ID3._decodeFrame = function _decodeFrame(i) {
                      return 'PRIV' === i.type
                        ? ID3._decodePrivFrame(i)
                        : 'T' === i.type[0]
                        ? ID3._decodeTextFrame(i)
                        : 'W' === i.type[0]
                        ? ID3._decodeURLFrame(i)
                        : undefined;
                    }),
                    (ID3._readTimeStamp = function _readTimeStamp(i) {
                      if (8 === i.data.byteLength) {
                        var a = new Uint8Array(i.data),
                          o = 1 & a[3],
                          p = (a[4] << 23) + (a[5] << 15) + (a[6] << 7) + a[7];
                        return (
                          (p /= 45), o && (p += 47721858.84), Math.round(p)
                        );
                      }
                      return undefined;
                    }),
                    (ID3._decodePrivFrame = function _decodePrivFrame(i) {
                      if (i.size < 2) return undefined;
                      var a = ID3._utf8ArrayToStr(i.data, !0),
                        o = new Uint8Array(i.data.subarray(a.length + 1));
                      return { key: i.type, info: a, data: o.buffer };
                    }),
                    (ID3._decodeTextFrame = function _decodeTextFrame(i) {
                      if (i.size < 2) return undefined;
                      if ('TXXX' === i.type) {
                        var a = 1,
                          o = ID3._utf8ArrayToStr(i.data.subarray(a), !0);
                        a += o.length + 1;
                        var p = ID3._utf8ArrayToStr(i.data.subarray(a));
                        return { key: i.type, info: o, data: p };
                      }
                      var m = ID3._utf8ArrayToStr(i.data.subarray(1));
                      return { key: i.type, data: m };
                    }),
                    (ID3._decodeURLFrame = function _decodeURLFrame(i) {
                      if ('WXXX' === i.type) {
                        if (i.size < 2) return undefined;
                        var a = 1,
                          o = ID3._utf8ArrayToStr(i.data.subarray(a));
                        a += o.length + 1;
                        var p = ID3._utf8ArrayToStr(i.data.subarray(a));
                        return { key: i.type, info: o, data: p };
                      }
                      var m = ID3._utf8ArrayToStr(i.data);
                      return { key: i.type, data: m };
                    }),
                    (ID3._utf8ArrayToStr = function _utf8ArrayToStr(i, a) {
                      void 0 === a && (a = !1);
                      var o = getTextDecoder();
                      if (o) {
                        var p = o.decode(i);
                        if (a) {
                          var m = p.indexOf('\0');
                          return -1 !== m ? p.substring(0, m) : p;
                        }
                        return p.replace(/\0/g, '');
                      }
                      for (var _, w, x, I = i.length, D = '', j = 0; j < I; ) {
                        if (0 === (_ = i[j++]) && a) return D;
                        if (0 !== _ && 3 !== _)
                          switch (_ >> 4) {
                            case 0:
                            case 1:
                            case 2:
                            case 3:
                            case 4:
                            case 5:
                            case 6:
                            case 7:
                              D += String.fromCharCode(_);
                              break;
                            case 12:
                            case 13:
                              (w = i[j++]),
                                (D += String.fromCharCode(
                                  ((31 & _) << 6) | (63 & w)
                                ));
                              break;
                            case 14:
                              (w = i[j++]),
                                (x = i[j++]),
                                (D += String.fromCharCode(
                                  ((15 & _) << 12) |
                                    ((63 & w) << 6) |
                                    ((63 & x) << 0)
                                ));
                          }
                      }
                      return D;
                    }),
                    ID3
                  );
                })();
              function getTextDecoder() {
                var i = Object(m.getSelfScope)();
                return (
                  p ||
                    'undefined' == typeof i.TextDecoder ||
                    (p = new i.TextDecoder('utf-8')),
                  p
                );
              }
              var w = _._utf8ArrayToStr;
              a['default'] = _;
            },
            './src/demux/mp4demuxer.js': function srcDemuxMp4demuxerJs(
              i,
              a,
              o
            ) {
              o.r(a);
              var p = o('./src/utils/logger.js'),
                m = o('./src/events.js'),
                _ = Math.pow(2, 32) - 1,
                w = (function () {
                  function MP4Demuxer(i, a) {
                    (this.observer = i), (this.remuxer = a);
                  }
                  var i = MP4Demuxer.prototype;
                  return (
                    (i.resetTimeStamp = function resetTimeStamp(i) {
                      this.initPTS = i;
                    }),
                    (i.resetInitSegment = function resetInitSegment(
                      i,
                      a,
                      o,
                      p
                    ) {
                      if (i && i.byteLength) {
                        var _ = (this.initData =
                          MP4Demuxer.parseInitSegment(i));
                        null == a && (a = 'mp4a.40.5'),
                          null == o && (o = 'avc1.42e01e');
                        var w = {};
                        _.audio && _.video
                          ? (w.audiovideo = {
                              container: 'video/mp4',
                              codec: a + ',' + o,
                              initSegment: p ? i : null,
                            })
                          : (_.audio &&
                              (w.audio = {
                                container: 'audio/mp4',
                                codec: a,
                                initSegment: p ? i : null,
                              }),
                            _.video &&
                              (w.video = {
                                container: 'video/mp4',
                                codec: o,
                                initSegment: p ? i : null,
                              })),
                          this.observer.trigger(
                            m['default'].FRAG_PARSING_INIT_SEGMENT,
                            { tracks: w }
                          );
                      } else
                        a && (this.audioCodec = a), o && (this.videoCodec = o);
                    }),
                    (MP4Demuxer.probe = function probe(i) {
                      return (
                        MP4Demuxer.findBox(
                          { data: i, start: 0, end: Math.min(i.length, 16384) },
                          ['moof']
                        ).length > 0
                      );
                    }),
                    (MP4Demuxer.bin2str = function bin2str(i) {
                      return String.fromCharCode.apply(null, i);
                    }),
                    (MP4Demuxer.readUint16 = function readUint16(i, a) {
                      i.data && ((a += i.start), (i = i.data));
                      var o = (i[a] << 8) | i[a + 1];
                      return o < 0 ? 65536 + o : o;
                    }),
                    (MP4Demuxer.readUint32 = function readUint32(i, a) {
                      i.data && ((a += i.start), (i = i.data));
                      var o =
                        (i[a] << 24) |
                        (i[a + 1] << 16) |
                        (i[a + 2] << 8) |
                        i[a + 3];
                      return o < 0 ? 4294967296 + o : o;
                    }),
                    (MP4Demuxer.writeUint32 = function writeUint32(i, a, o) {
                      i.data && ((a += i.start), (i = i.data)),
                        (i[a] = o >> 24),
                        (i[a + 1] = (o >> 16) & 255),
                        (i[a + 2] = (o >> 8) & 255),
                        (i[a + 3] = 255 & o);
                    }),
                    (MP4Demuxer.findBox = function findBox(i, a) {
                      var o,
                        p,
                        m,
                        _,
                        w,
                        x,
                        I = [];
                      if (
                        (i.data
                          ? ((w = i.start), (m = i.end), (i = i.data))
                          : ((w = 0), (m = i.byteLength)),
                        !a.length)
                      )
                        return null;
                      for (o = w; o < m; )
                        (x = (p = MP4Demuxer.readUint32(i, o)) > 1 ? o + p : m),
                          MP4Demuxer.bin2str(i.subarray(o + 4, o + 8)) ===
                            a[0] &&
                            (1 === a.length
                              ? I.push({ data: i, start: o + 8, end: x })
                              : (_ = MP4Demuxer.findBox(
                                  { data: i, start: o + 8, end: x },
                                  a.slice(1)
                                )).length && (I = I.concat(_))),
                          (o = x);
                      return I;
                    }),
                    (MP4Demuxer.parseSegmentIndex = function parseSegmentIndex(
                      i
                    ) {
                      var a,
                        o = MP4Demuxer.findBox(i, ['moov'])[0],
                        p = o ? o.end : null,
                        m = 0,
                        _ = MP4Demuxer.findBox(i, ['sidx']);
                      if (!_ || !_[0]) return null;
                      a = [];
                      var w = (_ = _[0]).data[0];
                      m = 0 === w ? 8 : 16;
                      var x = MP4Demuxer.readUint32(_, m);
                      m += 4;
                      (m += 0 === w ? 8 : 16), (m += 2);
                      var I = _.end + 0,
                        D = MP4Demuxer.readUint16(_, m);
                      m += 2;
                      for (var j = 0; j < D; j++) {
                        var K = m,
                          q = MP4Demuxer.readUint32(_, K);
                        K += 4;
                        var $ = 2147483647 & q;
                        if (1 === (2147483648 & q) >>> 31)
                          return void console.warn(
                            'SIDX has hierarchical references (not supported)'
                          );
                        var Z = MP4Demuxer.readUint32(_, K);
                        (K += 4),
                          a.push({
                            referenceSize: $,
                            subsegmentDuration: Z,
                            info: { duration: Z / x, start: I, end: I + $ - 1 },
                          }),
                          (I += $),
                          (m = K += 4);
                      }
                      return {
                        earliestPresentationTime: 0,
                        timescale: x,
                        version: w,
                        referencesCount: D,
                        references: a,
                        moovEndOffset: p,
                      };
                    }),
                    (MP4Demuxer.parseInitSegment = function parseInitSegment(
                      i
                    ) {
                      var a = [];
                      return (
                        MP4Demuxer.findBox(i, ['moov', 'trak']).forEach(
                          function (i) {
                            var o = MP4Demuxer.findBox(i, ['tkhd'])[0];
                            if (o) {
                              var m = o.data[o.start],
                                _ = 0 === m ? 12 : 20,
                                w = MP4Demuxer.readUint32(o, _),
                                x = MP4Demuxer.findBox(i, ['mdia', 'mdhd'])[0];
                              if (x) {
                                _ = 0 === (m = x.data[x.start]) ? 12 : 20;
                                var I = MP4Demuxer.readUint32(x, _),
                                  D = MP4Demuxer.findBox(i, [
                                    'mdia',
                                    'hdlr',
                                  ])[0];
                                if (D) {
                                  var j = { soun: 'audio', vide: 'video' }[
                                    MP4Demuxer.bin2str(
                                      D.data.subarray(D.start + 8, D.start + 12)
                                    )
                                  ];
                                  if (j) {
                                    var K = MP4Demuxer.findBox(i, [
                                      'mdia',
                                      'minf',
                                      'stbl',
                                      'stsd',
                                    ]);
                                    if (K.length) {
                                      K = K[0];
                                      var q = MP4Demuxer.bin2str(
                                        K.data.subarray(
                                          K.start + 12,
                                          K.start + 16
                                        )
                                      );
                                      p.logger.log(
                                        'MP4Demuxer:' + j + ':' + q + ' found'
                                      );
                                    }
                                    (a[w] = { timescale: I, type: j }),
                                      (a[j] = { timescale: I, id: w });
                                  }
                                }
                              }
                            }
                          }
                        ),
                        a
                      );
                    }),
                    (MP4Demuxer.getStartDTS = function getStartDTS(i, a) {
                      var o, p, m;
                      return (
                        (o = MP4Demuxer.findBox(a, ['moof', 'traf'])),
                        (p = [].concat.apply(
                          [],
                          o.map(function (a) {
                            return MP4Demuxer.findBox(a, ['tfhd']).map(
                              function (o) {
                                var p, m;
                                return (
                                  (p = MP4Demuxer.readUint32(o, 4)),
                                  (m = i[p].timescale || 9e4),
                                  MP4Demuxer.findBox(a, ['tfdt']).map(function (
                                    i
                                  ) {
                                    var a, o;
                                    return (
                                      (a = i.data[i.start]),
                                      (o = MP4Demuxer.readUint32(i, 4)),
                                      1 === a &&
                                        ((o *= Math.pow(2, 32)),
                                        (o += MP4Demuxer.readUint32(i, 8))),
                                      o
                                    );
                                  })[0] / m
                                );
                              }
                            );
                          })
                        )),
                        (m = Math.min.apply(null, p)),
                        isFinite(m) ? m : 0
                      );
                    }),
                    (MP4Demuxer.offsetStartDTS = function offsetStartDTS(
                      i,
                      a,
                      o
                    ) {
                      MP4Demuxer.findBox(a, ['moof', 'traf']).map(function (a) {
                        return MP4Demuxer.findBox(a, ['tfhd']).map(function (
                          p
                        ) {
                          var m = MP4Demuxer.readUint32(p, 4),
                            w = i[m].timescale || 9e4;
                          MP4Demuxer.findBox(a, ['tfdt']).map(function (i) {
                            var a = i.data[i.start],
                              p = MP4Demuxer.readUint32(i, 4);
                            if (0 === a)
                              MP4Demuxer.writeUint32(i, 4, p - o * w);
                            else {
                              (p *= Math.pow(2, 32)),
                                (p += MP4Demuxer.readUint32(i, 8)),
                                (p -= o * w),
                                (p = Math.max(p, 0));
                              var m = Math.floor(p / (_ + 1)),
                                x = Math.floor(p % (_ + 1));
                              MP4Demuxer.writeUint32(i, 4, m),
                                MP4Demuxer.writeUint32(i, 8, x);
                            }
                          });
                        });
                      });
                    }),
                    (i.append = function append(i, a, o, p) {
                      var _ = this.initData;
                      _ ||
                        (this.resetInitSegment(
                          i,
                          this.audioCodec,
                          this.videoCodec,
                          !1
                        ),
                        (_ = this.initData));
                      var w,
                        x = this.initPTS;
                      if (x === undefined) {
                        var I = MP4Demuxer.getStartDTS(_, i);
                        (this.initPTS = x = I - a),
                          this.observer.trigger(m['default'].INIT_PTS_FOUND, {
                            initPTS: x,
                          });
                      }
                      MP4Demuxer.offsetStartDTS(_, i, x),
                        (w = MP4Demuxer.getStartDTS(_, i)),
                        this.remuxer.remux(
                          _.audio,
                          _.video,
                          null,
                          null,
                          w,
                          o,
                          p,
                          i
                        );
                    }),
                    (i.destroy = function destroy() {}),
                    MP4Demuxer
                  );
                })();
              a['default'] = w;
            },
            './src/errors.ts': function srcErrorsTs(i, a, o) {
              var p, m;
              o.r(a),
                o.d(a, 'ErrorTypes', function () {
                  return p;
                }),
                o.d(a, 'ErrorDetails', function () {
                  return m;
                }),
                (function (i) {
                  (i.NETWORK_ERROR = 'networkError'),
                    (i.MEDIA_ERROR = 'mediaError'),
                    (i.KEY_SYSTEM_ERROR = 'keySystemError'),
                    (i.MUX_ERROR = 'muxError'),
                    (i.OTHER_ERROR = 'otherError');
                })(p || (p = {})),
                (function (i) {
                  (i.KEY_SYSTEM_NO_KEYS = 'keySystemNoKeys'),
                    (i.KEY_SYSTEM_NO_ACCESS = 'keySystemNoAccess'),
                    (i.KEY_SYSTEM_NO_SESSION = 'keySystemNoSession'),
                    (i.KEY_SYSTEM_LICENSE_REQUEST_FAILED =
                      'keySystemLicenseRequestFailed'),
                    (i.KEY_SYSTEM_NO_INIT_DATA = 'keySystemNoInitData'),
                    (i.MANIFEST_LOAD_ERROR = 'manifestLoadError'),
                    (i.MANIFEST_LOAD_TIMEOUT = 'manifestLoadTimeOut'),
                    (i.MANIFEST_PARSING_ERROR = 'manifestParsingError'),
                    (i.MANIFEST_INCOMPATIBLE_CODECS_ERROR =
                      'manifestIncompatibleCodecsError'),
                    (i.LEVEL_LOAD_ERROR = 'levelLoadError'),
                    (i.LEVEL_LOAD_TIMEOUT = 'levelLoadTimeOut'),
                    (i.LEVEL_SWITCH_ERROR = 'levelSwitchError'),
                    (i.AUDIO_TRACK_LOAD_ERROR = 'audioTrackLoadError'),
                    (i.AUDIO_TRACK_LOAD_TIMEOUT = 'audioTrackLoadTimeOut'),
                    (i.FRAG_LOAD_ERROR = 'fragLoadError'),
                    (i.FRAG_LOAD_TIMEOUT = 'fragLoadTimeOut'),
                    (i.FRAG_DECRYPT_ERROR = 'fragDecryptError'),
                    (i.FRAG_PARSING_ERROR = 'fragParsingError'),
                    (i.REMUX_ALLOC_ERROR = 'remuxAllocError'),
                    (i.KEY_LOAD_ERROR = 'keyLoadError'),
                    (i.KEY_LOAD_TIMEOUT = 'keyLoadTimeOut'),
                    (i.BUFFER_ADD_CODEC_ERROR = 'bufferAddCodecError'),
                    (i.BUFFER_APPEND_ERROR = 'bufferAppendError'),
                    (i.BUFFER_APPENDING_ERROR = 'bufferAppendingError'),
                    (i.BUFFER_STALLED_ERROR = 'bufferStalledError'),
                    (i.BUFFER_FULL_ERROR = 'bufferFullError'),
                    (i.BUFFER_SEEK_OVER_HOLE = 'bufferSeekOverHole'),
                    (i.BUFFER_NUDGE_ON_STALL = 'bufferNudgeOnStall'),
                    (i.INTERNAL_EXCEPTION = 'internalException');
                })(m || (m = {}));
            },
            './src/events.js': function srcEventsJs(i, a, o) {
              o.r(a);
              a['default'] = {
                MEDIA_ATTACHING: 'hlsMediaAttaching',
                MEDIA_ATTACHED: 'hlsMediaAttached',
                MEDIA_DETACHING: 'hlsMediaDetaching',
                MEDIA_DETACHED: 'hlsMediaDetached',
                BUFFER_RESET: 'hlsBufferReset',
                BUFFER_CODECS: 'hlsBufferCodecs',
                BUFFER_CREATED: 'hlsBufferCreated',
                BUFFER_APPENDING: 'hlsBufferAppending',
                BUFFER_APPENDED: 'hlsBufferAppended',
                BUFFER_EOS: 'hlsBufferEos',
                BUFFER_FLUSHING: 'hlsBufferFlushing',
                BUFFER_FLUSHED: 'hlsBufferFlushed',
                MANIFEST_LOADING: 'hlsManifestLoading',
                MANIFEST_LOADED: 'hlsManifestLoaded',
                MANIFEST_PARSED: 'hlsManifestParsed',
                LEVEL_SWITCHING: 'hlsLevelSwitching',
                LEVEL_SWITCHED: 'hlsLevelSwitched',
                LEVEL_LOADING: 'hlsLevelLoading',
                LEVEL_LOADED: 'hlsLevelLoaded',
                LEVEL_UPDATED: 'hlsLevelUpdated',
                LEVEL_PTS_UPDATED: 'hlsLevelPtsUpdated',
                AUDIO_TRACKS_UPDATED: 'hlsAudioTracksUpdated',
                AUDIO_TRACK_SWITCHING: 'hlsAudioTrackSwitching',
                AUDIO_TRACK_SWITCHED: 'hlsAudioTrackSwitched',
                AUDIO_TRACK_LOADING: 'hlsAudioTrackLoading',
                AUDIO_TRACK_LOADED: 'hlsAudioTrackLoaded',
                SUBTITLE_TRACKS_UPDATED: 'hlsSubtitleTracksUpdated',
                SUBTITLE_TRACK_SWITCH: 'hlsSubtitleTrackSwitch',
                SUBTITLE_TRACK_LOADING: 'hlsSubtitleTrackLoading',
                SUBTITLE_TRACK_LOADED: 'hlsSubtitleTrackLoaded',
                SUBTITLE_FRAG_PROCESSED: 'hlsSubtitleFragProcessed',
                INIT_PTS_FOUND: 'hlsInitPtsFound',
                FRAG_LOADING: 'hlsFragLoading',
                FRAG_LOAD_PROGRESS: 'hlsFragLoadProgress',
                FRAG_LOAD_EMERGENCY_ABORTED: 'hlsFragLoadEmergencyAborted',
                FRAG_LOADED: 'hlsFragLoaded',
                FRAG_DECRYPTED: 'hlsFragDecrypted',
                FRAG_PARSING_INIT_SEGMENT: 'hlsFragParsingInitSegment',
                FRAG_PARSING_USERDATA: 'hlsFragParsingUserdata',
                FRAG_PARSING_METADATA: 'hlsFragParsingMetadata',
                FRAG_PARSING_DATA: 'hlsFragParsingData',
                FRAG_PARSED: 'hlsFragParsed',
                FRAG_BUFFERED: 'hlsFragBuffered',
                FRAG_CHANGED: 'hlsFragChanged',
                FPS_DROP: 'hlsFpsDrop',
                FPS_DROP_LEVEL_CAPPING: 'hlsFpsDropLevelCapping',
                ERROR: 'hlsError',
                DESTROYING: 'hlsDestroying',
                KEY_LOADING: 'hlsKeyLoading',
                KEY_LOADED: 'hlsKeyLoaded',
                STREAM_STATE_TRANSITION: 'hlsStreamStateTransition',
                LIVE_BACK_BUFFER_REACHED: 'hlsLiveBackBufferReached',
              };
            },
            './src/hls.ts': function srcHlsTs(i, a, o) {
              o.r(a),
                o.d(a, 'default', function () {
                  return Jr;
                });
              var p = {};
              o.r(p),
                o.d(p, 'newCue', function () {
                  return newCue;
                });
              var m,
                _,
                w = o('./node_modules/url-toolkit/src/url-toolkit.js'),
                I = o('./src/errors.ts'),
                D = o('./src/polyfills/number-isFinite.js'),
                j = o('./src/events.js'),
                K = o('./src/utils/logger.js'),
                q = {
                  hlsEventGeneric: !0,
                  hlsHandlerDestroying: !0,
                  hlsHandlerDestroyed: !0,
                },
                $ = (function () {
                  function EventHandler(i) {
                    (this.hls = void 0),
                      (this.handledEvents = void 0),
                      (this.useGenericHandler = void 0),
                      (this.hls = i),
                      (this.onEvent = this.onEvent.bind(this));
                    for (
                      var a = arguments.length,
                        o = new Array(a > 1 ? a - 1 : 0),
                        p = 1;
                      p < a;
                      p++
                    )
                      o[p - 1] = arguments[p];
                    (this.handledEvents = o),
                      (this.useGenericHandler = !0),
                      this.registerListeners();
                  }
                  var i = EventHandler.prototype;
                  return (
                    (i.destroy = function destroy() {
                      this.onHandlerDestroying(),
                        this.unregisterListeners(),
                        this.onHandlerDestroyed();
                    }),
                    (i.onHandlerDestroying = function onHandlerDestroying() {}),
                    (i.onHandlerDestroyed = function onHandlerDestroyed() {}),
                    (i.isEventHandler = function isEventHandler() {
                      return (
                        'object' === (0, x['default'])(this.handledEvents) &&
                        this.handledEvents.length &&
                        'function' == typeof this.onEvent
                      );
                    }),
                    (i.registerListeners = function registerListeners() {
                      this.isEventHandler() &&
                        this.handledEvents.forEach(function (i) {
                          if (q[i])
                            throw new Error('Forbidden event-name: ' + i);
                          this.hls.on(i, this.onEvent);
                        }, this);
                    }),
                    (i.unregisterListeners = function unregisterListeners() {
                      this.isEventHandler() &&
                        this.handledEvents.forEach(function (i) {
                          this.hls.off(i, this.onEvent);
                        }, this);
                    }),
                    (i.onEvent = function onEvent(i, a) {
                      this.onEventGeneric(i, a);
                    }),
                    (i.onEventGeneric = function onEventGeneric(i, a) {
                      try {
                        (function eventToFunction(i, a) {
                          var o = 'on' + i.replace('hls', '');
                          if ('function' != typeof this[o])
                            throw new Error(
                              'Event ' +
                                i +
                                ' has no generic handler in this ' +
                                this.constructor.name +
                                ' class (tried ' +
                                o +
                                ')'
                            );
                          return this[o].bind(this, a);
                        }
                          .call(this, i, a)
                          .call());
                      } catch (o) {
                        K.logger.error(
                          'An internal error happened while handling event ' +
                            i +
                            '. Error message: "' +
                            o.message +
                            '". Here is a stacktrace:',
                          o
                        ),
                          this.hls.trigger(j['default'].ERROR, {
                            type: I.ErrorTypes.OTHER_ERROR,
                            details: I.ErrorDetails.INTERNAL_EXCEPTION,
                            fatal: !1,
                            event: i,
                            err: o,
                          });
                      }
                    }),
                    EventHandler
                  );
                })();
              !(function (i) {
                (i.MANIFEST = 'manifest'),
                  (i.LEVEL = 'level'),
                  (i.AUDIO_TRACK = 'audioTrack'),
                  (i.SUBTITLE_TRACK = 'subtitleTrack');
              })(m || (m = {})),
                (function (i) {
                  (i.MAIN = 'main'),
                    (i.AUDIO = 'audio'),
                    (i.SUBTITLE = 'subtitle');
                })(_ || (_ = {}));
              var Z = o('./src/demux/mp4demuxer.js');
              function _defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var be,
                Se = (function () {
                  function LevelKey(i, a) {
                    (this._uri = null),
                      (this.baseuri = void 0),
                      (this.reluri = void 0),
                      (this.method = null),
                      (this.key = null),
                      (this.iv = null),
                      (this.baseuri = i),
                      (this.reluri = a);
                  }
                  return (
                    (function _createClass(i, a, o) {
                      return (
                        a && _defineProperties(i.prototype, a),
                        o && _defineProperties(i, o),
                        i
                      );
                    })(LevelKey, [
                      {
                        key: 'uri',
                        get: function get() {
                          return (
                            !this._uri &&
                              this.reluri &&
                              (this._uri = Object(w.buildAbsoluteURL)(
                                this.baseuri,
                                this.reluri,
                                { alwaysNormalize: !0 }
                              )),
                            this._uri
                          );
                        },
                      },
                    ]),
                    LevelKey
                  );
                })();
              function fragment_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              !(function (i) {
                (i.AUDIO = 'audio'), (i.VIDEO = 'video');
              })(be || (be = {}));
              var _e = (function () {
                function Fragment() {
                  var i;
                  (this._url = null),
                    (this._byteRange = null),
                    (this._decryptdata = null),
                    (this._elementaryStreams =
                      (((i = {})[be.AUDIO] = !1), (i[be.VIDEO] = !1), i)),
                    (this.deltaPTS = 0),
                    (this.rawProgramDateTime = null),
                    (this.programDateTime = null),
                    (this.title = null),
                    (this.tagList = []),
                    (this.cc = void 0),
                    (this.type = void 0),
                    (this.relurl = void 0),
                    (this.baseurl = void 0),
                    (this.duration = void 0),
                    (this.start = void 0),
                    (this.sn = 0),
                    (this.urlId = 0),
                    (this.level = 0),
                    (this.levelkey = void 0),
                    (this.loader = void 0);
                }
                var i = Fragment.prototype;
                return (
                  (i.setByteRange = function setByteRange(i, a) {
                    var o = i.split('@', 2),
                      p = [];
                    1 === o.length
                      ? (p[0] = a ? a.byteRangeEndOffset : 0)
                      : (p[0] = parseInt(o[1])),
                      (p[1] = parseInt(o[0]) + p[0]),
                      (this._byteRange = p);
                  }),
                  (i.addElementaryStream = function addElementaryStream(i) {
                    this._elementaryStreams[i] = !0;
                  }),
                  (i.hasElementaryStream = function hasElementaryStream(i) {
                    return !0 === this._elementaryStreams[i];
                  }),
                  (i.createInitializationVector =
                    function createInitializationVector(i) {
                      for (var a = new Uint8Array(16), o = 12; o < 16; o++)
                        a[o] = (i >> (8 * (15 - o))) & 255;
                      return a;
                    }),
                  (i.setDecryptDataFromLevelKey =
                    function setDecryptDataFromLevelKey(i, a) {
                      var o = i;
                      return (
                        i &&
                          i.method &&
                          i.uri &&
                          !i.iv &&
                          (((o = new Se(i.baseuri, i.reluri)).method =
                            i.method),
                          (o.iv = this.createInitializationVector(a))),
                        o
                      );
                    }),
                  (function fragment_createClass(i, a, o) {
                    return (
                      a && fragment_defineProperties(i.prototype, a),
                      o && fragment_defineProperties(i, o),
                      i
                    );
                  })(Fragment, [
                    {
                      key: 'url',
                      get: function get() {
                        return (
                          !this._url &&
                            this.relurl &&
                            (this._url = Object(w.buildAbsoluteURL)(
                              this.baseurl,
                              this.relurl,
                              { alwaysNormalize: !0 }
                            )),
                          this._url
                        );
                      },
                      set: function set(i) {
                        this._url = i;
                      },
                    },
                    {
                      key: 'byteRange',
                      get: function get() {
                        return this._byteRange ? this._byteRange : [];
                      },
                    },
                    {
                      key: 'byteRangeStartOffset',
                      get: function get() {
                        return this.byteRange[0];
                      },
                    },
                    {
                      key: 'byteRangeEndOffset',
                      get: function get() {
                        return this.byteRange[1];
                      },
                    },
                    {
                      key: 'decryptdata',
                      get: function get() {
                        if (!this.levelkey && !this._decryptdata) return null;
                        if (!this._decryptdata && this.levelkey) {
                          var i = this.sn;
                          'number' != typeof i &&
                            (this.levelkey &&
                              'AES-128' === this.levelkey.method &&
                              !this.levelkey.iv &&
                              K.logger.warn(
                                'missing IV for initialization segment with method="' +
                                  this.levelkey.method +
                                  '" - compliance issue'
                              ),
                            (i = 0)),
                            (this._decryptdata =
                              this.setDecryptDataFromLevelKey(
                                this.levelkey,
                                i
                              ));
                        }
                        return this._decryptdata;
                      },
                    },
                    {
                      key: 'endProgramDateTime',
                      get: function get() {
                        if (null === this.programDateTime) return null;
                        if (!Object(D.isFiniteNumber)(this.programDateTime))
                          return null;
                        var i = Object(D.isFiniteNumber)(this.duration)
                          ? this.duration
                          : 0;
                        return this.programDateTime + 1e3 * i;
                      },
                    },
                    {
                      key: 'encrypted',
                      get: function get() {
                        return !(
                          !this.decryptdata ||
                          null === this.decryptdata.uri ||
                          null !== this.decryptdata.key
                        );
                      },
                    },
                  ]),
                  Fragment
                );
              })();
              function level_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var we = (function () {
                  function Level(i) {
                    (this.endCC = 0),
                      (this.endSN = 0),
                      (this.fragments = []),
                      (this.initSegment = null),
                      (this.live = !0),
                      (this.needSidxRanges = !1),
                      (this.startCC = 0),
                      (this.startSN = 0),
                      (this.startTimeOffset = null),
                      (this.targetduration = 0),
                      (this.totalduration = 0),
                      (this.type = null),
                      (this.url = i),
                      (this.version = null);
                  }
                  return (
                    (function level_createClass(i, a, o) {
                      return (
                        a && level_defineProperties(i.prototype, a),
                        o && level_defineProperties(i, o),
                        i
                      );
                    })(Level, [
                      {
                        key: 'hasProgramDateTime',
                        get: function get() {
                          return !(
                            !this.fragments[0] ||
                            !Object(D.isFiniteNumber)(
                              this.fragments[0].programDateTime
                            )
                          );
                        },
                      },
                    ]),
                    Level
                  );
                })(),
                xe = /^(\d+)x(\d+)$/,
                et = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,
                tt = (function () {
                  function AttrList(i) {
                    for (var a in ('string' == typeof i &&
                      (i = AttrList.parseAttrList(i)),
                    i))
                      i.hasOwnProperty(a) && (this[a] = i[a]);
                  }
                  var i = AttrList.prototype;
                  return (
                    (i.decimalInteger = function decimalInteger(i) {
                      var a = parseInt(this[i], 10);
                      return a > Number.MAX_SAFE_INTEGER ? Infinity : a;
                    }),
                    (i.hexadecimalInteger = function hexadecimalInteger(i) {
                      if (this[i]) {
                        var a = (this[i] || '0x').slice(2);
                        a = (1 & a.length ? '0' : '') + a;
                        for (
                          var o = new Uint8Array(a.length / 2), p = 0;
                          p < a.length / 2;
                          p++
                        )
                          o[p] = parseInt(a.slice(2 * p, 2 * p + 2), 16);
                        return o;
                      }
                      return null;
                    }),
                    (i.hexadecimalIntegerAsNumber =
                      function hexadecimalIntegerAsNumber(i) {
                        var a = parseInt(this[i], 16);
                        return a > Number.MAX_SAFE_INTEGER ? Infinity : a;
                      }),
                    (i.decimalFloatingPoint = function decimalFloatingPoint(i) {
                      return parseFloat(this[i]);
                    }),
                    (i.enumeratedString = function enumeratedString(i) {
                      return this[i];
                    }),
                    (i.decimalResolution = function decimalResolution(i) {
                      var a = xe.exec(this[i]);
                      return null === a
                        ? undefined
                        : {
                            width: parseInt(a[1], 10),
                            height: parseInt(a[2], 10),
                          };
                    }),
                    (AttrList.parseAttrList = function parseAttrList(i) {
                      var a,
                        o = {};
                      for (et.lastIndex = 0; null !== (a = et.exec(i)); ) {
                        var p = a[2];
                        0 === p.indexOf('"') &&
                          p.lastIndexOf('"') === p.length - 1 &&
                          (p = p.slice(1, -1)),
                          (o[a[1]] = p);
                      }
                      return o;
                    }),
                    AttrList
                  );
                })(),
                rt = {
                  audio: {
                    a3ds: !0,
                    'ac-3': !0,
                    'ac-4': !0,
                    alac: !0,
                    alaw: !0,
                    dra1: !0,
                    'dts+': !0,
                    'dts-': !0,
                    dtsc: !0,
                    dtse: !0,
                    dtsh: !0,
                    'ec-3': !0,
                    enca: !0,
                    g719: !0,
                    g726: !0,
                    m4ae: !0,
                    mha1: !0,
                    mha2: !0,
                    mhm1: !0,
                    mhm2: !0,
                    mlpa: !0,
                    mp4a: !0,
                    'raw ': !0,
                    Opus: !0,
                    samr: !0,
                    sawb: !0,
                    sawp: !0,
                    sevc: !0,
                    sqcp: !0,
                    ssmv: !0,
                    twos: !0,
                    ulaw: !0,
                  },
                  video: {
                    avc1: !0,
                    avc2: !0,
                    avc3: !0,
                    avc4: !0,
                    avcp: !0,
                    drac: !0,
                    dvav: !0,
                    dvhe: !0,
                    encv: !0,
                    hev1: !0,
                    hvc1: !0,
                    mjp2: !0,
                    mp4v: !0,
                    mvc1: !0,
                    mvc2: !0,
                    mvc3: !0,
                    mvc4: !0,
                    resv: !0,
                    rv60: !0,
                    s263: !0,
                    svc1: !0,
                    svc2: !0,
                    'vc-1': !0,
                    vp08: !0,
                    vp09: !0,
                  },
                };
              function isCodecSupportedInMp4(i, a) {
                return MediaSource.isTypeSupported(
                  (a || 'video') + '/mp4;codecs="' + i + '"'
                );
              }
              var nt = /#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,
                it = /#EXT-X-MEDIA:(.*)/g,
                at = new RegExp(
                  [
                    /#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,
                    /|(?!#)([\S+ ?]+)/.source,
                    /|#EXT-X-BYTERANGE:*(.+)/.source,
                    /|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,
                    /|#.*/.source,
                  ].join(''),
                  'g'
                ),
                ot =
                  /(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,
                st = /\.(mp4|m4s|m4v|m4a)$/i,
                ut = (function () {
                  function M3U8Parser() {}
                  return (
                    (M3U8Parser.findGroup = function findGroup(i, a) {
                      for (var o = 0; o < i.length; o++) {
                        var p = i[o];
                        if (p.id === a) return p;
                      }
                    }),
                    (M3U8Parser.convertAVC1ToAVCOTI =
                      function convertAVC1ToAVCOTI(i) {
                        var a,
                          o = i.split('.');
                        return (
                          o.length > 2
                            ? ((a = o.shift() + '.'),
                              (a += parseInt(o.shift()).toString(16)),
                              (a += (
                                '000' + parseInt(o.shift()).toString(16)
                              ).substr(-4)))
                            : (a = i),
                          a
                        );
                      }),
                    (M3U8Parser.resolve = function resolve(i, a) {
                      return w.buildAbsoluteURL(a, i, { alwaysNormalize: !0 });
                    }),
                    (M3U8Parser.parseMasterPlaylist =
                      function parseMasterPlaylist(i, a) {
                        var o,
                          p = [];
                        function setCodecs(i, a) {
                          ['video', 'audio'].forEach(function (o) {
                            var p = i.filter(function (i) {
                              return (function isCodecType(i, a) {
                                var o = rt[a];
                                return !!o && !0 === o[i.slice(0, 4)];
                              })(i, o);
                            });
                            if (p.length) {
                              var m = p.filter(function (i) {
                                return (
                                  0 === i.lastIndexOf('avc1', 0) ||
                                  0 === i.lastIndexOf('mp4a', 0)
                                );
                              });
                              (a[o + 'Codec'] = m.length > 0 ? m[0] : p[0]),
                                (i = i.filter(function (i) {
                                  return -1 === p.indexOf(i);
                                }));
                            }
                          }),
                            (a.unknownCodecs = i);
                        }
                        for (nt.lastIndex = 0; null != (o = nt.exec(i)); ) {
                          var m = {},
                            _ = (m.attrs = new tt(o[1]));
                          m.url = M3U8Parser.resolve(o[2], a);
                          var w = _.decimalResolution('RESOLUTION');
                          w && ((m.width = w.width), (m.height = w.height)),
                            (m.bitrate =
                              _.decimalInteger('AVERAGE-BANDWIDTH') ||
                              _.decimalInteger('BANDWIDTH')),
                            (m.name = _.NAME),
                            setCodecs(
                              [].concat((_.CODECS || '').split(/[ ,]+/)),
                              m
                            ),
                            m.videoCodec &&
                              -1 !== m.videoCodec.indexOf('avc1') &&
                              (m.videoCodec = M3U8Parser.convertAVC1ToAVCOTI(
                                m.videoCodec
                              )),
                            p.push(m);
                        }
                        return p;
                      }),
                    (M3U8Parser.parseMasterPlaylistMedia =
                      function parseMasterPlaylistMedia(i, a, o, p) {
                        var m;
                        void 0 === p && (p = []);
                        var _ = [],
                          w = 0;
                        for (it.lastIndex = 0; null !== (m = it.exec(i)); ) {
                          var x = new tt(m[1]);
                          if (x.TYPE === o) {
                            var I = {
                              id: w++,
                              groupId: x['GROUP-ID'],
                              name: x.NAME || x.LANGUAGE,
                              type: o,
                              default: 'YES' === x.DEFAULT,
                              autoselect: 'YES' === x.AUTOSELECT,
                              forced: 'YES' === x.FORCED,
                              lang: x.LANGUAGE,
                            };
                            if (
                              (x.URI && (I.url = M3U8Parser.resolve(x.URI, a)),
                              p.length)
                            ) {
                              var D = M3U8Parser.findGroup(p, I.groupId);
                              I.audioCodec = D ? D.codec : p[0].codec;
                            }
                            _.push(I);
                          }
                        }
                        return _;
                      }),
                    (M3U8Parser.parseLevelPlaylist =
                      function parseLevelPlaylist(i, a, o, p, m) {
                        var _,
                          w,
                          x,
                          I = 0,
                          j = 0,
                          q = new we(a),
                          $ = 0,
                          Z = null,
                          be = new _e(),
                          xe = null;
                        for (at.lastIndex = 0; null !== (_ = at.exec(i)); ) {
                          var et = _[1];
                          if (et) {
                            be.duration = parseFloat(et);
                            var rt = (' ' + _[2]).slice(1);
                            (be.title = rt || null),
                              be.tagList.push(
                                rt ? ['INF', et, rt] : ['INF', et]
                              );
                          } else if (_[3]) {
                            if (Object(D.isFiniteNumber)(be.duration)) {
                              var nt = I++;
                              (be.type = p),
                                (be.start = j),
                                x && (be.levelkey = x),
                                (be.sn = nt),
                                (be.level = o),
                                (be.cc = $),
                                (be.urlId = m),
                                (be.baseurl = a),
                                (be.relurl = (' ' + _[3]).slice(1)),
                                assignProgramDateTime(be, Z),
                                q.fragments.push(be),
                                (Z = be),
                                (j += be.duration),
                                (be = new _e());
                            }
                          } else if (_[4]) {
                            var it = (' ' + _[4]).slice(1);
                            Z ? be.setByteRange(it, Z) : be.setByteRange(it);
                          } else if (_[5])
                            (be.rawProgramDateTime = (' ' + _[5]).slice(1)),
                              be.tagList.push([
                                'PROGRAM-DATE-TIME',
                                be.rawProgramDateTime,
                              ]),
                              null === xe && (xe = q.fragments.length);
                          else {
                            if (!(_ = _[0].match(ot))) {
                              K.logger.warn(
                                'No matches on slow regex match for level playlist!'
                              );
                              continue;
                            }
                            for (
                              w = 1;
                              w < _.length && 'undefined' == typeof _[w];
                              w++
                            );
                            var ut = (' ' + _[w + 1]).slice(1),
                              lt = (' ' + _[w + 2]).slice(1);
                            switch (_[w]) {
                              case '#':
                                be.tagList.push(lt ? [ut, lt] : [ut]);
                                break;
                              case 'PLAYLIST-TYPE':
                                q.type = ut.toUpperCase();
                                break;
                              case 'MEDIA-SEQUENCE':
                                I = q.startSN = parseInt(ut);
                                break;
                              case 'TARGETDURATION':
                                q.targetduration = parseFloat(ut);
                                break;
                              case 'VERSION':
                                q.version = parseInt(ut);
                                break;
                              case 'EXTM3U':
                                break;
                              case 'ENDLIST':
                                q.live = !1;
                                break;
                              case 'DIS':
                                $++, be.tagList.push(['DIS']);
                                break;
                              case 'DISCONTINUITY-SEQ':
                                $ = parseInt(ut);
                                break;
                              case 'KEY':
                                var ct = new tt(ut),
                                  dt = ct.enumeratedString('METHOD'),
                                  ft = ct.URI,
                                  ht = ct.hexadecimalInteger('IV');
                                dt &&
                                  ((x = new Se(a, ft)),
                                  ft &&
                                    [
                                      'AES-128',
                                      'SAMPLE-AES',
                                      'SAMPLE-AES-CENC',
                                    ].indexOf(dt) >= 0 &&
                                    ((x.method = dt),
                                    (x.key = null),
                                    (x.iv = ht)));
                                break;
                              case 'START':
                                var pt = new tt(ut).decimalFloatingPoint(
                                  'TIME-OFFSET'
                                );
                                Object(D.isFiniteNumber)(pt) &&
                                  (q.startTimeOffset = pt);
                                break;
                              case 'MAP':
                                var gt = new tt(ut);
                                (be.relurl = gt.URI),
                                  gt.BYTERANGE && be.setByteRange(gt.BYTERANGE),
                                  (be.baseurl = a),
                                  (be.level = o),
                                  (be.type = p),
                                  (be.sn = 'initSegment'),
                                  (q.initSegment = be),
                                  ((be = new _e()).rawProgramDateTime =
                                    q.initSegment.rawProgramDateTime);
                                break;
                              default:
                                K.logger.warn(
                                  'line parsed but not handled: ' + _
                                );
                            }
                          }
                        }
                        return (
                          (be = Z) &&
                            !be.relurl &&
                            (q.fragments.pop(), (j -= be.duration)),
                          (q.totalduration = j),
                          (q.averagetargetduration = j / q.fragments.length),
                          (q.endSN = I - 1),
                          (q.startCC = q.fragments[0] ? q.fragments[0].cc : 0),
                          (q.endCC = $),
                          !q.initSegment &&
                            q.fragments.length &&
                            q.fragments.every(function (i) {
                              return st.test(i.relurl);
                            }) &&
                            (K.logger.warn(
                              'MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX'
                            ),
                            ((be = new _e()).relurl = q.fragments[0].relurl),
                            (be.baseurl = a),
                            (be.level = o),
                            (be.type = p),
                            (be.sn = 'initSegment'),
                            (q.initSegment = be),
                            (q.needSidxRanges = !0)),
                          xe &&
                            (function backfillProgramDateTimes(i, a) {
                              for (var o = i[a], p = a - 1; p >= 0; p--) {
                                var m = i[p];
                                (m.programDateTime =
                                  o.programDateTime - 1e3 * m.duration),
                                  (o = m);
                              }
                            })(q.fragments, xe),
                          q
                        );
                      }),
                    M3U8Parser
                  );
                })();
              function assignProgramDateTime(i, a) {
                i.rawProgramDateTime
                  ? (i.programDateTime = Date.parse(i.rawProgramDateTime))
                  : a &&
                    a.programDateTime &&
                    (i.programDateTime = a.endProgramDateTime),
                  Object(D.isFiniteNumber)(i.programDateTime) ||
                    ((i.programDateTime = null), (i.rawProgramDateTime = null));
              }
              var lt = window.performance,
                ct = (function (i) {
                  function PlaylistLoader(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].MANIFEST_LOADING,
                          j['default'].LEVEL_LOADING,
                          j['default'].AUDIO_TRACK_LOADING,
                          j['default'].SUBTITLE_TRACK_LOADING
                        ) || this).loaders = {}),
                      o
                    );
                  }
                  !(function _inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(PlaylistLoader, i),
                    (PlaylistLoader.canHaveQualityLevels =
                      function canHaveQualityLevels(i) {
                        return i !== m.AUDIO_TRACK && i !== m.SUBTITLE_TRACK;
                      }),
                    (PlaylistLoader.mapContextToLevelType =
                      function mapContextToLevelType(i) {
                        switch (i.type) {
                          case m.AUDIO_TRACK:
                            return _.AUDIO;
                          case m.SUBTITLE_TRACK:
                            return _.SUBTITLE;
                          default:
                            return _.MAIN;
                        }
                      }),
                    (PlaylistLoader.getResponseUrl = function getResponseUrl(
                      i,
                      a
                    ) {
                      var o = i.url;
                      return (
                        (o !== undefined && 0 !== o.indexOf('data:')) ||
                          (o = a.url),
                        o
                      );
                    });
                  var a = PlaylistLoader.prototype;
                  return (
                    (a.createInternalLoader = function createInternalLoader(i) {
                      var a = this.hls.config,
                        o = a.pLoader,
                        p = a.loader,
                        m = new (o || p)(a);
                      return (i.loader = m), (this.loaders[i.type] = m), m;
                    }),
                    (a.getInternalLoader = function getInternalLoader(i) {
                      return this.loaders[i.type];
                    }),
                    (a.resetInternalLoader = function resetInternalLoader(i) {
                      this.loaders[i] && delete this.loaders[i];
                    }),
                    (a.destroyInternalLoaders =
                      function destroyInternalLoaders() {
                        for (var i in this.loaders) {
                          var a = this.loaders[i];
                          a && a.destroy(), this.resetInternalLoader(i);
                        }
                      }),
                    (a.destroy = function destroy() {
                      this.destroyInternalLoaders(),
                        i.prototype.destroy.call(this);
                    }),
                    (a.onManifestLoading = function onManifestLoading(i) {
                      this.load({
                        url: i.url,
                        type: m.MANIFEST,
                        level: 0,
                        id: null,
                        responseType: 'text',
                      });
                    }),
                    (a.onLevelLoading = function onLevelLoading(i) {
                      this.load({
                        url: i.url,
                        type: m.LEVEL,
                        level: i.level,
                        id: i.id,
                        responseType: 'text',
                      });
                    }),
                    (a.onAudioTrackLoading = function onAudioTrackLoading(i) {
                      this.load({
                        url: i.url,
                        type: m.AUDIO_TRACK,
                        level: null,
                        id: i.id,
                        responseType: 'text',
                      });
                    }),
                    (a.onSubtitleTrackLoading = function onSubtitleTrackLoading(
                      i
                    ) {
                      this.load({
                        url: i.url,
                        type: m.SUBTITLE_TRACK,
                        level: null,
                        id: i.id,
                        responseType: 'text',
                      });
                    }),
                    (a.load = function load(i) {
                      var a = this.hls.config;
                      K.logger.debug(
                        'Loading playlist of type ' +
                          i.type +
                          ', level: ' +
                          i.level +
                          ', id: ' +
                          i.id
                      );
                      var o,
                        p,
                        _,
                        w,
                        x = this.getInternalLoader(i);
                      if (x) {
                        var I = x.context;
                        if (I && I.url === i.url)
                          return K.logger.trace('playlist request ongoing'), !1;
                        K.logger.warn(
                          'aborting previous loader for type: ' + i.type
                        ),
                          x.abort();
                      }
                      switch (i.type) {
                        case m.MANIFEST:
                          (o = a.manifestLoadingMaxRetry),
                            (p = a.manifestLoadingTimeOut),
                            (_ = a.manifestLoadingRetryDelay),
                            (w = a.manifestLoadingMaxRetryTimeout);
                          break;
                        case m.LEVEL:
                          (o = 0),
                            (w = 0),
                            (_ = 0),
                            (p = a.levelLoadingTimeOut);
                          break;
                        default:
                          (o = a.levelLoadingMaxRetry),
                            (p = a.levelLoadingTimeOut),
                            (_ = a.levelLoadingRetryDelay),
                            (w = a.levelLoadingMaxRetryTimeout);
                      }
                      x = this.createInternalLoader(i);
                      var D = {
                          timeout: p,
                          maxRetry: o,
                          retryDelay: _,
                          maxRetryDelay: w,
                        },
                        j = {
                          onSuccess: this.loadsuccess.bind(this),
                          onError: this.loaderror.bind(this),
                          onTimeout: this.loadtimeout.bind(this),
                        };
                      return (
                        K.logger.debug(
                          'Calling internal loader delegate for URL: ' + i.url
                        ),
                        x.load(i, D, j),
                        !0
                      );
                    }),
                    (a.loadsuccess = function loadsuccess(i, a, o, p) {
                      if ((void 0 === p && (p = null), o.isSidxRequest))
                        return (
                          this._handleSidxRequest(i, o),
                          void this._handlePlaylistLoaded(i, a, o, p)
                        );
                      if (
                        (this.resetInternalLoader(o.type),
                        'string' != typeof i.data)
                      )
                        throw new Error(
                          'expected responseType of "text" for PlaylistLoader'
                        );
                      var m = i.data;
                      (a.tload = lt.now()),
                        0 === m.indexOf('#EXTM3U')
                          ? m.indexOf('#EXTINF:') > 0 ||
                            m.indexOf('#EXT-X-TARGETDURATION:') > 0
                            ? this._handleTrackOrLevelPlaylist(i, a, o, p)
                            : this._handleMasterPlaylist(i, a, o, p)
                          : this._handleManifestParsingError(
                              i,
                              o,
                              'no EXTM3U delimiter',
                              p
                            );
                    }),
                    (a.loaderror = function loaderror(i, a, o) {
                      void 0 === o && (o = null),
                        this._handleNetworkError(a, o, !1, i);
                    }),
                    (a.loadtimeout = function loadtimeout(i, a, o) {
                      void 0 === o && (o = null),
                        this._handleNetworkError(a, o, !0);
                    }),
                    (a._handleMasterPlaylist = function _handleMasterPlaylist(
                      i,
                      a,
                      o,
                      p
                    ) {
                      var m = this.hls,
                        _ = i.data,
                        w = PlaylistLoader.getResponseUrl(i, o),
                        x = ut.parseMasterPlaylist(_, w);
                      if (x.length) {
                        var I = x.map(function (i) {
                            return { id: i.attrs.AUDIO, codec: i.audioCodec };
                          }),
                          D = ut.parseMasterPlaylistMedia(_, w, 'AUDIO', I),
                          q = ut.parseMasterPlaylistMedia(_, w, 'SUBTITLES');
                        if (D.length) {
                          var $ = !1;
                          D.forEach(function (i) {
                            i.url || ($ = !0);
                          }),
                            !1 === $ &&
                              x[0].audioCodec &&
                              !x[0].attrs.AUDIO &&
                              (K.logger.log(
                                'audio codec signaled in quality level, but no embedded audio track signaled, create one'
                              ),
                              D.unshift({
                                type: 'main',
                                name: 'main',
                                default: !1,
                                autoselect: !1,
                                forced: !1,
                                id: -1,
                              }));
                        }
                        m.trigger(j['default'].MANIFEST_LOADED, {
                          levels: x,
                          audioTracks: D,
                          subtitles: q,
                          url: w,
                          stats: a,
                          networkDetails: p,
                        });
                      } else
                        this._handleManifestParsingError(
                          i,
                          o,
                          'no level found in manifest',
                          p
                        );
                    }),
                    (a._handleTrackOrLevelPlaylist =
                      function _handleTrackOrLevelPlaylist(i, a, o, p) {
                        var _ = this.hls,
                          w = o.id,
                          x = o.level,
                          I = o.type,
                          K = PlaylistLoader.getResponseUrl(i, o),
                          q = Object(D.isFiniteNumber)(w) ? w : 0,
                          $ = Object(D.isFiniteNumber)(x) ? x : q,
                          Z = PlaylistLoader.mapContextToLevelType(o),
                          be = ut.parseLevelPlaylist(i.data, K, $, Z, q);
                        if (((be.tload = a.tload), I === m.MANIFEST)) {
                          var Se = { url: K, details: be };
                          _.trigger(j['default'].MANIFEST_LOADED, {
                            levels: [Se],
                            audioTracks: [],
                            url: K,
                            stats: a,
                            networkDetails: p,
                          });
                        }
                        if (((a.tparsed = lt.now()), be.needSidxRanges)) {
                          var _e = be.initSegment.url;
                          this.load({
                            url: _e,
                            isSidxRequest: !0,
                            type: I,
                            level: x,
                            levelDetails: be,
                            id: w,
                            rangeStart: 0,
                            rangeEnd: 2048,
                            responseType: 'arraybuffer',
                          });
                        } else
                          (o.levelDetails = be),
                            this._handlePlaylistLoaded(i, a, o, p);
                      }),
                    (a._handleSidxRequest = function _handleSidxRequest(i, a) {
                      if ('string' == typeof i.data)
                        throw new Error(
                          'sidx request must be made with responseType of array buffer'
                        );
                      var o = Z['default'].parseSegmentIndex(
                        new Uint8Array(i.data)
                      );
                      if (o) {
                        var p = o.references,
                          m = a.levelDetails;
                        p.forEach(function (i, a) {
                          var o = i.info;
                          if (m) {
                            var p = m.fragments[a];
                            0 === p.byteRange.length &&
                              p.setByteRange(
                                String(1 + o.end - o.start) +
                                  '@' +
                                  String(o.start)
                              );
                          }
                        }),
                          m &&
                            m.initSegment.setByteRange(
                              String(o.moovEndOffset) + '@0'
                            );
                      }
                    }),
                    (a._handleManifestParsingError =
                      function _handleManifestParsingError(i, a, o, p) {
                        this.hls.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.NETWORK_ERROR,
                          details: I.ErrorDetails.MANIFEST_PARSING_ERROR,
                          fatal: !0,
                          url: i.url,
                          reason: o,
                          networkDetails: p,
                        });
                      }),
                    (a._handleNetworkError = function _handleNetworkError(
                      i,
                      a,
                      o,
                      p
                    ) {
                      var _, w;
                      void 0 === o && (o = !1),
                        void 0 === p && (p = null),
                        K.logger.info(
                          'A network error occured while loading a ' +
                            i.type +
                            '-type playlist'
                        );
                      var x = this.getInternalLoader(i);
                      switch (i.type) {
                        case m.MANIFEST:
                          (_ = o
                            ? I.ErrorDetails.MANIFEST_LOAD_TIMEOUT
                            : I.ErrorDetails.MANIFEST_LOAD_ERROR),
                            (w = !0);
                          break;
                        case m.LEVEL:
                          (_ = o
                            ? I.ErrorDetails.LEVEL_LOAD_TIMEOUT
                            : I.ErrorDetails.LEVEL_LOAD_ERROR),
                            (w = !1);
                          break;
                        case m.AUDIO_TRACK:
                          (_ = o
                            ? I.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT
                            : I.ErrorDetails.AUDIO_TRACK_LOAD_ERROR),
                            (w = !1);
                          break;
                        default:
                          w = !1;
                      }
                      x && (x.abort(), this.resetInternalLoader(i.type));
                      var D = {
                        type: I.ErrorTypes.NETWORK_ERROR,
                        details: _,
                        fatal: w,
                        url: i.url,
                        loader: x,
                        context: i,
                        networkDetails: a,
                      };
                      p && (D.response = p),
                        this.hls.trigger(j['default'].ERROR, D);
                    }),
                    (a._handlePlaylistLoaded = function _handlePlaylistLoaded(
                      i,
                      a,
                      o,
                      p
                    ) {
                      var _ = o.type,
                        w = o.level,
                        x = o.id,
                        I = o.levelDetails;
                      if (I && I.targetduration)
                        if (PlaylistLoader.canHaveQualityLevels(o.type))
                          this.hls.trigger(j['default'].LEVEL_LOADED, {
                            details: I,
                            level: w || 0,
                            id: x || 0,
                            stats: a,
                            networkDetails: p,
                          });
                        else
                          switch (_) {
                            case m.AUDIO_TRACK:
                              this.hls.trigger(
                                j['default'].AUDIO_TRACK_LOADED,
                                {
                                  details: I,
                                  id: x,
                                  stats: a,
                                  networkDetails: p,
                                }
                              );
                              break;
                            case m.SUBTITLE_TRACK:
                              this.hls.trigger(
                                j['default'].SUBTITLE_TRACK_LOADED,
                                {
                                  details: I,
                                  id: x,
                                  stats: a,
                                  networkDetails: p,
                                }
                              );
                          }
                      else
                        this._handleManifestParsingError(
                          i,
                          o,
                          'invalid target duration',
                          p
                        );
                    }),
                    PlaylistLoader
                  );
                })($);
              var dt = (function (i) {
                function FragmentLoader(a) {
                  var o;
                  return (
                    ((o =
                      i.call(this, a, j['default'].FRAG_LOADING) ||
                      this).loaders = {}),
                    o
                  );
                }
                !(function fragment_loader_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(FragmentLoader, i);
                var a = FragmentLoader.prototype;
                return (
                  (a.destroy = function destroy() {
                    var a = this.loaders;
                    for (var o in a) {
                      var p = a[o];
                      p && p.destroy();
                    }
                    (this.loaders = {}), i.prototype.destroy.call(this);
                  }),
                  (a.onFragLoading = function onFragLoading(i) {
                    var a = i.frag,
                      o = a.type,
                      p = this.loaders,
                      m = this.hls.config,
                      _ = m.fLoader,
                      w = m.loader;
                    a.loaded = 0;
                    var x,
                      I,
                      j,
                      q = p[o];
                    q &&
                      (K.logger.warn(
                        'abort previous fragment loader for type: ' + o
                      ),
                      q.abort()),
                      (q = p[o] = a.loader = m.fLoader ? new _(m) : new w(m)),
                      (x = {
                        url: a.url,
                        frag: a,
                        responseType: 'arraybuffer',
                        progressData: !1,
                      });
                    var $ = a.byteRangeStartOffset,
                      Z = a.byteRangeEndOffset;
                    Object(D.isFiniteNumber)($) &&
                      Object(D.isFiniteNumber)(Z) &&
                      ((x.rangeStart = $), (x.rangeEnd = Z)),
                      (I = {
                        timeout: m.fragLoadingTimeOut,
                        maxRetry: 0,
                        retryDelay: 0,
                        maxRetryDelay: m.fragLoadingMaxRetryTimeout,
                      }),
                      (j = {
                        onSuccess: this.loadsuccess.bind(this),
                        onError: this.loaderror.bind(this),
                        onTimeout: this.loadtimeout.bind(this),
                        onProgress: this.loadprogress.bind(this),
                      }),
                      q.load(x, I, j);
                  }),
                  (a.loadsuccess = function loadsuccess(i, a, o, p) {
                    void 0 === p && (p = null);
                    var m = i.data,
                      _ = o.frag;
                    (_.loader = undefined),
                      (this.loaders[_.type] = undefined),
                      this.hls.trigger(j['default'].FRAG_LOADED, {
                        payload: m,
                        frag: _,
                        stats: a,
                        networkDetails: p,
                      });
                  }),
                  (a.loaderror = function loaderror(i, a, o) {
                    void 0 === o && (o = null);
                    var p = a.frag,
                      m = p.loader;
                    m && m.abort(),
                      (this.loaders[p.type] = undefined),
                      this.hls.trigger(j['default'].ERROR, {
                        type: I.ErrorTypes.NETWORK_ERROR,
                        details: I.ErrorDetails.FRAG_LOAD_ERROR,
                        fatal: !1,
                        frag: a.frag,
                        response: i,
                        networkDetails: o,
                      });
                  }),
                  (a.loadtimeout = function loadtimeout(i, a, o) {
                    void 0 === o && (o = null);
                    var p = a.frag,
                      m = p.loader;
                    m && m.abort(),
                      (this.loaders[p.type] = undefined),
                      this.hls.trigger(j['default'].ERROR, {
                        type: I.ErrorTypes.NETWORK_ERROR,
                        details: I.ErrorDetails.FRAG_LOAD_TIMEOUT,
                        fatal: !1,
                        frag: a.frag,
                        networkDetails: o,
                      });
                  }),
                  (a.loadprogress = function loadprogress(i, a, o, p) {
                    void 0 === p && (p = null);
                    var m = a.frag;
                    (m.loaded = i.loaded),
                      this.hls.trigger(j['default'].FRAG_LOAD_PROGRESS, {
                        frag: m,
                        stats: i,
                        networkDetails: p,
                      });
                  }),
                  FragmentLoader
                );
              })($);
              var ft = (function (i) {
                function KeyLoader(a) {
                  var o;
                  return (
                    ((o =
                      i.call(this, a, j['default'].KEY_LOADING) ||
                      this).loaders = {}),
                    (o.decryptkey = null),
                    (o.decrypturl = null),
                    o
                  );
                }
                !(function key_loader_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(KeyLoader, i);
                var a = KeyLoader.prototype;
                return (
                  (a.destroy = function destroy() {
                    for (var a in this.loaders) {
                      var o = this.loaders[a];
                      o && o.destroy();
                    }
                    (this.loaders = {}), i.prototype.destroy.call(this);
                  }),
                  (a.onKeyLoading = function onKeyLoading(i) {
                    var a = i.frag,
                      o = a.type,
                      p = this.loaders[o];
                    if (a.decryptdata) {
                      var m = a.decryptdata.uri;
                      if (m !== this.decrypturl || null === this.decryptkey) {
                        var _ = this.hls.config;
                        if (
                          (p &&
                            (K.logger.warn(
                              'abort previous key loader for type:' + o
                            ),
                            p.abort()),
                          !m)
                        )
                          return void K.logger.warn('key uri is falsy');
                        (a.loader = this.loaders[o] = new _.loader(_)),
                          (this.decrypturl = m),
                          (this.decryptkey = null);
                        var w = {
                            url: m,
                            frag: a,
                            responseType: 'arraybuffer',
                          },
                          x = {
                            timeout: _.fragLoadingTimeOut,
                            maxRetry: 0,
                            retryDelay: _.fragLoadingRetryDelay,
                            maxRetryDelay: _.fragLoadingMaxRetryTimeout,
                          },
                          I = {
                            onSuccess: this.loadsuccess.bind(this),
                            onError: this.loaderror.bind(this),
                            onTimeout: this.loadtimeout.bind(this),
                          };
                        a.loader.load(w, x, I);
                      } else
                        this.decryptkey &&
                          ((a.decryptdata.key = this.decryptkey),
                          this.hls.trigger(j['default'].KEY_LOADED, {
                            frag: a,
                          }));
                    } else
                      K.logger.warn(
                        'Missing decryption data on fragment in onKeyLoading'
                      );
                  }),
                  (a.loadsuccess = function loadsuccess(i, a, o) {
                    var p = o.frag;
                    p.decryptdata
                      ? ((this.decryptkey = p.decryptdata.key =
                          new Uint8Array(i.data)),
                        (p.loader = undefined),
                        delete this.loaders[p.type],
                        this.hls.trigger(j['default'].KEY_LOADED, { frag: p }))
                      : K.logger.error('after key load, decryptdata unset');
                  }),
                  (a.loaderror = function loaderror(i, a) {
                    var o = a.frag,
                      p = o.loader;
                    p && p.abort(),
                      delete this.loaders[o.type],
                      this.hls.trigger(j['default'].ERROR, {
                        type: I.ErrorTypes.NETWORK_ERROR,
                        details: I.ErrorDetails.KEY_LOAD_ERROR,
                        fatal: !1,
                        frag: o,
                        response: i,
                      });
                  }),
                  (a.loadtimeout = function loadtimeout(i, a) {
                    var o = a.frag,
                      p = o.loader;
                    p && p.abort(),
                      delete this.loaders[o.type],
                      this.hls.trigger(j['default'].ERROR, {
                        type: I.ErrorTypes.NETWORK_ERROR,
                        details: I.ErrorDetails.KEY_LOAD_TIMEOUT,
                        fatal: !1,
                        frag: o,
                      });
                  }),
                  KeyLoader
                );
              })($);
              var ht = 'NOT_LOADED',
                pt = 'APPENDING',
                gt = 'PARTIAL',
                mt = 'OK',
                vt = (function (i) {
                  function FragmentTracker(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].BUFFER_APPENDED,
                          j['default'].FRAG_BUFFERED,
                          j['default'].FRAG_LOADED
                        ) || this).bufferPadding = 0.2),
                      (o.fragments = Object.create(null)),
                      (o.timeRanges = Object.create(null)),
                      (o.config = a.config),
                      o
                    );
                  }
                  !(function fragment_tracker_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(FragmentTracker, i);
                  var a = FragmentTracker.prototype;
                  return (
                    (a.destroy = function destroy() {
                      (this.fragments = Object.create(null)),
                        (this.timeRanges = Object.create(null)),
                        (this.config = null),
                        $.prototype.destroy.call(this),
                        i.prototype.destroy.call(this);
                    }),
                    (a.getBufferedFrag = function getBufferedFrag(i, a) {
                      var o = this.fragments,
                        p = Object.keys(o).filter(function (p) {
                          var m = o[p];
                          if (m.body.type !== a) return !1;
                          if (!m.buffered) return !1;
                          var _ = m.body;
                          return _.startPTS <= i && i <= _.endPTS;
                        });
                      if (0 === p.length) return null;
                      var m = p.pop();
                      return o[m].body;
                    }),
                    (a.detectEvictedFragments = function detectEvictedFragments(
                      i,
                      a
                    ) {
                      var o,
                        p,
                        m = this;
                      Object.keys(this.fragments).forEach(function (_) {
                        var w = m.fragments[_];
                        if (!0 === w.buffered) {
                          var x = w.range[i];
                          if (x) {
                            o = x.time;
                            for (var I = 0; I < o.length; I++)
                              if (
                                ((p = o[I]),
                                !1 ===
                                  m.isTimeBuffered(p.startPTS, p.endPTS, a))
                              ) {
                                m.removeFragment(w.body);
                                break;
                              }
                          }
                        }
                      });
                    }),
                    (a.detectPartialFragments = function detectPartialFragments(
                      i
                    ) {
                      var a = this,
                        o = this.getFragmentKey(i),
                        p = this.fragments[o];
                      p &&
                        ((p.buffered = !0),
                        Object.keys(this.timeRanges).forEach(function (o) {
                          if (i.hasElementaryStream(o)) {
                            var m = a.timeRanges[o];
                            p.range[o] = a.getBufferedTimes(
                              i.startPTS,
                              i.endPTS,
                              m
                            );
                          }
                        }));
                    }),
                    (a.getBufferedTimes = function getBufferedTimes(i, a, o) {
                      for (var p, m, _ = [], w = !1, x = 0; x < o.length; x++) {
                        if (
                          ((p = o.start(x) - this.bufferPadding),
                          (m = o.end(x) + this.bufferPadding),
                          i >= p && a <= m)
                        ) {
                          _.push({
                            startPTS: Math.max(i, o.start(x)),
                            endPTS: Math.min(a, o.end(x)),
                          });
                          break;
                        }
                        if (i < m && a > p)
                          _.push({
                            startPTS: Math.max(i, o.start(x)),
                            endPTS: Math.min(a, o.end(x)),
                          }),
                            (w = !0);
                        else if (a <= p) break;
                      }
                      return { time: _, partial: w };
                    }),
                    (a.getFragmentKey = function getFragmentKey(i) {
                      return (
                        i.type + '_' + i.level + '_' + i.urlId + '_' + i.sn
                      );
                    }),
                    (a.getPartialFragment = function getPartialFragment(i) {
                      var a,
                        o,
                        p,
                        m = this,
                        _ = null,
                        w = 0;
                      return (
                        Object.keys(this.fragments).forEach(function (x) {
                          var I = m.fragments[x];
                          m.isPartial(I) &&
                            ((o = I.body.startPTS - m.bufferPadding),
                            (p = I.body.endPTS + m.bufferPadding),
                            i >= o &&
                              i <= p &&
                              ((a = Math.min(i - o, p - i)),
                              w <= a && ((_ = I.body), (w = a))));
                        }),
                        _
                      );
                    }),
                    (a.getState = function getState(i) {
                      var a = this.getFragmentKey(i),
                        o = this.fragments[a],
                        p = ht;
                      return (
                        o !== undefined &&
                          (p = o.buffered
                            ? !0 === this.isPartial(o)
                              ? gt
                              : mt
                            : pt),
                        p
                      );
                    }),
                    (a.isPartial = function isPartial(i) {
                      return (
                        !0 === i.buffered &&
                        ((i.range.video !== undefined &&
                          !0 === i.range.video.partial) ||
                          (i.range.audio !== undefined &&
                            !0 === i.range.audio.partial))
                      );
                    }),
                    (a.isTimeBuffered = function isTimeBuffered(i, a, o) {
                      for (var p, m, _ = 0; _ < o.length; _++) {
                        if (
                          ((p = o.start(_) - this.bufferPadding),
                          (m = o.end(_) + this.bufferPadding),
                          i >= p && a <= m)
                        )
                          return !0;
                        if (a <= p) return !1;
                      }
                      return !1;
                    }),
                    (a.onFragLoaded = function onFragLoaded(i) {
                      var a = i.frag;
                      Object(D.isFiniteNumber)(a.sn) &&
                        !a.bitrateTest &&
                        (this.fragments[this.getFragmentKey(a)] = {
                          body: a,
                          range: Object.create(null),
                          buffered: !1,
                        });
                    }),
                    (a.onBufferAppended = function onBufferAppended(i) {
                      var a = this;
                      (this.timeRanges = i.timeRanges),
                        Object.keys(this.timeRanges).forEach(function (i) {
                          var o = a.timeRanges[i];
                          a.detectEvictedFragments(i, o);
                        });
                    }),
                    (a.onFragBuffered = function onFragBuffered(i) {
                      this.detectPartialFragments(i.frag);
                    }),
                    (a.hasFragment = function hasFragment(i) {
                      var a = this.getFragmentKey(i);
                      return this.fragments[a] !== undefined;
                    }),
                    (a.removeFragment = function removeFragment(i) {
                      var a = this.getFragmentKey(i);
                      delete this.fragments[a];
                    }),
                    (a.removeAllFragments = function removeAllFragments() {
                      this.fragments = Object.create(null);
                    }),
                    FragmentTracker
                  );
                })($),
                yt = {
                  search: function search(i, a) {
                    for (
                      var o = 0, p = i.length - 1, m = null, _ = null;
                      o <= p;

                    ) {
                      var w = a((_ = i[(m = ((o + p) / 2) | 0)]));
                      if (w > 0) o = m + 1;
                      else {
                        if (!(w < 0)) return _;
                        p = m - 1;
                      }
                    }
                    return null;
                  },
                },
                bt = (function () {
                  function BufferHelper() {}
                  return (
                    (BufferHelper.isBuffered = function isBuffered(i, a) {
                      try {
                        if (i)
                          for (var o = i.buffered, p = 0; p < o.length; p++)
                            if (a >= o.start(p) && a <= o.end(p)) return !0;
                      } catch (m) {}
                      return !1;
                    }),
                    (BufferHelper.bufferInfo = function bufferInfo(i, a, o) {
                      try {
                        if (i) {
                          var p,
                            m = i.buffered,
                            _ = [];
                          for (p = 0; p < m.length; p++)
                            _.push({ start: m.start(p), end: m.end(p) });
                          return this.bufferedInfo(_, a, o);
                        }
                      } catch (w) {}
                      return { len: 0, start: a, end: a, nextStart: undefined };
                    }),
                    (BufferHelper.bufferedInfo = function bufferedInfo(
                      i,
                      a,
                      o
                    ) {
                      i.sort(function (i, a) {
                        var o = i.start - a.start;
                        return o || a.end - i.end;
                      });
                      var p = [];
                      if (o)
                        for (var m = 0; m < i.length; m++) {
                          var _ = p.length;
                          if (_) {
                            var w = p[_ - 1].end;
                            i[m].start - w < o
                              ? i[m].end > w && (p[_ - 1].end = i[m].end)
                              : p.push(i[m]);
                          } else p.push(i[m]);
                        }
                      else p = i;
                      for (
                        var x, I = 0, D = a, j = a, K = 0;
                        K < p.length;
                        K++
                      ) {
                        var q = p[K].start,
                          $ = p[K].end;
                        if (a + o >= q && a < $) (D = q), (I = (j = $) - a);
                        else if (a + o < q) {
                          x = q;
                          break;
                        }
                      }
                      return { len: I, start: D, end: j, nextStart: x };
                    }),
                    BufferHelper
                  );
                })(),
                Tt = o('./node_modules/eventemitter3/index.js'),
                St = o('./node_modules/webworkify-webpack/index.js'),
                Et = o('./src/demux/demuxer-inline.js');
              function getMediaSource() {
                return window.MediaSource || window.WebKitMediaSource;
              }
              var _t = o('./src/utils/get-self-scope.js');
              var wt = (function (i) {
                  function Observer() {
                    return i.apply(this, arguments) || this;
                  }
                  return (
                    (function observer_inheritsLoose(i, a) {
                      (i.prototype = Object.create(a.prototype)),
                        (i.prototype.constructor = i),
                        (i.__proto__ = a);
                    })(Observer, i),
                    (Observer.prototype.trigger = function trigger(i) {
                      for (
                        var a = arguments.length,
                          o = new Array(a > 1 ? a - 1 : 0),
                          p = 1;
                        p < a;
                        p++
                      )
                        o[p - 1] = arguments[p];
                      this.emit.apply(this, [i, i].concat(o));
                    }),
                    Observer
                  );
                })(Tt.EventEmitter),
                At = Object(_t.getSelfScope)(),
                kt = getMediaSource() || {
                  isTypeSupported: function isTypeSupported() {
                    return !1;
                  },
                },
                xt = (function () {
                  function Demuxer(i, a) {
                    var o = this;
                    (this.hls = i), (this.id = a);
                    var p = (this.observer = new wt()),
                      m = i.config,
                      _ = function forwardMessage(a, p) {
                        ((p = p || {}).frag = o.frag),
                          (p.id = o.id),
                          i.trigger(a, p);
                      };
                    p.on(j['default'].FRAG_DECRYPTED, _),
                      p.on(j['default'].FRAG_PARSING_INIT_SEGMENT, _),
                      p.on(j['default'].FRAG_PARSING_DATA, _),
                      p.on(j['default'].FRAG_PARSED, _),
                      p.on(j['default'].ERROR, _),
                      p.on(j['default'].FRAG_PARSING_METADATA, _),
                      p.on(j['default'].FRAG_PARSING_USERDATA, _),
                      p.on(j['default'].INIT_PTS_FOUND, _);
                    var w = {
                        mp4: kt.isTypeSupported('video/mp4'),
                        mpeg: kt.isTypeSupported('audio/mpeg'),
                        mp3: kt.isTypeSupported('audio/mp4; codecs="mp3"'),
                      },
                      x = navigator.vendor;
                    if (m.enableWorker && 'undefined' != typeof Worker) {
                      var D;
                      K.logger.log('demuxing in webworker');
                      try {
                        (D = this.w = St('./src/demux/demuxer-worker.js')),
                          (this.onwmsg = this.onWorkerMessage.bind(this)),
                          D.addEventListener('message', this.onwmsg),
                          (D.onerror = function (a) {
                            i.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.OTHER_ERROR,
                              details: I.ErrorDetails.INTERNAL_EXCEPTION,
                              fatal: !0,
                              event: 'demuxerWorker',
                              err: {
                                message:
                                  a.message +
                                  ' (' +
                                  a.filename +
                                  ':' +
                                  a.lineno +
                                  ')',
                              },
                            });
                          }),
                          D.postMessage({
                            cmd: 'init',
                            typeSupported: w,
                            vendor: x,
                            id: a,
                            config: JSON.stringify(m),
                          });
                      } catch (q) {
                        K.logger.warn('Error in worker:', q),
                          K.logger.error(
                            'Error while initializing DemuxerWorker, fallback on DemuxerInline'
                          ),
                          D && At.URL.revokeObjectURL(D.objectURL),
                          (this.demuxer = new Et['default'](p, w, m, x)),
                          (this.w = undefined);
                      }
                    } else this.demuxer = new Et['default'](p, w, m, x);
                  }
                  var i = Demuxer.prototype;
                  return (
                    (i.destroy = function destroy() {
                      var i = this.w;
                      if (i)
                        i.removeEventListener('message', this.onwmsg),
                          i.terminate(),
                          (this.w = null);
                      else {
                        var a = this.demuxer;
                        a && (a.destroy(), (this.demuxer = null));
                      }
                      var o = this.observer;
                      o && (o.removeAllListeners(), (this.observer = null));
                    }),
                    (i.push = function push(i, a, o, p, m, _, w, x) {
                      var I = this.w,
                        j = Object(D.isFiniteNumber)(m.startPTS)
                          ? m.startPTS
                          : m.start,
                        q = m.decryptdata,
                        $ = this.frag,
                        Z = !($ && m.cc === $.cc),
                        be = !($ && m.level === $.level),
                        Se = $ && m.sn === $.sn + 1,
                        _e = !be && Se;
                      if (
                        (Z && K.logger.log(this.id + ':discontinuity detected'),
                        be && K.logger.log(this.id + ':switch detected'),
                        (this.frag = m),
                        I)
                      )
                        I.postMessage(
                          {
                            cmd: 'demux',
                            data: i,
                            decryptdata: q,
                            initSegment: a,
                            audioCodec: o,
                            videoCodec: p,
                            timeOffset: j,
                            discontinuity: Z,
                            trackSwitch: be,
                            contiguous: _e,
                            duration: _,
                            accurateTimeOffset: w,
                            defaultInitPTS: x,
                          },
                          i instanceof ArrayBuffer ? [i] : []
                        );
                      else {
                        var we = this.demuxer;
                        we && we.push(i, q, a, o, p, j, Z, be, _e, _, w, x);
                      }
                    }),
                    (i.onWorkerMessage = function onWorkerMessage(i) {
                      var a = i.data,
                        o = this.hls;
                      switch (a.event) {
                        case 'init':
                          At.URL.revokeObjectURL(this.w.objectURL);
                          break;
                        case j['default'].FRAG_PARSING_DATA:
                          (a.data.data1 = new Uint8Array(a.data1)),
                            a.data2 && (a.data.data2 = new Uint8Array(a.data2));
                        default:
                          (a.data = a.data || {}),
                            (a.data.frag = this.frag),
                            (a.data.id = this.id),
                            o.trigger(a.event, a.data);
                      }
                    }),
                    Demuxer
                  );
                })();
              function addGroupId(i, a, o) {
                switch (a) {
                  case 'audio':
                    i.audioGroupIds || (i.audioGroupIds = []),
                      i.audioGroupIds.push(o);
                    break;
                  case 'text':
                    i.textGroupIds || (i.textGroupIds = []),
                      i.textGroupIds.push(o);
                }
              }
              function updatePTS(i, a, o) {
                var p = i[a],
                  m = i[o],
                  _ = m.startPTS;
                Object(D.isFiniteNumber)(_)
                  ? o > a
                    ? ((p.duration = _ - p.start),
                      p.duration < 0 &&
                        K.logger.warn(
                          'negative duration computed for frag ' +
                            p.sn +
                            ',level ' +
                            p.level +
                            ', there should be some duration drift between playlist and fragment!'
                        ))
                    : ((m.duration = p.start - _),
                      m.duration < 0 &&
                        K.logger.warn(
                          'negative duration computed for frag ' +
                            m.sn +
                            ',level ' +
                            m.level +
                            ', there should be some duration drift between playlist and fragment!'
                        ))
                  : (m.start =
                      o > a
                        ? p.start + p.duration
                        : Math.max(p.start - m.duration, 0));
              }
              function updateFragPTSDTS(i, a, o, p, m, _) {
                var w = o;
                if (Object(D.isFiniteNumber)(a.startPTS)) {
                  var x = Math.abs(a.startPTS - o);
                  Object(D.isFiniteNumber)(a.deltaPTS)
                    ? (a.deltaPTS = Math.max(x, a.deltaPTS))
                    : (a.deltaPTS = x),
                    (w = Math.max(o, a.startPTS)),
                    (o = Math.min(o, a.startPTS)),
                    (p = Math.max(p, a.endPTS)),
                    (m = Math.min(m, a.startDTS)),
                    (_ = Math.max(_, a.endDTS));
                }
                var I = o - a.start;
                (a.start = a.startPTS = o),
                  (a.maxStartPTS = w),
                  (a.endPTS = p),
                  (a.startDTS = m),
                  (a.endDTS = _),
                  (a.duration = p - o);
                var j,
                  K,
                  q,
                  $ = a.sn;
                if (!i || $ < i.startSN || $ > i.endSN) return 0;
                for (
                  j = $ - i.startSN, (K = i.fragments)[j] = a, q = j;
                  q > 0;
                  q--
                )
                  updatePTS(K, q, q - 1);
                for (q = j; q < K.length - 1; q++) updatePTS(K, q, q + 1);
                return (i.PTSKnown = !0), I;
              }
              function mergeDetails(i, a) {
                a.initSegment &&
                  i.initSegment &&
                  (a.initSegment = i.initSegment);
                var o,
                  p = 0;
                if (
                  (mapFragmentIntersection(i, a, function (i, m) {
                    (p = i.cc - m.cc),
                      Object(D.isFiniteNumber)(i.startPTS) &&
                        ((m.start = m.startPTS = i.startPTS),
                        (m.endPTS = i.endPTS),
                        (m.duration = i.duration),
                        (m.backtracked = i.backtracked),
                        (m.dropped = i.dropped),
                        (o = m)),
                      (a.PTSKnown = !0);
                  }),
                  a.PTSKnown)
                ) {
                  if (p) {
                    K.logger.log(
                      'discontinuity sliding from playlist, take drift into account'
                    );
                    for (var m = a.fragments, _ = 0; _ < m.length; _++)
                      m[_].cc += p;
                  }
                  o
                    ? updateFragPTSDTS(
                        a,
                        o,
                        o.startPTS,
                        o.endPTS,
                        o.startDTS,
                        o.endDTS
                      )
                    : (function adjustSliding(i, a) {
                        var o = a.startSN - i.startSN,
                          p = i.fragments,
                          m = a.fragments;
                        if (o < 0 || o > p.length) return;
                        for (var _ = 0; _ < m.length; _++)
                          m[_].start += p[o].start;
                      })(i, a),
                    (a.PTSKnown = i.PTSKnown);
                }
              }
              function mapFragmentIntersection(i, a, o) {
                if (i && a)
                  for (
                    var p = Math.max(i.startSN, a.startSN) - a.startSN,
                      m = Math.min(i.endSN, a.endSN) - a.startSN,
                      _ = a.startSN - i.startSN,
                      w = p;
                    w <= m;
                    w++
                  ) {
                    var x = i.fragments[_ + w],
                      I = a.fragments[w];
                    if (!x || !I) break;
                    o(x, I, w);
                  }
              }
              function computeReloadInterval(i, a, o) {
                var p =
                    1e3 *
                    (a.averagetargetduration
                      ? a.averagetargetduration
                      : a.targetduration),
                  m = p / 2;
                return (
                  i && a.endSN === i.endSN && (p = m),
                  o && (p = Math.max(m, p - (window.performance.now() - o))),
                  Math.round(p)
                );
              }
              var Pt = {
                toString: function toString(i) {
                  for (var a = '', o = i.length, p = 0; p < o; p++)
                    a +=
                      '[' +
                      i.start(p).toFixed(3) +
                      ',' +
                      i.end(p).toFixed(3) +
                      ']';
                  return a;
                },
              };
              function adjustPts(i, a) {
                a.fragments.forEach(function (a) {
                  if (a) {
                    var o = a.start + i;
                    (a.start = a.startPTS = o), (a.endPTS = o + a.duration);
                  }
                }),
                  (a.PTSKnown = !0);
              }
              function alignStream(i, a, o) {
                !(function alignDiscontinuities(i, a, o) {
                  if (
                    (function shouldAlignOnDiscontinuities(i, a, o) {
                      var p = !1;
                      return (
                        a &&
                          a.details &&
                          o &&
                          (o.endCC > o.startCC || (i && i.cc < o.startCC)) &&
                          (p = !0),
                        p
                      );
                    })(i, o, a)
                  ) {
                    var p = (function findDiscontinuousReferenceFrag(i, a) {
                      var o = i.fragments,
                        p = a.fragments;
                      if (p.length && o.length) {
                        var m = (function findFirstFragWithCC(i, a) {
                          for (var o = null, p = 0; p < i.length; p += 1) {
                            var m = i[p];
                            if (m && m.cc === a) {
                              o = m;
                              break;
                            }
                          }
                          return o;
                        })(o, p[0].cc);
                        if (m && (!m || m.startPTS)) return m;
                        K.logger.log('No frag in previous level to align on');
                      } else K.logger.log('No fragments to align');
                    })(o.details, a);
                    p &&
                      (K.logger.log(
                        'Adjusting PTS using last level due to CC increase within current level'
                      ),
                      adjustPts(p.start, a));
                  }
                })(i, o, a),
                  !o.PTSKnown &&
                    a &&
                    (function alignPDT(i, a) {
                      if (a && a.fragments.length) {
                        if (!i.hasProgramDateTime || !a.hasProgramDateTime)
                          return;
                        var o = a.fragments[0].programDateTime,
                          p =
                            (i.fragments[0].programDateTime - o) / 1e3 +
                            a.fragments[0].start;
                        Object(D.isFiniteNumber)(p) &&
                          (K.logger.log(
                            'adjusting PTS using programDateTime delta, sliding:' +
                              p.toFixed(3)
                          ),
                          adjustPts(p, i));
                      }
                    })(o, a.details);
              }
              function findFragmentByPDT(i, a, o) {
                if (
                  null === a ||
                  !Array.isArray(i) ||
                  !i.length ||
                  !Object(D.isFiniteNumber)(a)
                )
                  return null;
                if (a < (i[0].programDateTime || 0)) return null;
                if (a >= (i[i.length - 1].endProgramDateTime || 0)) return null;
                o = o || 0;
                for (var p = 0; p < i.length; ++p) {
                  var m = i[p];
                  if (pdtWithinToleranceTest(a, o, m)) return m;
                }
                return null;
              }
              function findFragmentByPTS(i, a, o, p) {
                void 0 === o && (o = 0), void 0 === p && (p = 0);
                var m = i ? a[i.sn - a[0].sn + 1] : null;
                return m &&
                  !fragment_finders_fragmentWithinToleranceTest(o, p, m)
                  ? m
                  : yt.search(
                      a,
                      fragment_finders_fragmentWithinToleranceTest.bind(
                        null,
                        o,
                        p
                      )
                    );
              }
              function fragment_finders_fragmentWithinToleranceTest(i, a, o) {
                void 0 === i && (i = 0), void 0 === a && (a = 0);
                var p = Math.min(a, o.duration + (o.deltaPTS ? o.deltaPTS : 0));
                return o.start + o.duration - p <= i
                  ? 1
                  : o.start - p > i && o.start
                  ? -1
                  : 0;
              }
              function pdtWithinToleranceTest(i, a, o) {
                var p =
                  1e3 * Math.min(a, o.duration + (o.deltaPTS ? o.deltaPTS : 0));
                return (o.endProgramDateTime || 0) - p > i;
              }
              var Rt = (function () {
                function GapController(i, a, o, p) {
                  (this.config = i),
                    (this.media = a),
                    (this.fragmentTracker = o),
                    (this.hls = p),
                    (this.nudgeRetry = 0),
                    (this.stallReported = !1),
                    (this.stalled = null),
                    (this.moved = !1),
                    (this.seeking = !1);
                }
                var i = GapController.prototype;
                return (
                  (i.poll = function poll(i) {
                    var a = this.config,
                      o = this.media,
                      p = this.stalled,
                      m = o.currentTime,
                      _ = o.seeking,
                      w = this.seeking && !_,
                      x = !this.seeking && _;
                    if (((this.seeking = _), m === i)) {
                      if (
                        ((x || w) && (this.stalled = null),
                        !o.paused &&
                          !o.ended &&
                          0 !== o.playbackRate &&
                          o.buffered.length)
                      ) {
                        var I = bt.bufferInfo(o, m, 0),
                          D = I.len > 0,
                          j = I.nextStart || 0;
                        if (D || j) {
                          if (_) {
                            if (I.len > 2 || !j || j - m > 2) return;
                            this.moved = !1;
                          }
                          if (!this.moved && this.stalled) {
                            var q = Math.max(j, I.start || 0) - m;
                            if (q > 0 && q <= 2)
                              return void this._trySkipBufferHole(null);
                          }
                          var $ = self.performance.now();
                          if (null !== p) {
                            var Z = $ - p;
                            !_ && Z >= 250 && this._reportStall(I.len);
                            var be = bt.bufferInfo(o, m, a.maxBufferHole);
                            this._tryFixBufferStall(be, Z);
                          } else this.stalled = $;
                        }
                      }
                    } else if (((this.moved = !0), null !== p)) {
                      if (this.stallReported) {
                        var Se = self.performance.now() - p;
                        K.logger.warn(
                          'playback not stuck anymore @' +
                            m +
                            ', after ' +
                            Math.round(Se) +
                            'ms'
                        ),
                          (this.stallReported = !1);
                      }
                      (this.stalled = null), (this.nudgeRetry = 0);
                    }
                  }),
                  (i._tryFixBufferStall = function _tryFixBufferStall(i, a) {
                    var o = this.config,
                      p = this.fragmentTracker,
                      m = this.media.currentTime,
                      _ = p.getPartialFragment(m);
                    if (_ && this._trySkipBufferHole(_)) return;
                    i.len > o.maxBufferHole &&
                      a > 1e3 * o.highBufferWatchdogPeriod &&
                      (K.logger.warn(
                        'Trying to nudge playhead over buffer-hole'
                      ),
                      (this.stalled = null),
                      this._tryNudgeBuffer());
                  }),
                  (i._reportStall = function _reportStall(i) {
                    var a = this.hls,
                      o = this.media;
                    this.stallReported ||
                      ((this.stallReported = !0),
                      K.logger.warn(
                        'Playback stalling at @' +
                          o.currentTime +
                          ' due to low buffer'
                      ),
                      a.trigger(j['default'].ERROR, {
                        type: I.ErrorTypes.MEDIA_ERROR,
                        details: I.ErrorDetails.BUFFER_STALLED_ERROR,
                        fatal: !1,
                        buffer: i,
                      }));
                  }),
                  (i._trySkipBufferHole = function _trySkipBufferHole(i) {
                    for (
                      var a = this.config,
                        o = this.hls,
                        p = this.media,
                        m = p.currentTime,
                        _ = 0,
                        w = 0;
                      w < p.buffered.length;
                      w++
                    ) {
                      var x = p.buffered.start(w);
                      if (m + a.maxBufferHole >= _ && m < x) {
                        var D = Math.max(x + 0.05, p.currentTime + 0.1);
                        return (
                          K.logger.warn(
                            'skipping hole, adjusting currentTime from ' +
                              m +
                              ' to ' +
                              D
                          ),
                          (this.moved = !0),
                          (this.stalled = null),
                          (p.currentTime = D),
                          i &&
                            o.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.MEDIA_ERROR,
                              details: I.ErrorDetails.BUFFER_SEEK_OVER_HOLE,
                              fatal: !1,
                              reason:
                                'fragment loaded with buffer holes, seeking from ' +
                                m +
                                ' to ' +
                                D,
                              frag: i,
                            }),
                          D
                        );
                      }
                      _ = p.buffered.end(w);
                    }
                    return 0;
                  }),
                  (i._tryNudgeBuffer = function _tryNudgeBuffer() {
                    var i = this.config,
                      a = this.hls,
                      o = this.media,
                      p = o.currentTime,
                      m = (this.nudgeRetry || 0) + 1;
                    if (((this.nudgeRetry = m), m < i.nudgeMaxRetry)) {
                      var _ = p + m * i.nudgeOffset;
                      K.logger.warn(
                        "Nudging 'currentTime' from " + p + ' to ' + _
                      ),
                        (o.currentTime = _),
                        a.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.MEDIA_ERROR,
                          details: I.ErrorDetails.BUFFER_NUDGE_ON_STALL,
                          fatal: !1,
                        });
                    } else
                      K.logger.error(
                        'Playhead still not moving while enough data buffered @' +
                          p +
                          ' after ' +
                          i.nudgeMaxRetry +
                          ' nudges'
                      ),
                        a.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.MEDIA_ERROR,
                          details: I.ErrorDetails.BUFFER_STALLED_ERROR,
                          fatal: !0,
                        });
                  }),
                  GapController
                );
              })();
              function _assertThisInitialized(i) {
                if (void 0 === i)
                  throw new ReferenceError(
                    "this hasn't been initialised - super() hasn't been called"
                  );
                return i;
              }
              var Ct = (function (i) {
                function TaskLoop(a) {
                  for (
                    var o,
                      p = arguments.length,
                      m = new Array(p > 1 ? p - 1 : 0),
                      _ = 1;
                    _ < p;
                    _++
                  )
                    m[_ - 1] = arguments[_];
                  return (
                    ((o =
                      i.call.apply(i, [this, a].concat(m)) || this)._boundTick =
                      void 0),
                    (o._tickTimer = null),
                    (o._tickInterval = null),
                    (o._tickCallCount = 0),
                    (o._boundTick = o.tick.bind(_assertThisInitialized(o))),
                    o
                  );
                }
                !(function task_loop_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(TaskLoop, i);
                var a = TaskLoop.prototype;
                return (
                  (a.onHandlerDestroying = function onHandlerDestroying() {
                    this.clearNextTick(), this.clearInterval();
                  }),
                  (a.hasInterval = function hasInterval() {
                    return !!this._tickInterval;
                  }),
                  (a.hasNextTick = function hasNextTick() {
                    return !!this._tickTimer;
                  }),
                  (a.setInterval = function setInterval(i) {
                    return (
                      !this._tickInterval &&
                      ((this._tickInterval = self.setInterval(
                        this._boundTick,
                        i
                      )),
                      !0)
                    );
                  }),
                  (a.clearInterval = function clearInterval() {
                    return (
                      !!this._tickInterval &&
                      (self.clearInterval(this._tickInterval),
                      (this._tickInterval = null),
                      !0)
                    );
                  }),
                  (a.clearNextTick = function clearNextTick() {
                    return (
                      !!this._tickTimer &&
                      (self.clearTimeout(this._tickTimer),
                      (this._tickTimer = null),
                      !0)
                    );
                  }),
                  (a.tick = function tick() {
                    this._tickCallCount++,
                      1 === this._tickCallCount &&
                        (this.doTick(),
                        this._tickCallCount > 1 &&
                          (this.clearNextTick(),
                          (this._tickTimer = self.setTimeout(
                            this._boundTick,
                            0
                          ))),
                        (this._tickCallCount = 0));
                  }),
                  (a.doTick = function doTick() {}),
                  TaskLoop
                );
              })($);
              var It = 'STOPPED',
                Dt = 'STARTING',
                Ot = 'IDLE',
                Lt = 'PAUSED',
                Mt = 'KEY_LOADING',
                Nt = 'FRAG_LOADING',
                Ft = 'FRAG_LOADING_WAITING_RETRY',
                Ut = 'WAITING_TRACK',
                Bt = 'PARSING',
                jt = 'PARSED',
                Gt = 'BUFFER_FLUSHING',
                Ht = 'ENDED',
                Vt = 'ERROR',
                Wt = 'WAITING_INIT_PTS',
                Kt = 'WAITING_LEVEL',
                zt = (function (i) {
                  function BaseStreamController() {
                    return i.apply(this, arguments) || this;
                  }
                  !(function base_stream_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(BaseStreamController, i);
                  var a = BaseStreamController.prototype;
                  return (
                    (a.doTick = function doTick() {}),
                    (a.startLoad = function startLoad() {}),
                    (a.stopLoad = function stopLoad() {
                      var i = this.fragCurrent;
                      i &&
                        (i.loader && i.loader.abort(),
                        this.fragmentTracker.removeFragment(i)),
                        this.demuxer &&
                          (this.demuxer.destroy(), (this.demuxer = null)),
                        (this.fragCurrent = null),
                        (this.fragPrevious = null),
                        this.clearInterval(),
                        this.clearNextTick(),
                        (this.state = It);
                    }),
                    (a._streamEnded = function _streamEnded(i, a) {
                      var o = this.fragCurrent,
                        p = this.fragmentTracker;
                      if (
                        !a.live &&
                        o &&
                        !o.backtracked &&
                        o.sn === a.endSN &&
                        !i.nextStart
                      ) {
                        var m = p.getState(o);
                        return m === gt || m === mt;
                      }
                      return !1;
                    }),
                    (a.onMediaSeeking = function onMediaSeeking() {
                      var i = this.config,
                        a = this.media,
                        o = this.mediaBuffer,
                        p = this.state,
                        m = a ? a.currentTime : null,
                        _ = bt.bufferInfo(o || a, m, this.config.maxBufferHole);
                      if (
                        (Object(D.isFiniteNumber)(m) &&
                          K.logger.log('media seeking to ' + m.toFixed(3)),
                        p === Nt)
                      ) {
                        var w = this.fragCurrent;
                        if (0 === _.len && w) {
                          var x = i.maxFragLookUpTolerance,
                            I = w.start - x,
                            j = w.start + w.duration + x;
                          m < I || m > j
                            ? (w.loader &&
                                (K.logger.log(
                                  'seeking outside of buffer while fragment load in progress, cancel fragment load'
                                ),
                                w.loader.abort()),
                              (this.fragCurrent = null),
                              (this.fragPrevious = null),
                              (this.state = Ot))
                            : K.logger.log(
                                'seeking outside of buffer but within currently loaded fragment range'
                              );
                        }
                      } else
                        p === Ht &&
                          (0 === _.len &&
                            ((this.fragPrevious = null),
                            (this.fragCurrent = null)),
                          (this.state = Ot));
                      a && (this.lastCurrentTime = m),
                        this.loadedmetadata ||
                          (this.nextLoadPosition = this.startPosition = m),
                        this.tick();
                    }),
                    (a.onMediaEnded = function onMediaEnded() {
                      this.startPosition = this.lastCurrentTime = 0;
                    }),
                    (a.onHandlerDestroying = function onHandlerDestroying() {
                      this.stopLoad(),
                        i.prototype.onHandlerDestroying.call(this);
                    }),
                    (a.onHandlerDestroyed = function onHandlerDestroyed() {
                      (this.state = It), (this.fragmentTracker = null);
                    }),
                    (a.computeLivePosition = function computeLivePosition(
                      i,
                      a
                    ) {
                      var o =
                        this.config.liveSyncDuration !== undefined
                          ? this.config.liveSyncDuration
                          : this.config.liveSyncDurationCount *
                            a.targetduration;
                      return i + Math.max(0, a.totalduration - o);
                    }),
                    BaseStreamController
                  );
                })(Ct);
              function stream_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var qt = (function (i) {
                function StreamController(a, o) {
                  var p;
                  return (
                    ((p =
                      i.call(
                        this,
                        a,
                        j['default'].MEDIA_ATTACHED,
                        j['default'].MEDIA_DETACHING,
                        j['default'].MANIFEST_LOADING,
                        j['default'].MANIFEST_PARSED,
                        j['default'].LEVEL_LOADED,
                        j['default'].KEY_LOADED,
                        j['default'].FRAG_LOADED,
                        j['default'].FRAG_LOAD_EMERGENCY_ABORTED,
                        j['default'].FRAG_PARSING_INIT_SEGMENT,
                        j['default'].FRAG_PARSING_DATA,
                        j['default'].FRAG_PARSED,
                        j['default'].ERROR,
                        j['default'].AUDIO_TRACK_SWITCHING,
                        j['default'].AUDIO_TRACK_SWITCHED,
                        j['default'].BUFFER_CREATED,
                        j['default'].BUFFER_APPENDED,
                        j['default'].BUFFER_FLUSHED
                      ) || this).fragmentTracker = o),
                    (p.config = a.config),
                    (p.audioCodecSwap = !1),
                    (p._state = It),
                    (p.stallReported = !1),
                    (p.gapController = null),
                    (p.altAudio = !1),
                    p
                  );
                }
                !(function stream_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(StreamController, i);
                var a = StreamController.prototype;
                return (
                  (a.startLoad = function startLoad(i) {
                    if (this.levels) {
                      var a = this.lastCurrentTime,
                        o = this.hls;
                      if (
                        (this.stopLoad(),
                        this.setInterval(100),
                        (this.level = -1),
                        (this.fragLoadError = 0),
                        !this.startFragRequested)
                      ) {
                        var p = o.startLevel;
                        -1 === p && ((p = 0), (this.bitrateTest = !0)),
                          (this.level = o.nextLoadLevel = p),
                          (this.loadedmetadata = !1);
                      }
                      a > 0 &&
                        -1 === i &&
                        (K.logger.log(
                          'override startPosition with lastCurrentTime @' +
                            a.toFixed(3)
                        ),
                        (i = a)),
                        (this.state = Ot),
                        (this.nextLoadPosition =
                          this.startPosition =
                          this.lastCurrentTime =
                            i),
                        this.tick();
                    } else (this.forceStartLoad = !0), (this.state = It);
                  }),
                  (a.stopLoad = function stopLoad() {
                    (this.forceStartLoad = !1), i.prototype.stopLoad.call(this);
                  }),
                  (a.doTick = function doTick() {
                    switch (this.state) {
                      case Gt:
                        this.fragLoadError = 0;
                        break;
                      case Ot:
                        this._doTickIdle();
                        break;
                      case Kt:
                        var i = this.levels[this.level];
                        i && i.details && (this.state = Ot);
                        break;
                      case Ft:
                        var a = window.performance.now(),
                          o = this.retryDate;
                        (!o || a >= o || (this.media && this.media.seeking)) &&
                          (K.logger.log(
                            'mediaController: retryDate reached, switch back to IDLE state'
                          ),
                          (this.state = Ot));
                    }
                    this._checkBuffer(), this._checkFragmentChanged();
                  }),
                  (a._doTickIdle = function _doTickIdle() {
                    var i = this.hls,
                      a = i.config,
                      o = this.media;
                    if (
                      this.levelLastLoaded !== undefined &&
                      (o || (!this.startFragRequested && a.startFragPrefetch))
                    ) {
                      var p;
                      p = this.loadedmetadata
                        ? o.currentTime
                        : this.nextLoadPosition;
                      var m = i.nextLoadLevel,
                        _ = this.levels[m];
                      if (_) {
                        var w,
                          x = _.bitrate;
                        (w = x
                          ? Math.max(
                              (8 * a.maxBufferSize) / x,
                              a.maxBufferLength
                            )
                          : a.maxBufferLength),
                          (w = Math.min(w, a.maxMaxBufferLength));
                        var I = bt.bufferInfo(
                            this.mediaBuffer ? this.mediaBuffer : o,
                            p,
                            a.maxBufferHole
                          ),
                          D = I.len;
                        if (!(D >= w)) {
                          K.logger.trace(
                            'buffer length of ' +
                              D.toFixed(3) +
                              ' is below max of ' +
                              w.toFixed(3) +
                              '. checking for more payload ...'
                          ),
                            (this.level = i.nextLoadLevel = m);
                          var q = _.details;
                          if (!q || (q.live && this.levelLastLoaded !== m))
                            this.state = Kt;
                          else {
                            if (this._streamEnded(I, q)) {
                              var $ = {};
                              return (
                                this.altAudio && ($.type = 'video'),
                                this.hls.trigger(j['default'].BUFFER_EOS, $),
                                void (this.state = Ht)
                              );
                            }
                            this._fetchPayloadOrEos(p, I, q);
                          }
                        }
                      }
                    }
                  }),
                  (a._fetchPayloadOrEos = function _fetchPayloadOrEos(i, a, o) {
                    var p = this.fragPrevious,
                      m = this.level,
                      _ = o.fragments,
                      w = _.length;
                    if (0 !== w) {
                      var x,
                        I = _[0].start,
                        D = _[w - 1].start + _[w - 1].duration,
                        j = a.end;
                      if (o.initSegment && !o.initSegment.data)
                        x = o.initSegment;
                      else if (o.live) {
                        var q = this.config.initialLiveManifestSize;
                        if (w < q)
                          return void K.logger.warn(
                            'Can not start playback of a level, reason: not enough fragments ' +
                              w +
                              ' < ' +
                              q
                          );
                        if (
                          null ===
                          (x = this._ensureFragmentAtLivePoint(
                            o,
                            j,
                            I,
                            D,
                            p,
                            _,
                            w
                          ))
                        )
                          return;
                      } else j < I && (x = _[0]);
                      x || (x = this._findFragment(I, p, w, _, j, D, o)),
                        x &&
                          (x.encrypted
                            ? (K.logger.log(
                                'Loading key for ' +
                                  x.sn +
                                  ' of [' +
                                  o.startSN +
                                  ' ,' +
                                  o.endSN +
                                  '],level ' +
                                  m
                              ),
                              this._loadKey(x))
                            : (K.logger.log(
                                'Loading ' +
                                  x.sn +
                                  ' of [' +
                                  o.startSN +
                                  ' ,' +
                                  o.endSN +
                                  '],level ' +
                                  m +
                                  ', currentTime:' +
                                  i.toFixed(3) +
                                  ',bufferEnd:' +
                                  j.toFixed(3)
                              ),
                              this._loadFragment(x)));
                    }
                  }),
                  (a._ensureFragmentAtLivePoint =
                    function _ensureFragmentAtLivePoint(i, a, o, p, m, _, w) {
                      var x,
                        I = this.hls.config,
                        D = this.media,
                        j =
                          I.liveMaxLatencyDuration !== undefined
                            ? I.liveMaxLatencyDuration
                            : I.liveMaxLatencyDurationCount * i.targetduration;
                      if (a < Math.max(o - I.maxFragLookUpTolerance, p - j)) {
                        var q = (this.liveSyncPosition =
                          this.computeLivePosition(o, i));
                        (a = q),
                          D &&
                            !D.paused &&
                            D.readyState &&
                            D.duration > q &&
                            q > D.currentTime &&
                            (K.logger.log(
                              'buffer end: ' +
                                a.toFixed(3) +
                                ' is located too far from the end of live sliding playlist, reset currentTime to : ' +
                                q.toFixed(3)
                            ),
                            (D.currentTime = q)),
                          (this.nextLoadPosition = q);
                      }
                      if (i.PTSKnown && a > p && D && D.readyState) return null;
                      if (this.startFragRequested && !i.PTSKnown) {
                        if (m)
                          if (i.hasProgramDateTime)
                            K.logger.log(
                              'live playlist, switching playlist, load frag with same PDT: ' +
                                m.programDateTime
                            ),
                              (x = findFragmentByPDT(
                                _,
                                m.endProgramDateTime,
                                I.maxFragLookUpTolerance
                              ));
                          else {
                            var $ = m.sn + 1;
                            if ($ >= i.startSN && $ <= i.endSN) {
                              var Z = _[$ - i.startSN];
                              m.cc === Z.cc &&
                                ((x = Z),
                                K.logger.log(
                                  'live playlist, switching playlist, load frag with next SN: ' +
                                    x.sn
                                ));
                            }
                            x ||
                              ((x = yt.search(_, function (i) {
                                return m.cc - i.cc;
                              })) &&
                                K.logger.log(
                                  'live playlist, switching playlist, load frag with same CC: ' +
                                    x.sn
                                ));
                          }
                        x ||
                          ((x = _[Math.min(w - 1, Math.round(w / 2))]),
                          K.logger.log(
                            'live playlist, switching playlist, unknown, load middle frag : ' +
                              x.sn
                          ));
                      }
                      return x;
                    }),
                  (a._findFragment = function _findFragment(
                    i,
                    a,
                    o,
                    p,
                    m,
                    _,
                    w
                  ) {
                    var x,
                      I = this.hls.config;
                    m < _
                      ? (x = findFragmentByPTS(
                          a,
                          p,
                          m,
                          m > _ - I.maxFragLookUpTolerance
                            ? 0
                            : I.maxFragLookUpTolerance
                        ))
                      : (x = p[o - 1]);
                    if (x) {
                      var D = x.sn - w.startSN,
                        j = a && x.level === a.level,
                        q = p[D - 1],
                        $ = p[D + 1];
                      if (a && x.sn === a.sn)
                        if (j && !x.backtracked)
                          if (x.sn < w.endSN) {
                            var Z = a.deltaPTS;
                            Z && Z > I.maxBufferHole && a.dropped && D
                              ? ((x = q),
                                K.logger.warn(
                                  'Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this'
                                ))
                              : ((x = $),
                                K.logger.log(
                                  'Re-loading fragment with SN: ' + x.sn
                                ));
                          } else x = null;
                        else
                          x.backtracked &&
                            ($ && $.backtracked
                              ? (K.logger.warn(
                                  'Already backtracked from fragment ' +
                                    $.sn +
                                    ', will not backtrack to fragment ' +
                                    x.sn +
                                    '. Loading fragment ' +
                                    $.sn
                                ),
                                (x = $))
                              : (K.logger.warn(
                                  'Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe'
                                ),
                                (x.dropped = 0),
                                q
                                  ? ((x = q).backtracked = !0)
                                  : D && (x = null)));
                    }
                    return x;
                  }),
                  (a._loadKey = function _loadKey(i) {
                    (this.state = Mt),
                      this.hls.trigger(j['default'].KEY_LOADING, { frag: i });
                  }),
                  (a._loadFragment = function _loadFragment(i) {
                    var a = this.fragmentTracker.getState(i);
                    (this.fragCurrent = i),
                      'initSegment' !== i.sn && (this.startFragRequested = !0),
                      Object(D.isFiniteNumber)(i.sn) &&
                        !i.bitrateTest &&
                        (this.nextLoadPosition = i.start + i.duration),
                      i.backtracked || a === ht || a === gt
                        ? ((i.autoLevel = this.hls.autoLevelEnabled),
                          (i.bitrateTest = this.bitrateTest),
                          this.hls.trigger(j['default'].FRAG_LOADING, {
                            frag: i,
                          }),
                          this.demuxer ||
                            (this.demuxer = new xt(this.hls, 'main')),
                          (this.state = Nt))
                        : a === pt &&
                          this._reduceMaxBufferLength(i.duration) &&
                          this.fragmentTracker.removeFragment(i);
                  }),
                  (a.getBufferedFrag = function getBufferedFrag(i) {
                    return this.fragmentTracker.getBufferedFrag(i, _.MAIN);
                  }),
                  (a.followingBufferedFrag = function followingBufferedFrag(i) {
                    return i ? this.getBufferedFrag(i.endPTS + 0.5) : null;
                  }),
                  (a._checkFragmentChanged = function _checkFragmentChanged() {
                    var i,
                      a,
                      o = this.media;
                    if (
                      o &&
                      o.readyState &&
                      !1 === o.seeking &&
                      ((a = o.currentTime) > this.lastCurrentTime &&
                        (this.lastCurrentTime = a),
                      bt.isBuffered(o, a)
                        ? (i = this.getBufferedFrag(a))
                        : bt.isBuffered(o, a + 0.1) &&
                          (i = this.getBufferedFrag(a + 0.1)),
                      i)
                    ) {
                      var p = i;
                      if (p !== this.fragPlaying) {
                        this.hls.trigger(j['default'].FRAG_CHANGED, {
                          frag: p,
                        });
                        var m = p.level;
                        (this.fragPlaying && this.fragPlaying.level === m) ||
                          this.hls.trigger(j['default'].LEVEL_SWITCHED, {
                            level: m,
                          }),
                          (this.fragPlaying = p);
                      }
                    }
                  }),
                  (a.immediateLevelSwitch = function immediateLevelSwitch() {
                    if (
                      (K.logger.log('immediateLevelSwitch'),
                      !this.immediateSwitch)
                    ) {
                      this.immediateSwitch = !0;
                      var i,
                        a = this.media;
                      a ? ((i = a.paused), a.pause()) : (i = !0),
                        (this.previouslyPaused = i);
                    }
                    var o = this.fragCurrent;
                    o && o.loader && o.loader.abort(),
                      (this.fragCurrent = null),
                      this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
                  }),
                  (a.immediateLevelSwitchEnd =
                    function immediateLevelSwitchEnd() {
                      var i = this.media;
                      i &&
                        i.buffered.length &&
                        ((this.immediateSwitch = !1),
                        bt.isBuffered(i, i.currentTime) &&
                          (i.currentTime -= 1e-4),
                        this.previouslyPaused || i.play());
                    }),
                  (a.nextLevelSwitch = function nextLevelSwitch() {
                    var i = this.media;
                    if (i && i.readyState) {
                      var a, o, p;
                      if (
                        ((o = this.getBufferedFrag(i.currentTime)) &&
                          o.startPTS > 1 &&
                          this.flushMainBuffer(0, o.startPTS - 1),
                        i.paused)
                      )
                        a = 0;
                      else {
                        var m = this.hls.nextLoadLevel,
                          _ = this.levels[m],
                          w = this.fragLastKbps;
                        a =
                          w && this.fragCurrent
                            ? (this.fragCurrent.duration * _.bitrate) /
                                (1e3 * w) +
                              1
                            : 0;
                      }
                      if (
                        (p = this.getBufferedFrag(i.currentTime + a)) &&
                        (p = this.followingBufferedFrag(p))
                      ) {
                        var x = this.fragCurrent;
                        x && x.loader && x.loader.abort(),
                          (this.fragCurrent = null),
                          this.flushMainBuffer(
                            p.maxStartPTS,
                            Number.POSITIVE_INFINITY
                          );
                      }
                    }
                  }),
                  (a.flushMainBuffer = function flushMainBuffer(i, a) {
                    this.state = Gt;
                    var o = { startOffset: i, endOffset: a };
                    this.altAudio && (o.type = 'video'),
                      this.hls.trigger(j['default'].BUFFER_FLUSHING, o);
                  }),
                  (a.onMediaAttached = function onMediaAttached(i) {
                    var a = (this.media = this.mediaBuffer = i.media);
                    (this.onvseeking = this.onMediaSeeking.bind(this)),
                      (this.onvseeked = this.onMediaSeeked.bind(this)),
                      (this.onvended = this.onMediaEnded.bind(this)),
                      a.addEventListener('seeking', this.onvseeking),
                      a.addEventListener('seeked', this.onvseeked),
                      a.addEventListener('ended', this.onvended);
                    var o = this.config;
                    this.levels &&
                      o.autoStartLoad &&
                      this.hls.startLoad(o.startPosition),
                      (this.gapController = new Rt(
                        o,
                        a,
                        this.fragmentTracker,
                        this.hls
                      ));
                  }),
                  (a.onMediaDetaching = function onMediaDetaching() {
                    var i = this.media;
                    i &&
                      i.ended &&
                      (K.logger.log(
                        'MSE detaching and video ended, reset startPosition'
                      ),
                      (this.startPosition = this.lastCurrentTime = 0));
                    var a = this.levels;
                    a &&
                      a.forEach(function (i) {
                        i.details &&
                          i.details.fragments.forEach(function (i) {
                            i.backtracked = undefined;
                          });
                      }),
                      i &&
                        (i.removeEventListener('seeking', this.onvseeking),
                        i.removeEventListener('seeked', this.onvseeked),
                        i.removeEventListener('ended', this.onvended),
                        (this.onvseeking =
                          this.onvseeked =
                          this.onvended =
                            null)),
                      this.fragmentTracker.removeAllFragments(),
                      (this.media = this.mediaBuffer = null),
                      (this.loadedmetadata = !1),
                      this.stopLoad();
                  }),
                  (a.onMediaSeeked = function onMediaSeeked() {
                    var i = this.media,
                      a = i ? i.currentTime : undefined;
                    Object(D.isFiniteNumber)(a) &&
                      K.logger.log('media seeked to ' + a.toFixed(3)),
                      this.tick();
                  }),
                  (a.onManifestLoading = function onManifestLoading() {
                    K.logger.log('trigger BUFFER_RESET'),
                      this.hls.trigger(j['default'].BUFFER_RESET),
                      this.fragmentTracker.removeAllFragments(),
                      (this.stalled = !1),
                      (this.startPosition = this.lastCurrentTime = 0);
                  }),
                  (a.onManifestParsed = function onManifestParsed(i) {
                    var a,
                      o = !1,
                      p = !1;
                    i.levels.forEach(function (i) {
                      (a = i.audioCodec) &&
                        (-1 !== a.indexOf('mp4a.40.2') && (o = !0),
                        -1 !== a.indexOf('mp4a.40.5') && (p = !0));
                    }),
                      (this.audioCodecSwitch = o && p),
                      this.audioCodecSwitch &&
                        K.logger.log(
                          'both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC'
                        ),
                      (this.altAudio = i.altAudio),
                      (this.levels = i.levels),
                      (this.startFragRequested = !1);
                    var m = this.config;
                    (m.autoStartLoad || this.forceStartLoad) &&
                      this.hls.startLoad(m.startPosition);
                  }),
                  (a.onLevelLoaded = function onLevelLoaded(i) {
                    var a = i.details,
                      o = i.level,
                      p = this.levels[this.levelLastLoaded],
                      m = this.levels[o],
                      _ = a.totalduration,
                      w = 0;
                    if (
                      (K.logger.log(
                        'level ' +
                          o +
                          ' loaded [' +
                          a.startSN +
                          ',' +
                          a.endSN +
                          '],duration:' +
                          _
                      ),
                      a.live)
                    ) {
                      var x = m.details;
                      x && a.fragments.length > 0
                        ? (mergeDetails(x, a),
                          (w = a.fragments[0].start),
                          (this.liveSyncPosition = this.computeLivePosition(
                            w,
                            x
                          )),
                          a.PTSKnown && Object(D.isFiniteNumber)(w)
                            ? K.logger.log(
                                'live playlist sliding:' + w.toFixed(3)
                              )
                            : (K.logger.log(
                                'live playlist - outdated PTS, unknown sliding'
                              ),
                              alignStream(this.fragPrevious, p, a)))
                        : (K.logger.log(
                            'live playlist - first load, unknown sliding'
                          ),
                          (a.PTSKnown = !1),
                          alignStream(this.fragPrevious, p, a));
                    } else a.PTSKnown = !1;
                    if (
                      ((m.details = a),
                      (this.levelLastLoaded = o),
                      this.hls.trigger(j['default'].LEVEL_UPDATED, {
                        details: a,
                        level: o,
                      }),
                      !1 === this.startFragRequested)
                    ) {
                      if (
                        -1 === this.startPosition ||
                        -1 === this.lastCurrentTime
                      ) {
                        var I = a.startTimeOffset;
                        Object(D.isFiniteNumber)(I)
                          ? (I < 0 &&
                              (K.logger.log(
                                'negative start time offset ' +
                                  I +
                                  ', count from end of last fragment'
                              ),
                              (I = w + _ + I)),
                            K.logger.log(
                              'start time offset found in playlist, adjust startPosition to ' +
                                I
                            ),
                            (this.startPosition = I))
                          : a.live
                          ? ((this.startPosition = this.computeLivePosition(
                              w,
                              a
                            )),
                            K.logger.log(
                              'configure startPosition to ' + this.startPosition
                            ))
                          : (this.startPosition = 0),
                          (this.lastCurrentTime = this.startPosition);
                      }
                      this.nextLoadPosition = this.startPosition;
                    }
                    this.state === Kt && (this.state = Ot), this.tick();
                  }),
                  (a.onKeyLoaded = function onKeyLoaded() {
                    this.state === Mt && ((this.state = Ot), this.tick());
                  }),
                  (a.onFragLoaded = function onFragLoaded(i) {
                    var a = this.fragCurrent,
                      o = this.hls,
                      p = this.levels,
                      m = this.media,
                      _ = i.frag;
                    if (
                      this.state === Nt &&
                      a &&
                      'main' === _.type &&
                      _.level === a.level &&
                      _.sn === a.sn
                    ) {
                      var w = i.stats,
                        x = p[a.level],
                        I = x.details;
                      if (
                        ((this.bitrateTest = !1),
                        (this.stats = w),
                        K.logger.log(
                          'Loaded ' +
                            a.sn +
                            ' of [' +
                            I.startSN +
                            ' ,' +
                            I.endSN +
                            '],level ' +
                            a.level
                        ),
                        _.bitrateTest && o.nextLoadLevel)
                      )
                        (this.state = Ot),
                          (this.startFragRequested = !1),
                          (w.tparsed = w.tbuffered = window.performance.now()),
                          o.trigger(j['default'].FRAG_BUFFERED, {
                            stats: w,
                            frag: a,
                            id: 'main',
                          }),
                          this.tick();
                      else if ('initSegment' === _.sn)
                        (this.state = Ot),
                          (w.tparsed = w.tbuffered = window.performance.now()),
                          (I.initSegment.data = i.payload),
                          o.trigger(j['default'].FRAG_BUFFERED, {
                            stats: w,
                            frag: a,
                            id: 'main',
                          }),
                          this.tick();
                      else {
                        K.logger.log(
                          'Parsing ' +
                            a.sn +
                            ' of [' +
                            I.startSN +
                            ' ,' +
                            I.endSN +
                            '],level ' +
                            a.level +
                            ', cc ' +
                            a.cc
                        ),
                          (this.state = Bt),
                          (this.pendingBuffering = !0),
                          (this.appended = !1),
                          _.bitrateTest &&
                            ((_.bitrateTest = !1),
                            this.fragmentTracker.onFragLoaded({ frag: _ }));
                        var D = !(m && m.seeking) && (I.PTSKnown || !I.live),
                          q = I.initSegment ? I.initSegment.data : [],
                          $ = this._getAudioCodec(x);
                        (this.demuxer =
                          this.demuxer || new xt(this.hls, 'main')).push(
                          i.payload,
                          q,
                          $,
                          x.videoCodec,
                          a,
                          I.totalduration,
                          D
                        );
                      }
                    }
                    this.fragLoadError = 0;
                  }),
                  (a.onFragParsingInitSegment =
                    function onFragParsingInitSegment(i) {
                      var a = this.fragCurrent,
                        o = i.frag;
                      if (
                        a &&
                        'main' === i.id &&
                        o.sn === a.sn &&
                        o.level === a.level &&
                        this.state === Bt
                      ) {
                        var p,
                          m,
                          _ = i.tracks;
                        if (
                          (_.audio && this.altAudio && delete _.audio,
                          (m = _.audio))
                        ) {
                          var w = this.levels[this.level].audioCodec,
                            x = navigator.userAgent.toLowerCase();
                          w &&
                            this.audioCodecSwap &&
                            (K.logger.log('swapping playlist audio codec'),
                            (w =
                              -1 !== w.indexOf('mp4a.40.5')
                                ? 'mp4a.40.2'
                                : 'mp4a.40.5')),
                            this.audioCodecSwitch &&
                              1 !== m.metadata.channelCount &&
                              -1 === x.indexOf('firefox') &&
                              (w = 'mp4a.40.5'),
                            -1 !== x.indexOf('android') &&
                              'audio/mpeg' !== m.container &&
                              ((w = 'mp4a.40.2'),
                              K.logger.log(
                                'Android: force audio codec to ' + w
                              )),
                            (m.levelCodec = w),
                            (m.id = i.id);
                        }
                        for (p in ((m = _.video) &&
                          ((m.levelCodec = this.levels[this.level].videoCodec),
                          (m.id = i.id)),
                        this.hls.trigger(j['default'].BUFFER_CODECS, _),
                        _)) {
                          (m = _[p]),
                            K.logger.log(
                              'main track:' +
                                p +
                                ',container:' +
                                m.container +
                                ',codecs[level/parsed]=[' +
                                m.levelCodec +
                                '/' +
                                m.codec +
                                ']'
                            );
                          var I = m.initSegment;
                          I &&
                            ((this.appended = !0),
                            (this.pendingBuffering = !0),
                            this.hls.trigger(j['default'].BUFFER_APPENDING, {
                              type: p,
                              data: I,
                              parent: 'main',
                              content: 'initSegment',
                            }));
                        }
                        this.tick();
                      }
                    }),
                  (a.onFragParsingData = function onFragParsingData(i) {
                    var a = this,
                      o = this.fragCurrent,
                      p = i.frag;
                    if (
                      o &&
                      'main' === i.id &&
                      p.sn === o.sn &&
                      p.level === o.level &&
                      ('audio' !== i.type || !this.altAudio) &&
                      this.state === Bt
                    ) {
                      var m = this.levels[this.level],
                        _ = o;
                      if (
                        (Object(D.isFiniteNumber)(i.endPTS) ||
                          ((i.endPTS = i.startPTS + o.duration),
                          (i.endDTS = i.startDTS + o.duration)),
                        !0 === i.hasAudio && _.addElementaryStream(be.AUDIO),
                        !0 === i.hasVideo && _.addElementaryStream(be.VIDEO),
                        K.logger.log(
                          'Parsed ' +
                            i.type +
                            ',PTS:[' +
                            i.startPTS.toFixed(3) +
                            ',' +
                            i.endPTS.toFixed(3) +
                            '],DTS:[' +
                            i.startDTS.toFixed(3) +
                            '/' +
                            i.endDTS.toFixed(3) +
                            '],nb:' +
                            i.nb +
                            ',dropped:' +
                            (i.dropped || 0)
                        ),
                        'video' === i.type)
                      )
                        if (((_.dropped = i.dropped), _.dropped))
                          if (_.backtracked)
                            K.logger.warn(
                              'Already backtracked on this fragment, appending with the gap',
                              _.sn
                            );
                          else {
                            var w = m.details;
                            if (!w || _.sn !== w.startSN)
                              return (
                                K.logger.warn(
                                  'missing video frame(s), backtracking fragment',
                                  _.sn
                                ),
                                this.fragmentTracker.removeFragment(_),
                                (_.backtracked = !0),
                                (this.nextLoadPosition = i.startPTS),
                                (this.state = Ot),
                                (this.fragPrevious = _),
                                void this.tick()
                              );
                            K.logger.warn(
                              'missing video frame(s) on first frag, appending with gap',
                              _.sn
                            );
                          }
                        else _.backtracked = !1;
                      var x = updateFragPTSDTS(
                          m.details,
                          _,
                          i.startPTS,
                          i.endPTS,
                          i.startDTS,
                          i.endDTS
                        ),
                        I = this.hls;
                      I.trigger(j['default'].LEVEL_PTS_UPDATED, {
                        details: m.details,
                        level: this.level,
                        drift: x,
                        type: i.type,
                        start: i.startPTS,
                        end: i.endPTS,
                      }),
                        [i.data1, i.data2].forEach(function (o) {
                          o &&
                            o.length &&
                            a.state === Bt &&
                            ((a.appended = !0),
                            (a.pendingBuffering = !0),
                            I.trigger(j['default'].BUFFER_APPENDING, {
                              type: i.type,
                              data: o,
                              parent: 'main',
                              content: 'data',
                            }));
                        }),
                        this.tick();
                    }
                  }),
                  (a.onFragParsed = function onFragParsed(i) {
                    var a = this.fragCurrent,
                      o = i.frag;
                    a &&
                      'main' === i.id &&
                      o.sn === a.sn &&
                      o.level === a.level &&
                      this.state === Bt &&
                      ((this.stats.tparsed = window.performance.now()),
                      (this.state = jt),
                      this._checkAppendedParsed());
                  }),
                  (a.onAudioTrackSwitching = function onAudioTrackSwitching(i) {
                    var a = !!i.url,
                      o = i.id;
                    if (!a) {
                      if (this.mediaBuffer !== this.media) {
                        K.logger.log(
                          'switching on main audio, use media.buffered to schedule main fragment loading'
                        ),
                          (this.mediaBuffer = this.media);
                        var p = this.fragCurrent;
                        p.loader &&
                          (K.logger.log(
                            'switching to main audio track, cancel main fragment load'
                          ),
                          p.loader.abort()),
                          (this.fragCurrent = null),
                          (this.fragPrevious = null),
                          this.demuxer &&
                            (this.demuxer.destroy(), (this.demuxer = null)),
                          (this.state = Ot);
                      }
                      var m = this.hls;
                      m.trigger(j['default'].BUFFER_FLUSHING, {
                        startOffset: 0,
                        endOffset: Number.POSITIVE_INFINITY,
                        type: 'audio',
                      }),
                        m.trigger(j['default'].AUDIO_TRACK_SWITCHED, { id: o }),
                        (this.altAudio = !1);
                    }
                  }),
                  (a.onAudioTrackSwitched = function onAudioTrackSwitched(i) {
                    var a = i.id,
                      o = !!this.hls.audioTracks[a].url;
                    if (o) {
                      var p = this.videoBuffer;
                      p &&
                        this.mediaBuffer !== p &&
                        (K.logger.log(
                          'switching on alternate audio, use video.buffered to schedule main fragment loading'
                        ),
                        (this.mediaBuffer = p));
                    }
                    (this.altAudio = o), this.tick();
                  }),
                  (a.onBufferCreated = function onBufferCreated(i) {
                    var a,
                      o,
                      p = i.tracks,
                      m = !1;
                    for (var _ in p) {
                      var w = p[_];
                      'main' === w.id
                        ? ((o = _),
                          (a = w),
                          'video' === _ && (this.videoBuffer = p[_].buffer))
                        : (m = !0);
                    }
                    m && a
                      ? (K.logger.log(
                          'alternate track found, use ' +
                            o +
                            '.buffered to schedule main fragment loading'
                        ),
                        (this.mediaBuffer = a.buffer))
                      : (this.mediaBuffer = this.media);
                  }),
                  (a.onBufferAppended = function onBufferAppended(i) {
                    if ('main' === i.parent) {
                      var a = this.state;
                      (a !== Bt && a !== jt) ||
                        ((this.pendingBuffering = i.pending > 0),
                        this._checkAppendedParsed());
                    }
                  }),
                  (a._checkAppendedParsed = function _checkAppendedParsed() {
                    if (
                      !(
                        this.state !== jt ||
                        (this.appended && this.pendingBuffering)
                      )
                    ) {
                      var i = this.fragCurrent;
                      if (i) {
                        var a = this.mediaBuffer
                          ? this.mediaBuffer
                          : this.media;
                        K.logger.log(
                          'main buffered : ' + Pt.toString(a.buffered)
                        ),
                          (this.fragPrevious = i);
                        var o = this.stats;
                        (o.tbuffered = window.performance.now()),
                          (this.fragLastKbps = Math.round(
                            (8 * o.total) / (o.tbuffered - o.tfirst)
                          )),
                          this.hls.trigger(j['default'].FRAG_BUFFERED, {
                            stats: o,
                            frag: i,
                            id: 'main',
                          }),
                          (this.state = Ot);
                      }
                      this.tick();
                    }
                  }),
                  (a.onError = function onError(i) {
                    var a = i.frag || this.fragCurrent;
                    if (!a || 'main' === a.type) {
                      var o =
                        !!this.media &&
                        bt.isBuffered(this.media, this.media.currentTime) &&
                        bt.isBuffered(this.media, this.media.currentTime + 0.5);
                      switch (i.details) {
                        case I.ErrorDetails.FRAG_LOAD_ERROR:
                        case I.ErrorDetails.FRAG_LOAD_TIMEOUT:
                        case I.ErrorDetails.KEY_LOAD_ERROR:
                        case I.ErrorDetails.KEY_LOAD_TIMEOUT:
                          if (!i.fatal)
                            if (
                              this.fragLoadError + 1 <=
                              this.config.fragLoadingMaxRetry
                            ) {
                              var p = Math.min(
                                Math.pow(2, this.fragLoadError) *
                                  this.config.fragLoadingRetryDelay,
                                this.config.fragLoadingMaxRetryTimeout
                              );
                              K.logger.warn(
                                'mediaController: frag loading failed, retry in ' +
                                  p +
                                  ' ms'
                              ),
                                (this.retryDate = window.performance.now() + p),
                                this.loadedmetadata ||
                                  ((this.startFragRequested = !1),
                                  (this.nextLoadPosition = this.startPosition)),
                                this.fragLoadError++,
                                (this.state = Ft);
                            } else
                              K.logger.error(
                                'mediaController: ' +
                                  i.details +
                                  ' reaches max retry, redispatch as fatal ...'
                              ),
                                (i.fatal = !0),
                                (this.state = Vt);
                          break;
                        case I.ErrorDetails.LEVEL_LOAD_ERROR:
                        case I.ErrorDetails.LEVEL_LOAD_TIMEOUT:
                          this.state !== Vt &&
                            (i.fatal
                              ? ((this.state = Vt),
                                K.logger.warn(
                                  'streamController: ' +
                                    i.details +
                                    ',switch to ' +
                                    this.state +
                                    ' state ...'
                                ))
                              : i.levelRetry ||
                                this.state !== Kt ||
                                (this.state = Ot));
                          break;
                        case I.ErrorDetails.BUFFER_FULL_ERROR:
                          'main' !== i.parent ||
                            (this.state !== Bt && this.state !== jt) ||
                            (o
                              ? (this._reduceMaxBufferLength(
                                  this.config.maxBufferLength
                                ),
                                (this.state = Ot))
                              : (K.logger.warn(
                                  'buffer full error also media.currentTime is not buffered, flush everything'
                                ),
                                (this.fragCurrent = null),
                                this.flushMainBuffer(
                                  0,
                                  Number.POSITIVE_INFINITY
                                )));
                      }
                    }
                  }),
                  (a._reduceMaxBufferLength = function _reduceMaxBufferLength(
                    i
                  ) {
                    var a = this.config;
                    return (
                      a.maxMaxBufferLength >= i &&
                      ((a.maxMaxBufferLength /= 2),
                      K.logger.warn(
                        'main:reduce max buffer length to ' +
                          a.maxMaxBufferLength +
                          's'
                      ),
                      !0)
                    );
                  }),
                  (a._checkBuffer = function _checkBuffer() {
                    var i = this.media;
                    if (i && 0 !== i.readyState) {
                      var a = (this.mediaBuffer ? this.mediaBuffer : i)
                        .buffered;
                      !this.loadedmetadata && a.length
                        ? ((this.loadedmetadata = !0), this._seekToStartPos())
                        : this.immediateSwitch
                        ? this.immediateLevelSwitchEnd()
                        : this.gapController.poll(this.lastCurrentTime, a);
                    }
                  }),
                  (a.onFragLoadEmergencyAborted =
                    function onFragLoadEmergencyAborted() {
                      (this.state = Ot),
                        this.loadedmetadata ||
                          ((this.startFragRequested = !1),
                          (this.nextLoadPosition = this.startPosition)),
                        this.tick();
                    }),
                  (a.onBufferFlushed = function onBufferFlushed() {
                    var i = this.mediaBuffer ? this.mediaBuffer : this.media;
                    i &&
                      this.fragmentTracker.detectEvictedFragments(
                        be.VIDEO,
                        i.buffered
                      ),
                      (this.state = Ot),
                      (this.fragPrevious = null);
                  }),
                  (a.swapAudioCodec = function swapAudioCodec() {
                    this.audioCodecSwap = !this.audioCodecSwap;
                  }),
                  (a._seekToStartPos = function _seekToStartPos() {
                    var i = this.media,
                      a = i.currentTime,
                      o = i.seeking ? a : this.startPosition;
                    a !== o &&
                      o >= 0 &&
                      (K.logger.log(
                        'target start position not buffered, seek to buffered.start(0) ' +
                          o +
                          ' from current time ' +
                          a +
                          ' '
                      ),
                      (i.currentTime = o));
                  }),
                  (a._getAudioCodec = function _getAudioCodec(i) {
                    var a = this.config.defaultAudioCodec || i.audioCodec;
                    return (
                      this.audioCodecSwap &&
                        (K.logger.log('swapping playlist audio codec'),
                        a &&
                          (a =
                            -1 !== a.indexOf('mp4a.40.5')
                              ? 'mp4a.40.2'
                              : 'mp4a.40.5')),
                      a
                    );
                  }),
                  (function stream_controller_createClass(i, a, o) {
                    return (
                      a && stream_controller_defineProperties(i.prototype, a),
                      o && stream_controller_defineProperties(i, o),
                      i
                    );
                  })(StreamController, [
                    {
                      key: 'state',
                      set: function set(i) {
                        if (this.state !== i) {
                          var a = this.state;
                          (this._state = i),
                            K.logger.log(
                              'main stream-controller: ' + a + '->' + i
                            ),
                            this.hls.trigger(
                              j['default'].STREAM_STATE_TRANSITION,
                              { previousState: a, nextState: i }
                            );
                        }
                      },
                      get: function get() {
                        return this._state;
                      },
                    },
                    {
                      key: 'currentLevel',
                      get: function get() {
                        var i = this.media;
                        if (i) {
                          var a = this.getBufferedFrag(i.currentTime);
                          if (a) return a.level;
                        }
                        return -1;
                      },
                    },
                    {
                      key: 'nextBufferedFrag',
                      get: function get() {
                        var i = this.media;
                        return i
                          ? this.followingBufferedFrag(
                              this.getBufferedFrag(i.currentTime)
                            )
                          : null;
                      },
                    },
                    {
                      key: 'nextLevel',
                      get: function get() {
                        var i = this.nextBufferedFrag;
                        return i ? i.level : -1;
                      },
                    },
                    {
                      key: 'liveSyncPosition',
                      get: function get() {
                        return this._liveSyncPosition;
                      },
                      set: function set(i) {
                        this._liveSyncPosition = i;
                      },
                    },
                  ]),
                  StreamController
                );
              })(zt);
              function level_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              window.performance;
              var Yt,
                Xt = (function (i) {
                  function LevelController(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].MANIFEST_LOADED,
                          j['default'].LEVEL_LOADED,
                          j['default'].AUDIO_TRACK_SWITCHED,
                          j['default'].FRAG_LOADED,
                          j['default'].ERROR
                        ) || this).canload = !1),
                      (o.currentLevelIndex = null),
                      (o.manualLevelIndex = -1),
                      (o.timer = null),
                      (Yt = /chrome|firefox/.test(
                        navigator.userAgent.toLowerCase()
                      )),
                      o
                    );
                  }
                  !(function level_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(LevelController, i);
                  var a = LevelController.prototype;
                  return (
                    (a.onHandlerDestroying = function onHandlerDestroying() {
                      this.clearTimer(), (this.manualLevelIndex = -1);
                    }),
                    (a.clearTimer = function clearTimer() {
                      null !== this.timer &&
                        (clearTimeout(this.timer), (this.timer = null));
                    }),
                    (a.startLoad = function startLoad() {
                      var i = this._levels;
                      (this.canload = !0),
                        (this.levelRetryCount = 0),
                        i &&
                          i.forEach(function (i) {
                            i.loadError = 0;
                            var a = i.details;
                            a && a.live && (i.details = undefined);
                          }),
                        null !== this.timer && this.loadLevel();
                    }),
                    (a.stopLoad = function stopLoad() {
                      this.canload = !1;
                    }),
                    (a.onManifestLoaded = function onManifestLoaded(i) {
                      var a,
                        o = [],
                        p = [],
                        m = {},
                        _ = null,
                        w = !1,
                        x = !1;
                      if (
                        (i.levels.forEach(function (i) {
                          var a = i.attrs;
                          (i.loadError = 0),
                            (i.fragmentError = !1),
                            (w = w || !!i.videoCodec),
                            (x = x || !!i.audioCodec),
                            Yt &&
                              i.audioCodec &&
                              -1 !== i.audioCodec.indexOf('mp4a.40.34') &&
                              (i.audioCodec = undefined),
                            (_ = m[i.bitrate])
                              ? _.url.push(i.url)
                              : ((i.url = [i.url]),
                                (i.urlId = 0),
                                (m[i.bitrate] = i),
                                o.push(i)),
                            a &&
                              (a.AUDIO &&
                                ((x = !0),
                                addGroupId(_ || i, 'audio', a.AUDIO)),
                              a.SUBTITLES &&
                                addGroupId(_ || i, 'text', a.SUBTITLES));
                        }),
                        w &&
                          x &&
                          (o = o.filter(function (i) {
                            return !!i.videoCodec;
                          })),
                        (o = o.filter(function (i) {
                          var a = i.audioCodec,
                            o = i.videoCodec;
                          return (
                            (!a || isCodecSupportedInMp4(a, 'audio')) &&
                            (!o || isCodecSupportedInMp4(o, 'video'))
                          );
                        })),
                        i.audioTracks &&
                          (p = i.audioTracks.filter(function (i) {
                            return (
                              !i.audioCodec ||
                              isCodecSupportedInMp4(i.audioCodec, 'audio')
                            );
                          })).forEach(function (i, a) {
                            i.id = a;
                          }),
                        o.length > 0)
                      ) {
                        (a = o[0].bitrate),
                          o.sort(function (i, a) {
                            return i.bitrate - a.bitrate;
                          }),
                          (this._levels = o);
                        for (var D = 0; D < o.length; D++)
                          if (o[D].bitrate === a) {
                            (this._firstLevel = D),
                              K.logger.log(
                                'manifest loaded,' +
                                  o.length +
                                  ' level(s) found, first bitrate:' +
                                  a
                              );
                            break;
                          }
                        this.hls.trigger(j['default'].MANIFEST_PARSED, {
                          levels: o,
                          audioTracks: p,
                          firstLevel: this._firstLevel,
                          stats: i.stats,
                          audio: x,
                          video: w,
                          altAudio: p.some(function (i) {
                            return !!i.url;
                          }),
                        });
                      } else
                        this.hls.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.MEDIA_ERROR,
                          details:
                            I.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                          fatal: !0,
                          url: this.hls.url,
                          reason:
                            'no level with compatible codecs found in manifest',
                        });
                    }),
                    (a.setLevelInternal = function setLevelInternal(i) {
                      var a = this._levels,
                        o = this.hls;
                      if (i >= 0 && i < a.length) {
                        if ((this.clearTimer(), this.currentLevelIndex !== i)) {
                          K.logger.log('switching to level ' + i),
                            (this.currentLevelIndex = i);
                          var p = a[i];
                          (p.level = i),
                            o.trigger(j['default'].LEVEL_SWITCHING, p);
                        }
                        var m = a[i],
                          _ = m.details;
                        if (!_ || _.live) {
                          var w = m.urlId;
                          o.trigger(j['default'].LEVEL_LOADING, {
                            url: m.url[w],
                            level: i,
                            id: w,
                          });
                        }
                      } else
                        o.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.OTHER_ERROR,
                          details: I.ErrorDetails.LEVEL_SWITCH_ERROR,
                          level: i,
                          fatal: !1,
                          reason: 'invalid level idx',
                        });
                    }),
                    (a.onError = function onError(i) {
                      if (i.fatal)
                        i.type === I.ErrorTypes.NETWORK_ERROR &&
                          this.clearTimer();
                      else {
                        var a,
                          o = !1,
                          p = !1;
                        switch (i.details) {
                          case I.ErrorDetails.FRAG_LOAD_ERROR:
                          case I.ErrorDetails.FRAG_LOAD_TIMEOUT:
                          case I.ErrorDetails.KEY_LOAD_ERROR:
                          case I.ErrorDetails.KEY_LOAD_TIMEOUT:
                            (a = i.frag.level), (p = !0);
                            break;
                          case I.ErrorDetails.LEVEL_LOAD_ERROR:
                          case I.ErrorDetails.LEVEL_LOAD_TIMEOUT:
                            (a = i.context.level), (o = !0);
                            break;
                          case I.ErrorDetails.REMUX_ALLOC_ERROR:
                            (a = i.level), (o = !0);
                        }
                        a !== undefined && this.recoverLevel(i, a, o, p);
                      }
                    }),
                    (a.recoverLevel = function recoverLevel(i, a, o, p) {
                      var m,
                        _,
                        w,
                        x = this,
                        I = this.hls.config,
                        D = i.details,
                        j = this._levels[a];
                      if ((j.loadError++, (j.fragmentError = p), o)) {
                        if (
                          !(this.levelRetryCount + 1 <= I.levelLoadingMaxRetry)
                        )
                          return (
                            K.logger.error(
                              'level controller, cannot recover from ' +
                                D +
                                ' error'
                            ),
                            (this.currentLevelIndex = null),
                            this.clearTimer(),
                            void (i.fatal = !0)
                          );
                        (_ = Math.min(
                          Math.pow(2, this.levelRetryCount) *
                            I.levelLoadingRetryDelay,
                          I.levelLoadingMaxRetryTimeout
                        )),
                          (this.timer = setTimeout(function () {
                            return x.loadLevel();
                          }, _)),
                          (i.levelRetry = !0),
                          this.levelRetryCount++,
                          K.logger.warn(
                            'level controller, ' +
                              D +
                              ', retry in ' +
                              _ +
                              ' ms, current retry count is ' +
                              this.levelRetryCount
                          );
                      }
                      (o || p) &&
                        ((m = j.url.length) > 1 && j.loadError < m
                          ? ((j.urlId = (j.urlId + 1) % m),
                            (j.details = undefined),
                            K.logger.warn(
                              'level controller, ' +
                                D +
                                ' for level ' +
                                a +
                                ': switching to redundant URL-id ' +
                                j.urlId
                            ))
                          : -1 === this.manualLevelIndex
                          ? ((w = 0 === a ? this._levels.length - 1 : a - 1),
                            K.logger.warn(
                              'level controller, ' + D + ': switch to ' + w
                            ),
                            (this.hls.nextAutoLevel = this.currentLevelIndex =
                              w))
                          : p &&
                            (K.logger.warn(
                              'level controller, ' + D + ': reload a fragment'
                            ),
                            (this.currentLevelIndex = null)));
                    }),
                    (a.onFragLoaded = function onFragLoaded(i) {
                      var a = i.frag;
                      if (a !== undefined && 'main' === a.type) {
                        var o = this._levels[a.level];
                        o !== undefined &&
                          ((o.fragmentError = !1),
                          (o.loadError = 0),
                          (this.levelRetryCount = 0));
                      }
                    }),
                    (a.onLevelLoaded = function onLevelLoaded(i) {
                      var a = this,
                        o = i.level,
                        p = i.details;
                      if (o === this.currentLevelIndex) {
                        var m = this._levels[o];
                        if (
                          (m.fragmentError ||
                            ((m.loadError = 0), (this.levelRetryCount = 0)),
                          p.live)
                        ) {
                          var _ = computeReloadInterval(
                            m.details,
                            p,
                            i.stats.trequest
                          );
                          K.logger.log(
                            'live playlist, reload in ' + Math.round(_) + ' ms'
                          ),
                            (this.timer = setTimeout(function () {
                              return a.loadLevel();
                            }, _));
                        } else this.clearTimer();
                      }
                    }),
                    (a.onAudioTrackSwitched = function onAudioTrackSwitched(i) {
                      var a = this.hls.audioTracks[i.id].groupId,
                        o = this.hls.levels[this.currentLevelIndex];
                      if (o && o.audioGroupIds) {
                        for (var p = -1, m = 0; m < o.audioGroupIds.length; m++)
                          if (o.audioGroupIds[m] === a) {
                            p = m;
                            break;
                          }
                        p !== o.urlId && ((o.urlId = p), this.startLoad());
                      }
                    }),
                    (a.loadLevel = function loadLevel() {
                      if (
                        (K.logger.debug('call to loadLevel'),
                        null !== this.currentLevelIndex && this.canload)
                      ) {
                        var i = this._levels[this.currentLevelIndex];
                        if (
                          'object' === (0, x['default'])(i) &&
                          i.url.length > 0
                        ) {
                          var a = this.currentLevelIndex,
                            o = i.urlId,
                            p = i.url[o];
                          K.logger.log(
                            'Attempt loading level index ' +
                              a +
                              ' with URL-id ' +
                              o
                          ),
                            this.hls.trigger(j['default'].LEVEL_LOADING, {
                              url: p,
                              level: a,
                              id: o,
                            });
                        }
                      }
                    }),
                    (function level_controller_createClass(i, a, o) {
                      return (
                        a && level_controller_defineProperties(i.prototype, a),
                        o && level_controller_defineProperties(i, o),
                        i
                      );
                    })(LevelController, [
                      {
                        key: 'levels',
                        get: function get() {
                          return this._levels;
                        },
                      },
                      {
                        key: 'level',
                        get: function get() {
                          return this.currentLevelIndex;
                        },
                        set: function set(i) {
                          var a = this._levels;
                          a &&
                            ((i = Math.min(i, a.length - 1)),
                            (this.currentLevelIndex === i && a[i].details) ||
                              this.setLevelInternal(i));
                        },
                      },
                      {
                        key: 'manualLevel',
                        get: function get() {
                          return this.manualLevelIndex;
                        },
                        set: function set(i) {
                          (this.manualLevelIndex = i),
                            this._startLevel === undefined &&
                              (this._startLevel = i),
                            -1 !== i && (this.level = i);
                        },
                      },
                      {
                        key: 'firstLevel',
                        get: function get() {
                          return this._firstLevel;
                        },
                        set: function set(i) {
                          this._firstLevel = i;
                        },
                      },
                      {
                        key: 'startLevel',
                        get: function get() {
                          if (this._startLevel === undefined) {
                            var i = this.hls.config.startLevel;
                            return i !== undefined ? i : this._firstLevel;
                          }
                          return this._startLevel;
                        },
                        set: function set(i) {
                          this._startLevel = i;
                        },
                      },
                      {
                        key: 'nextLoadLevel',
                        get: function get() {
                          return -1 !== this.manualLevelIndex
                            ? this.manualLevelIndex
                            : this.hls.nextAutoLevel;
                        },
                        set: function set(i) {
                          (this.level = i),
                            -1 === this.manualLevelIndex &&
                              (this.hls.nextAutoLevel = i);
                        },
                      },
                    ]),
                    LevelController
                  );
                })($),
                Jt = o('./src/demux/id3.js');
              function sendAddTrackEvent(i, a) {
                var o;
                try {
                  o = new Event('addtrack');
                } catch (p) {
                  (o = document.createEvent('Event')).initEvent(
                    'addtrack',
                    !1,
                    !1
                  );
                }
                (o.track = i), a.dispatchEvent(o);
              }
              function clearCurrentCues(i) {
                if (i && i.cues)
                  for (; i.cues.length > 0; ) i.removeCue(i.cues[0]);
              }
              var $t = (function (i) {
                function ID3TrackController(a) {
                  var o;
                  return (
                    ((o =
                      i.call(
                        this,
                        a,
                        j['default'].MEDIA_ATTACHED,
                        j['default'].MEDIA_DETACHING,
                        j['default'].FRAG_PARSING_METADATA,
                        j['default'].LIVE_BACK_BUFFER_REACHED
                      ) || this).id3Track = undefined),
                    (o.media = undefined),
                    o
                  );
                }
                !(function id3_track_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(ID3TrackController, i);
                var a = ID3TrackController.prototype;
                return (
                  (a.destroy = function destroy() {
                    $.prototype.destroy.call(this);
                  }),
                  (a.onMediaAttached = function onMediaAttached(i) {
                    (this.media = i.media), this.media;
                  }),
                  (a.onMediaDetaching = function onMediaDetaching() {
                    clearCurrentCues(this.id3Track),
                      (this.id3Track = undefined),
                      (this.media = undefined);
                  }),
                  (a.getID3Track = function getID3Track(i) {
                    for (var a = 0; a < i.length; a++) {
                      var o = i[a];
                      if ('metadata' === o.kind && 'id3' === o.label)
                        return sendAddTrackEvent(o, this.media), o;
                    }
                    return this.media.addTextTrack('metadata', 'id3');
                  }),
                  (a.onFragParsingMetadata = function onFragParsingMetadata(i) {
                    var a = i.frag,
                      o = i.samples;
                    this.id3Track ||
                      ((this.id3Track = this.getID3Track(
                        this.media.textTracks
                      )),
                      (this.id3Track.mode = 'hidden'));
                    for (
                      var p =
                          window.WebKitDataCue ||
                          window.VTTCue ||
                          window.TextTrackCue,
                        m = 0;
                      m < o.length;
                      m++
                    ) {
                      var _ = Jt['default'].getID3Frames(o[m].data);
                      if (_) {
                        var w = o[m].pts,
                          x = m < o.length - 1 ? o[m + 1].pts : a.endPTS;
                        w === x
                          ? (x += 1e-4)
                          : w > x &&
                            (K.logger.warn(
                              'detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)'
                            ),
                            (x = w + 0.25));
                        for (var I = 0; I < _.length; I++) {
                          var D = _[I];
                          if (!Jt['default'].isTimeStampFrame(D)) {
                            var j = new p(w, x, '');
                            (j.value = D), this.id3Track.addCue(j);
                          }
                        }
                      }
                    }
                  }),
                  (a.onLiveBackBufferReached = function onLiveBackBufferReached(
                    i
                  ) {
                    var a = i.bufferEnd,
                      o = this.id3Track;
                    if (o && o.cues && o.cues.length) {
                      var p = (function getClosestCue(i, a) {
                        if (a < i[0].endTime) return i[0];
                        if (a > i[i.length - 1].endTime) return i[i.length - 1];
                        for (var o = 0, p = i.length - 1; o <= p; ) {
                          var m = Math.floor((p + o) / 2);
                          if (a < i[m].endTime) p = m - 1;
                          else {
                            if (!(a > i[m].endTime)) return i[m];
                            o = m + 1;
                          }
                        }
                        return i[o].endTime - a < a - i[p].endTime
                          ? i[o]
                          : i[p];
                      })(o.cues, a);
                      if (p) for (; o.cues[0] !== p; ) o.removeCue(o.cues[0]);
                    }
                  }),
                  ID3TrackController
                );
              })($);
              var Qt = (function () {
                  function EWMA(i) {
                    (this.alpha_ = void 0),
                      (this.estimate_ = void 0),
                      (this.totalWeight_ = void 0),
                      (this.alpha_ = i ? Math.exp(Math.log(0.5) / i) : 0),
                      (this.estimate_ = 0),
                      (this.totalWeight_ = 0);
                  }
                  var i = EWMA.prototype;
                  return (
                    (i.sample = function sample(i, a) {
                      var o = Math.pow(this.alpha_, i);
                      (this.estimate_ = a * (1 - o) + o * this.estimate_),
                        (this.totalWeight_ += i);
                    }),
                    (i.getTotalWeight = function getTotalWeight() {
                      return this.totalWeight_;
                    }),
                    (i.getEstimate = function getEstimate() {
                      if (this.alpha_) {
                        var i = 1 - Math.pow(this.alpha_, this.totalWeight_);
                        return this.estimate_ / i;
                      }
                      return this.estimate_;
                    }),
                    EWMA
                  );
                })(),
                Zt = (function () {
                  function EwmaBandWidthEstimator(i, a, o, p) {
                    (this.hls = void 0),
                      (this.defaultEstimate_ = void 0),
                      (this.minWeight_ = void 0),
                      (this.minDelayMs_ = void 0),
                      (this.slow_ = void 0),
                      (this.fast_ = void 0),
                      (this.hls = i),
                      (this.defaultEstimate_ = p),
                      (this.minWeight_ = 0.001),
                      (this.minDelayMs_ = 50),
                      (this.slow_ = new Qt(a)),
                      (this.fast_ = new Qt(o));
                  }
                  var i = EwmaBandWidthEstimator.prototype;
                  return (
                    (i.sample = function sample(i, a) {
                      var o = (i = Math.max(i, this.minDelayMs_)) / 1e3,
                        p = (8 * a) / o;
                      this.fast_.sample(o, p), this.slow_.sample(o, p);
                    }),
                    (i.canEstimate = function canEstimate() {
                      var i = this.fast_;
                      return i && i.getTotalWeight() >= this.minWeight_;
                    }),
                    (i.getEstimate = function getEstimate() {
                      return this.canEstimate()
                        ? Math.min(
                            this.fast_.getEstimate(),
                            this.slow_.getEstimate()
                          )
                        : this.defaultEstimate_;
                    }),
                    (i.destroy = function destroy() {}),
                    EwmaBandWidthEstimator
                  );
                })();
              function abr_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var er = window.performance,
                tr = (function (i) {
                  function AbrController(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].FRAG_LOADING,
                          j['default'].FRAG_LOADED,
                          j['default'].FRAG_BUFFERED,
                          j['default'].ERROR
                        ) || this).lastLoadedFragLevel = 0),
                      (o._nextAutoLevel = -1),
                      (o.hls = a),
                      (o.timer = null),
                      (o._bwEstimator = null),
                      (o.onCheck = o._abandonRulesCheck.bind(
                        (function abr_controller_assertThisInitialized(i) {
                          if (void 0 === i)
                            throw new ReferenceError(
                              "this hasn't been initialised - super() hasn't been called"
                            );
                          return i;
                        })(o)
                      )),
                      o
                    );
                  }
                  !(function abr_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(AbrController, i);
                  var a = AbrController.prototype;
                  return (
                    (a.destroy = function destroy() {
                      this.clearTimer(), $.prototype.destroy.call(this);
                    }),
                    (a.onFragLoading = function onFragLoading(i) {
                      var a = i.frag;
                      if (
                        'main' === a.type &&
                        (this.timer ||
                          ((this.fragCurrent = a),
                          (this.timer = setInterval(this.onCheck, 100))),
                        !this._bwEstimator)
                      ) {
                        var o,
                          p,
                          m = this.hls,
                          _ = m.config,
                          w = a.level;
                        m.levels[w].details.live
                          ? ((o = _.abrEwmaFastLive), (p = _.abrEwmaSlowLive))
                          : ((o = _.abrEwmaFastVoD), (p = _.abrEwmaSlowVoD)),
                          (this._bwEstimator = new Zt(
                            m,
                            p,
                            o,
                            _.abrEwmaDefaultEstimate
                          ));
                      }
                    }),
                    (a._abandonRulesCheck = function _abandonRulesCheck() {
                      var i = this.hls,
                        a = i.media,
                        o = this.fragCurrent;
                      if (o) {
                        var p = o.loader,
                          m = i.minAutoLevel;
                        if (!p || (p.stats && p.stats.aborted))
                          return (
                            K.logger.warn(
                              'frag loader destroy or aborted, disarm abandonRules'
                            ),
                            this.clearTimer(),
                            void (this._nextAutoLevel = -1)
                          );
                        var _ = p.stats;
                        if (
                          a &&
                          _ &&
                          ((!a.paused && 0 !== a.playbackRate) ||
                            !a.readyState) &&
                          o.autoLevel &&
                          o.level
                        ) {
                          var w = er.now() - _.trequest,
                            x = Math.abs(a.playbackRate);
                          if (w > (500 * o.duration) / x) {
                            var I = i.levels,
                              D = Math.max(
                                1,
                                _.bw ? _.bw / 8 : (1e3 * _.loaded) / w
                              ),
                              q = I[o.level],
                              $ = q.realBitrate
                                ? Math.max(q.realBitrate, q.bitrate)
                                : q.bitrate,
                              Z = _.total
                                ? _.total
                                : Math.max(
                                    _.loaded,
                                    Math.round((o.duration * $) / 8)
                                  ),
                              be = a.currentTime,
                              Se = (Z - _.loaded) / D,
                              _e =
                                (bt.bufferInfo(a, be, i.config.maxBufferHole)
                                  .end -
                                  be) /
                                x;
                            if (_e < (2 * o.duration) / x && Se > _e) {
                              var we, xe;
                              for (xe = o.level - 1; xe > m; xe--) {
                                var et = I[xe].realBitrate
                                  ? Math.max(I[xe].realBitrate, I[xe].bitrate)
                                  : I[xe].bitrate;
                                if ((o.duration * et) / (6.4 * D) < _e) break;
                              }
                              we < Se &&
                                (K.logger.warn(
                                  'loading too slow, abort fragment loading and switch to level ' +
                                    xe +
                                    ':fragLoadedDelay[' +
                                    xe +
                                    ']<fragLoadedDelay[' +
                                    (o.level - 1) +
                                    '];bufferStarvationDelay:' +
                                    we.toFixed(1) +
                                    '<' +
                                    Se.toFixed(1) +
                                    ':' +
                                    _e.toFixed(1)
                                ),
                                (i.nextLoadLevel = xe),
                                this._bwEstimator.sample(w, _.loaded),
                                p.abort(),
                                this.clearTimer(),
                                i.trigger(
                                  j['default'].FRAG_LOAD_EMERGENCY_ABORTED,
                                  { frag: o, stats: _ }
                                ));
                            }
                          }
                        }
                      }
                    }),
                    (a.onFragLoaded = function onFragLoaded(i) {
                      var a = i.frag;
                      if ('main' === a.type && Object(D.isFiniteNumber)(a.sn)) {
                        if (
                          (this.clearTimer(),
                          (this.lastLoadedFragLevel = a.level),
                          (this._nextAutoLevel = -1),
                          this.hls.config.abrMaxWithRealBitrate)
                        ) {
                          var o = this.hls.levels[a.level],
                            p =
                              (o.loaded ? o.loaded.bytes : 0) + i.stats.loaded,
                            m =
                              (o.loaded ? o.loaded.duration : 0) +
                              i.frag.duration;
                          (o.loaded = { bytes: p, duration: m }),
                            (o.realBitrate = Math.round((8 * p) / m));
                        }
                        if (i.frag.bitrateTest) {
                          var _ = i.stats;
                          (_.tparsed = _.tbuffered = _.tload),
                            this.onFragBuffered(i);
                        }
                      }
                    }),
                    (a.onFragBuffered = function onFragBuffered(i) {
                      var a = i.stats,
                        o = i.frag;
                      if (
                        !0 !== a.aborted &&
                        'main' === o.type &&
                        Object(D.isFiniteNumber)(o.sn) &&
                        (!o.bitrateTest || a.tload === a.tbuffered)
                      ) {
                        var p = a.tparsed - a.trequest;
                        K.logger.log(
                          'latency/loading/parsing/append/kbps:' +
                            Math.round(a.tfirst - a.trequest) +
                            '/' +
                            Math.round(a.tload - a.tfirst) +
                            '/' +
                            Math.round(a.tparsed - a.tload) +
                            '/' +
                            Math.round(a.tbuffered - a.tparsed) +
                            '/' +
                            Math.round(
                              (8 * a.loaded) / (a.tbuffered - a.trequest)
                            )
                        ),
                          this._bwEstimator.sample(p, a.loaded),
                          (a.bwEstimate = this._bwEstimator.getEstimate()),
                          o.bitrateTest
                            ? (this.bitrateTestDelay = p / 1e3)
                            : (this.bitrateTestDelay = 0);
                      }
                    }),
                    (a.onError = function onError(i) {
                      switch (i.details) {
                        case I.ErrorDetails.FRAG_LOAD_ERROR:
                        case I.ErrorDetails.FRAG_LOAD_TIMEOUT:
                          this.clearTimer();
                      }
                    }),
                    (a.clearTimer = function clearTimer() {
                      clearInterval(this.timer), (this.timer = null);
                    }),
                    (a._findBestLevel = function _findBestLevel(
                      i,
                      a,
                      o,
                      p,
                      m,
                      _,
                      w,
                      x,
                      I
                    ) {
                      for (var D = m; D >= p; D--) {
                        var j = I[D];
                        if (j) {
                          var q = j.details,
                            $ = q ? q.totalduration / q.fragments.length : a,
                            Z = !!q && q.live,
                            be = void 0;
                          be = D <= i ? w * o : x * o;
                          var Se = I[D].realBitrate
                              ? Math.max(I[D].realBitrate, I[D].bitrate)
                              : I[D].bitrate,
                            _e = (Se * $) / be;
                          if (
                            (K.logger.trace(
                              'level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: ' +
                                D +
                                '/' +
                                Math.round(be) +
                                '/' +
                                Se +
                                '/' +
                                $ +
                                '/' +
                                _ +
                                '/' +
                                _e
                            ),
                            be > Se &&
                              (!_e || (Z && !this.bitrateTestDelay) || _e < _))
                          )
                            return D;
                        }
                      }
                      return -1;
                    }),
                    (function abr_controller_createClass(i, a, o) {
                      return (
                        a && abr_controller_defineProperties(i.prototype, a),
                        o && abr_controller_defineProperties(i, o),
                        i
                      );
                    })(AbrController, [
                      {
                        key: 'nextAutoLevel',
                        get: function get() {
                          var i = this._nextAutoLevel,
                            a = this._bwEstimator;
                          if (!(-1 === i || (a && a.canEstimate()))) return i;
                          var o = this._nextABRAutoLevel;
                          return -1 !== i && (o = Math.min(i, o)), o;
                        },
                        set: function set(i) {
                          this._nextAutoLevel = i;
                        },
                      },
                      {
                        key: '_nextABRAutoLevel',
                        get: function get() {
                          var i = this.hls,
                            a = i.maxAutoLevel,
                            o = i.levels,
                            p = i.config,
                            m = i.minAutoLevel,
                            _ = i.media,
                            w = this.lastLoadedFragLevel,
                            x = this.fragCurrent
                              ? this.fragCurrent.duration
                              : 0,
                            I = _ ? _.currentTime : 0,
                            D =
                              _ && 0 !== _.playbackRate
                                ? Math.abs(_.playbackRate)
                                : 1,
                            j = this._bwEstimator
                              ? this._bwEstimator.getEstimate()
                              : p.abrEwmaDefaultEstimate,
                            q =
                              (bt.bufferInfo(_, I, p.maxBufferHole).end - I) /
                              D,
                            $ = this._findBestLevel(
                              w,
                              x,
                              j,
                              m,
                              a,
                              q,
                              p.abrBandWidthFactor,
                              p.abrBandWidthUpFactor,
                              o
                            );
                          if ($ >= 0) return $;
                          K.logger.trace(
                            'rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering'
                          );
                          var Z = x
                              ? Math.min(x, p.maxStarvationDelay)
                              : p.maxStarvationDelay,
                            be = p.abrBandWidthFactor,
                            Se = p.abrBandWidthUpFactor;
                          if (0 === q) {
                            var _e = this.bitrateTestDelay;
                            if (_e)
                              (Z =
                                (x
                                  ? Math.min(x, p.maxLoadingDelay)
                                  : p.maxLoadingDelay) - _e),
                                K.logger.trace(
                                  'bitrate test took ' +
                                    Math.round(1e3 * _e) +
                                    'ms, set first fragment max fetchDuration to ' +
                                    Math.round(1e3 * Z) +
                                    ' ms'
                                ),
                                (be = Se = 1);
                          }
                          return (
                            ($ = this._findBestLevel(
                              w,
                              x,
                              j,
                              m,
                              a,
                              q + Z,
                              be,
                              Se,
                              o
                            )),
                            Math.max($, 0)
                          );
                        },
                      },
                    ]),
                    AbrController
                  );
                })($);
              var rr = getMediaSource(),
                nr = (function (i) {
                  function BufferController(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].MEDIA_ATTACHING,
                          j['default'].MEDIA_DETACHING,
                          j['default'].MANIFEST_PARSED,
                          j['default'].BUFFER_RESET,
                          j['default'].BUFFER_APPENDING,
                          j['default'].BUFFER_CODECS,
                          j['default'].BUFFER_EOS,
                          j['default'].BUFFER_FLUSHING,
                          j['default'].LEVEL_PTS_UPDATED,
                          j['default'].LEVEL_UPDATED
                        ) || this)._msDuration = null),
                      (o._levelDuration = null),
                      (o._levelTargetDuration = 10),
                      (o._live = null),
                      (o._objectUrl = null),
                      (o._needsFlush = !1),
                      (o._needsEos = !1),
                      (o.config = void 0),
                      (o.audioTimestampOffset = void 0),
                      (o.bufferCodecEventsExpected = 0),
                      (o._bufferCodecEventsTotal = 0),
                      (o.media = null),
                      (o.mediaSource = null),
                      (o.segments = []),
                      (o.parent = void 0),
                      (o.appending = !1),
                      (o.appended = 0),
                      (o.appendError = 0),
                      (o.flushBufferCounter = 0),
                      (o.tracks = {}),
                      (o.pendingTracks = {}),
                      (o.sourceBuffer = {}),
                      (o.flushRange = []),
                      (o._onMediaSourceOpen = function () {
                        K.logger.log('media source opened'),
                          o.hls.trigger(j['default'].MEDIA_ATTACHED, {
                            media: o.media,
                          });
                        var i = o.mediaSource;
                        i &&
                          i.removeEventListener(
                            'sourceopen',
                            o._onMediaSourceOpen
                          ),
                          o.checkPendingTracks();
                      }),
                      (o._onMediaSourceClose = function () {
                        K.logger.log('media source closed');
                      }),
                      (o._onMediaSourceEnded = function () {
                        K.logger.log('media source ended');
                      }),
                      (o._onSBUpdateEnd = function () {
                        if (o.audioTimestampOffset && o.sourceBuffer.audio) {
                          var i = o.sourceBuffer.audio;
                          K.logger.warn(
                            'change mpeg audio timestamp offset from ' +
                              i.timestampOffset +
                              ' to ' +
                              o.audioTimestampOffset
                          ),
                            (i.timestampOffset = o.audioTimestampOffset),
                            delete o.audioTimestampOffset;
                        }
                        o._needsFlush && o.doFlush(),
                          o._needsEos && o.checkEos(),
                          (o.appending = !1);
                        var a = o.parent,
                          p = o.segments.reduce(function (i, o) {
                            return o.parent === a ? i + 1 : i;
                          }, 0),
                          m = {},
                          _ = o.sourceBuffer;
                        for (var w in _) {
                          var x = _[w];
                          if (!x)
                            throw Error(
                              'handling source buffer update end error: source buffer for ' +
                                w +
                                ' uninitilized and unable to update buffered TimeRanges.'
                            );
                          m[w] = x.buffered;
                        }
                        o.hls.trigger(j['default'].BUFFER_APPENDED, {
                          parent: a,
                          pending: p,
                          timeRanges: m,
                        }),
                          o._needsFlush || o.doAppending(),
                          o.updateMediaElementDuration(),
                          0 === p && o.flushLiveBackBuffer();
                      }),
                      (o._onSBUpdateError = function (i) {
                        K.logger.error('sourceBuffer error:', i),
                          o.hls.trigger(j['default'].ERROR, {
                            type: I.ErrorTypes.MEDIA_ERROR,
                            details: I.ErrorDetails.BUFFER_APPENDING_ERROR,
                            fatal: !1,
                          });
                      }),
                      (o.config = a.config),
                      o
                    );
                  }
                  !(function buffer_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(BufferController, i);
                  var a = BufferController.prototype;
                  return (
                    (a.destroy = function destroy() {
                      $.prototype.destroy.call(this);
                    }),
                    (a.onLevelPtsUpdated = function onLevelPtsUpdated(i) {
                      var a = i.type,
                        o = this.tracks.audio;
                      if ('audio' === a && o && 'audio/mpeg' === o.container) {
                        var p = this.sourceBuffer.audio;
                        if (!p)
                          throw Error(
                            'Level PTS Updated and source buffer for audio uninitalized'
                          );
                        if (Math.abs(p.timestampOffset - i.start) > 0.1) {
                          var m = p.updating;
                          try {
                            p.abort();
                          } catch (_) {
                            K.logger.warn('can not abort audio buffer: ' + _);
                          }
                          m
                            ? (this.audioTimestampOffset = i.start)
                            : (K.logger.warn(
                                'change mpeg audio timestamp offset from ' +
                                  p.timestampOffset +
                                  ' to ' +
                                  i.start
                              ),
                              (p.timestampOffset = i.start));
                        }
                      }
                    }),
                    (a.onManifestParsed = function onManifestParsed(i) {
                      (this.bufferCodecEventsExpected =
                        this._bufferCodecEventsTotal =
                          i.altAudio ? 2 : 1),
                        K.logger.log(
                          this.bufferCodecEventsExpected +
                            ' bufferCodec event(s) expected'
                        );
                    }),
                    (a.onMediaAttaching = function onMediaAttaching(i) {
                      var a = (this.media = i.media);
                      if (a && rr) {
                        var o = (this.mediaSource = new rr());
                        o.addEventListener(
                          'sourceopen',
                          this._onMediaSourceOpen
                        ),
                          o.addEventListener(
                            'sourceended',
                            this._onMediaSourceEnded
                          ),
                          o.addEventListener(
                            'sourceclose',
                            this._onMediaSourceClose
                          ),
                          (a.src = window.URL.createObjectURL(o)),
                          (this._objectUrl = a.src);
                      }
                    }),
                    (a.onMediaDetaching = function onMediaDetaching() {
                      K.logger.log('media source detaching');
                      var i = this.mediaSource;
                      if (i) {
                        if ('open' === i.readyState)
                          try {
                            i.endOfStream();
                          } catch (a) {
                            K.logger.warn(
                              'onMediaDetaching:' +
                                a.message +
                                ' while calling endOfStream'
                            );
                          }
                        i.removeEventListener(
                          'sourceopen',
                          this._onMediaSourceOpen
                        ),
                          i.removeEventListener(
                            'sourceended',
                            this._onMediaSourceEnded
                          ),
                          i.removeEventListener(
                            'sourceclose',
                            this._onMediaSourceClose
                          ),
                          this.media &&
                            (this._objectUrl &&
                              window.URL.revokeObjectURL(this._objectUrl),
                            this.media.src === this._objectUrl
                              ? (this.media.removeAttribute('src'),
                                this.media.load())
                              : K.logger.warn(
                                  'media.src was changed by a third party - skip cleanup'
                                )),
                          (this.mediaSource = null),
                          (this.media = null),
                          (this._objectUrl = null),
                          (this.bufferCodecEventsExpected =
                            this._bufferCodecEventsTotal),
                          (this.pendingTracks = {}),
                          (this.tracks = {}),
                          (this.sourceBuffer = {}),
                          (this.flushRange = []),
                          (this.segments = []),
                          (this.appended = 0);
                      }
                      this.hls.trigger(j['default'].MEDIA_DETACHED);
                    }),
                    (a.checkPendingTracks = function checkPendingTracks() {
                      var i = this.bufferCodecEventsExpected,
                        a = this.pendingTracks,
                        o = Object.keys(a).length;
                      ((o && !i) || 2 === o) &&
                        (this.createSourceBuffers(a),
                        (this.pendingTracks = {}),
                        this.doAppending());
                    }),
                    (a.onBufferReset = function onBufferReset() {
                      var i = this.sourceBuffer;
                      for (var a in i) {
                        var o = i[a];
                        try {
                          o &&
                            (this.mediaSource &&
                              this.mediaSource.removeSourceBuffer(o),
                            o.removeEventListener(
                              'updateend',
                              this._onSBUpdateEnd
                            ),
                            o.removeEventListener(
                              'error',
                              this._onSBUpdateError
                            ));
                        } catch (p) {}
                      }
                      (this.sourceBuffer = {}),
                        (this.flushRange = []),
                        (this.segments = []),
                        (this.appended = 0);
                    }),
                    (a.onBufferCodecs = function onBufferCodecs(i) {
                      var a = this;
                      Object.keys(this.sourceBuffer).length ||
                        (Object.keys(i).forEach(function (o) {
                          a.pendingTracks[o] = i[o];
                        }),
                        (this.bufferCodecEventsExpected = Math.max(
                          this.bufferCodecEventsExpected - 1,
                          0
                        )),
                        this.mediaSource &&
                          'open' === this.mediaSource.readyState &&
                          this.checkPendingTracks());
                    }),
                    (a.createSourceBuffers = function createSourceBuffers(i) {
                      var a = this.sourceBuffer,
                        o = this.mediaSource;
                      if (!o)
                        throw Error(
                          'createSourceBuffers called when mediaSource was null'
                        );
                      for (var p in i)
                        if (!a[p]) {
                          var m = i[p];
                          if (!m)
                            throw Error(
                              'source buffer exists for track ' +
                                p +
                                ', however track does not'
                            );
                          var _ = m.levelCodec || m.codec,
                            w = m.container + ';codecs=' + _;
                          K.logger.log('creating sourceBuffer(' + w + ')');
                          try {
                            var x = (a[p] = o.addSourceBuffer(w));
                            x.addEventListener(
                              'updateend',
                              this._onSBUpdateEnd
                            ),
                              x.addEventListener(
                                'error',
                                this._onSBUpdateError
                              ),
                              (this.tracks[p] = {
                                buffer: x,
                                codec: _,
                                id: m.id,
                                container: m.container,
                                levelCodec: m.levelCodec,
                              });
                          } catch (D) {
                            K.logger.error(
                              'error while trying to add sourceBuffer:' +
                                D.message
                            ),
                              this.hls.trigger(j['default'].ERROR, {
                                type: I.ErrorTypes.MEDIA_ERROR,
                                details: I.ErrorDetails.BUFFER_ADD_CODEC_ERROR,
                                fatal: !1,
                                err: D,
                                mimeType: w,
                              });
                          }
                        }
                      this.hls.trigger(j['default'].BUFFER_CREATED, {
                        tracks: this.tracks,
                      });
                    }),
                    (a.onBufferAppending = function onBufferAppending(i) {
                      this._needsFlush ||
                        (this.segments
                          ? this.segments.push(i)
                          : (this.segments = [i]),
                        this.doAppending());
                    }),
                    (a.onBufferEos = function onBufferEos(i) {
                      for (var a in this.sourceBuffer)
                        if (!i.type || i.type === a) {
                          var o = this.sourceBuffer[a];
                          o &&
                            !o.ended &&
                            ((o.ended = !0),
                            K.logger.log(a + ' sourceBuffer now EOS'));
                        }
                      this.checkEos();
                    }),
                    (a.checkEos = function checkEos() {
                      var i = this.sourceBuffer,
                        a = this.mediaSource;
                      if (a && 'open' === a.readyState) {
                        for (var o in i) {
                          var p = i[o];
                          if (p) {
                            if (!p.ended) return;
                            if (p.updating) return void (this._needsEos = !0);
                          }
                        }
                        K.logger.log(
                          'all media data are available, signal endOfStream() to MediaSource and stop loading fragment'
                        );
                        try {
                          a.endOfStream();
                        } catch (m) {
                          K.logger.warn(
                            'exception while calling mediaSource.endOfStream()'
                          );
                        }
                        this._needsEos = !1;
                      } else this._needsEos = !1;
                    }),
                    (a.onBufferFlushing = function onBufferFlushing(i) {
                      i.type
                        ? this.flushRange.push({
                            start: i.startOffset,
                            end: i.endOffset,
                            type: i.type,
                          })
                        : (this.flushRange.push({
                            start: i.startOffset,
                            end: i.endOffset,
                            type: 'video',
                          }),
                          this.flushRange.push({
                            start: i.startOffset,
                            end: i.endOffset,
                            type: 'audio',
                          })),
                        (this.flushBufferCounter = 0),
                        this.doFlush();
                    }),
                    (a.flushLiveBackBuffer = function flushLiveBackBuffer() {
                      if (this._live) {
                        var i = this.config.liveBackBufferLength;
                        if (isFinite(i) && !(i < 0))
                          if (this.media)
                            for (
                              var a = this.media.currentTime,
                                o = this.sourceBuffer,
                                p = Object.keys(o),
                                m = a - Math.max(i, this._levelTargetDuration),
                                _ = p.length - 1;
                              _ >= 0;
                              _--
                            ) {
                              var w = p[_],
                                x = o[w];
                              if (x) {
                                var I = x.buffered;
                                I.length > 0 &&
                                  m > I.start(0) &&
                                  this.removeBufferRange(w, x, 0, m) &&
                                  this.hls.trigger(
                                    j['default'].LIVE_BACK_BUFFER_REACHED,
                                    { bufferEnd: m }
                                  );
                              }
                            }
                          else
                            K.logger.error(
                              'flushLiveBackBuffer called without attaching media'
                            );
                      }
                    }),
                    (a.onLevelUpdated = function onLevelUpdated(i) {
                      var a = i.details;
                      a.fragments.length > 0 &&
                        ((this._levelDuration =
                          a.totalduration + a.fragments[0].start),
                        (this._levelTargetDuration =
                          a.averagetargetduration || a.targetduration || 10),
                        (this._live = a.live),
                        this.updateMediaElementDuration());
                    }),
                    (a.updateMediaElementDuration =
                      function updateMediaElementDuration() {
                        var i,
                          a = this.config;
                        if (
                          null !== this._levelDuration &&
                          this.media &&
                          this.mediaSource &&
                          this.sourceBuffer &&
                          0 !== this.media.readyState &&
                          'open' === this.mediaSource.readyState
                        ) {
                          for (var o in this.sourceBuffer) {
                            var p = this.sourceBuffer[o];
                            if (p && !0 === p.updating) return;
                          }
                          (i = this.media.duration),
                            null === this._msDuration &&
                              (this._msDuration = this.mediaSource.duration),
                            !0 === this._live && !0 === a.liveDurationInfinity
                              ? (K.logger.log(
                                  'Media Source duration is set to Infinity'
                                ),
                                (this._msDuration = this.mediaSource.duration =
                                  Infinity))
                              : ((this._levelDuration > this._msDuration &&
                                  this._levelDuration > i) ||
                                  !Object(D.isFiniteNumber)(i)) &&
                                (K.logger.log(
                                  'Updating Media Source duration to ' +
                                    this._levelDuration.toFixed(3)
                                ),
                                (this._msDuration = this.mediaSource.duration =
                                  this._levelDuration));
                        }
                      }),
                    (a.doFlush = function doFlush() {
                      for (; this.flushRange.length; ) {
                        var i = this.flushRange[0];
                        if (!this.flushBuffer(i.start, i.end, i.type))
                          return void (this._needsFlush = !0);
                        this.flushRange.shift(), (this.flushBufferCounter = 0);
                      }
                      if (0 === this.flushRange.length) {
                        this._needsFlush = !1;
                        var a = 0,
                          o = this.sourceBuffer;
                        try {
                          for (var p in o) {
                            var m = o[p];
                            m && (a += m.buffered.length);
                          }
                        } catch (_) {
                          K.logger.error(
                            'error while accessing sourceBuffer.buffered'
                          );
                        }
                        (this.appended = a),
                          this.hls.trigger(j['default'].BUFFER_FLUSHED);
                      }
                    }),
                    (a.doAppending = function doAppending() {
                      var i = this.config,
                        a = this.hls,
                        o = this.segments,
                        p = this.sourceBuffer;
                      if (Object.keys(p).length) {
                        if (!this.media || this.media.error)
                          return (
                            (this.segments = []),
                            void K.logger.error(
                              'trying to append although a media error occured, flush segment and abort'
                            )
                          );
                        if (!this.appending) {
                          var m = o.shift();
                          if (m)
                            try {
                              var _ = p[m.type];
                              if (!_) return void this._onSBUpdateEnd();
                              if (_.updating) return void o.unshift(m);
                              (_.ended = !1),
                                (this.parent = m.parent),
                                _.appendBuffer(m.data),
                                (this.appendError = 0),
                                this.appended++,
                                (this.appending = !0);
                            } catch (x) {
                              K.logger.error(
                                'error while trying to append buffer:' +
                                  x.message
                              ),
                                o.unshift(m);
                              var w = {
                                type: I.ErrorTypes.MEDIA_ERROR,
                                parent: m.parent,
                                details: '',
                                fatal: !1,
                              };
                              22 === x.code
                                ? ((this.segments = []),
                                  (w.details =
                                    I.ErrorDetails.BUFFER_FULL_ERROR))
                                : (this.appendError++,
                                  (w.details =
                                    I.ErrorDetails.BUFFER_APPEND_ERROR),
                                  this.appendError > i.appendErrorMaxRetry &&
                                    (K.logger.log(
                                      'fail ' +
                                        i.appendErrorMaxRetry +
                                        ' times to append segment in sourceBuffer'
                                    ),
                                    (this.segments = []),
                                    (w.fatal = !0))),
                                a.trigger(j['default'].ERROR, w);
                            }
                        }
                      }
                    }),
                    (a.flushBuffer = function flushBuffer(i, a, o) {
                      var p = this.sourceBuffer;
                      if (!Object.keys(p).length) return !0;
                      var m = 'null';
                      if (
                        (this.media && (m = this.media.currentTime.toFixed(3)),
                        K.logger.log(
                          'flushBuffer,pos/start/end: ' + m + '/' + i + '/' + a
                        ),
                        this.flushBufferCounter >= this.appended)
                      )
                        return (
                          K.logger.warn('abort flushing too many retries'), !0
                        );
                      var _ = p[o];
                      if (_) {
                        if (((_.ended = !1), _.updating))
                          return (
                            K.logger.warn(
                              'cannot flush, sb updating in progress'
                            ),
                            !1
                          );
                        if (this.removeBufferRange(o, _, i, a))
                          return this.flushBufferCounter++, !1;
                      }
                      return K.logger.log('buffer flushed'), !0;
                    }),
                    (a.removeBufferRange = function removeBufferRange(
                      i,
                      a,
                      o,
                      p
                    ) {
                      try {
                        for (var m = 0; m < a.buffered.length; m++) {
                          var _ = a.buffered.start(m),
                            w = a.buffered.end(m),
                            x = Math.max(_, o),
                            I = Math.min(w, p);
                          if (Math.min(I, w) - x > 0.5) {
                            var D = 'null';
                            return (
                              this.media &&
                                (D = this.media.currentTime.toString()),
                              K.logger.log(
                                'sb remove ' +
                                  i +
                                  ' [' +
                                  x +
                                  ',' +
                                  I +
                                  '], of [' +
                                  _ +
                                  ',' +
                                  w +
                                  '], pos:' +
                                  D
                              ),
                              a.remove(x, I),
                              !0
                            );
                          }
                        }
                      } catch (j) {
                        K.logger.warn('removeBufferRange failed', j);
                      }
                      return !1;
                    }),
                    BufferController
                  );
                })($);
              function cap_level_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var ir = (function (i) {
                function CapLevelController(a) {
                  var o;
                  return (
                    ((o =
                      i.call(
                        this,
                        a,
                        j['default'].FPS_DROP_LEVEL_CAPPING,
                        j['default'].MEDIA_ATTACHING,
                        j['default'].MANIFEST_PARSED,
                        j['default'].BUFFER_CODECS,
                        j['default'].MEDIA_DETACHING
                      ) || this).autoLevelCapping = Number.POSITIVE_INFINITY),
                    (o.firstLevel = null),
                    (o.levels = []),
                    (o.media = null),
                    (o.restrictedLevels = []),
                    (o.timer = null),
                    o
                  );
                }
                !(function cap_level_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(CapLevelController, i);
                var a = CapLevelController.prototype;
                return (
                  (a.destroy = function destroy() {
                    this.hls.config.capLevelToPlayerSize &&
                      ((this.media = null), this.stopCapping());
                  }),
                  (a.onFpsDropLevelCapping = function onFpsDropLevelCapping(i) {
                    CapLevelController.isLevelAllowed(
                      i.droppedLevel,
                      this.restrictedLevels
                    ) && this.restrictedLevels.push(i.droppedLevel);
                  }),
                  (a.onMediaAttaching = function onMediaAttaching(i) {
                    this.media =
                      i.media instanceof window.HTMLVideoElement
                        ? i.media
                        : null;
                  }),
                  (a.onManifestParsed = function onManifestParsed(i) {
                    var a = this.hls;
                    (this.restrictedLevels = []),
                      (this.levels = i.levels),
                      (this.firstLevel = i.firstLevel),
                      a.config.capLevelToPlayerSize &&
                        i.video &&
                        this.startCapping();
                  }),
                  (a.onBufferCodecs = function onBufferCodecs(i) {
                    this.hls.config.capLevelToPlayerSize &&
                      i.video &&
                      this.startCapping();
                  }),
                  (a.onLevelsUpdated = function onLevelsUpdated(i) {
                    this.levels = i.levels;
                  }),
                  (a.onMediaDetaching = function onMediaDetaching() {
                    this.stopCapping();
                  }),
                  (a.detectPlayerSize = function detectPlayerSize() {
                    if (this.media) {
                      var i = this.levels ? this.levels.length : 0;
                      if (i) {
                        var a = this.hls;
                        (a.autoLevelCapping = this.getMaxLevel(i - 1)),
                          a.autoLevelCapping > this.autoLevelCapping &&
                            a.streamController.nextLevelSwitch(),
                          (this.autoLevelCapping = a.autoLevelCapping);
                      }
                    }
                  }),
                  (a.getMaxLevel = function getMaxLevel(i) {
                    var a = this;
                    if (!this.levels) return -1;
                    var o = this.levels.filter(function (o, p) {
                      return (
                        CapLevelController.isLevelAllowed(
                          p,
                          a.restrictedLevels
                        ) && p <= i
                      );
                    });
                    return CapLevelController.getMaxLevelByMediaSize(
                      o,
                      this.mediaWidth,
                      this.mediaHeight
                    );
                  }),
                  (a.startCapping = function startCapping() {
                    this.timer ||
                      ((this.autoLevelCapping = Number.POSITIVE_INFINITY),
                      (this.hls.firstLevel = this.getMaxLevel(this.firstLevel)),
                      clearInterval(this.timer),
                      (this.timer = setInterval(
                        this.detectPlayerSize.bind(this),
                        1e3
                      )),
                      this.detectPlayerSize());
                  }),
                  (a.stopCapping = function stopCapping() {
                    (this.restrictedLevels = []),
                      (this.firstLevel = null),
                      (this.autoLevelCapping = Number.POSITIVE_INFINITY),
                      this.timer &&
                        ((this.timer = clearInterval(this.timer)),
                        (this.timer = null));
                  }),
                  (CapLevelController.isLevelAllowed = function isLevelAllowed(
                    i,
                    a
                  ) {
                    return void 0 === a && (a = []), -1 === a.indexOf(i);
                  }),
                  (CapLevelController.getMaxLevelByMediaSize =
                    function getMaxLevelByMediaSize(i, a, o) {
                      if (!i || (i && !i.length)) return -1;
                      for (
                        var p = function atGreatestBandiwdth(i, a) {
                            return (
                              !a || i.width !== a.width || i.height !== a.height
                            );
                          },
                          m = i.length - 1,
                          _ = 0;
                        _ < i.length;
                        _ += 1
                      ) {
                        var w = i[_];
                        if ((w.width >= a || w.height >= o) && p(w, i[_ + 1])) {
                          m = _;
                          break;
                        }
                      }
                      return m;
                    }),
                  (function cap_level_controller_createClass(i, a, o) {
                    return (
                      a &&
                        cap_level_controller_defineProperties(i.prototype, a),
                      o && cap_level_controller_defineProperties(i, o),
                      i
                    );
                  })(
                    CapLevelController,
                    [
                      {
                        key: 'mediaWidth',
                        get: function get() {
                          var i,
                            a = this.media;
                          return (
                            a &&
                              ((i = a.width || a.clientWidth || a.offsetWidth),
                              (i *= CapLevelController.contentScaleFactor)),
                            i
                          );
                        },
                      },
                      {
                        key: 'mediaHeight',
                        get: function get() {
                          var i,
                            a = this.media;
                          return (
                            a &&
                              ((i =
                                a.height || a.clientHeight || a.offsetHeight),
                              (i *= CapLevelController.contentScaleFactor)),
                            i
                          );
                        },
                      },
                    ],
                    [
                      {
                        key: 'contentScaleFactor',
                        get: function get() {
                          var i = 1;
                          try {
                            i = window.devicePixelRatio;
                          } catch (a) {}
                          return i;
                        },
                      },
                    ]
                  ),
                  CapLevelController
                );
              })($);
              var ar = window.performance,
                or = (function (i) {
                  function FPSController(a) {
                    return (
                      i.call(this, a, j['default'].MEDIA_ATTACHING) || this
                    );
                  }
                  !(function fps_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(FPSController, i);
                  var a = FPSController.prototype;
                  return (
                    (a.destroy = function destroy() {
                      this.timer && clearInterval(this.timer),
                        (this.isVideoPlaybackQualityAvailable = !1);
                    }),
                    (a.onMediaAttaching = function onMediaAttaching(i) {
                      var a = this.hls.config;
                      a.capLevelOnFPSDrop &&
                        ('function' ==
                          typeof (this.video =
                            i.media instanceof window.HTMLVideoElement
                              ? i.media
                              : null).getVideoPlaybackQuality &&
                          (this.isVideoPlaybackQualityAvailable = !0),
                        clearInterval(this.timer),
                        (this.timer = setInterval(
                          this.checkFPSInterval.bind(this),
                          a.fpsDroppedMonitoringPeriod
                        )));
                    }),
                    (a.checkFPS = function checkFPS(i, a, o) {
                      var p = ar.now();
                      if (a) {
                        if (this.lastTime) {
                          var m = p - this.lastTime,
                            _ = o - this.lastDroppedFrames,
                            w = a - this.lastDecodedFrames,
                            x = (1e3 * _) / m,
                            I = this.hls;
                          if (
                            (I.trigger(j['default'].FPS_DROP, {
                              currentDropped: _,
                              currentDecoded: w,
                              totalDroppedFrames: o,
                            }),
                            x > 0 &&
                              _ > I.config.fpsDroppedMonitoringThreshold * w)
                          ) {
                            var D = I.currentLevel;
                            K.logger.warn(
                              'drop FPS ratio greater than max allowed value for currentLevel: ' +
                                D
                            ),
                              D > 0 &&
                                (-1 === I.autoLevelCapping ||
                                  I.autoLevelCapping >= D) &&
                                ((D -= 1),
                                I.trigger(j['default'].FPS_DROP_LEVEL_CAPPING, {
                                  level: D,
                                  droppedLevel: I.currentLevel,
                                }),
                                (I.autoLevelCapping = D),
                                I.streamController.nextLevelSwitch());
                          }
                        }
                        (this.lastTime = p),
                          (this.lastDroppedFrames = o),
                          (this.lastDecodedFrames = a);
                      }
                    }),
                    (a.checkFPSInterval = function checkFPSInterval() {
                      var i = this.video;
                      if (i)
                        if (this.isVideoPlaybackQualityAvailable) {
                          var a = i.getVideoPlaybackQuality();
                          this.checkFPS(
                            i,
                            a.totalVideoFrames,
                            a.droppedVideoFrames
                          );
                        } else
                          this.checkFPS(
                            i,
                            i.webkitDecodedFrameCount,
                            i.webkitDroppedFrameCount
                          );
                    }),
                    FPSController
                  );
                })($),
                sr = window,
                ur = sr.performance,
                lr = sr.XMLHttpRequest,
                cr = (function () {
                  function XhrLoader(i) {
                    i && i.xhrSetup && (this.xhrSetup = i.xhrSetup);
                  }
                  var i = XhrLoader.prototype;
                  return (
                    (i.destroy = function destroy() {
                      this.abort(), (this.loader = null);
                    }),
                    (i.abort = function abort() {
                      var i = this.loader;
                      i &&
                        4 !== i.readyState &&
                        ((this.stats.aborted = !0), i.abort()),
                        window.clearTimeout(this.requestTimeout),
                        (this.requestTimeout = null),
                        window.clearTimeout(this.retryTimeout),
                        (this.retryTimeout = null);
                    }),
                    (i.load = function load(i, a, o) {
                      (this.context = i),
                        (this.config = a),
                        (this.callbacks = o),
                        (this.stats = { trequest: ur.now(), retry: 0 }),
                        (this.retryDelay = a.retryDelay),
                        this.loadInternal();
                    }),
                    (i.loadInternal = function loadInternal() {
                      var i,
                        a = this.context;
                      i = this.loader = new lr();
                      var o = this.stats;
                      (o.tfirst = 0), (o.loaded = 0);
                      var p = this.xhrSetup;
                      try {
                        if (p)
                          try {
                            p(i, a.url);
                          } catch (m) {
                            i.open('GET', a.url, !0), p(i, a.url);
                          }
                        i.readyState || i.open('GET', a.url, !0);
                      } catch (m) {
                        return void this.callbacks.onError(
                          { code: i.status, text: m.message },
                          a,
                          i
                        );
                      }
                      a.rangeEnd &&
                        i.setRequestHeader(
                          'Range',
                          'bytes=' + a.rangeStart + '-' + (a.rangeEnd - 1)
                        ),
                        (i.onreadystatechange =
                          this.readystatechange.bind(this)),
                        (i.onprogress = this.loadprogress.bind(this)),
                        (i.responseType = a.responseType),
                        (this.requestTimeout = window.setTimeout(
                          this.loadtimeout.bind(this),
                          this.config.timeout
                        )),
                        i.send();
                    }),
                    (i.readystatechange = function readystatechange(i) {
                      var a = i.currentTarget,
                        o = a.readyState,
                        p = this.stats,
                        m = this.context,
                        _ = this.config;
                      if (!p.aborted && o >= 2)
                        if (
                          (window.clearTimeout(this.requestTimeout),
                          0 === p.tfirst &&
                            (p.tfirst = Math.max(ur.now(), p.trequest)),
                          4 === o)
                        ) {
                          var w = a.status;
                          if (w >= 200 && w < 300) {
                            var x, I;
                            (p.tload = Math.max(p.tfirst, ur.now())),
                              (I =
                                'arraybuffer' === m.responseType
                                  ? (x = a.response).byteLength
                                  : (x = a.responseText).length),
                              (p.loaded = p.total = I);
                            var D = { url: a.responseURL, data: x };
                            this.callbacks.onSuccess(D, p, m, a);
                          } else
                            p.retry >= _.maxRetry || (w >= 400 && w < 499)
                              ? (K.logger.error(w + ' while loading ' + m.url),
                                this.callbacks.onError(
                                  { code: w, text: a.statusText },
                                  m,
                                  a
                                ))
                              : (K.logger.warn(
                                  w +
                                    ' while loading ' +
                                    m.url +
                                    ', retrying in ' +
                                    this.retryDelay +
                                    '...'
                                ),
                                this.destroy(),
                                (this.retryTimeout = window.setTimeout(
                                  this.loadInternal.bind(this),
                                  this.retryDelay
                                )),
                                (this.retryDelay = Math.min(
                                  2 * this.retryDelay,
                                  _.maxRetryDelay
                                )),
                                p.retry++);
                        } else
                          this.requestTimeout = window.setTimeout(
                            this.loadtimeout.bind(this),
                            _.timeout
                          );
                    }),
                    (i.loadtimeout = function loadtimeout() {
                      K.logger.warn(
                        'timeout while loading ' + this.context.url
                      ),
                        this.callbacks.onTimeout(
                          this.stats,
                          this.context,
                          null
                        );
                    }),
                    (i.loadprogress = function loadprogress(i) {
                      var a = i.currentTarget,
                        o = this.stats;
                      (o.loaded = i.loaded),
                        i.lengthComputable && (o.total = i.total);
                      var p = this.callbacks.onProgress;
                      p && p(o, this.context, null, a);
                    }),
                    XhrLoader
                  );
                })();
              function audio_track_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var dr = (function (i) {
                function AudioTrackController(a) {
                  var o;
                  return (
                    ((o =
                      i.call(
                        this,
                        a,
                        j['default'].MANIFEST_LOADING,
                        j['default'].MANIFEST_PARSED,
                        j['default'].AUDIO_TRACK_LOADED,
                        j['default'].AUDIO_TRACK_SWITCHED,
                        j['default'].LEVEL_LOADED,
                        j['default'].ERROR
                      ) || this)._trackId = -1),
                    (o._selectDefaultTrack = !0),
                    (o.tracks = []),
                    (o.trackIdBlacklist = Object.create(null)),
                    (o.audioGroupId = null),
                    o
                  );
                }
                !(function audio_track_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(AudioTrackController, i);
                var a = AudioTrackController.prototype;
                return (
                  (a.onManifestLoading = function onManifestLoading() {
                    (this.tracks = []),
                      (this._trackId = -1),
                      (this._selectDefaultTrack = !0);
                  }),
                  (a.onManifestParsed = function onManifestParsed(i) {
                    var a = (this.tracks = i.audioTracks || []);
                    this.hls.trigger(j['default'].AUDIO_TRACKS_UPDATED, {
                      audioTracks: a,
                    }),
                      this._selectAudioGroup(this.hls.nextLoadLevel);
                  }),
                  (a.onAudioTrackLoaded = function onAudioTrackLoaded(i) {
                    if (i.id >= this.tracks.length)
                      K.logger.warn('Invalid audio track id:', i.id);
                    else {
                      if (
                        (K.logger.log('audioTrack ' + i.id + ' loaded'),
                        (this.tracks[i.id].details = i.details),
                        i.details.live && !this.hasInterval())
                      ) {
                        var a = 1e3 * i.details.targetduration;
                        this.setInterval(a);
                      }
                      !i.details.live &&
                        this.hasInterval() &&
                        this.clearInterval();
                    }
                  }),
                  (a.onAudioTrackSwitched = function onAudioTrackSwitched(i) {
                    var a = this.tracks[i.id].groupId;
                    a && this.audioGroupId !== a && (this.audioGroupId = a);
                  }),
                  (a.onLevelLoaded = function onLevelLoaded(i) {
                    this._selectAudioGroup(i.level);
                  }),
                  (a.onError = function onError(i) {
                    i.type === I.ErrorTypes.NETWORK_ERROR &&
                      (i.fatal && this.clearInterval(),
                      i.details === I.ErrorDetails.AUDIO_TRACK_LOAD_ERROR &&
                        (K.logger.warn(
                          'Network failure on audio-track id:',
                          i.context.id
                        ),
                        this._handleLoadError()));
                  }),
                  (a._setAudioTrack = function _setAudioTrack(i) {
                    if (
                      this._trackId === i &&
                      this.tracks[this._trackId].details
                    )
                      K.logger.debug(
                        'Same id as current audio-track passed, and track details available -> no-op'
                      );
                    else if (i < 0 || i >= this.tracks.length)
                      K.logger.warn(
                        'Invalid id passed to audio-track controller'
                      );
                    else {
                      var a = this.tracks[i];
                      K.logger.log('Now switching to audio-track index ' + i),
                        this.clearInterval(),
                        (this._trackId = i);
                      var o = a.url,
                        p = a.type,
                        m = a.id;
                      this.hls.trigger(j['default'].AUDIO_TRACK_SWITCHING, {
                        id: m,
                        type: p,
                        url: o,
                      }),
                        this._loadTrackDetailsIfNeeded(a);
                    }
                  }),
                  (a.doTick = function doTick() {
                    this._updateTrack(this._trackId);
                  }),
                  (a._selectAudioGroup = function _selectAudioGroup(i) {
                    var a = this.hls.levels[i];
                    if (a && a.audioGroupIds) {
                      var o = a.audioGroupIds[a.urlId];
                      this.audioGroupId !== o &&
                        ((this.audioGroupId = o),
                        this._selectInitialAudioTrack());
                    }
                  }),
                  (a._selectInitialAudioTrack =
                    function _selectInitialAudioTrack() {
                      var i = this,
                        a = this.tracks;
                      if (a.length) {
                        var o = this.tracks[this._trackId],
                          p = null;
                        if ((o && (p = o.name), this._selectDefaultTrack)) {
                          var m = a.filter(function (i) {
                            return i['default'];
                          });
                          m.length
                            ? (a = m)
                            : K.logger.warn('No default audio tracks defined');
                        }
                        var _ = !1,
                          w = function traverseTracks() {
                            a.forEach(function (a) {
                              _ ||
                                (i.audioGroupId &&
                                  a.groupId !== i.audioGroupId) ||
                                (p && p !== a.name) ||
                                (i._setAudioTrack(a.id), (_ = !0));
                            });
                          };
                        w(),
                          _ || ((p = null), w()),
                          _ ||
                            (K.logger.error(
                              'No track found for running audio group-ID: ' +
                                this.audioGroupId
                            ),
                            this.hls.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.MEDIA_ERROR,
                              details: I.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,
                              fatal: !0,
                            }));
                      }
                    }),
                  (a._needsTrackLoading = function _needsTrackLoading(i) {
                    var a = i.details,
                      o = i.url;
                    return !(a && !a.live) && !!o;
                  }),
                  (a._loadTrackDetailsIfNeeded =
                    function _loadTrackDetailsIfNeeded(i) {
                      if (this._needsTrackLoading(i)) {
                        var a = i.url,
                          o = i.id;
                        K.logger.log(
                          'loading audio-track playlist for id: ' + o
                        ),
                          this.hls.trigger(j['default'].AUDIO_TRACK_LOADING, {
                            url: a,
                            id: o,
                          });
                      }
                    }),
                  (a._updateTrack = function _updateTrack(i) {
                    if (!(i < 0 || i >= this.tracks.length)) {
                      this.clearInterval(),
                        (this._trackId = i),
                        K.logger.log('trying to update audio-track ' + i);
                      var a = this.tracks[i];
                      this._loadTrackDetailsIfNeeded(a);
                    }
                  }),
                  (a._handleLoadError = function _handleLoadError() {
                    this.trackIdBlacklist[this._trackId] = !0;
                    var i = this._trackId,
                      a = this.tracks[i],
                      o = a.name,
                      p = a.language,
                      m = a.groupId;
                    K.logger.warn(
                      'Loading failed on audio track id: ' +
                        i +
                        ', group-id: ' +
                        m +
                        ', name/language: "' +
                        o +
                        '" / "' +
                        p +
                        '"'
                    );
                    for (var _ = i, w = 0; w < this.tracks.length; w++) {
                      if (!this.trackIdBlacklist[w])
                        if (this.tracks[w].name === o) {
                          _ = w;
                          break;
                        }
                    }
                    _ !== i
                      ? (K.logger.log(
                          'Attempting audio-track fallback id:',
                          _,
                          'group-id:',
                          this.tracks[_].groupId
                        ),
                        this._setAudioTrack(_))
                      : K.logger.warn(
                          'No fallback audio-track found for name/language: "' +
                            o +
                            '" / "' +
                            p +
                            '"'
                        );
                  }),
                  (function audio_track_controller_createClass(i, a, o) {
                    return (
                      a &&
                        audio_track_controller_defineProperties(i.prototype, a),
                      o && audio_track_controller_defineProperties(i, o),
                      i
                    );
                  })(AudioTrackController, [
                    {
                      key: 'audioTracks',
                      get: function get() {
                        return this.tracks;
                      },
                    },
                    {
                      key: 'audioTrack',
                      get: function get() {
                        return this._trackId;
                      },
                      set: function set(i) {
                        this._setAudioTrack(i), (this._selectDefaultTrack = !1);
                      },
                    },
                  ]),
                  AudioTrackController
                );
              })(Ct);
              function audio_stream_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var fr = window.performance,
                hr = (function (i) {
                  function AudioStreamController(a, o) {
                    var p;
                    return (
                      ((p =
                        i.call(
                          this,
                          a,
                          j['default'].MEDIA_ATTACHED,
                          j['default'].MEDIA_DETACHING,
                          j['default'].AUDIO_TRACKS_UPDATED,
                          j['default'].AUDIO_TRACK_SWITCHING,
                          j['default'].AUDIO_TRACK_LOADED,
                          j['default'].KEY_LOADED,
                          j['default'].FRAG_LOADED,
                          j['default'].FRAG_PARSING_INIT_SEGMENT,
                          j['default'].FRAG_PARSING_DATA,
                          j['default'].FRAG_PARSED,
                          j['default'].ERROR,
                          j['default'].BUFFER_RESET,
                          j['default'].BUFFER_CREATED,
                          j['default'].BUFFER_APPENDED,
                          j['default'].BUFFER_FLUSHED,
                          j['default'].INIT_PTS_FOUND
                        ) || this).fragmentTracker = o),
                      (p.config = a.config),
                      (p.audioCodecSwap = !1),
                      (p._state = It),
                      (p.initPTS = []),
                      (p.waitingFragment = null),
                      (p.videoTrackCC = null),
                      p
                    );
                  }
                  !(function audio_stream_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(AudioStreamController, i);
                  var a = AudioStreamController.prototype;
                  return (
                    (a.onInitPtsFound = function onInitPtsFound(i) {
                      var a = i.id,
                        o = i.frag.cc,
                        p = i.initPTS;
                      'main' === a &&
                        ((this.initPTS[o] = p),
                        (this.videoTrackCC = o),
                        K.logger.log(
                          'InitPTS for cc: ' +
                            o +
                            ' found from video track: ' +
                            p
                        ),
                        this.state === Wt && this.tick());
                    }),
                    (a.startLoad = function startLoad(i) {
                      if (this.tracks) {
                        var a = this.lastCurrentTime;
                        this.stopLoad(),
                          this.setInterval(100),
                          (this.fragLoadError = 0),
                          a > 0 && -1 === i
                            ? (K.logger.log(
                                'audio:override startPosition with lastCurrentTime @' +
                                  a.toFixed(3)
                              ),
                              (this.state = Ot))
                            : ((this.lastCurrentTime = this.startPosition
                                ? this.startPosition
                                : i),
                              (this.state = Dt)),
                          (this.nextLoadPosition = this.startPosition =
                            this.lastCurrentTime),
                          this.tick();
                      } else (this.startPosition = i), (this.state = It);
                    }),
                    (a.doTick = function doTick() {
                      var i,
                        a,
                        o,
                        p = this.hls,
                        m = p.config;
                      switch (this.state) {
                        case Vt:
                        case Lt:
                        case Gt:
                          break;
                        case Dt:
                          (this.state = Ut), (this.loadedmetadata = !1);
                          break;
                        case Ot:
                          var _ = this.tracks;
                          if (!_) break;
                          if (
                            !this.media &&
                            (this.startFragRequested || !m.startFragPrefetch)
                          )
                            break;
                          if (this.loadedmetadata) i = this.media.currentTime;
                          else if ((i = this.nextLoadPosition) === undefined)
                            break;
                          var w = this.mediaBuffer
                              ? this.mediaBuffer
                              : this.media,
                            x = this.videoBuffer
                              ? this.videoBuffer
                              : this.media,
                            I = bt.bufferInfo(w, i, m.maxBufferHole),
                            q = bt.bufferInfo(x, i, m.maxBufferHole),
                            $ = I.len,
                            Z = I.end,
                            be = this.fragPrevious,
                            Se = Math.min(
                              m.maxBufferLength,
                              m.maxMaxBufferLength
                            ),
                            _e = Math.max(Se, q.len),
                            we = this.audioSwitch,
                            xe = this.trackId;
                          if (($ < _e || we) && xe < _.length) {
                            if (void 0 === (o = _[xe].details)) {
                              this.state = Ut;
                              break;
                            }
                            if (!we && this._streamEnded(I, o))
                              return (
                                this.hls.trigger(j['default'].BUFFER_EOS, {
                                  type: 'audio',
                                }),
                                void (this.state = Ht)
                              );
                            var et,
                              tt = o.fragments,
                              rt = tt.length,
                              nt = tt[0].start,
                              it = tt[rt - 1].start + tt[rt - 1].duration;
                            if (we)
                              if (o.live && !o.PTSKnown)
                                K.logger.log(
                                  'switching audiotrack, live stream, unknown PTS,load first fragment'
                                ),
                                  (Z = 0);
                              else if (((Z = i), o.PTSKnown && i < nt)) {
                                if (!(I.end > nt || I.nextStart)) return;
                                K.logger.log(
                                  'alt audio track ahead of main track, seek to start of alt audio track'
                                ),
                                  (this.media.currentTime = nt + 0.05);
                              }
                            if (o.initSegment && !o.initSegment.data)
                              et = o.initSegment;
                            else if (Z <= nt) {
                              if (
                                ((et = tt[0]),
                                null !== this.videoTrackCC &&
                                  et.cc !== this.videoTrackCC &&
                                  (et = (function findFragWithCC(i, a) {
                                    return yt.search(i, function (i) {
                                      return i.cc < a ? 1 : i.cc > a ? -1 : 0;
                                    });
                                  })(tt, this.videoTrackCC)),
                                o.live &&
                                  et.loadIdx &&
                                  et.loadIdx === this.fragLoadIdx)
                              ) {
                                var at = I.nextStart ? I.nextStart : nt;
                                return (
                                  K.logger.log(
                                    'no alt audio available @currentTime:' +
                                      this.media.currentTime +
                                      ', seeking @' +
                                      (at + 0.05)
                                  ),
                                  void (this.media.currentTime = at + 0.05)
                                );
                              }
                            } else {
                              var ot,
                                st = m.maxFragLookUpTolerance,
                                ut = be ? tt[be.sn - tt[0].sn + 1] : undefined,
                                lt = function fragmentWithinToleranceTest(i) {
                                  var a = Math.min(st, i.duration);
                                  return i.start + i.duration - a <= Z
                                    ? 1
                                    : i.start - a > Z && i.start
                                    ? -1
                                    : 0;
                                };
                              Z < it
                                ? (Z > it - st && (st = 0),
                                  (ot = ut && !lt(ut) ? ut : yt.search(tt, lt)))
                                : (ot = tt[rt - 1]),
                                ot &&
                                  ((et = ot),
                                  (nt = ot.start),
                                  be &&
                                    et.level === be.level &&
                                    et.sn === be.sn &&
                                    (et.sn < o.endSN
                                      ? ((et = tt[et.sn + 1 - o.startSN]),
                                        K.logger.log(
                                          'SN just loaded, load next one: ' +
                                            et.sn
                                        ))
                                      : (et = null)));
                            }
                            et &&
                              (et.encrypted
                                ? (K.logger.log(
                                    'Loading key for ' +
                                      et.sn +
                                      ' of [' +
                                      o.startSN +
                                      ' ,' +
                                      o.endSN +
                                      '],track ' +
                                      xe
                                  ),
                                  (this.state = Mt),
                                  p.trigger(j['default'].KEY_LOADING, {
                                    frag: et,
                                  }))
                                : (K.logger.log(
                                    'Loading ' +
                                      et.sn +
                                      ', cc: ' +
                                      et.cc +
                                      ' of [' +
                                      o.startSN +
                                      ' ,' +
                                      o.endSN +
                                      '],track ' +
                                      xe +
                                      ', currentTime:' +
                                      i +
                                      ',bufferEnd:' +
                                      Z.toFixed(3)
                                  ),
                                  (this.fragCurrent = et),
                                  (we ||
                                    this.fragmentTracker.getState(et) === ht) &&
                                    ('initSegment' !== et.sn &&
                                      (this.startFragRequested = !0),
                                    Object(D.isFiniteNumber)(et.sn) &&
                                      (this.nextLoadPosition =
                                        et.start + et.duration),
                                    p.trigger(j['default'].FRAG_LOADING, {
                                      frag: et,
                                    }),
                                    (this.state = Nt))));
                          }
                          break;
                        case Ut:
                          (a = this.tracks[this.trackId]) &&
                            a.details &&
                            (this.state = Ot);
                          break;
                        case Ft:
                          var ct = fr.now(),
                            dt = this.retryDate,
                            ft = (w = this.media) && w.seeking;
                          (!dt || ct >= dt || ft) &&
                            (K.logger.log(
                              'audioStreamController: retryDate reached, switch back to IDLE state'
                            ),
                            (this.state = Ot));
                          break;
                        case Wt:
                          var pt = this.videoTrackCC;
                          if (this.initPTS[pt] === undefined) break;
                          var gt = this.waitingFragment;
                          if (gt) {
                            var mt = gt.frag.cc;
                            pt !== mt
                              ? (a = this.tracks[this.trackId]).details &&
                                a.details.live &&
                                (K.logger.warn(
                                  'Waiting fragment CC (' +
                                    mt +
                                    ') does not match video track CC (' +
                                    pt +
                                    ')'
                                ),
                                (this.waitingFragment = null),
                                (this.state = Ot))
                              : ((this.state = Nt),
                                this.onFragLoaded(this.waitingFragment),
                                (this.waitingFragment = null));
                          } else this.state = Ot;
                      }
                    }),
                    (a.onMediaAttached = function onMediaAttached(i) {
                      var a = (this.media = this.mediaBuffer = i.media);
                      (this.onvseeking = this.onMediaSeeking.bind(this)),
                        (this.onvended = this.onMediaEnded.bind(this)),
                        a.addEventListener('seeking', this.onvseeking),
                        a.addEventListener('ended', this.onvended);
                      var o = this.config;
                      this.tracks &&
                        o.autoStartLoad &&
                        this.startLoad(o.startPosition);
                    }),
                    (a.onMediaDetaching = function onMediaDetaching() {
                      var i = this.media;
                      i &&
                        i.ended &&
                        (K.logger.log(
                          'MSE detaching and video ended, reset startPosition'
                        ),
                        (this.startPosition = this.lastCurrentTime = 0)),
                        i &&
                          (i.removeEventListener('seeking', this.onvseeking),
                          i.removeEventListener('ended', this.onvended),
                          (this.onvseeking =
                            this.onvseeked =
                            this.onvended =
                              null)),
                        (this.media =
                          this.mediaBuffer =
                          this.videoBuffer =
                            null),
                        (this.loadedmetadata = !1),
                        this.fragmentTracker.removeAllFragments(),
                        this.stopLoad();
                    }),
                    (a.onAudioTracksUpdated = function onAudioTracksUpdated(i) {
                      K.logger.log('audio tracks updated'),
                        (this.tracks = i.audioTracks);
                    }),
                    (a.onAudioTrackSwitching = function onAudioTrackSwitching(
                      i
                    ) {
                      var a = !!i.url;
                      (this.trackId = i.id),
                        (this.fragCurrent = null),
                        (this.state = Lt),
                        (this.waitingFragment = null),
                        a
                          ? this.setInterval(100)
                          : this.demuxer &&
                            (this.demuxer.destroy(), (this.demuxer = null)),
                        a && ((this.audioSwitch = !0), (this.state = Ot)),
                        this.tick();
                    }),
                    (a.onAudioTrackLoaded = function onAudioTrackLoaded(i) {
                      var a = i.details,
                        o = i.id,
                        p = this.tracks[o],
                        m = a.totalduration,
                        _ = 0;
                      if (
                        (K.logger.log(
                          'track ' +
                            o +
                            ' loaded [' +
                            a.startSN +
                            ',' +
                            a.endSN +
                            '],duration:' +
                            m
                        ),
                        a.live)
                      ) {
                        var w = p.details;
                        w && a.fragments.length > 0
                          ? (mergeDetails(w, a),
                            (_ = a.fragments[0].start),
                            a.PTSKnown
                              ? K.logger.log(
                                  'live audio playlist sliding:' + _.toFixed(3)
                                )
                              : K.logger.log(
                                  'live audio playlist - outdated PTS, unknown sliding'
                                ))
                          : ((a.PTSKnown = !1),
                            K.logger.log(
                              'live audio playlist - first load, unknown sliding'
                            ));
                      } else a.PTSKnown = !1;
                      if (((p.details = a), !this.startFragRequested)) {
                        if (-1 === this.startPosition) {
                          var x = a.startTimeOffset;
                          Object(D.isFiniteNumber)(x)
                            ? (K.logger.log(
                                'start time offset found in playlist, adjust startPosition to ' +
                                  x
                              ),
                              (this.startPosition = x))
                            : a.live
                            ? ((this.startPosition = this.computeLivePosition(
                                _,
                                a
                              )),
                              K.logger.log(
                                'compute startPosition for audio-track to ' +
                                  this.startPosition
                              ))
                            : (this.startPosition = 0);
                        }
                        this.nextLoadPosition = this.startPosition;
                      }
                      this.state === Ut && (this.state = Ot), this.tick();
                    }),
                    (a.onKeyLoaded = function onKeyLoaded() {
                      this.state === Mt && ((this.state = Ot), this.tick());
                    }),
                    (a.onFragLoaded = function onFragLoaded(i) {
                      var a = this.fragCurrent,
                        o = i.frag;
                      if (
                        this.state === Nt &&
                        a &&
                        'audio' === o.type &&
                        o.level === a.level &&
                        o.sn === a.sn
                      ) {
                        var p = this.tracks[this.trackId],
                          m = p.details,
                          _ = m.totalduration,
                          w = a.level,
                          x = a.sn,
                          I = a.cc,
                          D =
                            this.config.defaultAudioCodec ||
                            p.audioCodec ||
                            'mp4a.40.2',
                          q = (this.stats = i.stats);
                        if ('initSegment' === x)
                          (this.state = Ot),
                            (q.tparsed = q.tbuffered = fr.now()),
                            (m.initSegment.data = i.payload),
                            this.hls.trigger(j['default'].FRAG_BUFFERED, {
                              stats: q,
                              frag: a,
                              id: 'audio',
                            }),
                            this.tick();
                        else {
                          (this.state = Bt),
                            (this.appended = !1),
                            this.demuxer ||
                              (this.demuxer = new xt(this.hls, 'audio'));
                          var $ = this.initPTS[I],
                            Z = m.initSegment ? m.initSegment.data : [];
                          if (m.initSegment || $ !== undefined) {
                            (this.pendingBuffering = !0),
                              K.logger.log(
                                'Demuxing ' +
                                  x +
                                  ' of [' +
                                  m.startSN +
                                  ' ,' +
                                  m.endSN +
                                  '],track ' +
                                  w
                              );
                            this.demuxer.push(
                              i.payload,
                              Z,
                              D,
                              null,
                              a,
                              _,
                              !1,
                              $
                            );
                          } else
                            K.logger.log(
                              'unknown video PTS for continuity counter ' +
                                I +
                                ', waiting for video PTS before demuxing audio frag ' +
                                x +
                                ' of [' +
                                m.startSN +
                                ' ,' +
                                m.endSN +
                                '],track ' +
                                w
                            ),
                              (this.waitingFragment = i),
                              (this.state = Wt);
                        }
                      }
                      this.fragLoadError = 0;
                    }),
                    (a.onFragParsingInitSegment =
                      function onFragParsingInitSegment(i) {
                        var a = this.fragCurrent,
                          o = i.frag;
                        if (
                          a &&
                          'audio' === i.id &&
                          o.sn === a.sn &&
                          o.level === a.level &&
                          this.state === Bt
                        ) {
                          var p,
                            m = i.tracks;
                          if ((m.video && delete m.video, (p = m.audio))) {
                            (p.levelCodec = p.codec),
                              (p.id = i.id),
                              this.hls.trigger(j['default'].BUFFER_CODECS, m),
                              K.logger.log(
                                'audio track:audio,container:' +
                                  p.container +
                                  ',codecs[level/parsed]=[' +
                                  p.levelCodec +
                                  '/' +
                                  p.codec +
                                  ']'
                              );
                            var _ = p.initSegment;
                            if (_) {
                              var w = {
                                type: 'audio',
                                data: _,
                                parent: 'audio',
                                content: 'initSegment',
                              };
                              this.audioSwitch
                                ? (this.pendingData = [w])
                                : ((this.appended = !0),
                                  (this.pendingBuffering = !0),
                                  this.hls.trigger(
                                    j['default'].BUFFER_APPENDING,
                                    w
                                  ));
                            }
                            this.tick();
                          }
                        }
                      }),
                    (a.onFragParsingData = function onFragParsingData(i) {
                      var a = this,
                        o = this.fragCurrent,
                        p = i.frag;
                      if (
                        o &&
                        'audio' === i.id &&
                        'audio' === i.type &&
                        p.sn === o.sn &&
                        p.level === o.level &&
                        this.state === Bt
                      ) {
                        var m = this.trackId,
                          _ = this.tracks[m],
                          w = this.hls;
                        Object(D.isFiniteNumber)(i.endPTS) ||
                          ((i.endPTS = i.startPTS + o.duration),
                          (i.endDTS = i.startDTS + o.duration)),
                          o.addElementaryStream(be.AUDIO),
                          K.logger.log(
                            'parsed ' +
                              i.type +
                              ',PTS:[' +
                              i.startPTS.toFixed(3) +
                              ',' +
                              i.endPTS.toFixed(3) +
                              '],DTS:[' +
                              i.startDTS.toFixed(3) +
                              '/' +
                              i.endDTS.toFixed(3) +
                              '],nb:' +
                              i.nb
                          ),
                          updateFragPTSDTS(_.details, o, i.startPTS, i.endPTS);
                        var x = this.audioSwitch,
                          q = this.media,
                          $ = !1;
                        if (x)
                          if (q && q.readyState) {
                            var Z = q.currentTime;
                            K.logger.log(
                              'switching audio track : currentTime:' + Z
                            ),
                              Z >= i.startPTS &&
                                (K.logger.log(
                                  'switching audio track : flushing all audio'
                                ),
                                (this.state = Gt),
                                w.trigger(j['default'].BUFFER_FLUSHING, {
                                  startOffset: 0,
                                  endOffset: Number.POSITIVE_INFINITY,
                                  type: 'audio',
                                }),
                                ($ = !0),
                                (this.audioSwitch = !1),
                                w.trigger(j['default'].AUDIO_TRACK_SWITCHED, {
                                  id: m,
                                }));
                          } else
                            (this.audioSwitch = !1),
                              w.trigger(j['default'].AUDIO_TRACK_SWITCHED, {
                                id: m,
                              });
                        var Se = this.pendingData;
                        if (!Se)
                          return (
                            K.logger.warn(
                              'Apparently attempt to enqueue media payload without codec initialization data upfront'
                            ),
                            void w.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.MEDIA_ERROR,
                              details: null,
                              fatal: !0,
                            })
                          );
                        this.audioSwitch ||
                          ([i.data1, i.data2].forEach(function (a) {
                            a &&
                              a.length &&
                              Se.push({
                                type: i.type,
                                data: a,
                                parent: 'audio',
                                content: 'data',
                              });
                          }),
                          !$ &&
                            Se.length &&
                            (Se.forEach(function (i) {
                              a.state === Bt &&
                                ((a.pendingBuffering = !0),
                                a.hls.trigger(
                                  j['default'].BUFFER_APPENDING,
                                  i
                                ));
                            }),
                            (this.pendingData = []),
                            (this.appended = !0))),
                          this.tick();
                      }
                    }),
                    (a.onFragParsed = function onFragParsed(i) {
                      var a = this.fragCurrent,
                        o = i.frag;
                      a &&
                        'audio' === i.id &&
                        o.sn === a.sn &&
                        o.level === a.level &&
                        this.state === Bt &&
                        ((this.stats.tparsed = fr.now()),
                        (this.state = jt),
                        this._checkAppendedParsed());
                    }),
                    (a.onBufferReset = function onBufferReset() {
                      (this.mediaBuffer = this.videoBuffer = null),
                        (this.loadedmetadata = !1);
                    }),
                    (a.onBufferCreated = function onBufferCreated(i) {
                      var a = i.tracks.audio;
                      a &&
                        ((this.mediaBuffer = a.buffer),
                        (this.loadedmetadata = !0)),
                        i.tracks.video &&
                          (this.videoBuffer = i.tracks.video.buffer);
                    }),
                    (a.onBufferAppended = function onBufferAppended(i) {
                      if ('audio' === i.parent) {
                        var a = this.state;
                        (a !== Bt && a !== jt) ||
                          ((this.pendingBuffering = i.pending > 0),
                          this._checkAppendedParsed());
                      }
                    }),
                    (a._checkAppendedParsed = function _checkAppendedParsed() {
                      if (
                        !(
                          this.state !== jt ||
                          (this.appended && this.pendingBuffering)
                        )
                      ) {
                        var i = this.fragCurrent,
                          a = this.stats,
                          o = this.hls;
                        if (i) {
                          (this.fragPrevious = i),
                            (a.tbuffered = fr.now()),
                            o.trigger(j['default'].FRAG_BUFFERED, {
                              stats: a,
                              frag: i,
                              id: 'audio',
                            });
                          var p = this.mediaBuffer
                            ? this.mediaBuffer
                            : this.media;
                          p &&
                            K.logger.log(
                              'audio buffered : ' + Pt.toString(p.buffered)
                            ),
                            this.audioSwitch &&
                              this.appended &&
                              ((this.audioSwitch = !1),
                              o.trigger(j['default'].AUDIO_TRACK_SWITCHED, {
                                id: this.trackId,
                              })),
                            (this.state = Ot);
                        }
                        this.tick();
                      }
                    }),
                    (a.onError = function onError(i) {
                      var a = i.frag;
                      if (!a || 'audio' === a.type)
                        switch (i.details) {
                          case I.ErrorDetails.FRAG_LOAD_ERROR:
                          case I.ErrorDetails.FRAG_LOAD_TIMEOUT:
                            var o = i.frag;
                            if (o && 'audio' !== o.type) break;
                            if (!i.fatal) {
                              var p = this.fragLoadError;
                              p ? p++ : (p = 1);
                              var m = this.config;
                              if (p <= m.fragLoadingMaxRetry) {
                                this.fragLoadError = p;
                                var _ = Math.min(
                                  Math.pow(2, p - 1) * m.fragLoadingRetryDelay,
                                  m.fragLoadingMaxRetryTimeout
                                );
                                K.logger.warn(
                                  'AudioStreamController: frag loading failed, retry in ' +
                                    _ +
                                    ' ms'
                                ),
                                  (this.retryDate = fr.now() + _),
                                  (this.state = Ft);
                              } else
                                K.logger.error(
                                  'AudioStreamController: ' +
                                    i.details +
                                    ' reaches max retry, redispatch as fatal ...'
                                ),
                                  (i.fatal = !0),
                                  (this.state = Vt);
                            }
                            break;
                          case I.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:
                          case I.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:
                          case I.ErrorDetails.KEY_LOAD_ERROR:
                          case I.ErrorDetails.KEY_LOAD_TIMEOUT:
                            this.state !== Vt &&
                              ((this.state = i.fatal ? Vt : Ot),
                              K.logger.warn(
                                'AudioStreamController: ' +
                                  i.details +
                                  ' while loading frag, now switching to ' +
                                  this.state +
                                  ' state ...'
                              ));
                            break;
                          case I.ErrorDetails.BUFFER_FULL_ERROR:
                            if (
                              'audio' === i.parent &&
                              (this.state === Bt || this.state === jt)
                            ) {
                              var w = this.mediaBuffer,
                                x = this.media.currentTime;
                              if (
                                w &&
                                bt.isBuffered(w, x) &&
                                bt.isBuffered(w, x + 0.5)
                              ) {
                                var D = this.config;
                                D.maxMaxBufferLength >= D.maxBufferLength &&
                                  ((D.maxMaxBufferLength /= 2),
                                  K.logger.warn(
                                    'AudioStreamController: reduce max buffer length to ' +
                                      D.maxMaxBufferLength +
                                      's'
                                  )),
                                  (this.state = Ot);
                              } else
                                K.logger.warn(
                                  'AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer'
                                ),
                                  (this.fragCurrent = null),
                                  (this.state = Gt),
                                  this.hls.trigger(
                                    j['default'].BUFFER_FLUSHING,
                                    {
                                      startOffset: 0,
                                      endOffset: Number.POSITIVE_INFINITY,
                                      type: 'audio',
                                    }
                                  );
                            }
                        }
                    }),
                    (a.onBufferFlushed = function onBufferFlushed() {
                      var i = this,
                        a = this.pendingData;
                      a && a.length
                        ? (K.logger.log(
                            'AudioStreamController: appending pending audio data after buffer flushed'
                          ),
                          a.forEach(function (a) {
                            i.hls.trigger(j['default'].BUFFER_APPENDING, a);
                          }),
                          (this.appended = !0),
                          (this.pendingData = []),
                          (this.state = jt))
                        : ((this.state = Ot),
                          (this.fragPrevious = null),
                          this.tick());
                    }),
                    (function audio_stream_controller_createClass(i, a, o) {
                      return (
                        a &&
                          audio_stream_controller_defineProperties(
                            i.prototype,
                            a
                          ),
                        o && audio_stream_controller_defineProperties(i, o),
                        i
                      );
                    })(AudioStreamController, [
                      {
                        key: 'state',
                        set: function set(i) {
                          if (this.state !== i) {
                            var a = this.state;
                            (this._state = i),
                              K.logger.log('audio stream:' + a + '->' + i);
                          }
                        },
                        get: function get() {
                          return this._state;
                        },
                      },
                    ]),
                    AudioStreamController
                  );
                })(zt),
                pr = (function () {
                  if ('undefined' != typeof window && window.VTTCue)
                    return window.VTTCue;
                  var i = { '': !0, lr: !0, rl: !0 },
                    a = { start: !0, middle: !0, end: !0, left: !0, right: !0 };
                  function findAlignSetting(i) {
                    return (
                      'string' == typeof i &&
                      !!a[i.toLowerCase()] &&
                      i.toLowerCase()
                    );
                  }
                  function extend(i) {
                    for (var a = 1; a < arguments.length; a++) {
                      var o = arguments[a];
                      for (var p in o) i[p] = o[p];
                    }
                    return i;
                  }
                  function VTTCue(a, o, p) {
                    var m = this,
                      _ = { enumerable: !0 };
                    m.hasBeenReset = !1;
                    var w = '',
                      x = !1,
                      I = a,
                      D = o,
                      j = p,
                      K = null,
                      q = '',
                      $ = !0,
                      Z = 'auto',
                      be = 'start',
                      Se = 50,
                      _e = 'middle',
                      we = 50,
                      xe = 'middle';
                    Object.defineProperty(
                      m,
                      'id',
                      extend({}, _, {
                        get: function get() {
                          return w;
                        },
                        set: function set(i) {
                          w = '' + i;
                        },
                      })
                    ),
                      Object.defineProperty(
                        m,
                        'pauseOnExit',
                        extend({}, _, {
                          get: function get() {
                            return x;
                          },
                          set: function set(i) {
                            x = !!i;
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'startTime',
                        extend({}, _, {
                          get: function get() {
                            return I;
                          },
                          set: function set(i) {
                            if ('number' != typeof i)
                              throw new TypeError(
                                'Start time must be set to a number.'
                              );
                            (I = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'endTime',
                        extend({}, _, {
                          get: function get() {
                            return D;
                          },
                          set: function set(i) {
                            if ('number' != typeof i)
                              throw new TypeError(
                                'End time must be set to a number.'
                              );
                            (D = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'text',
                        extend({}, _, {
                          get: function get() {
                            return j;
                          },
                          set: function set(i) {
                            (j = '' + i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'region',
                        extend({}, _, {
                          get: function get() {
                            return K;
                          },
                          set: function set(i) {
                            (K = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'vertical',
                        extend({}, _, {
                          get: function get() {
                            return q;
                          },
                          set: function set(a) {
                            var o = (function findDirectionSetting(a) {
                              return (
                                'string' == typeof a &&
                                !!i[a.toLowerCase()] &&
                                a.toLowerCase()
                              );
                            })(a);
                            if (!1 === o)
                              throw new SyntaxError(
                                'An invalid or illegal string was specified.'
                              );
                            (q = o), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'snapToLines',
                        extend({}, _, {
                          get: function get() {
                            return $;
                          },
                          set: function set(i) {
                            ($ = !!i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'line',
                        extend({}, _, {
                          get: function get() {
                            return Z;
                          },
                          set: function set(i) {
                            if ('number' != typeof i && 'auto' !== i)
                              throw new SyntaxError(
                                'An invalid number or illegal string was specified.'
                              );
                            (Z = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'lineAlign',
                        extend({}, _, {
                          get: function get() {
                            return be;
                          },
                          set: function set(i) {
                            var a = findAlignSetting(i);
                            if (!a)
                              throw new SyntaxError(
                                'An invalid or illegal string was specified.'
                              );
                            (be = a), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'position',
                        extend({}, _, {
                          get: function get() {
                            return Se;
                          },
                          set: function set(i) {
                            if (i < 0 || i > 100)
                              throw new Error(
                                'Position must be between 0 and 100.'
                              );
                            (Se = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'positionAlign',
                        extend({}, _, {
                          get: function get() {
                            return _e;
                          },
                          set: function set(i) {
                            var a = findAlignSetting(i);
                            if (!a)
                              throw new SyntaxError(
                                'An invalid or illegal string was specified.'
                              );
                            (_e = a), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'size',
                        extend({}, _, {
                          get: function get() {
                            return we;
                          },
                          set: function set(i) {
                            if (i < 0 || i > 100)
                              throw new Error(
                                'Size must be between 0 and 100.'
                              );
                            (we = i), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      Object.defineProperty(
                        m,
                        'align',
                        extend({}, _, {
                          get: function get() {
                            return xe;
                          },
                          set: function set(i) {
                            var a = findAlignSetting(i);
                            if (!a)
                              throw new SyntaxError(
                                'An invalid or illegal string was specified.'
                              );
                            (xe = a), (this.hasBeenReset = !0);
                          },
                        })
                      ),
                      (m.displayState = void 0);
                  }
                  return (
                    (VTTCue.prototype.getCueAsHTML = function () {
                      return window.WebVTT.convertCueToDOMTree(
                        window,
                        this.text
                      );
                    }),
                    VTTCue
                  );
                })(),
                gr = function StringDecoder() {
                  return {
                    decode: function decode(i) {
                      if (!i) return '';
                      if ('string' != typeof i)
                        throw new Error('Error - expected string data.');
                      return decodeURIComponent(encodeURIComponent(i));
                    },
                  };
                };
              function VTTParser() {
                (this.window = window),
                  (this.state = 'INITIAL'),
                  (this.buffer = ''),
                  (this.decoder = new gr()),
                  (this.regionList = []);
              }
              function Settings() {
                this.values = Object.create(null);
              }
              function parseOptions(i, a, o, p) {
                var m = p ? i.split(p) : [i];
                for (var _ in m)
                  if ('string' == typeof m[_]) {
                    var w = m[_].split(o);
                    if (2 === w.length) a(w[0], w[1]);
                  }
              }
              Settings.prototype = {
                set: function set(i, a) {
                  this.get(i) || '' === a || (this.values[i] = a);
                },
                get: function get(i, a, o) {
                  return o
                    ? this.has(i)
                      ? this.values[i]
                      : a[o]
                    : this.has(i)
                    ? this.values[i]
                    : a;
                },
                has: function has(i) {
                  return i in this.values;
                },
                alt: function alt(i, a, o) {
                  for (var p = 0; p < o.length; ++p)
                    if (a === o[p]) {
                      this.set(i, a);
                      break;
                    }
                },
                integer: function integer(i, a) {
                  /^-?\d+$/.test(a) && this.set(i, parseInt(a, 10));
                },
                percent: function percent(i, a) {
                  return (
                    !!(
                      a.match(/^([\d]{1,3})(\.[\d]*)?%$/) &&
                      (a = parseFloat(a)) >= 0 &&
                      a <= 100
                    ) && (this.set(i, a), !0)
                  );
                },
              };
              var mr = new pr(0, 0, 0),
                vr = 'middle' === mr.align ? 'middle' : 'center';
              function parseCue(i, a, o) {
                var p = i;
                function consumeTimeStamp() {
                  var a = (function parseTimeStamp(i) {
                    function computeSeconds(i, a, o, p) {
                      return (
                        3600 * (0 | i) + 60 * (0 | a) + (0 | o) + (0 | p) / 1e3
                      );
                    }
                    var a = i.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
                    return a
                      ? a[3]
                        ? computeSeconds(
                            a[1],
                            a[2],
                            a[3].replace(':', ''),
                            a[4]
                          )
                        : a[1] > 59
                        ? computeSeconds(a[1], a[2], 0, a[4])
                        : computeSeconds(0, a[1], a[2], a[4])
                      : null;
                  })(i);
                  if (null === a) throw new Error('Malformed timestamp: ' + p);
                  return (i = i.replace(/^[^\sa-zA-Z-]+/, '')), a;
                }
                function skipWhitespace() {
                  i = i.replace(/^\s+/, '');
                }
                if (
                  (skipWhitespace(),
                  (a.startTime = consumeTimeStamp()),
                  skipWhitespace(),
                  '--\x3e' !== i.substr(0, 3))
                )
                  throw new Error(
                    "Malformed time stamp (time stamps must be separated by '--\x3e'): " +
                      p
                  );
                (i = i.substr(3)),
                  skipWhitespace(),
                  (a.endTime = consumeTimeStamp()),
                  skipWhitespace(),
                  (function consumeCueSettings(i, a) {
                    var p = new Settings();
                    parseOptions(
                      i,
                      function (i, a) {
                        switch (i) {
                          case 'region':
                            for (var m = o.length - 1; m >= 0; m--)
                              if (o[m].id === a) {
                                p.set(i, o[m].region);
                                break;
                              }
                            break;
                          case 'vertical':
                            p.alt(i, a, ['rl', 'lr']);
                            break;
                          case 'line':
                            var _ = a.split(','),
                              w = _[0];
                            p.integer(i, w),
                              p.percent(i, w) && p.set('snapToLines', !1),
                              p.alt(i, w, ['auto']),
                              2 === _.length &&
                                p.alt('lineAlign', _[1], ['start', vr, 'end']);
                            break;
                          case 'position':
                            (_ = a.split(',')),
                              p.percent(i, _[0]),
                              2 === _.length &&
                                p.alt('positionAlign', _[1], [
                                  'start',
                                  vr,
                                  'end',
                                  'line-left',
                                  'line-right',
                                  'auto',
                                ]);
                            break;
                          case 'size':
                            p.percent(i, a);
                            break;
                          case 'align':
                            p.alt(i, a, ['start', vr, 'end', 'left', 'right']);
                        }
                      },
                      /:/,
                      /\s/
                    ),
                      (a.region = p.get('region', null)),
                      (a.vertical = p.get('vertical', ''));
                    var m = p.get('line', 'auto');
                    'auto' === m && -1 === mr.line && (m = -1),
                      (a.line = m),
                      (a.lineAlign = p.get('lineAlign', 'start')),
                      (a.snapToLines = p.get('snapToLines', !0)),
                      (a.size = p.get('size', 100)),
                      (a.align = p.get('align', vr));
                    var _ = p.get('position', 'auto');
                    'auto' === _ &&
                      50 === mr.position &&
                      (_ =
                        'start' === a.align || 'left' === a.align
                          ? 0
                          : 'end' === a.align || 'right' === a.align
                          ? 100
                          : 50),
                      (a.position = _);
                  })(i, a);
              }
              function fixLineBreaks(i) {
                return i.replace(/<br(?: \/)?>/gi, '\n');
              }
              VTTParser.prototype = {
                parse: function parse(i) {
                  var a = this;
                  function collectNextLine() {
                    var i = a.buffer,
                      o = 0;
                    for (
                      i = fixLineBreaks(i);
                      o < i.length && '\r' !== i[o] && '\n' !== i[o];

                    )
                      ++o;
                    var p = i.substr(0, o);
                    return (
                      '\r' === i[o] && ++o,
                      '\n' === i[o] && ++o,
                      (a.buffer = i.substr(o)),
                      p
                    );
                  }
                  i && (a.buffer += a.decoder.decode(i, { stream: !0 }));
                  try {
                    var o;
                    if ('INITIAL' === a.state) {
                      if (!/\r\n|\n/.test(a.buffer)) return this;
                      var p = (o = collectNextLine()).match(
                        /^()?WEBVTT([ \t].*)?$/
                      );
                      if (!p || !p[0])
                        throw new Error('Malformed WebVTT signature.');
                      a.state = 'HEADER';
                    }
                    for (var m = !1; a.buffer; ) {
                      if (!/\r\n|\n/.test(a.buffer)) return this;
                      switch (
                        (m ? (m = !1) : (o = collectNextLine()), a.state)
                      ) {
                        case 'HEADER':
                          /:/.test(o)
                            ? parseOptions(o, function (i, a) {}, /:/)
                            : o || (a.state = 'ID');
                          continue;
                        case 'NOTE':
                          o || (a.state = 'ID');
                          continue;
                        case 'ID':
                          if (/^NOTE($|[ \t])/.test(o)) {
                            a.state = 'NOTE';
                            break;
                          }
                          if (!o) continue;
                          if (
                            ((a.cue = new pr(0, 0, '')),
                            (a.state = 'CUE'),
                            -1 === o.indexOf('--\x3e'))
                          ) {
                            a.cue.id = o;
                            continue;
                          }
                        case 'CUE':
                          try {
                            parseCue(o, a.cue, a.regionList);
                          } catch (w) {
                            (a.cue = null), (a.state = 'BADCUE');
                            continue;
                          }
                          a.state = 'CUETEXT';
                          continue;
                        case 'CUETEXT':
                          var _ = -1 !== o.indexOf('--\x3e');
                          if (!o || (_ && (m = !0))) {
                            a.oncue && a.oncue(a.cue),
                              (a.cue = null),
                              (a.state = 'ID');
                            continue;
                          }
                          a.cue.text && (a.cue.text += '\n'), (a.cue.text += o);
                          continue;
                        case 'BADCUE':
                          o || (a.state = 'ID');
                          continue;
                      }
                    }
                  } catch (w) {
                    'CUETEXT' === a.state && a.cue && a.oncue && a.oncue(a.cue),
                      (a.cue = null),
                      (a.state =
                        'INITIAL' === a.state ? 'BADWEBVTT' : 'BADCUE');
                  }
                  return this;
                },
                flush: function flush() {
                  var i = this;
                  try {
                    if (
                      ((i.buffer += i.decoder.decode()),
                      (i.cue || 'HEADER' === i.state) &&
                        ((i.buffer += '\n\n'), i.parse()),
                      'INITIAL' === i.state)
                    )
                      throw new Error('Malformed WebVTT signature.');
                  } catch (a) {
                    throw a;
                  }
                  return i.onflush && i.onflush(), this;
                },
              };
              var yr = VTTParser;
              function newCue(i, a, o, p) {
                for (
                  var m, _, w, x, I, D = window.VTTCue || TextTrackCue, j = 0;
                  j < p.rows.length;
                  j++
                )
                  if (
                    ((w = !0), (x = 0), (I = ''), !(m = p.rows[j]).isEmpty())
                  ) {
                    for (var K = 0; K < m.chars.length; K++)
                      m.chars[K].uchar.match(/\s/) && w
                        ? x++
                        : ((I += m.chars[K].uchar), (w = !1));
                    (m.cueStartTime = a),
                      a === o && (o += 1e-4),
                      (_ = new D(a, o, fixLineBreaks(I.trim()))),
                      x >= 16 ? x-- : x++,
                      navigator.userAgent.match(/Firefox\//)
                        ? (_.line = j + 1)
                        : (_.line = j > 7 ? j - 2 : j + 1),
                      (_.align = 'left'),
                      (_.position = Math.max(0, Math.min(100, (x / 32) * 100))),
                      i.addCue(_);
                  }
              }
              var br,
                Tr = {
                  42: 225,
                  92: 233,
                  94: 237,
                  95: 243,
                  96: 250,
                  123: 231,
                  124: 247,
                  125: 209,
                  126: 241,
                  127: 9608,
                  128: 174,
                  129: 176,
                  130: 189,
                  131: 191,
                  132: 8482,
                  133: 162,
                  134: 163,
                  135: 9834,
                  136: 224,
                  137: 32,
                  138: 232,
                  139: 226,
                  140: 234,
                  141: 238,
                  142: 244,
                  143: 251,
                  144: 193,
                  145: 201,
                  146: 211,
                  147: 218,
                  148: 220,
                  149: 252,
                  150: 8216,
                  151: 161,
                  152: 42,
                  153: 8217,
                  154: 9473,
                  155: 169,
                  156: 8480,
                  157: 8226,
                  158: 8220,
                  159: 8221,
                  160: 192,
                  161: 194,
                  162: 199,
                  163: 200,
                  164: 202,
                  165: 203,
                  166: 235,
                  167: 206,
                  168: 207,
                  169: 239,
                  170: 212,
                  171: 217,
                  172: 249,
                  173: 219,
                  174: 171,
                  175: 187,
                  176: 195,
                  177: 227,
                  178: 205,
                  179: 204,
                  180: 236,
                  181: 210,
                  182: 242,
                  183: 213,
                  184: 245,
                  185: 123,
                  186: 125,
                  187: 92,
                  188: 94,
                  189: 95,
                  190: 124,
                  191: 8764,
                  192: 196,
                  193: 228,
                  194: 214,
                  195: 246,
                  196: 223,
                  197: 165,
                  198: 164,
                  199: 9475,
                  200: 197,
                  201: 229,
                  202: 216,
                  203: 248,
                  204: 9487,
                  205: 9491,
                  206: 9495,
                  207: 9499,
                },
                Sr = function getCharForByte(i) {
                  var a = i;
                  return (
                    Tr.hasOwnProperty(i) && (a = Tr[i]), String.fromCharCode(a)
                  );
                },
                Er = 15,
                _r = 100,
                wr = {
                  17: 1,
                  18: 3,
                  21: 5,
                  22: 7,
                  23: 9,
                  16: 11,
                  19: 12,
                  20: 14,
                },
                Ar = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 },
                kr = {
                  25: 1,
                  26: 3,
                  29: 5,
                  30: 7,
                  31: 9,
                  24: 11,
                  27: 12,
                  28: 14,
                },
                xr = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 },
                Pr = [
                  'white',
                  'green',
                  'blue',
                  'cyan',
                  'red',
                  'yellow',
                  'magenta',
                  'black',
                  'transparent',
                ];
              !(function (i) {
                (i[(i.ERROR = 0)] = 'ERROR'),
                  (i[(i.TEXT = 1)] = 'TEXT'),
                  (i[(i.WARNING = 2)] = 'WARNING'),
                  (i[(i.INFO = 2)] = 'INFO'),
                  (i[(i.DEBUG = 3)] = 'DEBUG'),
                  (i[(i.DATA = 3)] = 'DATA');
              })(br || (br = {}));
              var Rr = {
                  verboseFilter: {
                    DATA: 3,
                    DEBUG: 3,
                    INFO: 2,
                    WARNING: 2,
                    TEXT: 1,
                    ERROR: 0,
                  },
                  time: null,
                  verboseLevel: 0,
                  setTime: function setTime(i) {
                    this.time = i;
                  },
                  log: function log(i, a) {
                    this.verboseFilter[i];
                    this.verboseLevel;
                  },
                },
                Cr = function numArrayToHexArray(i) {
                  for (var a = [], o = 0; o < i.length; o++)
                    a.push(i[o].toString(16));
                  return a;
                },
                Ir = (function () {
                  function PenState(i, a, o, p, m) {
                    (this.foreground = void 0),
                      (this.underline = void 0),
                      (this.italics = void 0),
                      (this.background = void 0),
                      (this.flash = void 0),
                      (this.foreground = i || 'white'),
                      (this.underline = a || !1),
                      (this.italics = o || !1),
                      (this.background = p || 'black'),
                      (this.flash = m || !1);
                  }
                  var i = PenState.prototype;
                  return (
                    (i.reset = function reset() {
                      (this.foreground = 'white'),
                        (this.underline = !1),
                        (this.italics = !1),
                        (this.background = 'black'),
                        (this.flash = !1);
                    }),
                    (i.setStyles = function setStyles(i) {
                      for (
                        var a = [
                            'foreground',
                            'underline',
                            'italics',
                            'background',
                            'flash',
                          ],
                          o = 0;
                        o < a.length;
                        o++
                      ) {
                        var p = a[o];
                        i.hasOwnProperty(p) && (this[p] = i[p]);
                      }
                    }),
                    (i.isDefault = function isDefault() {
                      return (
                        'white' === this.foreground &&
                        !this.underline &&
                        !this.italics &&
                        'black' === this.background &&
                        !this.flash
                      );
                    }),
                    (i.equals = function equals(i) {
                      return (
                        this.foreground === i.foreground &&
                        this.underline === i.underline &&
                        this.italics === i.italics &&
                        this.background === i.background &&
                        this.flash === i.flash
                      );
                    }),
                    (i.copy = function copy(i) {
                      (this.foreground = i.foreground),
                        (this.underline = i.underline),
                        (this.italics = i.italics),
                        (this.background = i.background),
                        (this.flash = i.flash);
                    }),
                    (i.toString = function toString() {
                      return (
                        'color=' +
                        this.foreground +
                        ', underline=' +
                        this.underline +
                        ', italics=' +
                        this.italics +
                        ', background=' +
                        this.background +
                        ', flash=' +
                        this.flash
                      );
                    }),
                    PenState
                  );
                })(),
                Dr = (function () {
                  function StyledUnicodeChar(i, a, o, p, m, _) {
                    (this.uchar = void 0),
                      (this.penState = void 0),
                      (this.uchar = i || ' '),
                      (this.penState = new Ir(a, o, p, m, _));
                  }
                  var i = StyledUnicodeChar.prototype;
                  return (
                    (i.reset = function reset() {
                      (this.uchar = ' '), this.penState.reset();
                    }),
                    (i.setChar = function setChar(i, a) {
                      (this.uchar = i), this.penState.copy(a);
                    }),
                    (i.setPenState = function setPenState(i) {
                      this.penState.copy(i);
                    }),
                    (i.equals = function equals(i) {
                      return (
                        this.uchar === i.uchar &&
                        this.penState.equals(i.penState)
                      );
                    }),
                    (i.copy = function copy(i) {
                      (this.uchar = i.uchar), this.penState.copy(i.penState);
                    }),
                    (i.isEmpty = function isEmpty() {
                      return ' ' === this.uchar && this.penState.isDefault();
                    }),
                    StyledUnicodeChar
                  );
                })(),
                Or = (function () {
                  function Row() {
                    (this.chars = void 0),
                      (this.pos = void 0),
                      (this.currPenState = void 0),
                      (this.cueStartTime = void 0),
                      (this.chars = []);
                    for (var i = 0; i < _r; i++) this.chars.push(new Dr());
                    (this.pos = 0), (this.currPenState = new Ir());
                  }
                  var i = Row.prototype;
                  return (
                    (i.equals = function equals(i) {
                      for (var a = !0, o = 0; o < _r; o++)
                        if (!this.chars[o].equals(i.chars[o])) {
                          a = !1;
                          break;
                        }
                      return a;
                    }),
                    (i.copy = function copy(i) {
                      for (var a = 0; a < _r; a++)
                        this.chars[a].copy(i.chars[a]);
                    }),
                    (i.isEmpty = function isEmpty() {
                      for (var i = !0, a = 0; a < _r; a++)
                        if (!this.chars[a].isEmpty()) {
                          i = !1;
                          break;
                        }
                      return i;
                    }),
                    (i.setCursor = function setCursor(i) {
                      this.pos !== i && (this.pos = i),
                        this.pos < 0
                          ? (Rr.log(
                              'ERROR',
                              'Negative cursor position ' + this.pos
                            ),
                            (this.pos = 0))
                          : this.pos > _r &&
                            (Rr.log(
                              'ERROR',
                              'Too large cursor position ' + this.pos
                            ),
                            (this.pos = _r));
                    }),
                    (i.moveCursor = function moveCursor(i) {
                      var a = this.pos + i;
                      if (i > 1)
                        for (var o = this.pos + 1; o < a + 1; o++)
                          this.chars[o].setPenState(this.currPenState);
                      this.setCursor(a);
                    }),
                    (i.backSpace = function backSpace() {
                      this.moveCursor(-1),
                        this.chars[this.pos].setChar(' ', this.currPenState);
                    }),
                    (i.insertChar = function insertChar(i) {
                      i >= 144 && this.backSpace();
                      var a = Sr(i);
                      this.pos >= _r
                        ? Rr.log(
                            'ERROR',
                            'Cannot insert ' +
                              i.toString(16) +
                              ' (' +
                              a +
                              ') at position ' +
                              this.pos +
                              '. Skipping it!'
                          )
                        : (this.chars[this.pos].setChar(a, this.currPenState),
                          this.moveCursor(1));
                    }),
                    (i.clearFromPos = function clearFromPos(i) {
                      var a;
                      for (a = i; a < _r; a++) this.chars[a].reset();
                    }),
                    (i.clear = function clear() {
                      this.clearFromPos(0),
                        (this.pos = 0),
                        this.currPenState.reset();
                    }),
                    (i.clearToEndOfRow = function clearToEndOfRow() {
                      this.clearFromPos(this.pos);
                    }),
                    (i.getTextString = function getTextString() {
                      for (var i = [], a = !0, o = 0; o < _r; o++) {
                        var p = this.chars[o].uchar;
                        ' ' !== p && (a = !1), i.push(p);
                      }
                      return a ? '' : i.join('');
                    }),
                    (i.setPenStyles = function setPenStyles(i) {
                      this.currPenState.setStyles(i),
                        this.chars[this.pos].setPenState(this.currPenState);
                    }),
                    Row
                  );
                })(),
                Lr = (function () {
                  function CaptionScreen() {
                    (this.rows = void 0),
                      (this.currRow = void 0),
                      (this.nrRollUpRows = void 0),
                      (this.lastOutputScreen = void 0),
                      (this.rows = []);
                    for (var i = 0; i < Er; i++) this.rows.push(new Or());
                    (this.currRow = 14),
                      (this.nrRollUpRows = null),
                      this.reset();
                  }
                  var i = CaptionScreen.prototype;
                  return (
                    (i.reset = function reset() {
                      for (var i = 0; i < Er; i++) this.rows[i].clear();
                      this.currRow = 14;
                    }),
                    (i.equals = function equals(i) {
                      for (var a = !0, o = 0; o < Er; o++)
                        if (!this.rows[o].equals(i.rows[o])) {
                          a = !1;
                          break;
                        }
                      return a;
                    }),
                    (i.copy = function copy(i) {
                      for (var a = 0; a < Er; a++) this.rows[a].copy(i.rows[a]);
                    }),
                    (i.isEmpty = function isEmpty() {
                      for (var i = !0, a = 0; a < Er; a++)
                        if (!this.rows[a].isEmpty()) {
                          i = !1;
                          break;
                        }
                      return i;
                    }),
                    (i.backSpace = function backSpace() {
                      this.rows[this.currRow].backSpace();
                    }),
                    (i.clearToEndOfRow = function clearToEndOfRow() {
                      this.rows[this.currRow].clearToEndOfRow();
                    }),
                    (i.insertChar = function insertChar(i) {
                      this.rows[this.currRow].insertChar(i);
                    }),
                    (i.setPen = function setPen(i) {
                      this.rows[this.currRow].setPenStyles(i);
                    }),
                    (i.moveCursor = function moveCursor(i) {
                      this.rows[this.currRow].moveCursor(i);
                    }),
                    (i.setCursor = function setCursor(i) {
                      Rr.log('INFO', 'setCursor: ' + i),
                        this.rows[this.currRow].setCursor(i);
                    }),
                    (i.setPAC = function setPAC(i) {
                      Rr.log('INFO', 'pacData = ' + JSON.stringify(i));
                      var a = i.row - 1;
                      if (
                        (this.nrRollUpRows &&
                          a < this.nrRollUpRows - 1 &&
                          (a = this.nrRollUpRows - 1),
                        this.nrRollUpRows && this.currRow !== a)
                      ) {
                        for (var o = 0; o < Er; o++) this.rows[o].clear();
                        var p = this.currRow + 1 - this.nrRollUpRows,
                          m = this.lastOutputScreen;
                        if (m) {
                          var _ = m.rows[p].cueStartTime;
                          if (_ && Rr.time && _ < Rr.time)
                            for (var w = 0; w < this.nrRollUpRows; w++)
                              this.rows[a - this.nrRollUpRows + w + 1].copy(
                                m.rows[p + w]
                              );
                        }
                      }
                      this.currRow = a;
                      var x = this.rows[this.currRow];
                      if (null !== i.indent) {
                        var I = i.indent,
                          D = Math.max(I - 1, 0);
                        x.setCursor(i.indent),
                          (i.color = x.chars[D].penState.foreground);
                      }
                      var j = {
                        foreground: i.color,
                        underline: i.underline,
                        italics: i.italics,
                        background: 'black',
                        flash: !1,
                      };
                      this.setPen(j);
                    }),
                    (i.setBkgData = function setBkgData(i) {
                      Rr.log('INFO', 'bkgData = ' + JSON.stringify(i)),
                        this.backSpace(),
                        this.setPen(i),
                        this.insertChar(32);
                    }),
                    (i.setRollUpRows = function setRollUpRows(i) {
                      this.nrRollUpRows = i;
                    }),
                    (i.rollUp = function rollUp() {
                      if (null !== this.nrRollUpRows) {
                        Rr.log('TEXT', this.getDisplayText());
                        var i = this.currRow + 1 - this.nrRollUpRows,
                          a = this.rows.splice(i, 1)[0];
                        a.clear(),
                          this.rows.splice(this.currRow, 0, a),
                          Rr.log('INFO', 'Rolling up');
                      } else
                        Rr.log('DEBUG', 'roll_up but nrRollUpRows not set yet');
                    }),
                    (i.getDisplayText = function getDisplayText(i) {
                      i = i || !1;
                      for (var a = [], o = '', p = -1, m = 0; m < Er; m++) {
                        var _ = this.rows[m].getTextString();
                        _ &&
                          ((p = m + 1),
                          i
                            ? a.push('Row ' + p + ": '" + _ + "'")
                            : a.push(_.trim()));
                      }
                      return (
                        a.length > 0 &&
                          (o = i ? '[' + a.join(' | ') + ']' : a.join('\n')),
                        o
                      );
                    }),
                    (i.getTextAndFormat = function getTextAndFormat() {
                      return this.rows;
                    }),
                    CaptionScreen
                  );
                })(),
                Mr = (function () {
                  function Cea608Channel(i, a) {
                    (this.chNr = void 0),
                      (this.outputFilter = void 0),
                      (this.mode = void 0),
                      (this.verbose = void 0),
                      (this.displayedMemory = void 0),
                      (this.nonDisplayedMemory = void 0),
                      (this.lastOutputScreen = void 0),
                      (this.currRollUpRow = void 0),
                      (this.writeScreen = void 0),
                      (this.cueStartTime = void 0),
                      (this.lastCueEndTime = void 0),
                      (this.chNr = i),
                      (this.outputFilter = a),
                      (this.mode = null),
                      (this.verbose = 0),
                      (this.displayedMemory = new Lr()),
                      (this.nonDisplayedMemory = new Lr()),
                      (this.lastOutputScreen = new Lr()),
                      (this.currRollUpRow = this.displayedMemory.rows[14]),
                      (this.writeScreen = this.displayedMemory),
                      (this.mode = null),
                      (this.cueStartTime = null);
                  }
                  var i = Cea608Channel.prototype;
                  return (
                    (i.reset = function reset() {
                      (this.mode = null),
                        this.displayedMemory.reset(),
                        this.nonDisplayedMemory.reset(),
                        this.lastOutputScreen.reset(),
                        (this.currRollUpRow = this.displayedMemory.rows[14]),
                        (this.writeScreen = this.displayedMemory),
                        (this.mode = null),
                        (this.cueStartTime = null);
                    }),
                    (i.getHandler = function getHandler() {
                      return this.outputFilter;
                    }),
                    (i.setHandler = function setHandler(i) {
                      this.outputFilter = i;
                    }),
                    (i.setPAC = function setPAC(i) {
                      this.writeScreen.setPAC(i);
                    }),
                    (i.setBkgData = function setBkgData(i) {
                      this.writeScreen.setBkgData(i);
                    }),
                    (i.setMode = function setMode(i) {
                      i !== this.mode &&
                        ((this.mode = i),
                        Rr.log('INFO', 'MODE=' + i),
                        'MODE_POP-ON' === this.mode
                          ? (this.writeScreen = this.nonDisplayedMemory)
                          : ((this.writeScreen = this.displayedMemory),
                            this.writeScreen.reset()),
                        'MODE_ROLL-UP' !== this.mode &&
                          ((this.displayedMemory.nrRollUpRows = null),
                          (this.nonDisplayedMemory.nrRollUpRows = null)),
                        (this.mode = i));
                    }),
                    (i.insertChars = function insertChars(i) {
                      for (var a = 0; a < i.length; a++)
                        this.writeScreen.insertChar(i[a]);
                      var o =
                        this.writeScreen === this.displayedMemory
                          ? 'DISP'
                          : 'NON_DISP';
                      Rr.log(
                        'INFO',
                        o + ': ' + this.writeScreen.getDisplayText(!0)
                      ),
                        ('MODE_PAINT-ON' !== this.mode &&
                          'MODE_ROLL-UP' !== this.mode) ||
                          (Rr.log(
                            'TEXT',
                            'DISPLAYED: ' +
                              this.displayedMemory.getDisplayText(!0)
                          ),
                          this.outputDataUpdate());
                    }),
                    (i.ccRCL = function ccRCL() {
                      Rr.log('INFO', 'RCL - Resume Caption Loading'),
                        this.setMode('MODE_POP-ON');
                    }),
                    (i.ccBS = function ccBS() {
                      Rr.log('INFO', 'BS - BackSpace'),
                        'MODE_TEXT' !== this.mode &&
                          (this.writeScreen.backSpace(),
                          this.writeScreen === this.displayedMemory &&
                            this.outputDataUpdate());
                    }),
                    (i.ccAOF = function ccAOF() {}),
                    (i.ccAON = function ccAON() {}),
                    (i.ccDER = function ccDER() {
                      Rr.log('INFO', 'DER- Delete to End of Row'),
                        this.writeScreen.clearToEndOfRow(),
                        this.outputDataUpdate();
                    }),
                    (i.ccRU = function ccRU(i) {
                      Rr.log('INFO', 'RU(' + i + ') - Roll Up'),
                        (this.writeScreen = this.displayedMemory),
                        this.setMode('MODE_ROLL-UP'),
                        this.writeScreen.setRollUpRows(i);
                    }),
                    (i.ccFON = function ccFON() {
                      Rr.log('INFO', 'FON - Flash On'),
                        this.writeScreen.setPen({ flash: !0 });
                    }),
                    (i.ccRDC = function ccRDC() {
                      Rr.log('INFO', 'RDC - Resume Direct Captioning'),
                        this.setMode('MODE_PAINT-ON');
                    }),
                    (i.ccTR = function ccTR() {
                      Rr.log('INFO', 'TR'), this.setMode('MODE_TEXT');
                    }),
                    (i.ccRTD = function ccRTD() {
                      Rr.log('INFO', 'RTD'), this.setMode('MODE_TEXT');
                    }),
                    (i.ccEDM = function ccEDM() {
                      Rr.log('INFO', 'EDM - Erase Displayed Memory'),
                        this.displayedMemory.reset(),
                        this.outputDataUpdate(!0);
                    }),
                    (i.ccCR = function ccCR() {
                      Rr.log('INFO', 'CR - Carriage Return'),
                        this.writeScreen.rollUp(),
                        this.outputDataUpdate(!0);
                    }),
                    (i.ccENM = function ccENM() {
                      Rr.log('INFO', 'ENM - Erase Non-displayed Memory'),
                        this.nonDisplayedMemory.reset();
                    }),
                    (i.ccEOC = function ccEOC() {
                      if (
                        (Rr.log('INFO', 'EOC - End Of Caption'),
                        'MODE_POP-ON' === this.mode)
                      ) {
                        var i = this.displayedMemory;
                        (this.displayedMemory = this.nonDisplayedMemory),
                          (this.nonDisplayedMemory = i),
                          (this.writeScreen = this.nonDisplayedMemory),
                          Rr.log(
                            'TEXT',
                            'DISP: ' + this.displayedMemory.getDisplayText()
                          );
                      }
                      this.outputDataUpdate(!0);
                    }),
                    (i.ccTO = function ccTO(i) {
                      Rr.log('INFO', 'TO(' + i + ') - Tab Offset'),
                        this.writeScreen.moveCursor(i);
                    }),
                    (i.ccMIDROW = function ccMIDROW(i) {
                      var a = { flash: !1 };
                      if (
                        ((a.underline = i % 2 == 1),
                        (a.italics = i >= 46),
                        a.italics)
                      )
                        a.foreground = 'white';
                      else {
                        var o = Math.floor(i / 2) - 16;
                        a.foreground = [
                          'white',
                          'green',
                          'blue',
                          'cyan',
                          'red',
                          'yellow',
                          'magenta',
                        ][o];
                      }
                      Rr.log('INFO', 'MIDROW: ' + JSON.stringify(a)),
                        this.writeScreen.setPen(a);
                    }),
                    (i.outputDataUpdate = function outputDataUpdate(i) {
                      void 0 === i && (i = !1);
                      var a = Rr.time;
                      null !== a &&
                        this.outputFilter &&
                        (null !== this.cueStartTime ||
                        this.displayedMemory.isEmpty()
                          ? this.displayedMemory.equals(
                              this.lastOutputScreen
                            ) ||
                            (this.outputFilter.newCue(
                              this.cueStartTime,
                              a,
                              this.lastOutputScreen
                            ),
                            i &&
                              this.outputFilter.dispatchCue &&
                              this.outputFilter.dispatchCue(),
                            (this.cueStartTime = this.displayedMemory.isEmpty()
                              ? null
                              : a))
                          : (this.cueStartTime = a),
                        this.lastOutputScreen.copy(this.displayedMemory));
                    }),
                    (i.cueSplitAtTime = function cueSplitAtTime(i) {
                      this.outputFilter &&
                        (this.displayedMemory.isEmpty() ||
                          (this.outputFilter.newCue &&
                            this.outputFilter.newCue(
                              this.cueStartTime,
                              i,
                              this.displayedMemory
                            ),
                          (this.cueStartTime = i)));
                    }),
                    Cea608Channel
                  );
                })(),
                Nr = (function () {
                  function Cea608Parser(i, a, o) {
                    (this.field = void 0),
                      (this.outputs = void 0),
                      (this.channels = void 0),
                      (this.currChNr = void 0),
                      (this.lastCmdA = void 0),
                      (this.lastCmdB = void 0),
                      (this.lastTime = void 0),
                      (this.dataCounters = void 0),
                      (this.field = i || 1),
                      (this.outputs = [a, o]),
                      (this.channels = [new Mr(1, a), new Mr(2, o)]),
                      (this.currChNr = -1),
                      (this.lastCmdA = null),
                      (this.lastCmdB = null),
                      (this.lastTime = null),
                      (this.dataCounters = {
                        padding: 0,
                        char: 0,
                        cmd: 0,
                        other: 0,
                      });
                  }
                  var i = Cea608Parser.prototype;
                  return (
                    (i.getHandler = function getHandler(i) {
                      return this.channels[i].getHandler();
                    }),
                    (i.setHandler = function setHandler(i, a) {
                      this.channels[i].setHandler(a);
                    }),
                    (i.addData = function addData(i, a) {
                      var o,
                        p,
                        m,
                        _ = !1;
                      (this.lastTime = i), Rr.setTime(i);
                      for (var w = 0; w < a.length; w += 2)
                        if (
                          ((p = 127 & a[w]),
                          (m = 127 & a[w + 1]),
                          0 !== p || 0 !== m)
                        ) {
                          if (
                            (Rr.log(
                              'DATA',
                              '[' +
                                Cr([a[w], a[w + 1]]) +
                                '] -> (' +
                                Cr([p, m]) +
                                ')'
                            ),
                            (o = this.parseCmd(p, m)) ||
                              (o = this.parseMidrow(p, m)),
                            o || (o = this.parsePAC(p, m)),
                            o || (o = this.parseBackgroundAttributes(p, m)),
                            !o)
                          )
                            if ((_ = this.parseChars(p, m)))
                              if (this.currChNr && this.currChNr >= 0)
                                this.channels[this.currChNr - 1].insertChars(_);
                              else
                                Rr.log(
                                  'WARNING',
                                  'No channel found yet. TEXT-MODE?'
                                );
                          o
                            ? (this.dataCounters.cmd += 2)
                            : _
                            ? (this.dataCounters.char += 2)
                            : ((this.dataCounters.other += 2),
                              Rr.log(
                                'WARNING',
                                "Couldn't parse cleaned data " +
                                  Cr([p, m]) +
                                  ' orig: ' +
                                  Cr([a[w], a[w + 1]])
                              ));
                        } else this.dataCounters.padding += 2;
                    }),
                    (i.parseCmd = function parseCmd(i, a) {
                      var o = null;
                      if (
                        !((20 === i || 28 === i) && a >= 32 && a <= 47) &&
                        !((23 === i || 31 === i) && a >= 33 && a <= 35)
                      )
                        return !1;
                      if (i === this.lastCmdA && a === this.lastCmdB)
                        return (
                          (this.lastCmdA = null),
                          (this.lastCmdB = null),
                          Rr.log(
                            'DEBUG',
                            'Repeated command (' + Cr([i, a]) + ') is dropped'
                          ),
                          !0
                        );
                      o = 20 === i || 23 === i ? 1 : 2;
                      var p = this.channels[o - 1];
                      return (
                        20 === i || 28 === i
                          ? 32 === a
                            ? p.ccRCL()
                            : 33 === a
                            ? p.ccBS()
                            : 34 === a
                            ? p.ccAOF()
                            : 35 === a
                            ? p.ccAON()
                            : 36 === a
                            ? p.ccDER()
                            : 37 === a
                            ? p.ccRU(2)
                            : 38 === a
                            ? p.ccRU(3)
                            : 39 === a
                            ? p.ccRU(4)
                            : 40 === a
                            ? p.ccFON()
                            : 41 === a
                            ? p.ccRDC()
                            : 42 === a
                            ? p.ccTR()
                            : 43 === a
                            ? p.ccRTD()
                            : 44 === a
                            ? p.ccEDM()
                            : 45 === a
                            ? p.ccCR()
                            : 46 === a
                            ? p.ccENM()
                            : 47 === a && p.ccEOC()
                          : p.ccTO(a - 32),
                        (this.lastCmdA = i),
                        (this.lastCmdB = a),
                        (this.currChNr = o),
                        !0
                      );
                    }),
                    (i.parseMidrow = function parseMidrow(i, a) {
                      var o = null;
                      return (
                        (17 === i || 25 === i) &&
                        a >= 32 &&
                        a <= 47 &&
                        ((o = 17 === i ? 1 : 2) !== this.currChNr
                          ? (Rr.log(
                              'ERROR',
                              'Mismatch channel in midrow parsing'
                            ),
                            !1)
                          : (this.channels[o - 1].ccMIDROW(a),
                            Rr.log('DEBUG', 'MIDROW (' + Cr([i, a]) + ')'),
                            !0))
                      );
                    }),
                    (i.parsePAC = function parsePAC(i, a) {
                      var o,
                        p = null;
                      if (
                        !(
                          ((i >= 17 && i <= 23) || (i >= 25 && i <= 31)) &&
                          a >= 64 &&
                          a <= 127
                        ) &&
                        !((16 === i || 24 === i) && a >= 64 && a <= 95)
                      )
                        return !1;
                      if (i === this.lastCmdA && a === this.lastCmdB)
                        return (
                          (this.lastCmdA = null), (this.lastCmdB = null), !0
                        );
                      (o = i <= 23 ? 1 : 2),
                        (p =
                          a >= 64 && a <= 95
                            ? 1 === o
                              ? wr[i]
                              : kr[i]
                            : 1 === o
                            ? Ar[i]
                            : xr[i]);
                      var m = this.interpretPAC(p, a);
                      return (
                        this.channels[o - 1].setPAC(m),
                        (this.lastCmdA = i),
                        (this.lastCmdB = a),
                        (this.currChNr = o),
                        !0
                      );
                    }),
                    (i.interpretPAC = function interpretPAC(i, a) {
                      var o = a,
                        p = {
                          color: null,
                          italics: !1,
                          indent: null,
                          underline: !1,
                          row: i,
                        };
                      return (
                        (o = a > 95 ? a - 96 : a - 64),
                        (p.underline = 1 == (1 & o)),
                        o <= 13
                          ? (p.color = [
                              'white',
                              'green',
                              'blue',
                              'cyan',
                              'red',
                              'yellow',
                              'magenta',
                              'white',
                            ][Math.floor(o / 2)])
                          : o <= 15
                          ? ((p.italics = !0), (p.color = 'white'))
                          : (p.indent = 4 * Math.floor((o - 16) / 2)),
                        p
                      );
                    }),
                    (i.parseChars = function parseChars(i, a) {
                      var o = null,
                        p = null,
                        m = null;
                      if (
                        (i >= 25 ? ((o = 2), (m = i - 8)) : ((o = 1), (m = i)),
                        m >= 17 && m <= 19)
                      ) {
                        var _ = a;
                        (_ = 17 === m ? a + 80 : 18 === m ? a + 112 : a + 144),
                          Rr.log(
                            'INFO',
                            "Special char '" + Sr(_) + "' in channel " + o
                          ),
                          (p = [_]);
                      } else
                        i >= 32 && i <= 127 && (p = 0 === a ? [i] : [i, a]);
                      if (p) {
                        var w = Cr(p);
                        Rr.log('DEBUG', 'Char codes =  ' + w.join(',')),
                          (this.lastCmdA = null),
                          (this.lastCmdB = null);
                      }
                      return p;
                    }),
                    (i.parseBackgroundAttributes =
                      function parseBackgroundAttributes(i, a) {
                        var o, p, m;
                        return (
                          (((16 === i || 24 === i) && a >= 32 && a <= 47) ||
                            ((23 === i || 31 === i) && a >= 45 && a <= 47)) &&
                          ((o = {}),
                          16 === i || 24 === i
                            ? ((p = Math.floor((a - 32) / 2)),
                              (o.background = Pr[p]),
                              a % 2 == 1 &&
                                (o.background = o.background + '_semi'))
                            : 45 === a
                            ? (o.background = 'transparent')
                            : ((o.foreground = 'black'),
                              47 === a && (o.underline = !0)),
                          (m = i < 24 ? 1 : 2),
                          this.channels[m - 1].setBkgData(o),
                          (this.lastCmdA = null),
                          (this.lastCmdB = null),
                          !0)
                        );
                      }),
                    (i.reset = function reset() {
                      for (var i = 0; i < this.channels.length; i++)
                        this.channels[i] && this.channels[i].reset();
                      (this.lastCmdA = null), (this.lastCmdB = null);
                    }),
                    (i.cueSplitAtTime = function cueSplitAtTime(i) {
                      for (var a = 0; a < this.channels.length; a++)
                        this.channels[a] && this.channels[a].cueSplitAtTime(i);
                    }),
                    Cea608Parser
                  );
                })(),
                Fr = (function () {
                  function OutputFilter(i, a) {
                    (this.timelineController = void 0),
                      (this.trackName = void 0),
                      (this.startTime = void 0),
                      (this.endTime = void 0),
                      (this.screen = void 0),
                      (this.timelineController = i),
                      (this.trackName = a),
                      (this.startTime = null),
                      (this.endTime = null),
                      (this.screen = null);
                  }
                  var i = OutputFilter.prototype;
                  return (
                    (i.dispatchCue = function dispatchCue() {
                      null !== this.startTime &&
                        (this.timelineController.addCues(
                          this.trackName,
                          this.startTime,
                          this.endTime,
                          this.screen
                        ),
                        (this.startTime = null));
                    }),
                    (i.newCue = function newCue(i, a, o) {
                      (null === this.startTime || this.startTime > i) &&
                        (this.startTime = i),
                        (this.endTime = a),
                        (this.screen = o),
                        this.timelineController.createCaptionsTrack(
                          this.trackName
                        );
                    }),
                    OutputFilter
                  );
                })(),
                Ur = function startsWith(i, a, o) {
                  return i.substr(o || 0, a.length) === a;
                },
                Br = function hash(i) {
                  for (var hash = 5381, a = i.length; a; )
                    hash = (33 * hash) ^ i.charCodeAt(--a);
                  return (hash >>> 0).toString();
                },
                jr = {
                  parse: function parse(i, a, o, p, m, _) {
                    var w,
                      x = Object(Jt.utf8ArrayToStr)(new Uint8Array(i))
                        .trim()
                        .replace(/\r\n|\n\r|\n|\r/g, '\n')
                        .split('\n'),
                      I = '00:00.000',
                      j = 0,
                      K = 0,
                      q = 0,
                      $ = [],
                      Z = !0,
                      be = !1,
                      Se = new yr();
                    (Se.oncue = function (i) {
                      var a = o[p],
                        m = o.ccOffset;
                      a &&
                        a['new'] &&
                        (K !== undefined
                          ? (m = o.ccOffset = a.start)
                          : (function calculateOffset(i, a, o) {
                              var p = i[a],
                                m = i[p.prevCC];
                              if (!m || (!m['new'] && p['new']))
                                return (
                                  (i.ccOffset = i.presentationOffset = p.start),
                                  void (p['new'] = !1)
                                );
                              for (; m && m['new']; )
                                (i.ccOffset += p.start - m.start),
                                  (p['new'] = !1),
                                  (m = i[(p = m).prevCC]);
                              i.presentationOffset = o;
                            })(o, p, q)),
                        q && (m = q - o.presentationOffset),
                        be && ((i.startTime += m - K), (i.endTime += m - K)),
                        (i.id =
                          Br(i.startTime.toString()) +
                          Br(i.endTime.toString()) +
                          Br(i.text)),
                        (i.text = decodeURIComponent(
                          encodeURIComponent(i.text)
                        )),
                        i.endTime > 0 && $.push(i);
                    }),
                      (Se.onparsingerror = function (i) {
                        w = i;
                      }),
                      (Se.onflush = function () {
                        w && _ ? _(w) : m($);
                      }),
                      x.forEach(function (i) {
                        if (Z) {
                          if (Ur(i, 'X-TIMESTAMP-MAP=')) {
                            (Z = !1),
                              (be = !0),
                              i
                                .substr(16)
                                .split(',')
                                .forEach(function (i) {
                                  Ur(i, 'LOCAL:')
                                    ? (I = i.substr(6))
                                    : Ur(i, 'MPEGTS:') &&
                                      (j = parseInt(i.substr(7)));
                                });
                            try {
                              a + (9e4 * o[p].start || 0) < 0 &&
                                (a += 8589934592),
                                (j -= a),
                                (K =
                                  (function cueString2millis(i) {
                                    var a = parseInt(i.substr(-3)),
                                      o = parseInt(i.substr(-6, 2)),
                                      p = parseInt(i.substr(-9, 2)),
                                      m =
                                        i.length > 9
                                          ? parseInt(
                                              i.substr(0, i.indexOf(':'))
                                            )
                                          : 0;
                                    if (
                                      !(
                                        Object(D.isFiniteNumber)(a) &&
                                        Object(D.isFiniteNumber)(o) &&
                                        Object(D.isFiniteNumber)(p) &&
                                        Object(D.isFiniteNumber)(m)
                                      )
                                    )
                                      throw Error(
                                        'Malformed X-TIMESTAMP-MAP: Local:' + i
                                      );
                                    return (
                                      (a += 1e3 * o),
                                      (a += 6e4 * p),
                                      a + 36e5 * m
                                    );
                                  })(I) / 1e3),
                                (q = j / 9e4);
                            } catch (m) {
                              (be = !1), (w = m);
                            }
                            return;
                          }
                          '' === i && (Z = !1);
                        }
                        Se.parse(i + '\n');
                      }),
                      Se.flush();
                  },
                };
              function timeline_controller_assertThisInitialized(i) {
                if (void 0 === i)
                  throw new ReferenceError(
                    "this hasn't been initialised - super() hasn't been called"
                  );
                return i;
              }
              function canReuseVttTextTrack(i, a) {
                return (
                  i && i.label === a.name && !(i.textTrack1 || i.textTrack2)
                );
              }
              var Gr = (function (i) {
                function TimelineController(a) {
                  var o;
                  if (
                    (((o =
                      i.call(
                        this,
                        a,
                        j['default'].MEDIA_ATTACHING,
                        j['default'].MEDIA_DETACHING,
                        j['default'].FRAG_PARSING_USERDATA,
                        j['default'].FRAG_DECRYPTED,
                        j['default'].MANIFEST_LOADING,
                        j['default'].MANIFEST_LOADED,
                        j['default'].FRAG_LOADED,
                        j['default'].INIT_PTS_FOUND
                      ) || this).media = null),
                    (o.config = void 0),
                    (o.enabled = !0),
                    (o.Cues = void 0),
                    (o.textTracks = []),
                    (o.tracks = []),
                    (o.initPTS = []),
                    (o.unparsedVttFrags = []),
                    (o.cueRanges = []),
                    (o.captionsTracks = {}),
                    (o.captionsProperties = void 0),
                    (o.cea608Parser = void 0),
                    (o.lastSn = -1),
                    (o.prevCC = -1),
                    (o.vttCCs = null),
                    (o.hls = a),
                    (o.config = a.config),
                    (o.Cues = a.config.cueHandler),
                    (o.captionsProperties = {
                      textTrack1: {
                        label: o.config.captionsTextTrack1Label,
                        languageCode: o.config.captionsTextTrack1LanguageCode,
                      },
                      textTrack2: {
                        label: o.config.captionsTextTrack2Label,
                        languageCode: o.config.captionsTextTrack2LanguageCode,
                      },
                    }),
                    o.config.enableCEA708Captions)
                  ) {
                    var p = new Fr(
                        timeline_controller_assertThisInitialized(o),
                        'textTrack1'
                      ),
                      m = new Fr(
                        timeline_controller_assertThisInitialized(o),
                        'textTrack2'
                      );
                    o.cea608Parser = new Nr(0, p, m);
                  }
                  return o;
                }
                !(function timeline_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(TimelineController, i);
                var a = TimelineController.prototype;
                return (
                  (a.addCues = function addCues(i, a, o, p) {
                    for (
                      var m, _, w, x, I = this.cueRanges, D = !1, j = I.length;
                      j--;

                    ) {
                      var K = I[j],
                        q =
                          ((m = K[0]),
                          (_ = K[1]),
                          (w = a),
                          (x = o),
                          Math.min(_, x) - Math.max(m, w));
                      if (
                        q >= 0 &&
                        ((K[0] = Math.min(K[0], a)),
                        (K[1] = Math.max(K[1], o)),
                        (D = !0),
                        q / (o - a) > 0.5)
                      )
                        return;
                    }
                    D || I.push([a, o]),
                      this.Cues.newCue(this.captionsTracks[i], a, o, p);
                  }),
                  (a.onInitPtsFound = function onInitPtsFound(i) {
                    var a = this,
                      o = i.frag,
                      p = i.id,
                      m = i.initPTS,
                      _ = this.unparsedVttFrags;
                    'main' === p && (this.initPTS[o.cc] = m),
                      _.length &&
                        ((this.unparsedVttFrags = []),
                        _.forEach(function (i) {
                          a.onFragLoaded(i);
                        }));
                  }),
                  (a.getExistingTrack = function getExistingTrack(i) {
                    var a = this.media;
                    if (a)
                      for (var o = 0; o < a.textTracks.length; o++) {
                        var p = a.textTracks[o];
                        if (p[i]) return p;
                      }
                    return null;
                  }),
                  (a.createCaptionsTrack = function createCaptionsTrack(i) {
                    var a = this.captionsProperties,
                      o = this.captionsTracks,
                      p = this.media,
                      m = a[i],
                      _ = m.label,
                      w = m.languageCode;
                    if (!o[i]) {
                      var x = this.getExistingTrack(i);
                      if (x)
                        (o[i] = x),
                          clearCurrentCues(o[i]),
                          sendAddTrackEvent(o[i], p);
                      else {
                        var I = this.createTextTrack('captions', _, w);
                        I && ((I[i] = !0), (o[i] = I));
                      }
                    }
                  }),
                  (a.createTextTrack = function createTextTrack(i, a, o) {
                    var p = this.media;
                    if (p) return p.addTextTrack(i, a, o);
                  }),
                  (a.destroy = function destroy() {
                    i.prototype.destroy.call(this);
                  }),
                  (a.onMediaAttaching = function onMediaAttaching(i) {
                    (this.media = i.media), this._cleanTracks();
                  }),
                  (a.onMediaDetaching = function onMediaDetaching() {
                    var i = this.captionsTracks;
                    Object.keys(i).forEach(function (a) {
                      clearCurrentCues(i[a]), delete i[a];
                    });
                  }),
                  (a.onManifestLoading = function onManifestLoading() {
                    (this.lastSn = -1),
                      (this.prevCC = -1),
                      (this.vttCCs = {
                        ccOffset: 0,
                        presentationOffset: 0,
                        0: { start: 0, prevCC: -1, new: !1 },
                      }),
                      this._cleanTracks();
                  }),
                  (a._cleanTracks = function _cleanTracks() {
                    var i = this.media;
                    if (i) {
                      var a = i.textTracks;
                      if (a)
                        for (var o = 0; o < a.length; o++)
                          clearCurrentCues(a[o]);
                    }
                  }),
                  (a.onManifestLoaded = function onManifestLoaded(i) {
                    var a = this;
                    if (
                      ((this.textTracks = []),
                      (this.unparsedVttFrags = this.unparsedVttFrags || []),
                      (this.initPTS = []),
                      (this.cueRanges = []),
                      this.config.enableWebVTT)
                    ) {
                      this.tracks = i.subtitles || [];
                      var o = this.media ? this.media.textTracks : [];
                      this.tracks.forEach(function (i, p) {
                        var m;
                        if (p < o.length) {
                          for (var _ = null, w = 0; w < o.length; w++)
                            if (canReuseVttTextTrack(o[w], i)) {
                              _ = o[w];
                              break;
                            }
                          _ && (m = _);
                        }
                        m ||
                          (m = a.createTextTrack('subtitles', i.name, i.lang)),
                          i['default']
                            ? (m.mode = a.hls.subtitleDisplay
                                ? 'showing'
                                : 'hidden')
                            : (m.mode = 'disabled'),
                          a.textTracks.push(m);
                      });
                    }
                  }),
                  (a.onFragLoaded = function onFragLoaded(i) {
                    var a = i.frag,
                      o = i.payload,
                      p = this.cea608Parser,
                      m = this.initPTS,
                      _ = this.lastSn,
                      w = this.unparsedVttFrags;
                    if ('main' === a.type) {
                      var x = a.sn;
                      a.sn !== _ + 1 && p && p.reset(), (this.lastSn = x);
                    } else if ('subtitle' === a.type)
                      if (o.byteLength) {
                        if (!Object(D.isFiniteNumber)(m[a.cc]))
                          return (
                            w.push(i),
                            void (
                              m.length &&
                              this.hls.trigger(
                                j['default'].SUBTITLE_FRAG_PROCESSED,
                                { success: !1, frag: a }
                              )
                            )
                          );
                        var I = a.decryptdata;
                        (null != I &&
                          null != I.key &&
                          'AES-128' === I.method) ||
                          this._parseVTTs(a, o);
                      } else
                        this.hls.trigger(j['default'].SUBTITLE_FRAG_PROCESSED, {
                          success: !1,
                          frag: a,
                        });
                  }),
                  (a._parseVTTs = function _parseVTTs(i, a) {
                    var o = this.hls,
                      p = this.prevCC,
                      m = this.textTracks,
                      _ = this.vttCCs;
                    _[i.cc] ||
                      ((_[i.cc] = { start: i.start, prevCC: p, new: !0 }),
                      (this.prevCC = i.cc)),
                      jr.parse(
                        a,
                        this.initPTS[i.cc],
                        _,
                        i.cc,
                        function (a) {
                          var p = m[i.level];
                          'disabled' !== p.mode
                            ? (a.forEach(function (i) {
                                if (!p.cues.getCueById(i.id))
                                  try {
                                    if ((p.addCue(i), !p.cues.getCueById(i.id)))
                                      throw new Error(
                                        'addCue is failed for: ' + i
                                      );
                                  } catch (o) {
                                    K.logger.debug(
                                      'Failed occurred on adding cues: ' + o
                                    );
                                    var a = new window.TextTrackCue(
                                      i.startTime,
                                      i.endTime,
                                      i.text
                                    );
                                    (a.id = i.id), p.addCue(a);
                                  }
                              }),
                              o.trigger(j['default'].SUBTITLE_FRAG_PROCESSED, {
                                success: !0,
                                frag: i,
                              }))
                            : o.trigger(j['default'].SUBTITLE_FRAG_PROCESSED, {
                                success: !1,
                                frag: i,
                              });
                        },
                        function (a) {
                          K.logger.log('Failed to parse VTT cue: ' + a),
                            o.trigger(j['default'].SUBTITLE_FRAG_PROCESSED, {
                              success: !1,
                              frag: i,
                            });
                        }
                      );
                  }),
                  (a.onFragDecrypted = function onFragDecrypted(i) {
                    var a = i.frag,
                      o = i.payload;
                    if ('subtitle' === a.type) {
                      if (!Object(D.isFiniteNumber)(this.initPTS[a.cc]))
                        return void this.unparsedVttFrags.push(i);
                      this._parseVTTs(a, o);
                    }
                  }),
                  (a.onFragParsingUserdata = function onFragParsingUserdata(i) {
                    if (this.enabled && this.cea608Parser)
                      for (var a = 0; a < i.samples.length; a++) {
                        var o = i.samples[a].bytes;
                        if (o) {
                          var p = this.extractCea608Data(o);
                          this.cea608Parser.addData(i.samples[a].pts, p);
                        }
                      }
                  }),
                  (a.extractCea608Data = function extractCea608Data(i) {
                    for (
                      var a, o, p, m = 31 & i[0], _ = 2, w = [], x = 0;
                      x < m;
                      x++
                    )
                      (a = i[_++]),
                        (o = 127 & i[_++]),
                        (p = 127 & i[_++]),
                        (0 === o && 0 === p) ||
                          (0 != (4 & a) &&
                            0 === (3 & a) &&
                            (w.push(o), w.push(p)));
                    return w;
                  }),
                  TimelineController
                );
              })($);
              function subtitle_track_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              function filterSubtitleTracks(i) {
                for (var a = [], o = 0; o < i.length; o++) {
                  var p = i[o];
                  'subtitles' === p.kind && p.label && a.push(i[o]);
                }
                return a;
              }
              var Hr = (function (i) {
                  function SubtitleTrackController(a) {
                    var o;
                    return (
                      ((o =
                        i.call(
                          this,
                          a,
                          j['default'].MEDIA_ATTACHED,
                          j['default'].MEDIA_DETACHING,
                          j['default'].MANIFEST_LOADED,
                          j['default'].SUBTITLE_TRACK_LOADED
                        ) || this).tracks = []),
                      (o.trackId = -1),
                      (o.media = null),
                      (o.stopped = !0),
                      (o.subtitleDisplay = !0),
                      (o.queuedDefaultTrack = null),
                      o
                    );
                  }
                  !(function subtitle_track_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(SubtitleTrackController, i);
                  var a = SubtitleTrackController.prototype;
                  return (
                    (a.destroy = function destroy() {
                      $.prototype.destroy.call(this);
                    }),
                    (a.onMediaAttached = function onMediaAttached(i) {
                      var a = this;
                      (this.media = i.media),
                        this.media &&
                          (Object(D.isFiniteNumber)(this.queuedDefaultTrack) &&
                            ((this.subtitleTrack = this.queuedDefaultTrack),
                            (this.queuedDefaultTrack = null)),
                          (this.trackChangeListener =
                            this._onTextTracksChanged.bind(this)),
                          (this.useTextTrackPolling = !(
                            this.media.textTracks &&
                            'onchange' in this.media.textTracks
                          )),
                          this.useTextTrackPolling
                            ? (this.subtitlePollingInterval = setInterval(
                                function () {
                                  a.trackChangeListener();
                                },
                                500
                              ))
                            : this.media.textTracks.addEventListener(
                                'change',
                                this.trackChangeListener
                              ));
                    }),
                    (a.onMediaDetaching = function onMediaDetaching() {
                      this.media &&
                        (this.useTextTrackPolling
                          ? clearInterval(this.subtitlePollingInterval)
                          : this.media.textTracks.removeEventListener(
                              'change',
                              this.trackChangeListener
                            ),
                        Object(D.isFiniteNumber)(this.subtitleTrack) &&
                          (this.queuedDefaultTrack = this.subtitleTrack),
                        filterSubtitleTracks(this.media.textTracks).forEach(
                          function (i) {
                            clearCurrentCues(i);
                          }
                        ),
                        (this.subtitleTrack = -1),
                        (this.media = null));
                    }),
                    (a.onManifestLoaded = function onManifestLoaded(i) {
                      var a = this,
                        o = i.subtitles || [];
                      (this.tracks = o),
                        this.hls.trigger(j['default'].SUBTITLE_TRACKS_UPDATED, {
                          subtitleTracks: o,
                        }),
                        o.forEach(function (i) {
                          i['default'] &&
                            (a.media
                              ? (a.subtitleTrack = i.id)
                              : (a.queuedDefaultTrack = i.id));
                        });
                    }),
                    (a.onSubtitleTrackLoaded = function onSubtitleTrackLoaded(
                      i
                    ) {
                      var a = this,
                        o = i.id,
                        p = i.details,
                        m = this.trackId,
                        _ = this.tracks,
                        w = _[m];
                      if (o >= _.length || o !== m || !w || this.stopped)
                        this._clearReloadTimer();
                      else if (
                        (K.logger.log('subtitle track ' + o + ' loaded'),
                        p.live)
                      ) {
                        var x = computeReloadInterval(
                          w.details,
                          p,
                          i.stats.trequest
                        );
                        K.logger.log(
                          'Reloading live subtitle playlist in ' + x + 'ms'
                        ),
                          (this.timer = setTimeout(function () {
                            a._loadCurrentTrack();
                          }, x));
                      } else this._clearReloadTimer();
                    }),
                    (a.startLoad = function startLoad() {
                      (this.stopped = !1), this._loadCurrentTrack();
                    }),
                    (a.stopLoad = function stopLoad() {
                      (this.stopped = !0), this._clearReloadTimer();
                    }),
                    (a._clearReloadTimer = function _clearReloadTimer() {
                      this.timer &&
                        (clearTimeout(this.timer), (this.timer = null));
                    }),
                    (a._loadCurrentTrack = function _loadCurrentTrack() {
                      var i = this.trackId,
                        a = this.tracks,
                        o = this.hls,
                        p = a[i];
                      i < 0 ||
                        !p ||
                        (p.details && !p.details.live) ||
                        (K.logger.log('Loading subtitle track ' + i),
                        o.trigger(j['default'].SUBTITLE_TRACK_LOADING, {
                          url: p.url,
                          id: i,
                        }));
                    }),
                    (a._toggleTrackModes = function _toggleTrackModes(i) {
                      var a = this.media,
                        o = this.subtitleDisplay,
                        p = this.trackId;
                      if (a) {
                        var m = filterSubtitleTracks(a.textTracks);
                        if (-1 === i)
                          [].slice.call(m).forEach(function (i) {
                            i.mode = 'disabled';
                          });
                        else {
                          var _ = m[p];
                          _ && (_.mode = 'disabled');
                        }
                        var w = m[i];
                        w && (w.mode = o ? 'showing' : 'hidden');
                      }
                    }),
                    (a._setSubtitleTrackInternal =
                      function _setSubtitleTrackInternal(i) {
                        var a = this.hls,
                          o = this.tracks;
                        !Object(D.isFiniteNumber)(i) ||
                          i < -1 ||
                          i >= o.length ||
                          ((this.trackId = i),
                          K.logger.log('Switching to subtitle track ' + i),
                          a.trigger(j['default'].SUBTITLE_TRACK_SWITCH, {
                            id: i,
                          }),
                          this._loadCurrentTrack());
                      }),
                    (a._onTextTracksChanged = function _onTextTracksChanged() {
                      if (this.media) {
                        for (
                          var i = -1,
                            a = filterSubtitleTracks(this.media.textTracks),
                            o = 0;
                          o < a.length;
                          o++
                        )
                          if ('hidden' === a[o].mode) i = o;
                          else if ('showing' === a[o].mode) {
                            i = o;
                            break;
                          }
                        this.subtitleTrack = i;
                      }
                    }),
                    (function subtitle_track_controller_createClass(i, a, o) {
                      return (
                        a &&
                          subtitle_track_controller_defineProperties(
                            i.prototype,
                            a
                          ),
                        o && subtitle_track_controller_defineProperties(i, o),
                        i
                      );
                    })(SubtitleTrackController, [
                      {
                        key: 'subtitleTracks',
                        get: function get() {
                          return this.tracks;
                        },
                      },
                      {
                        key: 'subtitleTrack',
                        get: function get() {
                          return this.trackId;
                        },
                        set: function set(i) {
                          this.trackId !== i &&
                            (this._toggleTrackModes(i),
                            this._setSubtitleTrackInternal(i));
                        },
                      },
                    ]),
                    SubtitleTrackController
                  );
                })($),
                Vr = o('./src/crypt/decrypter.js');
              var Wr,
                Kr = window.performance,
                zr = (function (i) {
                  function SubtitleStreamController(a, o) {
                    var p;
                    return (
                      ((p =
                        i.call(
                          this,
                          a,
                          j['default'].MEDIA_ATTACHED,
                          j['default'].MEDIA_DETACHING,
                          j['default'].ERROR,
                          j['default'].KEY_LOADED,
                          j['default'].FRAG_LOADED,
                          j['default'].SUBTITLE_TRACKS_UPDATED,
                          j['default'].SUBTITLE_TRACK_SWITCH,
                          j['default'].SUBTITLE_TRACK_LOADED,
                          j['default'].SUBTITLE_FRAG_PROCESSED,
                          j['default'].LEVEL_UPDATED
                        ) || this).fragmentTracker = o),
                      (p.config = a.config),
                      (p.state = It),
                      (p.tracks = []),
                      (p.tracksBuffered = []),
                      (p.currentTrackId = -1),
                      (p.decrypter = new Vr['default'](a, a.config)),
                      (p.lastAVStart = 0),
                      (p._onMediaSeeking = p.onMediaSeeking.bind(
                        (function subtitle_stream_controller_assertThisInitialized(
                          i
                        ) {
                          if (void 0 === i)
                            throw new ReferenceError(
                              "this hasn't been initialised - super() hasn't been called"
                            );
                          return i;
                        })(p)
                      )),
                      p
                    );
                  }
                  !(function subtitle_stream_controller_inheritsLoose(i, a) {
                    (i.prototype = Object.create(a.prototype)),
                      (i.prototype.constructor = i),
                      (i.__proto__ = a);
                  })(SubtitleStreamController, i);
                  var a = SubtitleStreamController.prototype;
                  return (
                    (a.onSubtitleFragProcessed =
                      function onSubtitleFragProcessed(i) {
                        var a = i.frag,
                          o = i.success;
                        if (((this.fragPrevious = a), (this.state = Ot), o)) {
                          var p = this.tracksBuffered[this.currentTrackId];
                          if (p) {
                            for (var m, _ = a.start, w = 0; w < p.length; w++)
                              if (_ >= p[w].start && _ <= p[w].end) {
                                m = p[w];
                                break;
                              }
                            var x = a.start + a.duration;
                            m
                              ? (m.end = x)
                              : ((m = { start: _, end: x }), p.push(m));
                          }
                        }
                      }),
                    (a.onMediaAttached = function onMediaAttached(i) {
                      var a = i.media;
                      (this.media = a),
                        a.addEventListener('seeking', this._onMediaSeeking),
                        (this.state = Ot);
                    }),
                    (a.onMediaDetaching = function onMediaDetaching() {
                      var i = this;
                      this.media &&
                        (this.media.removeEventListener(
                          'seeking',
                          this._onMediaSeeking
                        ),
                        this.fragmentTracker.removeAllFragments(),
                        (this.currentTrackId = -1),
                        this.tracks.forEach(function (a) {
                          i.tracksBuffered[a.id] = [];
                        }),
                        (this.media = null),
                        (this.state = It));
                    }),
                    (a.onError = function onError(i) {
                      var a = i.frag;
                      a && 'subtitle' === a.type && (this.state = Ot);
                    }),
                    (a.onSubtitleTracksUpdated =
                      function onSubtitleTracksUpdated(i) {
                        var a = this;
                        K.logger.log('subtitle tracks updated'),
                          (this.tracksBuffered = []),
                          (this.tracks = i.subtitleTracks),
                          this.tracks.forEach(function (i) {
                            a.tracksBuffered[i.id] = [];
                          });
                      }),
                    (a.onSubtitleTrackSwitch = function onSubtitleTrackSwitch(
                      i
                    ) {
                      if (
                        ((this.currentTrackId = i.id),
                        this.tracks &&
                          this.tracks.length &&
                          -1 !== this.currentTrackId)
                      ) {
                        var a = this.tracks[this.currentTrackId];
                        a && a.details && this.setInterval(500);
                      } else this.clearInterval();
                    }),
                    (a.onSubtitleTrackLoaded = function onSubtitleTrackLoaded(
                      i
                    ) {
                      var a = i.id,
                        o = i.details,
                        p = this.currentTrackId,
                        m = this.tracks,
                        _ = m[p];
                      a >= m.length ||
                        a !== p ||
                        !_ ||
                        (o.live &&
                          (function mergeSubtitlePlaylists(i, a, o) {
                            void 0 === o && (o = 0);
                            var p = -1;
                            mapFragmentIntersection(i, a, function (i, a, o) {
                              (a.start = i.start), (p = o);
                            });
                            var m = a.fragments;
                            if (p < 0)
                              m.forEach(function (i) {
                                i.start += o;
                              });
                            else
                              for (var _ = p + 1; _ < m.length; _++)
                                m[_].start = m[_ - 1].start + m[_ - 1].duration;
                          })(_.details, o, this.lastAVStart),
                        (_.details = o),
                        this.setInterval(500));
                    }),
                    (a.onKeyLoaded = function onKeyLoaded() {
                      this.state === Mt && (this.state = Ot);
                    }),
                    (a.onFragLoaded = function onFragLoaded(i) {
                      var a = this.fragCurrent,
                        o = i.frag.decryptdata,
                        p = i.frag,
                        m = this.hls;
                      if (
                        this.state === Nt &&
                        a &&
                        'subtitle' === i.frag.type &&
                        a.sn === i.frag.sn &&
                        i.payload.byteLength > 0 &&
                        o &&
                        o.key &&
                        'AES-128' === o.method
                      ) {
                        var _ = Kr.now();
                        this.decrypter.decrypt(
                          i.payload,
                          o.key.buffer,
                          o.iv.buffer,
                          function (i) {
                            var a = Kr.now();
                            m.trigger(j['default'].FRAG_DECRYPTED, {
                              frag: p,
                              payload: i,
                              stats: { tstart: _, tdecrypt: a },
                            });
                          }
                        );
                      }
                    }),
                    (a.onLevelUpdated = function onLevelUpdated(i) {
                      var a = i.details.fragments;
                      this.lastAVStart = a.length ? a[0].start : 0;
                    }),
                    (a.doTick = function doTick() {
                      if (this.media)
                        switch (this.state) {
                          case Ot:
                            var i = this.config,
                              a = this.currentTrackId,
                              o = this.fragmentTracker,
                              p = this.media,
                              m = this.tracks;
                            if (!m || !m[a] || !m[a].details) break;
                            var _,
                              w = i.maxBufferHole,
                              x = i.maxFragLookUpTolerance,
                              I = Math.min(
                                i.maxBufferLength,
                                i.maxMaxBufferLength
                              ),
                              D = bt.bufferedInfo(
                                this._getBuffered(),
                                p.currentTime,
                                w
                              ),
                              q = D.end,
                              $ = D.len,
                              Z = m[a].details,
                              be = Z.fragments,
                              Se = be.length,
                              _e = be[Se - 1].start + be[Se - 1].duration;
                            if ($ > I) return;
                            var we = this.fragPrevious;
                            q < _e
                              ? (we &&
                                  Z.hasProgramDateTime &&
                                  (_ = findFragmentByPDT(
                                    be,
                                    we.endProgramDateTime,
                                    x
                                  )),
                                _ || (_ = findFragmentByPTS(we, be, q, x)))
                              : (_ = be[Se - 1]),
                              _ && _.encrypted
                                ? (K.logger.log('Loading key for ' + _.sn),
                                  (this.state = Mt),
                                  this.hls.trigger(j['default'].KEY_LOADING, {
                                    frag: _,
                                  }))
                                : _ &&
                                  o.getState(_) === ht &&
                                  ((this.fragCurrent = _),
                                  (this.state = Nt),
                                  this.hls.trigger(j['default'].FRAG_LOADING, {
                                    frag: _,
                                  }));
                        }
                      else this.state = Ot;
                    }),
                    (a.stopLoad = function stopLoad() {
                      (this.lastAVStart = 0), i.prototype.stopLoad.call(this);
                    }),
                    (a._getBuffered = function _getBuffered() {
                      return this.tracksBuffered[this.currentTrackId] || [];
                    }),
                    (a.onMediaSeeking = function onMediaSeeking() {
                      this.fragPrevious = null;
                    }),
                    SubtitleStreamController
                  );
                })(zt);
              !(function (i) {
                (i.WIDEVINE = 'com.widevine.alpha'),
                  (i.PLAYREADY = 'com.microsoft.playready');
              })(Wr || (Wr = {}));
              var qr =
                'undefined' != typeof window &&
                window.navigator &&
                window.navigator.requestMediaKeySystemAccess
                  ? window.navigator.requestMediaKeySystemAccess.bind(
                      window.navigator
                    )
                  : null;
              function eme_controller_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              var Yr = (function (i) {
                function EMEController(a) {
                  var o;
                  return (
                    ((o =
                      i.call(
                        this,
                        a,
                        j['default'].MEDIA_ATTACHED,
                        j['default'].MEDIA_DETACHED,
                        j['default'].MANIFEST_PARSED
                      ) || this)._widevineLicenseUrl = void 0),
                    (o._licenseXhrSetup = void 0),
                    (o._emeEnabled = void 0),
                    (o._requestMediaKeySystemAccess = void 0),
                    (o._config = void 0),
                    (o._mediaKeysList = []),
                    (o._media = null),
                    (o._hasSetMediaKeys = !1),
                    (o._requestLicenseFailureCount = 0),
                    (o._onMediaEncrypted = function (i) {
                      K.logger.log(
                        'Media is encrypted using "' +
                          i.initDataType +
                          '" init data type'
                      ),
                        o._attemptSetMediaKeys(),
                        o._generateRequestWithPreferredKeySession(
                          i.initDataType,
                          i.initData
                        );
                    }),
                    (o._config = a.config),
                    (o._widevineLicenseUrl = o._config.widevineLicenseUrl),
                    (o._licenseXhrSetup = o._config.licenseXhrSetup),
                    (o._emeEnabled = o._config.emeEnabled),
                    (o._requestMediaKeySystemAccess =
                      o._config.requestMediaKeySystemAccessFunc),
                    o
                  );
                }
                !(function eme_controller_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(EMEController, i);
                var a = EMEController.prototype;
                return (
                  (a.getLicenseServerUrl = function getLicenseServerUrl(i) {
                    switch (i) {
                      case Wr.WIDEVINE:
                        if (!this._widevineLicenseUrl) break;
                        return this._widevineLicenseUrl;
                    }
                    throw new Error(
                      'no license server URL configured for key-system "' +
                        i +
                        '"'
                    );
                  }),
                  (a._attemptKeySystemAccess = function _attemptKeySystemAccess(
                    i,
                    a,
                    o
                  ) {
                    var p = this,
                      m = (function getSupportedMediaKeySystemConfigurations(
                        i,
                        a,
                        o
                      ) {
                        switch (i) {
                          case Wr.WIDEVINE:
                            return (function createWidevineMediaKeySystemConfigurations(
                              i,
                              a
                            ) {
                              var o = { videoCapabilities: [] };
                              return (
                                a.forEach(function (i) {
                                  o.videoCapabilities.push({
                                    contentType:
                                      'video/mp4; codecs="' + i + '"',
                                  });
                                }),
                                [o]
                              );
                            })(0, o);
                          default:
                            throw new Error('Unknown key-system: ' + i);
                        }
                      })(i, 0, o);
                    K.logger.log(
                      'Requesting encrypted media key-system access'
                    ),
                      this.requestMediaKeySystemAccess(i, m)
                        .then(function (a) {
                          p._onMediaKeySystemAccessObtained(i, a);
                        })
                        ['catch'](function (a) {
                          K.logger.error(
                            'Failed to obtain key-system "' + i + '" access:',
                            a
                          );
                        });
                  }),
                  (a._onMediaKeySystemAccessObtained =
                    function _onMediaKeySystemAccessObtained(i, a) {
                      var o = this;
                      K.logger.log(
                        'Access for key-system "' + i + '" obtained'
                      );
                      var p = {
                        mediaKeysSessionInitialized: !1,
                        mediaKeySystemAccess: a,
                        mediaKeySystemDomain: i,
                      };
                      this._mediaKeysList.push(p),
                        a
                          .createMediaKeys()
                          .then(function (a) {
                            (p.mediaKeys = a),
                              K.logger.log(
                                'Media-keys created for key-system "' + i + '"'
                              ),
                              o._onMediaKeysCreated();
                          })
                          ['catch'](function (i) {
                            K.logger.error('Failed to create media-keys:', i);
                          });
                    }),
                  (a._onMediaKeysCreated = function _onMediaKeysCreated() {
                    var i = this;
                    this._mediaKeysList.forEach(function (a) {
                      a.mediaKeysSession ||
                        ((a.mediaKeysSession = a.mediaKeys.createSession()),
                        i._onNewMediaKeySession(a.mediaKeysSession));
                    });
                  }),
                  (a._onNewMediaKeySession = function _onNewMediaKeySession(i) {
                    var a = this;
                    K.logger.log('New key-system session ' + i.sessionId),
                      i.addEventListener(
                        'message',
                        function (o) {
                          a._onKeySessionMessage(i, o.message);
                        },
                        !1
                      );
                  }),
                  (a._onKeySessionMessage = function _onKeySessionMessage(
                    i,
                    a
                  ) {
                    K.logger.log(
                      'Got EME message event, creating license request'
                    ),
                      this._requestLicense(a, function (a) {
                        K.logger.log(
                          'Received license data (length: ' +
                            (a ? a.byteLength : a) +
                            '), updating key-session'
                        ),
                          i.update(a);
                      });
                  }),
                  (a._attemptSetMediaKeys = function _attemptSetMediaKeys() {
                    if (!this._media)
                      throw new Error(
                        'Attempted to set mediaKeys without first attaching a media element'
                      );
                    if (!this._hasSetMediaKeys) {
                      var i = this._mediaKeysList[0];
                      if (!i || !i.mediaKeys)
                        return (
                          K.logger.error(
                            'Fatal: Media is encrypted but no CDM access or no keys have been obtained yet'
                          ),
                          void this.hls.trigger(j['default'].ERROR, {
                            type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                            details: I.ErrorDetails.KEY_SYSTEM_NO_KEYS,
                            fatal: !0,
                          })
                        );
                      K.logger.log('Setting keys for encrypted media'),
                        this._media.setMediaKeys(i.mediaKeys),
                        (this._hasSetMediaKeys = !0);
                    }
                  }),
                  (a._generateRequestWithPreferredKeySession =
                    function _generateRequestWithPreferredKeySession(i, a) {
                      var o = this,
                        p = this._mediaKeysList[0];
                      if (!p)
                        return (
                          K.logger.error(
                            'Fatal: Media is encrypted but not any key-system access has been obtained yet'
                          ),
                          void this.hls.trigger(j['default'].ERROR, {
                            type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                            details: I.ErrorDetails.KEY_SYSTEM_NO_ACCESS,
                            fatal: !0,
                          })
                        );
                      if (p.mediaKeysSessionInitialized)
                        K.logger.warn(
                          'Key-Session already initialized but requested again'
                        );
                      else {
                        var m = p.mediaKeysSession;
                        if (!m)
                          return (
                            K.logger.error(
                              'Fatal: Media is encrypted but no key-session existing'
                            ),
                            void this.hls.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                              details: I.ErrorDetails.KEY_SYSTEM_NO_SESSION,
                              fatal: !0,
                            })
                          );
                        if (!a)
                          return (
                            K.logger.warn(
                              'Fatal: initData required for generating a key session is null'
                            ),
                            void this.hls.trigger(j['default'].ERROR, {
                              type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                              details: I.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,
                              fatal: !0,
                            })
                          );
                        K.logger.log(
                          'Generating key-session request for "' +
                            i +
                            '" init data type'
                        ),
                          (p.mediaKeysSessionInitialized = !0),
                          m
                            .generateRequest(i, a)
                            .then(function () {
                              K.logger.debug(
                                'Key-session generation succeeded'
                              );
                            })
                            ['catch'](function (i) {
                              K.logger.error(
                                'Error generating key-session request:',
                                i
                              ),
                                o.hls.trigger(j['default'].ERROR, {
                                  type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                                  details: I.ErrorDetails.KEY_SYSTEM_NO_SESSION,
                                  fatal: !1,
                                });
                            });
                      }
                    }),
                  (a._createLicenseXhr = function _createLicenseXhr(i, a, o) {
                    var p = new XMLHttpRequest(),
                      m = this._licenseXhrSetup;
                    try {
                      if (m)
                        try {
                          m(p, i);
                        } catch (_) {
                          p.open('POST', i, !0), m(p, i);
                        }
                      p.readyState || p.open('POST', i, !0);
                    } catch (_) {
                      throw new Error(
                        'issue setting up KeySystem license XHR ' + _
                      );
                    }
                    return (
                      (p.responseType = 'arraybuffer'),
                      (p.onreadystatechange =
                        this._onLicenseRequestReadyStageChange.bind(
                          this,
                          p,
                          i,
                          a,
                          o
                        )),
                      p
                    );
                  }),
                  (a._onLicenseRequestReadyStageChange =
                    function _onLicenseRequestReadyStageChange(i, a, o, p) {
                      switch (i.readyState) {
                        case 4:
                          if (200 === i.status)
                            (this._requestLicenseFailureCount = 0),
                              K.logger.log('License request succeeded'),
                              'arraybuffer' !== i.responseType &&
                                K.logger.warn(
                                  'xhr response type was not set to the expected arraybuffer for license request'
                                ),
                              p(i.response);
                          else {
                            if (
                              (K.logger.error(
                                'License Request XHR failed (' +
                                  a +
                                  '). Status: ' +
                                  i.status +
                                  ' (' +
                                  i.statusText +
                                  ')'
                              ),
                              this._requestLicenseFailureCount++,
                              this._requestLicenseFailureCount > 3)
                            )
                              return void this.hls.trigger(j['default'].ERROR, {
                                type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                                details:
                                  I.ErrorDetails
                                    .KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                                fatal: !0,
                              });
                            var m = 3 - this._requestLicenseFailureCount + 1;
                            K.logger.warn(
                              'Retrying license request, ' +
                                m +
                                ' attempts left'
                            ),
                              this._requestLicense(o, p);
                          }
                      }
                    }),
                  (a._generateLicenseRequestChallenge =
                    function _generateLicenseRequestChallenge(i, a) {
                      switch (i.mediaKeySystemDomain) {
                        case Wr.WIDEVINE:
                          return a;
                      }
                      throw new Error(
                        'unsupported key-system: ' + i.mediaKeySystemDomain
                      );
                    }),
                  (a._requestLicense = function _requestLicense(i, a) {
                    K.logger.log('Requesting content license for key-system');
                    var o = this._mediaKeysList[0];
                    if (!o)
                      return (
                        K.logger.error(
                          'Fatal error: Media is encrypted but no key-system access has been obtained yet'
                        ),
                        void this.hls.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                          details: I.ErrorDetails.KEY_SYSTEM_NO_ACCESS,
                          fatal: !0,
                        })
                      );
                    try {
                      var p = this.getLicenseServerUrl(o.mediaKeySystemDomain),
                        m = this._createLicenseXhr(p, i, a);
                      K.logger.log('Sending license request to URL: ' + p);
                      var _ = this._generateLicenseRequestChallenge(o, i);
                      m.send(_);
                    } catch (w) {
                      K.logger.error('Failure requesting DRM license: ' + w),
                        this.hls.trigger(j['default'].ERROR, {
                          type: I.ErrorTypes.KEY_SYSTEM_ERROR,
                          details:
                            I.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                          fatal: !0,
                        });
                    }
                  }),
                  (a.onMediaAttached = function onMediaAttached(i) {
                    if (this._emeEnabled) {
                      var a = i.media;
                      (this._media = a),
                        a.addEventListener('encrypted', this._onMediaEncrypted);
                    }
                  }),
                  (a.onMediaDetached = function onMediaDetached() {
                    this._media &&
                      (this._media.removeEventListener(
                        'encrypted',
                        this._onMediaEncrypted
                      ),
                      (this._media = null));
                  }),
                  (a.onManifestParsed = function onManifestParsed(i) {
                    if (this._emeEnabled) {
                      var a = i.levels.map(function (i) {
                          return i.audioCodec;
                        }),
                        o = i.levels.map(function (i) {
                          return i.videoCodec;
                        });
                      this._attemptKeySystemAccess(Wr.WIDEVINE, a, o);
                    }
                  }),
                  (function eme_controller_createClass(i, a, o) {
                    return (
                      a && eme_controller_defineProperties(i.prototype, a),
                      o && eme_controller_defineProperties(i, o),
                      i
                    );
                  })(EMEController, [
                    {
                      key: 'requestMediaKeySystemAccess',
                      get: function get() {
                        if (!this._requestMediaKeySystemAccess)
                          throw new Error(
                            'No requestMediaKeySystemAccess function configured'
                          );
                        return this._requestMediaKeySystemAccess;
                      },
                    },
                  ]),
                  EMEController
                );
              })($);
              function ownKeys(i, a) {
                var o = Object.keys(i);
                if (Object.getOwnPropertySymbols) {
                  var p = Object.getOwnPropertySymbols(i);
                  a &&
                    (p = p.filter(function (a) {
                      return Object.getOwnPropertyDescriptor(i, a).enumerable;
                    })),
                    o.push.apply(o, p);
                }
                return o;
              }
              function _defineProperty(i, a, o) {
                return (
                  a in i
                    ? Object.defineProperty(i, a, {
                        value: o,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                      })
                    : (i[a] = o),
                  i
                );
              }
              var Xr = (function _objectSpread(i) {
                for (var a = 1; a < arguments.length; a++) {
                  var o = null != arguments[a] ? arguments[a] : {};
                  a % 2
                    ? ownKeys(Object(o), !0).forEach(function (a) {
                        _defineProperty(i, a, o[a]);
                      })
                    : Object.getOwnPropertyDescriptors
                    ? Object.defineProperties(
                        i,
                        Object.getOwnPropertyDescriptors(o)
                      )
                    : ownKeys(Object(o)).forEach(function (a) {
                        Object.defineProperty(
                          i,
                          a,
                          Object.getOwnPropertyDescriptor(o, a)
                        );
                      });
                }
                return i;
              })(
                {
                  autoStartLoad: !0,
                  startPosition: -1,
                  defaultAudioCodec: void 0,
                  debug: !1,
                  capLevelOnFPSDrop: !1,
                  capLevelToPlayerSize: !1,
                  initialLiveManifestSize: 1,
                  maxBufferLength: 30,
                  maxBufferSize: 6e7,
                  maxBufferHole: 0.5,
                  lowBufferWatchdogPeriod: 0.5,
                  highBufferWatchdogPeriod: 3,
                  nudgeOffset: 0.1,
                  nudgeMaxRetry: 3,
                  maxFragLookUpTolerance: 0.25,
                  liveSyncDurationCount: 3,
                  liveMaxLatencyDurationCount: Infinity,
                  liveSyncDuration: void 0,
                  liveMaxLatencyDuration: void 0,
                  liveDurationInfinity: !1,
                  liveBackBufferLength: Infinity,
                  maxMaxBufferLength: 600,
                  enableWorker: !0,
                  enableSoftwareAES: !0,
                  manifestLoadingTimeOut: 1e4,
                  manifestLoadingMaxRetry: 1,
                  manifestLoadingRetryDelay: 1e3,
                  manifestLoadingMaxRetryTimeout: 64e3,
                  startLevel: void 0,
                  levelLoadingTimeOut: 1e4,
                  levelLoadingMaxRetry: 4,
                  levelLoadingRetryDelay: 1e3,
                  levelLoadingMaxRetryTimeout: 64e3,
                  fragLoadingTimeOut: 2e4,
                  fragLoadingMaxRetry: 6,
                  fragLoadingRetryDelay: 1e3,
                  fragLoadingMaxRetryTimeout: 64e3,
                  startFragPrefetch: !1,
                  fpsDroppedMonitoringPeriod: 5e3,
                  fpsDroppedMonitoringThreshold: 0.2,
                  appendErrorMaxRetry: 3,
                  loader: cr,
                  fLoader: void 0,
                  pLoader: void 0,
                  xhrSetup: void 0,
                  licenseXhrSetup: void 0,
                  abrController: tr,
                  bufferController: nr,
                  capLevelController: ir,
                  fpsController: or,
                  stretchShortVideoTrack: !1,
                  maxAudioFramesDrift: 1,
                  forceKeyFrameOnDiscontinuity: !0,
                  abrEwmaFastLive: 3,
                  abrEwmaSlowLive: 9,
                  abrEwmaFastVoD: 3,
                  abrEwmaSlowVoD: 9,
                  abrEwmaDefaultEstimate: 5e5,
                  abrBandWidthFactor: 0.95,
                  abrBandWidthUpFactor: 0.7,
                  abrMaxWithRealBitrate: !1,
                  maxStarvationDelay: 4,
                  maxLoadingDelay: 4,
                  minAutoBitrate: 0,
                  emeEnabled: !1,
                  widevineLicenseUrl: void 0,
                  requestMediaKeySystemAccessFunc: qr,
                },
                (function timelineConfig() {
                  0;
                  return {
                    cueHandler: p,
                    enableCEA708Captions: !0,
                    enableWebVTT: !0,
                    captionsTextTrack1Label: 'English',
                    captionsTextTrack1LanguageCode: 'en',
                    captionsTextTrack2Label: 'Spanish',
                    captionsTextTrack2LanguageCode: 'es',
                  };
                })(),
                {
                  subtitleStreamController: zr,
                  subtitleTrackController: Hr,
                  timelineController: Gr,
                  audioStreamController: hr,
                  audioTrackController: dr,
                  emeController: Yr,
                }
              );
              function hls_ownKeys(i, a) {
                var o = Object.keys(i);
                if (Object.getOwnPropertySymbols) {
                  var p = Object.getOwnPropertySymbols(i);
                  a &&
                    (p = p.filter(function (a) {
                      return Object.getOwnPropertyDescriptor(i, a).enumerable;
                    })),
                    o.push.apply(o, p);
                }
                return o;
              }
              function hls_defineProperty(i, a, o) {
                return (
                  a in i
                    ? Object.defineProperty(i, a, {
                        value: o,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                      })
                    : (i[a] = o),
                  i
                );
              }
              function hls_assertThisInitialized(i) {
                if (void 0 === i)
                  throw new ReferenceError(
                    "this hasn't been initialised - super() hasn't been called"
                  );
                return i;
              }
              function hls_defineProperties(i, a) {
                for (var o = 0; o < a.length; o++) {
                  var p = a[o];
                  (p.enumerable = p.enumerable || !1),
                    (p.configurable = !0),
                    'value' in p && (p.writable = !0),
                    Object.defineProperty(i, p.key, p);
                }
              }
              function hls_createClass(i, a, o) {
                return (
                  a && hls_defineProperties(i.prototype, a),
                  o && hls_defineProperties(i, o),
                  i
                );
              }
              var Jr = (function (i) {
                function Hls(a) {
                  var o;
                  void 0 === a && (a = {}),
                    ((o = i.call(this) || this).config = void 0),
                    (o._autoLevelCapping = void 0),
                    (o.abrController = void 0),
                    (o.capLevelController = void 0),
                    (o.levelController = void 0),
                    (o.streamController = void 0),
                    (o.networkControllers = void 0),
                    (o.audioTrackController = void 0),
                    (o.subtitleTrackController = void 0),
                    (o.emeController = void 0),
                    (o.coreComponents = void 0),
                    (o.media = null),
                    (o.url = null);
                  var p = Hls.DefaultConfig;
                  if (
                    (a.liveSyncDurationCount ||
                      a.liveMaxLatencyDurationCount) &&
                    (a.liveSyncDuration || a.liveMaxLatencyDuration)
                  )
                    throw new Error(
                      "Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration"
                    );
                  o.config = (function hls_objectSpread(i) {
                    for (var a = 1; a < arguments.length; a++) {
                      var o = null != arguments[a] ? arguments[a] : {};
                      a % 2
                        ? hls_ownKeys(Object(o), !0).forEach(function (a) {
                            hls_defineProperty(i, a, o[a]);
                          })
                        : Object.getOwnPropertyDescriptors
                        ? Object.defineProperties(
                            i,
                            Object.getOwnPropertyDescriptors(o)
                          )
                        : hls_ownKeys(Object(o)).forEach(function (a) {
                            Object.defineProperty(
                              i,
                              a,
                              Object.getOwnPropertyDescriptor(o, a)
                            );
                          });
                    }
                    return i;
                  })({}, p, {}, a);
                  var m = hls_assertThisInitialized(o).config;
                  if (
                    void 0 !== m.liveMaxLatencyDurationCount &&
                    m.liveMaxLatencyDurationCount <= m.liveSyncDurationCount
                  )
                    throw new Error(
                      'Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"'
                    );
                  if (
                    void 0 !== m.liveMaxLatencyDuration &&
                    (void 0 === m.liveSyncDuration ||
                      m.liveMaxLatencyDuration <= m.liveSyncDuration)
                  )
                    throw new Error(
                      'Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"'
                    );
                  Object(K.enableLogs)(m.debug), (o._autoLevelCapping = -1);
                  var _ = (o.abrController = new m.abrController(
                      hls_assertThisInitialized(o)
                    )),
                    w = new m.bufferController(hls_assertThisInitialized(o)),
                    x = (o.capLevelController = new m.capLevelController(
                      hls_assertThisInitialized(o)
                    )),
                    I = new m.fpsController(hls_assertThisInitialized(o)),
                    D = new ct(hls_assertThisInitialized(o)),
                    j = new dt(hls_assertThisInitialized(o)),
                    q = new ft(hls_assertThisInitialized(o)),
                    $ = new $t(hls_assertThisInitialized(o)),
                    Z = (o.levelController = new Xt(
                      hls_assertThisInitialized(o)
                    )),
                    be = new vt(hls_assertThisInitialized(o)),
                    Se = [
                      Z,
                      (o.streamController = new qt(
                        hls_assertThisInitialized(o),
                        be
                      )),
                    ],
                    _e = m.audioStreamController;
                  _e && Se.push(new _e(hls_assertThisInitialized(o), be)),
                    (o.networkControllers = Se);
                  var we = [D, j, q, _, w, x, I, $, be];
                  if ((_e = m.audioTrackController)) {
                    var xe = new _e(hls_assertThisInitialized(o));
                    (o.audioTrackController = xe), we.push(xe);
                  }
                  if ((_e = m.subtitleTrackController)) {
                    var et = new _e(hls_assertThisInitialized(o));
                    (o.subtitleTrackController = et), Se.push(et);
                  }
                  if ((_e = m.emeController)) {
                    var tt = new _e(hls_assertThisInitialized(o));
                    (o.emeController = tt), we.push(tt);
                  }
                  return (
                    (_e = m.subtitleStreamController) &&
                      Se.push(new _e(hls_assertThisInitialized(o), be)),
                    (_e = m.timelineController) &&
                      we.push(new _e(hls_assertThisInitialized(o))),
                    (o.coreComponents = we),
                    o
                  );
                }
                !(function hls_inheritsLoose(i, a) {
                  (i.prototype = Object.create(a.prototype)),
                    (i.prototype.constructor = i),
                    (i.__proto__ = a);
                })(Hls, i),
                  (Hls.isSupported = function isSupported() {
                    return (function is_supported_isSupported() {
                      var i = getMediaSource();
                      if (!i) return !1;
                      var a = self.SourceBuffer || self.WebKitSourceBuffer,
                        o =
                          i &&
                          'function' == typeof i.isTypeSupported &&
                          i.isTypeSupported(
                            'video/mp4; codecs="avc1.42E01E,mp4a.40.2"'
                          ),
                        p =
                          !a ||
                          (a.prototype &&
                            'function' == typeof a.prototype.appendBuffer &&
                            'function' == typeof a.prototype.remove);
                      return !!o && !!p;
                    })();
                  }),
                  hls_createClass(Hls, null, [
                    {
                      key: 'version',
                      get: function get() {
                        return undefined;
                      },
                    },
                    {
                      key: 'Events',
                      get: function get() {
                        return j['default'];
                      },
                    },
                    {
                      key: 'ErrorTypes',
                      get: function get() {
                        return I.ErrorTypes;
                      },
                    },
                    {
                      key: 'ErrorDetails',
                      get: function get() {
                        return I.ErrorDetails;
                      },
                    },
                    {
                      key: 'DefaultConfig',
                      get: function get() {
                        return Hls.defaultConfig ? Hls.defaultConfig : Xr;
                      },
                      set: function set(i) {
                        Hls.defaultConfig = i;
                      },
                    },
                  ]);
                var a = Hls.prototype;
                return (
                  (a.destroy = function destroy() {
                    K.logger.log('destroy'),
                      this.trigger(j['default'].DESTROYING),
                      this.detachMedia(),
                      this.coreComponents
                        .concat(this.networkControllers)
                        .forEach(function (i) {
                          i.destroy();
                        }),
                      (this.url = null),
                      this.removeAllListeners(),
                      (this._autoLevelCapping = -1);
                  }),
                  (a.attachMedia = function attachMedia(i) {
                    K.logger.log('attachMedia'),
                      (this.media = i),
                      this.trigger(j['default'].MEDIA_ATTACHING, { media: i });
                  }),
                  (a.detachMedia = function detachMedia() {
                    K.logger.log('detachMedia'),
                      this.trigger(j['default'].MEDIA_DETACHING),
                      (this.media = null);
                  }),
                  (a.loadSource = function loadSource(i) {
                    (i = w.buildAbsoluteURL(window.location.href, i, {
                      alwaysNormalize: !0,
                    })),
                      K.logger.log('loadSource:' + i),
                      (this.url = i),
                      this.trigger(j['default'].MANIFEST_LOADING, { url: i });
                  }),
                  (a.startLoad = function startLoad(i) {
                    void 0 === i && (i = -1),
                      K.logger.log('startLoad(' + i + ')'),
                      this.networkControllers.forEach(function (a) {
                        a.startLoad(i);
                      });
                  }),
                  (a.stopLoad = function stopLoad() {
                    K.logger.log('stopLoad'),
                      this.networkControllers.forEach(function (i) {
                        i.stopLoad();
                      });
                  }),
                  (a.swapAudioCodec = function swapAudioCodec() {
                    K.logger.log('swapAudioCodec'),
                      this.streamController.swapAudioCodec();
                  }),
                  (a.recoverMediaError = function recoverMediaError() {
                    K.logger.log('recoverMediaError');
                    var i = this.media;
                    this.detachMedia(), i && this.attachMedia(i);
                  }),
                  hls_createClass(Hls, [
                    {
                      key: 'levels',
                      get: function get() {
                        return this.levelController.levels;
                      },
                    },
                    {
                      key: 'currentLevel',
                      get: function get() {
                        return this.streamController.currentLevel;
                      },
                      set: function set(i) {
                        K.logger.log('set currentLevel:' + i),
                          (this.loadLevel = i),
                          this.streamController.immediateLevelSwitch();
                      },
                    },
                    {
                      key: 'nextLevel',
                      get: function get() {
                        return this.streamController.nextLevel;
                      },
                      set: function set(i) {
                        K.logger.log('set nextLevel:' + i),
                          (this.levelController.manualLevel = i),
                          this.streamController.nextLevelSwitch();
                      },
                    },
                    {
                      key: 'loadLevel',
                      get: function get() {
                        return this.levelController.level;
                      },
                      set: function set(i) {
                        K.logger.log('set loadLevel:' + i),
                          (this.levelController.manualLevel = i);
                      },
                    },
                    {
                      key: 'nextLoadLevel',
                      get: function get() {
                        return this.levelController.nextLoadLevel;
                      },
                      set: function set(i) {
                        this.levelController.nextLoadLevel = i;
                      },
                    },
                    {
                      key: 'firstLevel',
                      get: function get() {
                        return Math.max(
                          this.levelController.firstLevel,
                          this.minAutoLevel
                        );
                      },
                      set: function set(i) {
                        K.logger.log('set firstLevel:' + i),
                          (this.levelController.firstLevel = i);
                      },
                    },
                    {
                      key: 'startLevel',
                      get: function get() {
                        return this.levelController.startLevel;
                      },
                      set: function set(i) {
                        K.logger.log('set startLevel:' + i),
                          -1 !== i && (i = Math.max(i, this.minAutoLevel)),
                          (this.levelController.startLevel = i);
                      },
                    },
                    {
                      key: 'capLevelToPlayerSize',
                      set: function set(i) {
                        var a = !!i;
                        a !== this.config.capLevelToPlayerSize &&
                          (a
                            ? this.capLevelController.startCapping()
                            : (this.capLevelController.stopCapping(),
                              (this.autoLevelCapping = -1),
                              this.streamController.nextLevelSwitch()),
                          (this.config.capLevelToPlayerSize = a));
                      },
                    },
                    {
                      key: 'autoLevelCapping',
                      get: function get() {
                        return this._autoLevelCapping;
                      },
                      set: function set(i) {
                        K.logger.log('set autoLevelCapping:' + i),
                          (this._autoLevelCapping = i);
                      },
                    },
                    {
                      key: 'bandwidthEstimate',
                      get: function get() {
                        var i = this.abrController._bwEstimator;
                        return i ? i.getEstimate() : NaN;
                      },
                    },
                    {
                      key: 'autoLevelEnabled',
                      get: function get() {
                        return -1 === this.levelController.manualLevel;
                      },
                    },
                    {
                      key: 'manualLevel',
                      get: function get() {
                        return this.levelController.manualLevel;
                      },
                    },
                    {
                      key: 'minAutoLevel',
                      get: function get() {
                        for (
                          var i = this.levels,
                            a = this.config.minAutoBitrate,
                            o = i ? i.length : 0,
                            p = 0;
                          p < o;
                          p++
                        ) {
                          if (
                            (i[p].realBitrate
                              ? Math.max(i[p].realBitrate, i[p].bitrate)
                              : i[p].bitrate) > a
                          )
                            return p;
                        }
                        return 0;
                      },
                    },
                    {
                      key: 'maxAutoLevel',
                      get: function get() {
                        var i = this.levels,
                          a = this.autoLevelCapping;
                        return -1 === a && i && i.length ? i.length - 1 : a;
                      },
                    },
                    {
                      key: 'nextAutoLevel',
                      get: function get() {
                        return Math.min(
                          Math.max(
                            this.abrController.nextAutoLevel,
                            this.minAutoLevel
                          ),
                          this.maxAutoLevel
                        );
                      },
                      set: function set(i) {
                        this.abrController.nextAutoLevel = Math.max(
                          this.minAutoLevel,
                          i
                        );
                      },
                    },
                    {
                      key: 'audioTracks',
                      get: function get() {
                        var i = this.audioTrackController;
                        return i ? i.audioTracks : [];
                      },
                    },
                    {
                      key: 'audioTrack',
                      get: function get() {
                        var i = this.audioTrackController;
                        return i ? i.audioTrack : -1;
                      },
                      set: function set(i) {
                        var a = this.audioTrackController;
                        a && (a.audioTrack = i);
                      },
                    },
                    {
                      key: 'liveSyncPosition',
                      get: function get() {
                        return this.streamController.liveSyncPosition;
                      },
                    },
                    {
                      key: 'subtitleTracks',
                      get: function get() {
                        var i = this.subtitleTrackController;
                        return i ? i.subtitleTracks : [];
                      },
                    },
                    {
                      key: 'subtitleTrack',
                      get: function get() {
                        var i = this.subtitleTrackController;
                        return i ? i.subtitleTrack : -1;
                      },
                      set: function set(i) {
                        var a = this.subtitleTrackController;
                        a && (a.subtitleTrack = i);
                      },
                    },
                    {
                      key: 'subtitleDisplay',
                      get: function get() {
                        var i = this.subtitleTrackController;
                        return !!i && i.subtitleDisplay;
                      },
                      set: function set(i) {
                        var a = this.subtitleTrackController;
                        a && (a.subtitleDisplay = i);
                      },
                    },
                  ]),
                  Hls
                );
              })(wt);
              Jr.defaultConfig = void 0;
            },
            './src/polyfills/number-isFinite.js':
              function srcPolyfillsNumberIsFiniteJs(i, a, o) {
                o.r(a),
                  o.d(a, 'isFiniteNumber', function () {
                    return p;
                  });
                var p =
                  Number.isFinite ||
                  function (i) {
                    return 'number' == typeof i && isFinite(i);
                  };
              },
            './src/utils/get-self-scope.js': function srcUtilsGetSelfScopeJs(
              i,
              a,
              o
            ) {
              function getSelfScope() {
                return 'undefined' == typeof window ? self : window;
              }
              o.r(a),
                o.d(a, 'getSelfScope', function () {
                  return getSelfScope;
                });
            },
            './src/utils/logger.js': function srcUtilsLoggerJs(i, a, o) {
              o.r(a),
                o.d(a, 'enableLogs', function () {
                  return x;
                }),
                o.d(a, 'logger', function () {
                  return I;
                });
              var p = o('./src/utils/get-self-scope.js');
              function noop() {}
              var m = {
                  trace: noop,
                  debug: noop,
                  log: noop,
                  warn: noop,
                  info: noop,
                  error: noop,
                },
                _ = m;
              function formatMsg(i, a) {
                return (a = '[' + i + '] > ' + a);
              }
              var w = Object(p.getSelfScope)();
              function consolePrintFn(i) {
                var a = w.console[i];
                return a
                  ? function () {
                      for (
                        var o = arguments.length, p = new Array(o), m = 0;
                        m < o;
                        m++
                      )
                        p[m] = arguments[m];
                      p[0] && (p[0] = formatMsg(i, p[0])),
                        a.apply(w.console, p);
                    }
                  : noop;
              }
              var x = function enableLogs(i) {
                  if (w.console && !0 === i) {
                    !(function exportLoggerFunctions(i) {
                      for (
                        var a = arguments.length,
                          o = new Array(a > 1 ? a - 1 : 0),
                          p = 1;
                        p < a;
                        p++
                      )
                        o[p - 1] = arguments[p];
                      o.forEach(function (a) {
                        _[a] = i[a] ? i[a].bind(i) : consolePrintFn(a);
                      });
                    })(i, 'debug', 'log', 'info', 'warn', 'error');
                    try {
                      _.log();
                    } catch (a) {
                      _ = m;
                    }
                  } else _ = m;
                },
                I = _;
            },
          })['default'];
        });
    }.call(this, o(326)(i)));
  },
  function (i, a) {
    i.exports = function (i) {
      return (
        i.webpackPolyfill ||
          ((i.deprecate = function () {}),
          (i.paths = []),
          i.children || (i.children = []),
          Object.defineProperty(i, 'loaded', {
            enumerable: !0,
            get: function () {
              return i.l;
            },
          }),
          Object.defineProperty(i, 'id', {
            enumerable: !0,
            get: function () {
              return i.i;
            },
          }),
          (i.webpackPolyfill = 1)),
        i
      );
    };
  },
  function (i, a, o) {
    o(163)('toStringTag');
  },
  function (i, a, o) {
    var p = o(2);
    o(60)(p.JSON, 'JSON', !0);
  },
  function (i, a, o) {
    o(60)(Math, 'Math', !0);
  },
  function (i, a, o) {
    o(0)({ target: 'Number', stat: !0 }, { isFinite: o(331) });
  },
  function (i, a, o) {
    var p = o(2).isFinite;
    i.exports =
      Number.isFinite ||
      function isFinite(i) {
        return 'number' == typeof i && p(i);
      };
  },
  function (i, a, o) {
    o(0)(
      { target: 'Number', stat: !0 },
      { MAX_SAFE_INTEGER: 9007199254740991 }
    );
  },
  function (i, a, o) {
    'use strict';
    var p = o(0),
      m = o(56),
      _ = o(334),
      w = o(335),
      x = o(1),
      I = (1).toFixed,
      D = Math.floor,
      pow = function (i, a, o) {
        return 0 === a
          ? o
          : a % 2 == 1
          ? pow(i, a - 1, o * i)
          : pow(i * i, a / 2, o);
      };
    p(
      {
        target: 'Number',
        proto: !0,
        forced:
          (I &&
            ('0.000' !== (8e-5).toFixed(3) ||
              '1' !== (0.9).toFixed(0) ||
              '1.25' !== (1.255).toFixed(2) ||
              '1000000000000000128' !== (0xde0b6b3a7640080).toFixed(0))) ||
          !x(function () {
            I.call({});
          }),
      },
      {
        toFixed: function toFixed(i) {
          var a,
            o,
            p,
            x,
            I = _(this),
            j = m(i),
            K = [0, 0, 0, 0, 0, 0],
            q = '',
            $ = '0',
            multiply = function (i, a) {
              for (var o = -1, p = a; ++o < 6; )
                (p += i * K[o]), (K[o] = p % 1e7), (p = D(p / 1e7));
            },
            divide = function (i) {
              for (var a = 6, o = 0; --a >= 0; )
                (o += K[a]), (K[a] = D(o / i)), (o = (o % i) * 1e7);
            },
            dataToString = function () {
              for (var i = 6, a = ''; --i >= 0; )
                if ('' !== a || 0 === i || 0 !== K[i]) {
                  var o = String(K[i]);
                  a = '' === a ? o : a + w.call('0', 7 - o.length) + o;
                }
              return a;
            };
          if (j < 0 || j > 20) throw RangeError('Incorrect fraction digits');
          if (I != I) return 'NaN';
          if (I <= -1e21 || I >= 1e21) return String(I);
          if ((I < 0 && ((q = '-'), (I = -I)), I > 1e-21))
            if (
              ((o =
                (a =
                  (function (i) {
                    for (var a = 0, o = i; o >= 4096; ) (a += 12), (o /= 4096);
                    for (; o >= 2; ) (a += 1), (o /= 2);
                    return a;
                  })(I * pow(2, 69, 1)) - 69) < 0
                  ? I * pow(2, -a, 1)
                  : I / pow(2, a, 1)),
              (o *= 4503599627370496),
              (a = 52 - a) > 0)
            ) {
              for (multiply(0, o), p = j; p >= 7; ) multiply(1e7, 0), (p -= 7);
              for (multiply(pow(10, p, 1), 0), p = a - 1; p >= 23; )
                divide(1 << 23), (p -= 23);
              divide(1 << p), multiply(1, 1), divide(2), ($ = dataToString());
            } else
              multiply(0, o),
                multiply(1 << -a, 0),
                ($ = dataToString() + w.call('0', j));
          return ($ =
            j > 0
              ? q +
                ((x = $.length) <= j
                  ? '0.' + w.call('0', j - x) + $
                  : $.slice(0, x - j) + '.' + $.slice(x - j))
              : q + $);
        },
      }
    );
  },
  function (i, a, o) {
    var p = o(59);
    i.exports = function (i) {
      if ('number' != typeof i && 'Number' != p(i))
        throw TypeError('Incorrect invocation');
      return +i;
    };
  },
  function (i, a, o) {
    'use strict';
    var p = o(56),
      m = o(54);
    i.exports =
      ''.repeat ||
      function repeat(i) {
        var a = String(m(this)),
          o = '',
          _ = p(i);
        if (_ < 0 || _ == Infinity)
          throw RangeError('Wrong number of repetitions');
        for (; _ > 0; (_ >>>= 1) && (a += a)) 1 & _ && (o += a);
        return o;
      };
  },
  function (i, a, o) {
    o(111)('Int8', function (i) {
      return function Int8Array(a, o, p) {
        return i(this, a, o, p);
      };
    });
  },
  function (i, a, o) {
    o(111)('Int32', function (i) {
      return function Int32Array(a, o, p) {
        return i(this, a, o, p);
      };
    });
  },
  function (i, a, o) {
    o(111)('Uint32', function (i) {
      return function Uint32Array(a, o, p) {
        return i(this, a, o, p);
      };
    });
  },
  function (i, a, o) {
    'use strict';
    var p = o(4);
    Object.defineProperty(a, '__esModule', { value: !0 }),
      (a['default'] = void 0);
    var m = p(o(13)),
      _ = p(o(15)),
      w = (function () {
        function DrmPluginNagra() {
          (0, m['default'])(this, DrmPluginNagra);
        }
        return (
          (0, _['default'])(
            DrmPluginNagra,
            [
              { key: 'start', value: function start(i) {} },
              { key: 'ping', value: function ping() {} },
              { key: 'teardown', value: function teardown() {} },
            ],
            [
              {
                key: 'newSession',
                value: function newSession() {
                  return new DrmPluginNagra();
                },
              },
            ]
          ),
          DrmPluginNagra
        );
      })();
    a['default'] = w;
  },
]);
//# sourceMappingURL=vip-player-52f5bdbe08a29c5820e3.js.map
